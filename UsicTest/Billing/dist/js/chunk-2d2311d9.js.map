{"version":3,"sources":["webpack:///./src/views/Billing/InvoiceLogListing.vue?5a93","webpack:///./src/views/Billing/InvoiceLogSchema.js","webpack:///src/views/Billing/InvoiceLogListing.vue","webpack:///./src/views/Billing/InvoiceLogListing.vue?b1cb","webpack:///./src/views/Billing/InvoiceLogListing.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","invoiceLogRenderActions","$t","LogListing","Headers","pageSize","FetchData","listheaderbuttons","TotalRecords","leftSearchFields","sortExp","sortBy","on","leftCommonSearch","invoiceLogActionButtonClick","pagerMethod","commonHeaderButtonClick","sortdata","scopedSlots","_u","key","fn","ref","data","column","COLUMN_NAME","_v","_s","$options","filters","formatDateTime","row","created_at","_e","status_code","staticClass","status_message","staticRenderFns","buttons","title","iconClass","callbackfunction","additionalClass","isdisabled","isvisible","checkPrivilege","leftsearchSchema","fieldName","fieldType","fieldIcon","paramName","fieldSearchConditionName","isSearch","value","listOptions","datePickerConfig","useCurrent","showClear","showClose","allowInputToggle","widgetPositioning","horizontal","vertical","async","bindleftCommonSearchdropdown","instance","modulename","filtername","id","vm","params","DataService","GetDDLData","then","response","DATA","length","forEach","element","obj","name","push","defaultAppURL","process","DATA_TYPE","SORTABLE","VISIBLE","DISPLAY_NAME","DISPLAY_ORDER","this$t","listActions","href","icon","additionalSpan","Schema","list","pageNum","searchCondition","GroupStart","GroupEnd","PlanId","CurrentPage","TotalPages","noRecords","requestId","created","$route","onChange","getClickEvent","methods","item","index","event","openPopupForPrintBill","url","bill_id","template_id","window","open","self","rtnActionArray","actionItem","action","isVisible","vueObj","JSON","stringify","requestPayload","objData","GetInvoiceLogListing","settings","isInSlot","result","TOTALRECORDS","Math","ceil","noRecord","PageNumber","isPaged","PageSize","Download","ConvertJSONToCSV","filename","showHeader","excludeColumns","headerMap","Array","isArray","headers","Object","keys","filteredHeaders","filter","header","includes","mappedHeaders","map","rows","mappedHeader","originalHeader","indexOf","cellValue","undefined","String","replace","join","csvContent","concat","blob","Blob","type","link","document","createElement","setAttribute","URL","createObjectURL","click","console","log","getStatusClass","status","returnClass","component"],"mappings":"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","file":"js/chunk-2d2311d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('tg-list',{attrs:{\"IsShowAction\":true,\"showCheckBox\":false,\"ModuleName\":\"Billing\",\"listType\":['List'],\"RenderRowActionMethod\":_vm.invoiceLogRenderActions,\"SubModuleCode\":\"Billing\",\"IdentityColumn\":\"id\",\"HeaderText\":_vm.$t('billinglog'),\"ListData\":_vm.LogListing,\"HeaderData\":_vm.Headers,\"PageSize\":_vm.pageSize,\"callbackfunction\":_vm.FetchData,\"HeaderButtons\":_vm.listheaderbuttons,\"TotalRecords\":_vm.TotalRecords,\"SearchFields\":_vm.leftSearchFields,\"ListDataCallBackFunction\":_vm.FetchData,\"LegendArray\":[],\"SortExp\":_vm.sortExp,\"SortBy\":_vm.sortBy,\"NorecordfoundText\":_vm.$t('NoRecordfound')},on:{\"LeftsearchButtonClick\":_vm.leftCommonSearch,\"ActionButtonClick\":_vm.invoiceLogActionButtonClick,\"PagerButtonClick\":_vm.pagerMethod,\"HeaderButtonClick\":_vm.commonHeaderButtonClick,\"SortdataButtonClick\":_vm.sortdata},scopedSlots:_vm._u([{key:\"slotdata\",fn:function(ref){\nvar data = ref.data;\nreturn [(data.column.COLUMN_NAME == 'created_at')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.$options.filters.formatDateTime(data.row.created_at))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'status_message')?[(data.row.status_code == 'GENERATED')?_c('span',{staticClass:\"dynamicstatus text-primary px-2 py-1\"},[_vm._v(\" \"+_vm._s(data.row.status_message)+\" \")]):(data.row.status_code == 'BILL_ALREADY_EXISTS')?_c('span',{staticClass:\"dynamicstatus text-danger px-2 py-1\"},[_vm._v(\" \"+_vm._s(data.row.status_message)+\" \")]):_c('span',{staticClass:\"dynamicstatus px-2 py-1\"},[_vm._v(\" \"+_vm._s(data.row.status_message)+\" \")])]:_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import DataService from '../../services/DataService';\r\n\r\nlet buttons =\r\n    [\r\n        {\r\n            title: 'Download',\r\n            iconClass: 'fa fa-download',\r\n            callbackfunction: 'Download',\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n            checkPrivilege: false\r\n        },\r\n    ];\r\nlet leftsearchSchema = [\r\n    {\r\n        fieldName: \"PLANS\",\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa fa-tasks\",\r\n        paramName: \"TM.plan_id\",\r\n        fieldSearchConditionName: ['TM.plan_id'],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: \"BATCH NAME\",\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa fa-user\",\r\n        paramName: \"tbpl.batch_id\",\r\n        fieldSearchConditionName: ['tbpl.batch_id'],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: 'CLIENT',\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa fa-file\",\r\n        paramName: \"TM.client_id\",\r\n        fieldSearchConditionName: ['TM.client_id'],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: \"ACCOUNT NO\",\r\n        fieldType: \"text\",\r\n        fieldIcon: \"fa fa-envelope\",\r\n        paramName: \"tcc.crm_account_no\",\r\n        fieldSearchConditionName: ['tcc.crm_account_no'],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: \"METER NO\",\r\n        fieldType: \"text\",\r\n        fieldIcon: \"fa-user\",\r\n        paramName: \"tacr.related_info_id\",\r\n        fieldSearchConditionName: ['tacr.related_info_id'],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: 'FROM Date',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-calendar\",\r\n        fieldSearchConditionName: ['TM.billing_from'],\r\n        isSearch: false,\r\n        datePickerConfig: {\r\n\r\n            useCurrent: false,\r\n            showClear: true,\r\n            showClose: true,\r\n            allowInputToggle: true,\r\n            widgetPositioning: {\r\n                horizontal: 'right',\r\n                vertical: 'bottom'\r\n            }\r\n        },\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: 'TO Date',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-calendar\",\r\n        fieldSearchConditionName: ['TM.billing_to'],\r\n        isSearch: false,\r\n        datePickerConfig: {\r\n\r\n            useCurrent: false,\r\n            showClear: true,\r\n            showClose: true,\r\n            allowInputToggle: true,\r\n            widgetPositioning: {\r\n                horizontal: 'right',\r\n                vertical: 'bottom'\r\n            }\r\n        },\r\n        value: \"\",\r\n        listOptions: []\r\n    }\r\n\r\n];\r\n\r\n\r\n\r\n\r\nasync function bindleftCommonSearchdropdown(instance, modulename, filtername,id) {\r\n    var vm = instance;\r\n    if(filtername =='PLANS'){\r\n        var params = `id=&moduleName=&type=${filtername}&search=&refId=`\r\n        await DataService.GetDDLData(params).then((response) => {\r\n            if (response.data != '') {\r\n                if (response.data.DATA.length) {\r\n                    response.data.DATA.forEach(element => {\r\n                        let obj = {\r\n                            name: element.name,\r\n                            value: element.value\r\n                        }\r\n                        vm.leftSearchFields[0].listOptions.push(obj);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else if(filtername =='CLIENTS'){\r\n        var params = `id=&moduleName=&type=${filtername}&search=&refId=`\r\n        await DataService.GetDDLData(params).then((response) => {\r\n            if (response.data != '') {\r\n                if (response.data.DATA.length) {\r\n                    response.data.DATA.forEach(element => {\r\n                        let obj = {\r\n                            name: element.name,\r\n                            value: element.value\r\n                        }\r\n                        vm.leftSearchFields[2].listOptions.push(obj);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n    else if(filtername =='BATCH_LIST'){\r\n        var params = `id=&moduleName=&type=${filtername}&search=&refId=${id}`\r\n        await DataService.GetDDLData(params).then((response) => {\r\n            if (response.data != '') {\r\n                if (response.data.DATA.length) {\r\n                    response.data.DATA.forEach(element => {\r\n                        let obj = {\r\n                            name: element.name,\r\n                            value: element.value\r\n                        }\r\n                        vm.leftSearchFields[1].listOptions.push(obj);\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport default { leftsearchSchema, buttons, bindleftCommonSearchdropdown };","<template>\r\n    <section>\r\n        <tg-list :IsShowAction=\"true\" :showCheckBox=\"false\" ModuleName=\"Billing\" :listType=\"['List']\"\r\n            :RenderRowActionMethod=\"invoiceLogRenderActions\" SubModuleCode=\"Billing\" IdentityColumn=\"id\"\r\n            :HeaderText=\"$t('billinglog')\" :ListData=\"LogListing\" :HeaderData=\"Headers\" :PageSize=\"pageSize\"\r\n            :callbackfunction=\"FetchData\" :HeaderButtons=\"listheaderbuttons\" :TotalRecords=\"TotalRecords\"\r\n            :SearchFields=\"leftSearchFields\" :ListDataCallBackFunction=\"FetchData\" :LegendArray=\"[]\" :SortExp=\"sortExp\"\r\n            :SortBy=\"sortBy\" :NorecordfoundText=\"$t('NoRecordfound')\" v-on:LeftsearchButtonClick=\"leftCommonSearch\"\r\n            v-on:ActionButtonClick=\"invoiceLogActionButtonClick\" v-on:PagerButtonClick=\"pagerMethod\"\r\n            v-on:HeaderButtonClick=\"commonHeaderButtonClick\" v-on:SortdataButtonClick=\"sortdata\">\r\n            <template v-slot:slotdata=\"{ data }\">\r\n                <template v-if=\"data.column.COLUMN_NAME == 'created_at'\">\r\n                    <span>\r\n                        {{ $options.filters.formatDateTime(data.row.created_at) }}\r\n                    </span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'status_message'\">\r\n                    <span class=\"dynamicstatus text-primary px-2 py-1\" v-if=\"data.row.status_code == 'GENERATED'\">\r\n                        {{ data.row.status_message }}\r\n                    </span>\r\n                    <span class=\"dynamicstatus text-danger px-2 py-1\"\r\n                        v-else-if=\"data.row.status_code == 'BILL_ALREADY_EXISTS'\">\r\n                        {{ data.row.status_message }}\r\n                    </span>\r\n\r\n                    <span class=\"dynamicstatus px-2 py-1\" v-else>\r\n                        {{ data.row.status_message }}\r\n                    </span>\r\n                </template>\r\n            </template>\r\n        </tg-list>\r\n    </section>\r\n</template>\r\n<script>\r\nconst defaultAppURL = process.env.VUE_APP_DEFAULT_APP_URL;\r\nimport DataService from '../../services/DataService';\r\nimport Schema from '../Billing/InvoiceLogSchema';\r\n\r\nexport default ({\r\n    data() {\r\n        return {\r\n            Headers: [\r\n                {\r\n                    COLUMN_NAME: \"ROWNUMBER\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('srno'),\r\n                    DISPLAY_ORDER: 1,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"bill_id\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('billid'),\r\n                    DISPLAY_ORDER: 2,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"plan_name\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this$t('Plan'),\r\n                    DISPLAY_ORDER: 3,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"batch_name\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('batchname'),\r\n                    DISPLAY_ORDER: 4,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"client_name\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('ClientName'),\r\n                    DISPLAY_ORDER: 5,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"account_no\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('AccountNo'),\r\n                    DISPLAY_ORDER: 6,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"meter_name\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('MeterName'),\r\n                    DISPLAY_ORDER: 7,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"meter_no\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('mitterno'),\r\n                    DISPLAY_ORDER: 8,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"request_from\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('RequestFrom'),\r\n                    DISPLAY_ORDER: 9,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"request_to\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('RequestTo'),\r\n                    DISPLAY_ORDER: 10,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"created_at\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('CreatedDate'),\r\n                    DISPLAY_ORDER: 11,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"created_by\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('CreatedBy'),\r\n                    DISPLAY_ORDER: 12,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"status_message\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Status'),\r\n                    DISPLAY_ORDER: 13,\r\n\r\n                }\r\n\r\n            ],\r\n            listActions:\r\n                [\r\n                    {\r\n                        title: 'Print Bill',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-print text-info',\r\n                        callbackfunction: 'PrintBill',\r\n                        additionalSpan: ''\r\n                    }\r\n                ],\r\n            listheaderbuttons: Schema.buttons,\r\n            leftSearchFields: Schema.leftsearchSchema,\r\n            list: [],\r\n            TotalRecords: 0,\r\n            pageSize: 100,\r\n            pageNum: 1,\r\n            sortBy: '',\r\n            searchCondition: '',\r\n            GroupStart: 1,\r\n            GroupEnd: 3,\r\n            PlanId: 0,\r\n            CurrentPage: 1,\r\n            TotalPages: 0,\r\n            sortExp: '',\r\n            LogListing: [],\r\n            noRecords: false,\r\n            requestId: ''\r\n\r\n\r\n        }\r\n    },\r\n    created: async function () {\r\n        var vm = this;\r\n        vm.requestId = vm.$route.params.requestId;\r\n        await Schema.bindleftCommonSearchdropdown(this, 'Billing', 'CLIENTS', null);\r\n        await Schema.bindleftCommonSearchdropdown(this, 'Billing', 'PLANS', null);\r\n        vm.leftSearchFields[0].onChange = vm.getClickEvent;\r\n        await vm.FetchData();\r\n    },\r\n    methods: {\r\n        getClickEvent: async function () {\r\n            var id = this.leftSearchFields[0].value;\r\n            await Schema.bindleftCommonSearchdropdown(this, 'Billing', 'BATCH_LIST', id);\r\n        },\r\n        invoiceLogActionButtonClick(callbackfunction, item, index, event) {\r\n            switch (callbackfunction) {\r\n                case 'PrintBill':\r\n                    this.openPopupForPrintBill(item);\r\n                    break;\r\n            }\r\n        },\r\n        openPopupForPrintBill(params) {\r\n            const url = `${defaultAppURL}/ClientBill/Draft?billId=${params.bill_id}&templateId=${params.template_id}&requestFrom=Yes`;\r\n            window.open(url, '_blank');\r\n        },\r\n        invoiceLogRenderActions: function (row) {\r\n            var self = this;\r\n            let rtnActionArray = [];\r\n            self.listActions.forEach(actionItem => {\r\n                let action = { ...actionItem };\r\n                switch (action.title) {\r\n                    case 'Print Bill':\r\n                        action.isVisible = row.bill_id != null ? true : false;\r\n                        break;\r\n                }\r\n                rtnActionArray.push(action);\r\n            });\r\n            return rtnActionArray;\r\n        },\r\n        FetchData: async function () {\r\n            var vueObj = this;\r\n            vueObj.LogListing = [];\r\n            var url = `search=${vueObj.searchCondition}&requestId=${vueObj.requestId}&pageSize=${vueObj.pageSize}&pageNum=${vueObj.pageNum}&sortBy=${vueObj.sortBy}&sortExp=${vueObj.sortExp}`;\r\n            const obj = JSON.stringify(url);\r\n            var requestPayload = { objData: obj };\r\n            await DataService.GetInvoiceLogListing(requestPayload).then(function (response) {\r\n                vueObj.Headers.forEach((column) => {\r\n                    column.settings = null;\r\n                    if (column.COLUMN_NAME == 'created_at') {\r\n                        column.settings = {\r\n                            isInSlot: true\r\n                        }\r\n                    }\r\n                    if (column.COLUMN_NAME == 'status_message') {\r\n                        column.settings = {\r\n                            isInSlot: true\r\n                        }\r\n                    }\r\n                });\r\n                if (response.data != \"\" && response.data != null) {\r\n                    if (response.data.result.data.length > 0) {\r\n                        vueObj.LogListing = response.data.result.data;\r\n                        vueObj.TotalRecords = response.data.result.data[0].TOTALRECORDS;\r\n                        vueObj.TotalPages = Math.ceil(vueObj.TotalRecords / vueObj.pageSize);\r\n                        vueObj.CurrentPage = vueObj.pageNum;\r\n                        vueObj.noRecord = false;\r\n                    } else {\r\n                        vueObj.noRecord = true;\r\n                        vueObj.TotalRecords = 0\r\n                        vueObj.LogListing = [];\r\n                    }\r\n                }\r\n                else {\r\n                    vueObj.noRecord = true;\r\n                    vueObj.TotalRecords = 0\r\n                    vueObj.LogListing = [];\r\n                }\r\n            })\r\n        },\r\n        leftCommonSearch(value) {\r\n            this.pageNum = value.PageNumber;\r\n            this.isPaged = 1;\r\n            if (typeof value.searchCondition != 'undefined') {\r\n                this.searchCondition = value.searchCondition;\r\n            }\r\n            else {\r\n                this.searchCondition = \"\";\r\n            }\r\n            this.FetchData();\r\n        },\r\n        pagerMethod(value) {\r\n            this.pageSize = value.PageSize;\r\n            this.pageNum = value.PageNumber;\r\n            this.FetchData();\r\n        },\r\n        commonHeaderButtonClick(event) {\r\n            switch (event.callbackfunction) {\r\n                case \"Download\":\r\n                    this.Download();\r\n                    break;\r\n            }\r\n        },\r\n        Download: async function () {\r\n            var vm = this;\r\n            var url = `search=${vm.searchCondition}&requestId=${vm.requestId}&pageSize=${vm.TotalRecords}&pageNum=${vm.pageNum}&sortBy=${vm.sortBy}&sortExp=${vm.sortExp}`;\r\n            const obj = JSON.stringify(url);\r\n            var requestPayload = { objData: obj };\r\n            await DataService.GetInvoiceLogListing(requestPayload).then(function (response) {\r\n                if (response.data != \"\" && response.data != null) {\r\n                    if (response.data.result.data.length > 0) {\r\n                        vm.ConvertJSONToCSV(response.data.result.data, \"InvoiceLog\", true);\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        ConvertJSONToCSV: function (data, filename, showHeader) {\r\n            const excludeColumns = ['template_id', 'status_id', 'TOTALRECORDS', 'batch_id', 'id'];\r\n            const headerMap = {\r\n                'ROWNUMBER': 'Sr No',\r\n                'bill_id': 'Bill Id', 'batch_name': 'Batch Name', 'client_name': 'Client Name', 'plan_name': 'Plan Name',\r\n                'account_no': 'Account No', 'meter_name': 'Meter Name', 'meter_no': 'Meter No', 'request_from': 'Request From',\r\n                'request_to': 'Request To', 'created_at': 'Created At', 'created_by': 'Created By', 'status_code': 'Status Code', 'status_message': 'Status Message',\r\n            };\r\n            if (data && Array.isArray(data) && data.length > 0) {\r\n                const headers = Object.keys(data[0]);\r\n                const filteredHeaders = headers.filter(header => !excludeColumns.includes(header));\r\n                const mappedHeaders = filteredHeaders.map(header => headerMap[header] || header);\r\n                const rows = data.map(row => {\r\n                    return mappedHeaders.map(mappedHeader => {\r\n                        const originalHeader = filteredHeaders[mappedHeaders.indexOf(mappedHeader)];\r\n                        let cellValue = row[originalHeader] !== undefined && row[originalHeader] !== null ? String(row[originalHeader]) : '';\r\n                        if (cellValue.includes(',') || cellValue.includes('\\n') || cellValue.includes('\"')) {\r\n                            cellValue = `\"${cellValue.replace(/\"/g, '\"\"')}\"`;\r\n                        }\r\n                        return cellValue;\r\n                    }).join(',');\r\n                });\r\n                const csvContent = (showHeader ? [mappedHeaders.join(',')] : []).concat(rows).join('\\n');\r\n                const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n                const link = document.createElement('a');\r\n                link.setAttribute('href', URL.createObjectURL(blob));\r\n                link.setAttribute('download', `${filename}.csv`);\r\n                link.click();\r\n            } else {\r\n                console.log(\"No valid data to convert.\");\r\n            }\r\n        },\r\n        getStatusClass: function (status) {\r\n            var returnClass = '';\r\n            switch (status) {\r\n                case 'Active':\r\n                    returnClass = 'px-2 text-center bg-success text-white d-block';\r\n                    break;\r\n                case 'Inactive':\r\n                    returnClass = 'px-2 text-center bg-danger text-white d-block';\r\n                    break;\r\n                default:\r\n                    returnClass = '';\r\n            }\r\n            return returnClass;\r\n        },\r\n\r\n        sortdata: function (sortBy) {\r\n            this.sortBy = sortBy;\r\n            var sortExp = 'ASC';\r\n            if (this.sortExp == 'ASC') {\r\n                sortExp = 'DESC';\r\n            }\r\n            this.sortExp = sortExp;\r\n            this.sortBy = sortBy;\r\n            this.sortExp = sortExp;\r\n            this.pageNum = 1;\r\n            this.GroupStart = this.pageNum;\r\n            this.GroupEnd = this.pageNum + 2;\r\n            this.FetchData();\r\n        }\r\n\r\n    }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceLogListing.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceLogListing.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InvoiceLogListing.vue?vue&type=template&id=193740e6\"\nimport script from \"./InvoiceLogListing.vue?vue&type=script&lang=js\"\nexport * from \"./InvoiceLogListing.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}