(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53d001b5"],{"05aa":function(t,e,a){var i=a("f29e");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("4078f505",i,!0,{sourceMap:!1,shadowMode:!1})},"076f":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".heading-border[data-v-988fd622]{border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:10px}.modal[data-v-988fd622]{background-color:rgba(0,0,0,.5)}.latest-note[data-v-988fd622]{color:gold}",""]),t.exports=e},"11a7":function(t,e,a){"use strict";a("e64c")},"13d5":function(t,e,a){"use strict";var i=a("23e7"),s=a("d58f").left,o=a("a640"),n=a("2d00"),l=a("605d"),r=!l&&n>79&&n<83,d=r||!o("reduce");i({target:"Array",proto:!0,forced:d},{reduce:function(t){var e=arguments.length;return s(this,t,e,e>1?arguments[1]:void 0)}})},1548:function(t,e,a){var i=a("076f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("712f7adc",i,!0,{sourceMap:!1,shadowMode:!1})},2516:function(t,e,a){"use strict";a("f259")},"3c07":function(t,e,a){var i=a("4b99");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("1c869c43",i,!0,{sourceMap:!1,shadowMode:!1})},4555:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.TotalPages>0?a("div",{staticClass:"nu-paging"},[a("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[a("ul",{staticClass:"pagination row"},[a("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[a("span",{staticClass:"mr-2"},[t._v("Show")]),a("span",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.PageSize=e.target.multiple?a:a[0]},t.SetPageSize]}},t._l(t.PageSizeOption,(function(e,i){return a("option",{key:i,domProps:{value:e}},[t._v(t._s(e)+" ")])})),0)]),a("span",{staticClass:"ml-2"},[t._v(t._s(t.$t("PagingText",[(t.CurrentPage-1)*t.PageSize+1,t.PageSize*t.CurrentPage>t.TotalRecords?t.TotalRecords:t.PageSize*t.CurrentPage,t.TotalRecords])))])]),a("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[t.TotalPages>1?a("ul",{staticClass:"paging-count"},[a("li",{staticClass:"page-item"},[1!=t.CurrentPage?a("a",{staticClass:"page-link first",attrs:{title:t.firstText,href:"javascript:;",val:"1"},on:{click:function(e){return t.SetCurrentPage(1)}}},[t._v(t._s(t.firstText))]):t._e(),1==t.CurrentPage?a("a",{staticClass:"page-link first disabled",attrs:{title:t.firstText,val:"1"}},[t._v(t._s(t.firstText))]):t._e()]),a("li",{staticClass:"page-item"},[1!=t.CurrentPage?a("a",{staticClass:"page-link previous",attrs:{title:t.prevText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage-1)}}},[t._v(t._s(t.prevText))]):t._e(),1==t.CurrentPage?a("a",{staticClass:"page-link previous disabled",attrs:{title:t.prevText}},[t._v(t._s(t.prevText))]):t._e()]),t._l(t.TotalPages,(function(e,i){return[e>=t.GroupStart&&e<=t.GroupEnd?a("li",{key:i,staticClass:"page-item"},[i+1==t.CurrentPage?a("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[t._v(t._s(i+1))]):t._e(),i+1!=t.CurrentPage?a("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:i},on:{click:function(e){return t.SetCurrentPage(i+1)}}},[t._v(t._s(i+1))]):t._e()]):t._e()]})),a("li",{staticClass:"page-item"},[t.CurrentPage<t.TotalPages?a("a",{staticClass:"page-link next",attrs:{title:t.nextText,href:"javascript:;"},on:{click:function(e){return t.SetCurrentPage(t.CurrentPage+1)}}},[t._v(t._s(t.nextText))]):t._e(),t.CurrentPage>=t.TotalPages?a("a",{staticClass:"page-link disabled next",attrs:{title:t.nextText}},[t._v(t._s(t.nextText))]):t._e()]),a("li",{staticClass:"page-item"},[t.CurrentPage!=t.TotalPages?a("a",{staticClass:"page-link next",attrs:{title:t.lastText,href:"javascript:;",val:t.TotalPages},on:{click:function(e){return t.SetCurrentPage(t.TotalPages)}}},[t._v(t._s(t.lastText))]):t._e(),t.CurrentPage==t.TotalPages?a("a",{staticClass:"page-link next disabled",attrs:{title:t.lastText,val:t.TotalPages}},[t._v(t._s(t.lastText))]):t._e()])],2):t._e()])])])]):t._e()},s=[],o=(a("14d9"),{props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:10,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(t){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=t,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(t){var e=this;e.CurrentPage=t,1==t&&e.SetCurrentPage(t)}},created:function(){this.TotalRecords=this.numberofrecords,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(t){this.PageSize=t.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(t){this.PageNumber=t,this.CurrentPage=t,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var t=[],e=10,a=e;a<e+95;a+=5)t.push(a);this.PageSizeOption=t}}}),n=o,l=a("0c7c"),r=Object(l["a"])(n,i,s,!1,null,null,null);e["a"]=r.exports},"490c":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"main-content"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"w-100",style:{display:t.billId>0||t.showMainForm?"none":"block"},attrs:{id:"divSearchPanel"}},[a("section",{staticClass:"page-action"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("Search")))]),a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white d-none d-md-inline-block",attrs:{href:t.backUrl}},[a("em",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("BacktoList"))+" ")])])])])])])]),a("section",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid z-indexfix"},[a("div",{staticClass:"border p-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("SelectContract"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("SearchableSelect",{key:t.searchData.ClientId+"-client",staticStyle:{"min-width":"300px"},attrs:{items:t.groupedUtilities,"max-visible-chips":3,"action-buttons":{selectAll:!0,active:!0,inactive:!0,clear:!0},"item-fields":["text"],"group-fields":["groupText"],"max-render-items":50,"lazy-load":!0,placeholder:"Select Clients...",onChange:function(e){return t.onRowClientChange(e,t.searchData.ClientId)},"min-search-length":0,"error-messages":t.validationErrors.ClientId?[t.validationErrors.ClientId]:null},model:{value:t.searchData.ClientId,callback:function(e){t.$set(t.searchData,"ClientId",e)},expression:"searchData.ClientId"}})],1)]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Division"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchData.DivisionId,expression:"searchData.DivisionId"}],staticClass:"form-control",class:{"is-invalid":t.validationErrors.DivisionId},attrs:{id:"DivisionId",name:"DivisionId"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.searchData,"DivisionId",e.target.multiple?a:a[0])},t.onDivisionChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.divisionList,(function(e){return a("option",{key:e.ID,attrs:{"data-templateid":e.INVOICE_DETAIL_TEMPLATE,"data-projectid":e.PROJECT_ID,"data-detailformatype":e.DETAIL_FORMAT_TYPE,"data-invoicetypeid":e.INVOICE_TYPE_ID,"data-no_of_notes":e.NO_OF_NOTES},domProps:{value:e.ID}},[t._v(" "+t._s(e.text)+" ")])}))],2),t.validationErrors.DivisionId?a("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.validationErrors.DivisionId))]):t._e()])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Process"))+" "+t._s(t.$t("Date"))+"(M/D/YYYY):"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate input-group",attrs:{id:"dateFrom",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,o=e.togglePopover;return[a("input",t._g({staticClass:"form-control",class:{"is-invalid":t.validationErrors.dateFrom},attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:i},on:{click:function(t){return o()}}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.searchData.dateFrom,callback:function(e){t.$set(t.searchData,"dateFrom",e)},expression:"searchData.dateFrom"}})],1),t.validationErrors.dateFrom?a("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.validationErrors.dateFrom))]):t._e()]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate input-group",attrs:{id:"dateTo",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,o=e.togglePopover;return[a("input",t._g({staticClass:"form-control",class:{"is-invalid":t.validationErrors.dateTo},attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:i},on:{click:function(t){return o()}}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.searchData.dateTo,callback:function(e){t.$set(t.searchData,"dateTo",e)},expression:"searchData.dateTo"}})],1),t.validationErrors.dateTo?a("div",{staticClass:"invalid-feedback d-block"},[t._v(t._s(t.validationErrors.dateTo))]):t._e()])])])])]),a("div",{staticClass:"row flex-row-reverse mt-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;",id:"Go",title:t.$t("Search")},on:{click:t.onSearch}},[a("em",{staticClass:"fa fa-search pr-2"}),t._v(t._s(t.$t("Search"))+" ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",id:"aClear",title:t.$t("Clear")},on:{click:t.onClear}},[a("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Clear"))+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])])]),a("div",{staticClass:"w-100",style:{display:t.billId>0||t.showMainForm?"block":"none"},attrs:{id:"divMain"}},[a("section",{staticClass:"page-action"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 padding-t_8"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[t._v(t._s(t.pageTitle))]),a("span",{staticClass:"p-actions float-md-right float-left mb-wid-100"},[t.billId>0?a("a",{staticClass:"p-action-btn text-white d-none d-md-inline-block",attrs:{href:t.backUrl}},[a("em",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("BacktoList"))+" ")]):a("a",{staticClass:"p-action-btn text-white d-none d-md-inline-block",attrs:{href:"javascript:;",id:"aBacktoSearch"},on:{click:t.onBackToSearch}},[a("em",{staticClass:"fa fa-angle-double-left",attrs:{"aria-hidden":"true"}}),a("br"),t._v(t._s(t.$t("BackToSearch"))+" ")])])])])])])]),a("section",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"border p-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("ClientName"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("input",{staticClass:"form-control disabled-grey",attrs:{type:"text",readonly:"readonly",id:"txtClientName"},domProps:{value:t.invoiceData.ClientName}}),a("input",{attrs:{type:"hidden",name:"BillTo",id:"hdnBillTo"},domProps:{value:t.invoiceData.ClientId}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("BillNumber"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),null===t.invoiceData.BillNumber||"Draft Mode"===t.invoiceData.BillNumber?a("input",{staticClass:"form-control disabled-grey",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.$t("InvoiceNumberGenratesAutomatically").replace("{0}",t.$t("Invoice"))}}):a("input",{staticClass:"form-control disabled-grey",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.invoiceData.BillNumber}}),a("input",{attrs:{id:"hdnBillNumber",name:"hdnBillNumber",type:"hidden"},domProps:{value:t.invoiceData.LatestInvoiceNo||t.invoiceData.InvoiceStartNo}})])]),"NotShowNumber"===t.invoiceStatus?a("div",{staticClass:"col-lg-4 InvoiceNumber",attrs:{id:"SaveAsDraft"}},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("InvoiceStatus"))+":")]),a("input",{staticClass:"form-control disabled-grey",attrs:{type:"text",readonly:"readonly"},domProps:{value:t.$t("Draft")+" "+t.$t("Mode")}}),a("a",{staticClass:"ChangeStatus",attrs:{id:"ShowNumber",typefor:"ShowNumber",href:"javascript:;"},on:{click:function(e){return t.onChangeInvoiceStatus("ShowNumber")}}},[t._v(" "+t._s(t.$t("SwitchToGenerateInvoiceNumber"))+" ")])])]):t._e(),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Customer")))]),a("div",{staticClass:"input-group"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.ParentCompanyId,expression:"invoiceData.ParentCompanyId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.invoiceData,"ParentCompanyId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select Customer")))]),t._l(t.companyList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2),a("input",{attrs:{type:"hidden",id:"hdnCompanyId"},domProps:{value:t.currentCompanyId}})])])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("InvoiceDate"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate input-group",attrs:{id:"BillIssueDate",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,o=e.togglePopover;return[a("input",t._g({staticClass:"form-control",attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:i},on:{click:function(t){return o()}}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.invoiceData.BillIssueDate,callback:function(e){t.$set(t.invoiceData,"BillIssueDate",e)},expression:"invoiceData.BillIssueDate"}})],1)])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DateRange"))+":")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate input-group",attrs:{id:"DateRangeFrom",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,o=e.togglePopover;return[a("input",t._g({staticClass:"form-control",attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:i},on:{click:function(t){return o()}}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.invoiceData.DateRangeFrom,callback:function(e){t.$set(t.invoiceData,"DateRangeFrom",e)},expression:"invoiceData.DateRangeFrom"}})],1)]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate input-group",attrs:{id:"DateRangeTo",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,o=e.togglePopover;return[a("input",t._g({staticClass:"form-control",attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:i},on:{click:function(t){return o()}}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.invoiceData.DateRangeTo,callback:function(e){t.$set(t.invoiceData,"DateRangeTo",e)},expression:"invoiceData.DateRangeTo"}})],1)])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.BillDateFrom,expression:"invoiceData.BillDateFrom"}],attrs:{type:"hidden",id:"hdnDateFrom"},domProps:{value:t.invoiceData.BillDateFrom},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"BillDateFrom",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.BillDateTo,expression:"invoiceData.BillDateTo"}],attrs:{type:"hidden",id:"hdnDateTo"},domProps:{value:t.invoiceData.BillDateTo},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"BillDateTo",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DueDate"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("div",{staticClass:"input-group"},[a("v-date-picker",{staticClass:"timedate input-group",attrs:{id:"BillDueDate",mode:"date"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.inputValue,s=e.inputEvents,o=e.togglePopover;return[a("input",t._g({staticClass:"form-control",attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:i},on:{click:function(t){return o()}}},s)),a("div",{staticClass:"input-group-append",on:{click:function(t){return o()}}},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])]}}]),model:{value:t.invoiceData.BillDueDate,callback:function(e){t.$set(t.invoiceData,"BillDueDate",e)},expression:"invoiceData.BillDueDate"}})],1)])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Terms"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.Terms,expression:"invoiceData.Terms"}],staticClass:"form-control text txtblank",attrs:{type:"text",maxlength:"200"},domProps:{value:t.invoiceData.Terms},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"Terms",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Comment"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.BillDateComments,expression:"invoiceData.BillDateComments"}],staticClass:"form-control text txtblank",attrs:{type:"text",maxlength:"200"},domProps:{value:t.invoiceData.BillDateComments},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"BillDateComments",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("InvoiceMemo"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.InvoiceMemo,expression:"invoiceData.InvoiceMemo"}],staticClass:"form-control",attrs:{type:"text",maxlength:"200"},domProps:{value:t.invoiceData.InvoiceMemo},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"InvoiceMemo",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("InvoicePONumber"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.InvoicePONumber,expression:"invoiceData.InvoicePONumber"}],staticClass:"form-control",attrs:{type:"text",maxlength:"200"},domProps:{value:t.invoiceData.InvoicePONumber},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"InvoicePONumber",e.target.value)}}})])]),"yes"===t.paymentTermAllowed?a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("PaymentTerm"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.PaymentTermId,expression:"invoiceData.PaymentTermId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.invoiceData,"PaymentTermId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.paymentTermsList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2)])]):t._e(),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Division"))+":")]),a("div",{staticClass:"form-control bg-grey",attrs:{id:"txtDivisionName"}},[a("span",{attrs:{title:t.invoiceData.DivisionName}},[t._v(" "+t._s(t.invoiceData.DivisionName||"")+" "),"yes"===t.getNotesByCompanyId&&t.invoiceData.DivisionId?a("a",{staticClass:"text-dark enable viewnotesdivision",attrs:{href:"javascript:;","data-uniquename":"note_"+t.invoiceData.DivisionId,"data-divisionid":t.invoiceData.DivisionId,id:"note_"+t.invoiceData.DivisionId,"data-toggle-tooltip":"tooltip","data-original-title":t.invoiceData.LatestNote||"View","data-placement":"top"},on:{click:t.onViewNotes}},[a("em",{staticClass:"fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(t.invoiceData.NoOfNotes||0))])]):t._e()])])])]),t.isAssociateProjectWithDivision?a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Project")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.ProjectId,expression:"invoiceData.ProjectId"}],staticClass:"form-control ddlInvoiceProjectID",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.invoiceData,"ProjectId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("SelectProject")))]),t._l(t.projectList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2)])]):t._e(),t.isShowInvoiceDetailDropdown?a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("InvoiceDetailTemplate"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.TemplateId,expression:"invoiceData.TemplateId"}],staticClass:"form-control",attrs:{id:"ddlInvoiceDetailTemplate"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.invoiceData,"TemplateId",e.target.multiple?a:a[0])},t.onTemplateChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.invoiceDetailTemplateList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Name)+" ")])}))],2)])]):t._e(),t.isShowWorkdayInvoiceType?a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("WorkdayInvoiceType"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.InvoiceTypeId,expression:"invoiceData.InvoiceTypeId"}],staticClass:"form-control",attrs:{id:"InvoiceTypeId"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.invoiceData,"InvoiceTypeId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.invoiceTypeList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2)])]):t._e(),t.isShowInvoiceDetailDropdown?a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DetailFileFormat"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.DetailFileFormat,expression:"invoiceData.DetailFileFormat"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.invoiceData,"DetailFileFormat",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.detailFileFormatList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Name)+" ")])}))],2)])]):t._e()]),a("div",{staticClass:"row",attrs:{id:"divmainlineitemsouter"}},[a("div",{staticClass:"col-lg-12 position-relative"},[a("div",{staticClass:"heading-border mt-3 mb-2"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("InvoiceItems")))]),a("small",{staticClass:"float-right"},[a("a",{staticClass:"invaction",attrs:{href:"javascript:;"},on:{click:t.toggleActionMenu}},[a("em",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("Action"))+" ")])])])]),a("span",{staticClass:"action-list-box expand",style:{width:"224px",display:t.showActionMenu?"block":"none",borderBottom:"none !important",top:"-200px",right:"15px"}},[a("span",{staticClass:"list-actions w-100 fsm-list",staticStyle:{"font-size":"14px"},attrs:{id:"action-list"}},[a("a",{staticClass:"actions-onclick",attrs:{title:t.$t("NonVisibleInSummary"),href:"javascript:;",id:"ancNonVisibleInSummary"},on:{click:t.onNonVisibleInSummary}},[a("em",{staticClass:"fa fa-eye-slash text-success action-icon fa-size pr-2"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("NonVisibleInSummary")))])]),a("a",{staticClass:"actions-onclick",attrs:{title:t.$t("VisibleInSummary"),href:"javascript:;",id:"ancVisibleInSummary"},on:{click:t.onVisibleInSummary}},[a("em",{staticClass:"fa fa-eye text-success action-icon fa-size pr-2"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("VisibleInSummary")))])]),a("a",{staticClass:"actions-onclick",attrs:{title:t.$t("Manageworkcode"),href:"javascript:;",id:"changeworkCodeLineItems"},on:{click:t.onManageWorkCode}},[a("em",{staticClass:"fa fa-barcode text-primary action-icon fa-size pr-2"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("Manageworkcode")))])]),a("a",{staticClass:"actions-onclick",attrs:{id:"changeColumnValueLineItems",href:"javascript:;",title:t.$t("Update")},on:{click:t.onChangeColumnValue}},[a("em",{staticClass:"fa fa-pencil text-success action-icon fa-size pr-2"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("Update")))])]),t.billId>0?a("a",{staticClass:"actions-onclick",attrs:{id:"addworkCodeLineItems",href:"javascript:;",title:t.$t("CloneLineItem")},on:{click:t.onCloneLineItem}},[a("em",{staticClass:"fa fa-plus text-success action-icon fa-size pr-2"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("CloneLineItem")))])]):t._e(),a("a",{staticClass:"actions-onclick",attrs:{title:t.$t("BulkMove"),href:"javascript:;",id:"changeContract"},on:{click:t.onChangeContract}},[a("em",{staticClass:"fa fa-arrows text-info action-icon fa-size pr-2"}),a("span",{staticClass:"text"},[t._v(t._s(t.$t("BulkMove")))])]),a("em",{staticClass:"fa fa-times close close-action",attrs:{id:"closeaction","aria-hidden":"true"},on:{click:t.toggleActionMenu}})])]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12",attrs:{id:"divMainFilter"}},[a("div",{staticClass:"table-heading-wb leave-details bg-grey border"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2"},[a("div",{staticClass:"row pt-2 pb-2"},[a("div",{staticClass:"col-12 col-sm-12 col-lg-2 col-xl-2 pl-lg-3 pr-lg-0"},[a("div",{staticClass:"form-group mb-2 mb-lg-0"},[a("a",{staticClass:"btn btn-success text-white",attrs:{isselected:t.selectAllButtonState,id:"ancSelectAllLineItems"},on:{click:t.onSelectAllLineItems}},[a("em",{staticClass:"pr-2",class:"0"===t.selectAllButtonState?"fa fa-close":"fa fa-check",staticStyle:{width:"20px"}}),t._v(" "+t._s("0"===t.selectAllButtonState?t.$t("DeSelectAllLineItems"):t.$t("SelectAllLineItems"))+" ")])])]),a("div",{staticClass:"col-12 col-sm-12 col-lg-2 col-xl-2"},[a("div",{staticClass:"form-group mb-2 mb-lg-0"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.filterData.columnId,expression:"filterData.columnId"}],staticClass:"form-control",attrs:{id:"ddlColumnId",name:"ddlColumnId"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.filterData,"columnId",e.target.multiple?a:a[0])},t.onFilterColumnChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.filterFields,(function(e){return a("option",{key:e.TEMPLATE_ID,attrs:{"data-type":e.DATA_TYPE,"data-columnname":e.COLUMN_NAME,"data-tablename":e.TABLE_NAME},domProps:{value:e.TEMPLATE_ID}},[t._v(" "+t._s(e.DISPLAY_NAME)+" ")])}))],2)])]),a("div",{staticClass:"col-12 col-sm-12 col-lg-2 col-xl-2"},[a("div",{staticClass:"input-group mb-2 mb-lg-0",attrs:{id:"divShowPopColumn"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filterData.columnValue,expression:"filterData.columnValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.$t("Value"),id:"txtColumnValue",name:"txtColumnValue"},domProps:{value:t.filterData.columnValue},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onApplyFilter.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.filterData,"columnValue",e.target.value)}}}),a("div",{staticClass:"input-group-append d-none",attrs:{id:"divShowPopField"}},[a("span",{staticClass:"input-group-text"},[a("a",{attrs:{href:"javascript:;","data-toggle":"popoveruserguide","data-content":t.$t("InfoTextSearch")}},[a("em",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})])])])])]),a("div",{staticClass:"col-12 col-sm-12 col-lg-6 col-xl-6"},[a("div",{staticClass:"search-btm-btn background-0 text-left"},[a("a",{staticClass:"btn btn-primary",attrs:{id:"aAddFilter",href:"javascript:;",title:t.$t("ApplyFilter")},on:{click:t.onApplyFilter}},[a("em",{staticClass:"fa fa-search text-white mt-1 mr-2"}),a("span",{staticClass:"text-white"},[t._v(t._s(t.$t("ApplyFilter")))])]),a("a",{staticClass:"btn btn-dark text-white float-right",attrs:{title:t.$t("Advance")+" "+t.$t("Filter"),id:"Advancefilter",href:"javascript:;"},on:{click:t.onAdvanceFilter}},[a("em",{staticClass:"fa fa-filter pr-2"}),a("span",{staticClass:"text-white"},[t._v(t._s(t.$t("Advance"))+" "+t._s(t.$t("Filter")))])])])])])])])]),t.activeFilters.length>0?a("div",{staticClass:"col-12 mb-2 mt-1 float-left"},[a("div",{staticClass:"py-2 w-100",attrs:{id:"divFiltersList"}},t._l(t.activeFilters,(function(e,i){return a("button",{key:i,staticClass:"btn p-2 mr-2 float-left search-tag aFiltera",attrs:{type:"button",fieldType:e.fieldType,fieldId:e.fieldId,tablename:e.tablename,columnname:e.columnname,fieldValue:e.fieldValue}},[a("span",{staticClass:"tag-name mw-100"},[t._v(t._s(e.displayName)+" : "+t._s(e.fieldValue))]),a("span",{staticClass:"badge aFilter"},[a("a",{attrs:{title:t.$t("RemoveFilter"),href:"javascript:;"},on:{click:function(e){return t.removeFilter(i)}}},[t._v("×")])])])})),0)]):t._e(),a("div",{staticClass:"col-12 mb-2 mt-1 float-left"},[a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(t._s(t.$t("InsertedManually"))+" ")]),a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legend-pending colorboxsquare"}),t._v(t._s(t.$t("NonVisibleInSummary"))+" ")])]),a("div",{staticClass:"listing"},[a("div",{staticClass:"col-12",attrs:{id:"divLineItems"}},[a("LineItems",{attrs:{lineItems:t.lineItemsData,headers:t.lineItemHeaders,subTotal:t.invoiceData.SubTotal,creditAmountBalance:t.creditAmountBalance,notInSummaryCost:t.notInSummaryCost,selectAllInvoice:t.selectAllInvoice},on:{"select-all-change":t.onSelectAllChange,"item-checkbox-change":t.onItemCheckboxChange,"column-sort":t.onColumnSort,"add-discount":t.onAddDiscount,"delete-discount":t.onDeleteDiscount,"edit-line-item":t.onEditLineItem}})],1),t.lineItemsPager&&t.lineItemsPager.TotalRecords>0?a("div",{staticClass:"col-12 mt-3"},[a("Pager",{ref:"lineItemsPagerComponent",attrs:{numberofrecords:t.lineItemsPager.TotalRecords,prevText:t.$t("Previous"),nextText:t.$t("Next"),firstText:t.$t("First"),lastText:t.$t("Last"),CurrentPageNumber:t.currentPage,callbackfunction:t.onPageChange}})],1):t._e(),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"table-heading-wb leave-details bg-light mb-4 border"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[a("div",{staticClass:"row justify-content-end"},[a("div",{staticClass:"form-group form-inline mb-0"},[a("label",{staticClass:"col-form-label mr-2"},[t._v(t._s(t.$t("SubTotal"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.SubTotal,expression:"invoiceData.SubTotal"}],staticClass:"form-control",staticStyle:{"pointer-events":"none"},attrs:{id:"SubTotal",type:"text",maxlength:"200"},domProps:{value:t.invoiceData.SubTotal},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"SubTotal",e.target.value)}}})]),a("div",{staticClass:"mx-2"},[a("div",{staticClass:"search-btm-btn background-0 text-left py-3"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"addnewLine",title:t.$t("AddNewRow")},on:{click:t.onAddNewRow}},[a("em",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddNewRow"))+" ")])])])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-lg-6"},[a("div",{staticClass:"form-group h-100",attrs:{id:"CommentDiv"}},[a("label",[t._v(t._s(t.$t("Comment"))+":")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.Comment,expression:"invoiceData.Comment"}],staticClass:"form-control",staticStyle:{height:"100% !important"},attrs:{id:"Comment",maxlength:"10000",name:"Comment",placeholder:t.$t("Comment"),rows:"2"},domProps:{value:t.invoiceData.Comment},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"Comment",e.target.value)}}})])]),a("div",{staticClass:"col-sm-12 col-lg-6"},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive position-relative overflow-visible"},[a("table",{staticClass:"table table-bordered",attrs:{id:"billAdjustment"}},[a("thead",{staticClass:"thead-bg"},[a("tr",{attrs:{role:"row"}},[a("th",{attrs:{colspan:"3"}},[a("label",{staticClass:"pr-3"},[t._v(t._s(t.$t("Discount"))+":")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.DiscountType,expression:"invoiceData.DiscountType"}],attrs:{type:"radio","data-resource":t.$t("IsSequential"),checked:"checked",name:"DiscountType",value:"Sequential"},domProps:{checked:t._q(t.invoiceData.DiscountType,"Sequential")},on:{change:[function(e){return t.$set(t.invoiceData,"DiscountType","Sequential")},t.calculateDiscountAndTax]}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.DiscountType,expression:"invoiceData.DiscountType"}],attrs:{type:"radio","data-resource":t.$t("IsStacked"),name:"DiscountType",value:"Stack"},domProps:{checked:t._q(t.invoiceData.DiscountType,"Stack")},on:{change:[function(e){return t.$set(t.invoiceData,"DiscountType","Stack")},t.calculateDiscountAndTax]}})]),a("th",[a("a",{staticClass:"btn btn-primary float-right addDiscount mnw-90",attrs:{href:"javascript:;",id:"ancDiscount",title:t.$t("AddMore")},on:{click:t.onAddDiscountRow}},[a("em",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Add"))+" ")])])])]),a("tbody",t._l(t.discountRows,(function(e,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:i>0||t.discountRows.length>1,expression:"index > 0 || discountRows.length > 1"}],key:i},[a("td",{attrs:{width:"38%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"discount.label"}],staticClass:"form-control",attrs:{type:"text",name:"discountLabel",valfor:"AdjName",maxlength:"50"},domProps:{value:e.label},on:{input:function(a){a.target.composing||t.$set(e,"label",a.target.value)}}})]),a("td",{attrs:{width:"30%"}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.percentage,expression:"discount.percentage"}],staticClass:"form-control txtPerDiscount",attrs:{type:"text",name:"discountPer",valfor:"AdjPercentage",value:"0"},domProps:{value:e.percentage},on:{blur:t.calculateDiscountAndTax,keyup:t.checkDecimal,input:function(a){a.target.composing||t.$set(e,"percentage",a.target.value)}}}),t._m(0,!0)])]),a("td",{attrs:{width:"20%"}},[a("input",{attrs:{type:"hidden",name:"operator",valfor:"AdjOperator",value:"-",attroper:"0"}}),a("input",{staticClass:"form-control",attrs:{type:"text",name:"discountTotal",readonly:"readonly",valfor:"AdjAmount"},domProps:{value:e.amount}})]),a("td",{staticClass:"single-action text-center",attrs:{width:"8%"}},[a("a",{staticClass:"addDiscount aDelDiscount",attrs:{href:"javascript:;",id:"ancDiscountDel",title:t.$t("Delete")},on:{click:function(e){return t.removeDiscountRow(i)}}},[a("em",{staticClass:"fa fa-trash text-danger",attrs:{"aria-hidden":"true"}})])])])})),0)])])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{colspan:"3"}},[a("label",{staticClass:"pr-3 float-left"},[t._v(t._s(t.$t("Credit"))+":")]),a("div",{staticClass:"form-group mb-0 d-inline-block"},[a("label",{staticClass:"switch"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.IsCredit,expression:"invoiceData.IsCredit"}],staticClass:"dynamic custom-switch IsCredit",attrs:{type:"checkbox",value:"1",name:"IsCredit"},domProps:{checked:Array.isArray(t.invoiceData.IsCredit)?t._i(t.invoiceData.IsCredit,"1")>-1:t.invoiceData.IsCredit},on:{change:[function(e){var a=t.invoiceData.IsCredit,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o="1",n=t._i(a,o);i.checked?n<0&&t.$set(t.invoiceData,"IsCredit",a.concat([o])):n>-1&&t.$set(t.invoiceData,"IsCredit",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.invoiceData,"IsCredit",s)},t.onCreditToggle]}}),a("span",{staticClass:"slider round"},[a("span",{staticClass:"slider-yes text-left"},[t._v(t._s(t.$t("Yes")))]),a("span",{staticClass:"slider-no text-right pr-1"},[t._v(t._s(t.$t("No")))])])])])]),a("th",[t._v(" ")])])]),a("tbody",[t.invoiceData.IsCredit?a("tr",{staticClass:"ui-state-default",attrs:{id:"trBillCreditAmountRow"}},[a("td",{attrs:{width:"38%"}},[t._v(" "+t._s(t.$t("TotalAvailableCredit"))+" ("+t._s(t.currency)+"): "),a("span",{attrs:{id:"spnCreditAmountBalance"}},[t._v(t._s(t.formatCurrency(t.creditAmountBalance)))])]),a("td",{attrs:{width:"20%"}}),a("td",{attrs:{width:"20%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.CreditAmount,expression:"invoiceData.CreditAmount"}],staticClass:"form-control",attrs:{type:"text",name:"txtCreditAmount",id:"txtCreditAmount",autocomplete:"off"},domProps:{value:t.invoiceData.CreditAmount},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"CreditAmount",e.target.value)}}})]),a("td",{staticClass:"single-action",attrs:{width:"8%"}},[a("a",{staticClass:"addDiscount aCreditDiscount",attrs:{href:"javascript:;",id:"ancCreditDel",title:t.$t("Delete")},on:{click:t.onRemoveCredit}},[a("em",{staticClass:"fa fa-trash text-danger",attrs:{"aria-hidden":"true"}})])])]):t._e()])])])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered",attrs:{id:"taxAdjustments"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{colspan:"3"}},[t._v(t._s(t.$t("Taxes"))+":")]),a("th",[a("a",{staticClass:"btn btn-primary float-right addDiscount mnw-90",attrs:{href:"javascript:;",id:"ancTax",title:t.$t("AddMore")},on:{click:t.onAddTaxRow}},[a("em",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Add"))+" ")])])])]),a("tbody",t._l(t.taxRows,(function(e,i){return a("tr",{directives:[{name:"show",rawName:"v-show",value:i>0||t.taxRows.length>1,expression:"index > 0 || taxRows.length > 1"}],key:i,staticClass:"ui-state-default"},[a("td",{attrs:{width:"38%"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.label,expression:"tax.label"}],staticClass:"form-control",attrs:{type:"text",id:"Tax2Label",valfor:"AdjName",name:"Tax2Label",maxlength:"50"},domProps:{value:e.label},on:{input:function(a){a.target.composing||t.$set(e,"label",a.target.value)}}})]),a("td",{attrs:{width:"30%"}},[a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.percentage,expression:"tax.percentage"}],staticClass:"form-control txtTax",attrs:{type:"text",id:"Tax2",name:"Tax2",valfor:"AdjPercentage",maxlength:"5"},domProps:{value:e.percentage},on:{blur:t.calculateDiscountAndTax,keyup:t.checkDecimal,input:function(a){a.target.composing||t.$set(e,"percentage",a.target.value)}}}),t._m(1,!0)])]),a("td",{attrs:{width:"20%"}},[a("input",{attrs:{type:"hidden",name:"operator",valfor:"AdjOperator",value:"+",attroper:"1"}}),a("input",{staticClass:"form-control",attrs:{type:"text",name:"Tax2Total",readonly:"readonly",valfor:"AdjAmount"},domProps:{value:e.amount}})]),a("td",{staticClass:"single-action text-center",attrs:{width:"8%"}},[a("a",{staticClass:"addDiscount aDelDiscount",attrs:{href:"javascript:;",id:"ancTaxDel",title:t.$t("Delete")},on:{click:function(e){return t.removeTaxRow(i)}}},[a("em",{staticClass:"fa fa-trash text-danger",attrs:{"aria-hidden":"true"}})])])])})),0),a("tfoot",[a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[a("strong",[t._v(t._s(t.$t("GrandTotal"))+" "+t._s(t.currency)+": ")])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.BillTotalNoAdv,expression:"invoiceData.BillTotalNoAdv"}],staticClass:"form-control number",staticStyle:{"pointer-events":"none"},attrs:{type:"text"},domProps:{value:t.invoiceData.BillTotalNoAdv},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"BillTotalNoAdv",e.target.value)}}})]),a("td")]),a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[a("strong",[t._v(t._s(t.$t("DiscountFlatRate"))+" "+t._s(t.currency)+": ")])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.DiscountFlatRate,expression:"invoiceData.DiscountFlatRate"}],staticClass:"form-control number",attrs:{type:"text",maxlength:"12"},domProps:{value:t.invoiceData.DiscountFlatRate},on:{change:t.calculateGrandTotal,input:function(e){e.target.composing||t.$set(t.invoiceData,"DiscountFlatRate",e.target.value)}}})]),a("td")]),a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[a("strong",[t._v(t._s(t.$t("AdvanceReceived"))+" "+t._s(t.currency)+": ")])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.BillAdvanceAmount,expression:"invoiceData.BillAdvanceAmount"}],staticClass:"form-control number",attrs:{type:"text",maxlength:"12"},domProps:{value:t.invoiceData.BillAdvanceAmount},on:{change:t.calculateGrandTotal,input:function(e){e.target.composing||t.$set(t.invoiceData,"BillAdvanceAmount",e.target.value)}}})]),a("td")]),a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[a("strong",[t._v(t._s(t.$t("NetTotal"))+" "+t._s(t.currency)+": ")])]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.invoiceData.BillNetTotal,expression:"invoiceData.BillNetTotal"}],staticClass:"form-control number",staticStyle:{"pointer-events":"none"},attrs:{type:"text"},domProps:{value:t.invoiceData.BillNetTotal},on:{input:function(e){e.target.composing||t.$set(t.invoiceData,"BillNetTotal",e.target.value)}}})]),a("td",[a("input",{attrs:{type:"hidden",id:"invStatusCode"},domProps:{value:t.invoiceData.StatusCode}})])])])])])])])])])]),a("div",{staticClass:"row flex-row-reverse mt-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success mr-2",attrs:{href:"javascript:;",id:"aSave",name:"aSave",title:t.$t("Save")},on:{click:t.onSave}},[a("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:t.backUrl,id:"btnCancelColumnItems",title:t.$t("Cancel")}},[a("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel"))+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString")))])])])])])])])]),t.showEditLineItem?a("EditInvoiceLineItem",{attrs:{lineItemId:t.selectedLineItemId,columnId:t.selectedColumnId,ticketType:t.selectedTicketType,isTicketManual:t.selectedIsTicketManual,batchId:t.batchId,clientId:t.invoiceData.ClientId,divisionId:t.invoiceData.DivisionId,dateOfInvoice:t.invoiceData.DateRangeFrom,lineBatchId:t.lineBatchId,billId:t.billId,isAdd:t.isAddNewLineItem},on:{close:t.closeEditLineItem,saved:t.onLineItemSaved}}):t._e(),t.showNotesList?a("PartialNotesList",{key:t.refreshKey,ref:"notesListComponent",attrs:{divisionId:t.selectedDivisionId,utilityId:t.selectedUtilityId,clientId:t.invoiceData.ClientId,uniqueName:t.selectedUniqueName},on:{close:t.closeNotesList,"add-note":t.onAddNote,"edit-note":t.onAddNote,"note-deleted":t.onNoteDeleted}}):t._e(),t.showAddNote?a("AddNotes",{attrs:{noteId:t.selectedNoteId,divisionId:t.selectedDivisionId,utilityId:t.selectedUtilityId,clientId:t.invoiceData.ClientId,uniqueName:t.selectedUniqueName},on:{close:t.closeAddNote,saved:t.onNoteSaved}}):t._e(),t.showAdvanceFilter?a("AdvanceFilter",{attrs:{setupId:t.setupId,templateId:t.invoiceData.TemplateId,filterFields:t.filterFields},on:{close:t.closeAdvanceFilter,apply:t.onAdvanceFilterApply}}):t._e(),t.showChangeContract?a("ChangeClientAndUtility",{attrs:{lineItemIds:t.selectedLineItemIds,oldClientId:t.invoiceData.ClientId,oldUtilityName:t.oldUtilityName,workDateFrom:t.invoiceData.DateRangeFrom,workDateTo:t.invoiceData.DateRangeTo,requestFrom:"lineitem",allInvoice:t.selectAllInvoice,xmlData:t.filterXmlData},on:{close:t.closeChangeContract,saved:t.onContractChanged}}):t._e(),t.showManageWorkCode?a("ManageWorkCode",{attrs:{lineItemIds:t.selectedLineItemIds,requestFrom:"lineitem",allInvoice:t.selectAllInvoice,xmlData:t.filterXmlData,lineBatchId:t.lineBatchId,invoiceBillId:t.billId},on:{close:t.closeManageWorkCode,saved:t.onWorkCodeChanged}}):t._e(),t.showAddDiscount?a("AddDiscount",{attrs:{itemId:t.selectedDiscountItemId,itemCost:t.selectedDiscountItemCost},on:{saving:t.onDiscountSaving,saved:t.onDiscountSaved,"saved-complete":t.onDiscountSavedComplete,cancel:t.closeAddDiscount}}):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("%")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("%")])])}],o=(a("14d9"),a("13d5"),a("9769")),n=a("750f"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table-responsive table-fix-header"},[a("input",{attrs:{type:"hidden",id:"hdnCreditAmountBalance"},domProps:{value:t.creditAmountBalance}}),t.lineItems&&t.lineItems.length>0?a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblInvoiceItem"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"alwaysshow",staticStyle:{"text-align":"center"},attrs:{width:"3%",id:"nonresize"}},[a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",id:"chkAll",name:"checkbox","data-change-id":"no","data-selectallinvoice":t.selectAllInvoice},on:{change:t.onSelectAllChange}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkAll"}})])])]),t._l(t.headers,(function(e,i){return a("th",{key:i,class:t.getHeaderClass(i),attrs:{width:t.getColumnWidth()+"%","data-datatype":e.dataType,"data-colname":"Col"+(i+1)}},[a("span",{staticClass:"sort",attrs:{id:"Col"+(i+1)},on:{click:function(e){t.onColumnSort("Col"+(i+1))}}},[t._v(" "+t._s(e.displayName)+" ")])])})),a("th",{staticClass:"text-center alwaysshow",attrs:{width:"4%"}},[a("span",[t._v(t._s(t.$t("USICDiscount")))])]),a("th",{staticClass:"text-center alwaysshow",attrs:{width:"3%"}},[a("span",[t._v(t._s(t.$t("Edit")))])])],2)]),a("tbody",t._l(t.lineItems,(function(e,i){return a("tr",{key:e.lineItemId||i,class:t.getRowClass(e),attrs:{price:t.getCostValue(e)}},[a("td",{staticClass:"alwaysshow",staticStyle:{"text-align":"center"},attrs:{width:"3%"}},["F"===e.ticketType||!0===e.isManual?a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",disabled:"disabled",id:"chkItem_"+e.lineItemId,name:"DeleteInputs"},domProps:{value:e.lineItemId}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkItem_"+e.lineItemId}})])]):a("div",{staticClass:"form-check form-check-inline"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"item.selected"}],staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",id:"chkItem_"+e.lineItemId,name:"DeleteInputs"},domProps:{value:e.lineItemId,checked:Array.isArray(e.selected)?t._i(e.selected,e.lineItemId)>-1:e.selected},on:{change:function(a){var i=e.selected,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n=e.lineItemId,l=t._i(i,n);s.checked?l<0&&t.$set(e,"selected",i.concat([n])):l>-1&&t.$set(e,"selected",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"selected",o)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chkItem_"+e.lineItemId}})])]),a("input",{attrs:{type:"hidden"},domProps:{value:e.lineItemId}})]),t._l(t.headers,(function(i,s){return a("td",{key:s,class:t.getCellClass(i,s),attrs:{width:t.getColumnWidth()+"%","data-colvalue":t.getColumnValue(e,s),"data-datatype":i.dataType,"data-colname":i.columnName||i.displayName,title:t.getColumnValue(e,s)}},[0!==s||t.getColumnValue(e,s)?a("span",[t._v(" "+t._s(t.formatColumnValue(e,s,i))+" ")]):a("span",{staticStyle:{visibility:"hidden"}},[t._v(" Do not delete this its mandatory ")])])})),a("td",{staticClass:"text-center alwaysshow single-action",attrs:{width:"4%"}},[e.discount>0?a("a",{staticClass:"aAddDiscount",attrs:{"data-itemid":e.lineItemId,"data-cost":t.getCostValue(e),title:t.$t("Edit")},on:{click:function(a){return t.onAddDiscount(e)}}},[t._v(" "+t._s(e.discount)+" ")]):t._e(),e.discount>0?a("a",{staticClass:"aDeleteDiscount cross enable cursorpointer",attrs:{href:"javascript:;",title:t.$t("Delete"),"data-itemid":e.lineItemId},on:{click:function(a){return t.onDeleteDiscount(e)}}},[a("em",{staticClass:"fa fa-times text-danger"})]):a("a",{staticClass:"aAddDiscount add enable cursorpointer",attrs:{href:"javascript:;",title:t.$t("Add"),"data-cost":t.getCostValue(e),"data-itemid":e.lineItemId},on:{click:function(a){return t.onAddDiscount(e)}}},[a("em",{staticClass:"fa fa-plus-circle text-primary"})]),e.discount&&0!==e.discount?t._e():a("a",{staticClass:"aDeleteDiscount cross enable cursorpointer hidden",attrs:{href:"javascript:;",title:t.$t("Delete"),"data-itemid":e.lineItemId}},[a("em",{staticClass:"fa fa-times text-danger"})])]),a("td",{staticClass:"text-center alwaysshow single-action",attrs:{width:"3%"}},[a("a",{staticClass:"text-success ancedit enable",staticStyle:{cursor:"pointer"},attrs:{title:t.$t("Edit"),"data-tickettype":e.ticketType||e.TicketType,"data-isticketmannual":!0===e.isManual||!0===e.IsManual?"M":"N",lineId:e.lineItemId,COLUMN_ID:e.tranNo||e.TranNo},on:{click:function(a){return t.onEditLineItem(e)}}},[a("em",{staticClass:"fa fa-pencil"})])])],2)})),0)]):a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[a("tr",[a("td",{staticClass:"text-danger text-center no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])]),a("input",{attrs:{type:"hidden",id:"hdnSumNonVisibleInSummary"},domProps:{value:t.notInSummaryCost}}),a("input",{attrs:{type:"hidden",id:"hdnSubTotal"},domProps:{value:t.subTotal}})])},r=[],d={name:"LineItems",props:{lineItems:{type:Array,default:()=>[]},headers:{type:Array,default:()=>[]},subTotal:{type:Number,default:0},creditAmountBalance:{type:Number,default:0},notInSummaryCost:{type:Number,default:0},selectAllInvoice:{type:String,default:""}},methods:{getHeaderClass(t){var e=this.headers?Math.floor(this.headers.length/2):8;return e<9&&(e=8),t>e?"hideColumnLineItem":""},getColumnWidth(){var t=this.headers?this.headers.length:1;return 0===t?10:Math.floor(90/t)},getRowClass(t){var e="",a=!0===t.isManual||!0===t.IsManual,i=!0===t.isNonVisibleInSummary||!0===t.IsNonVisibleInSummary;return a&&(e="low-bar"),i&&!a&&(e="high-bar"),a&&i&&(e="critical-bar"),e},getColumnValue(t,e){var a="col"+(e+1),i="Col"+(e+1);return t[a]||t[i]||""},getCellClass(t,e){var a="";7===e&&(a+="txtUTotal "),"D"!==t.dataType&&"I"!==t.dataType&&"Si"!==t.dataType||(a+="textalignright");var i=this.headers?Math.floor(this.headers.length/2):8;return i<9&&(i=8),e>i&&(a+=" hideColumnLineItem"),a.trim()},formatColumnValue(t,e,a){var i=this.getColumnValue(t,e);if(!i&&0!==i)return"";var s=a.dataType||"",o=a.format||"N";if("DT"===s&&i)try{var n=new Date(i);if(!isNaN(n.getTime()))return o&&"N"!==o?this.formatDate(n,o):this.formatDate(n,"MM/dd/yyyy")+" "+this.formatTime(n)}catch(d){console.warn("Error formatting date:",d)}else if("T"===s&&i)try{n=new Date(i);if(!isNaN(n.getTime()))return o&&"N"!==o?this.formatDate(n,o):this.formatTime(n)}catch(d){console.warn("Error formatting time:",d)}else if("D"===s&&i)try{var l=parseFloat(i);if(!isNaN(l))return l.toFixed(2)}catch(d){console.warn("Error formatting decimal:",d)}if(7===e&&a.displayName&&"cost"===a.displayName.toLowerCase().trim())try{var r=parseFloat(i);if(!isNaN(r))return r.toFixed(2)}catch(d){console.warn("Error formatting cost:",d)}return i},formatDate(t,e){var a=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),s=t.getFullYear();return a+"/"+i+"/"+s},formatTime(t){var e=t.getHours(),a=t.getMinutes(),i=e>=12?"PM":"AM";e%=12,e=e||12;var s=a.toString().padStart(2,"0");return e+":"+s+" "+i},getCostValue(t){return parseFloat(t.col8||t.Col8||0)},isNumericType(t){return"D"===t||"I"===t||"Si"===t},onSelectAllChange(t){this.$emit("select-all-change",t.target.checked)},onColumnSort(t){this.$emit("column-sort",t)},onAddDiscount(t){this.$emit("add-discount",t)},onDeleteDiscount(t){this.$emit("delete-discount",t)},onEditLineItem(t){this.$emit("edit-line-item",t)}}},c=d,u=(a("2516"),a("0c7c")),m=Object(u["a"])(c,l,r,!1,null,"b20f254c",null),v=m.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.isAdd?t.$t("AddNewLineItem"):t.$t("EditLineItem"))+" ")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("TicketNumber")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.TicketNumber,expression:"form.TicketNumber"}],staticClass:"form-control",attrs:{type:"text",readonly:!t.isAdd},domProps:{value:t.form.TicketNumber},on:{input:function(e){e.target.composing||t.$set(t.form,"TicketNumber",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("ActivityId"))+" "),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.ActivityId,expression:"form.ActivityId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"ActivityId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.activityList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Name||e.Text)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("StatusCode"))+" "),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.Status,expression:"form.Status"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"Status",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.statusList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2)])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("WorkDate")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.WorkDate,expression:"form.WorkDate"}],staticClass:"form-control hasdatetimepicker",attrs:{type:"text",id:"WorkDate",autocomplete:"off"},domProps:{value:t.form.WorkDate},on:{input:function(e){e.target.composing||t.$set(t.form,"WorkDate",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("TransmitDate")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.TransmitDate,expression:"form.TransmitDate"}],staticClass:"form-control hasdatetimepicker",attrs:{type:"text",id:"TransmitDate",autocomplete:"off"},domProps:{value:t.form.TransmitDate},on:{input:function(e){e.target.composing||t.$set(t.form,"TransmitDate",e.target.value)}}})])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("ParseDate")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.ParseDate,expression:"form.ParseDate"}],staticClass:"form-control hasdatetimepicker",attrs:{type:"text",id:"ParseDate",autocomplete:"off"},domProps:{value:t.form.ParseDate},on:{input:function(e){e.target.composing||t.$set(t.form,"ParseDate",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("CostCenters"))+" "),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.DistrictCode,expression:"form.DistrictCode"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"DistrictCode",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.costCenterList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("WorkCode"))+" "),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.WorkCodeId,expression:"form.WorkCodeId"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"WorkCodeId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.workCodeList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Name||e.Text)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Rate")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.UnitAmountTotal,expression:"form.UnitAmountTotal"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.form.UnitAmountTotal},on:{input:function(e){e.target.composing||t.$set(t.form,"UnitAmountTotal",e.target.value)}}})])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Comment")))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.Comment,expression:"form.Comment"}],staticClass:"form-control",attrs:{maxlength:"500",rows:"3"},domProps:{value:t.form.Comment},on:{input:function(e){e.target.composing||t.$set(t.form,"Comment",e.target.value)}}})])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:t.onSave}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Save"))+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:t.onClose}},[a("em",{staticClass:"fa fa-close pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Cancel"))+" ")])])])])])],1)])},f=[],h={name:"EditInvoiceLineItem",props:{lineItemId:{type:[Number,String],default:null},columnId:{type:[Number,String],default:null},ticketType:{type:String,default:null},isTicketManual:{type:String,default:null},batchId:{type:[Number,String],default:null},clientId:{type:[Number,String],default:null},divisionId:{type:[Number,String],default:null},dateOfInvoice:{type:String,default:""},lineBatchId:{type:String,default:""},billId:{type:[Number,String],default:null},isAdd:{type:Boolean,default:!1}},data(){return{isLoading:!1,form:{TicketNumber:"",ActivityId:null,Description:"",Status:"",WorkDate:"",TransmitDate:"",ParseDate:"",DistrictCode:"",WorkCodeId:"",UnitAmountTotal:0,Comment:""},activityList:[],statusList:[],costCenterList:[],workCodeList:[]}},created(){this.loadDropdowns(),this.lineItemId&&this.loadLineItem()},methods:{loadDropdowns(){},loadLineItem(){this.isLoading=!0,setTimeout(()=>{this.isLoading=!1},100)},onSave(){this.form.ActivityId&&this.form.Status&&this.form.DistrictCode&&this.form.WorkCodeId&&(this.isLoading=!0,setTimeout(()=>{this.isLoading=!1,this.$emit("saved")},200))},onClose(){this.$emit("close")}}},g=h,C=(a("637b"),Object(u["a"])(g,p,f,!1,null,"5178373a",null)),I=C.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("Loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block",staticStyle:{"z-index":"1050"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Notes"))+" "+t._s(t.$t("History")))]),a("button",{staticClass:"close text-white",attrs:{type:"button"},on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{"max-height":"70vh","overflow-y":"auto"}},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("Notes"))+" "+t._s(t.$t("History")))]),a("small",{staticClass:"float-right"},[a("a",{staticClass:"mr-2",attrs:{href:"javascript:;",title:t.$t("Add")+" "+t.$t("NOTE")},on:{click:t.onAddNoteClick}},[a("i",{staticClass:"fa fa-file-text-o pr-2"}),t._v(t._s(t.$t("Add"))+" "+t._s(t.$t("New"))+" "+t._s(t.$t("NOTE"))+" ")]),a("a",{directives:[{name:"show",rawName:"v-show",value:"card"===t.viewMode,expression:"viewMode === 'card'"}],staticClass:"mr-2",attrs:{href:"javascript:;",id:"aListView",title:t.$t("List")+" "+t.$t("View")},on:{click:t.switchToListView}},[a("i",{staticClass:"fa fa-list-ul pr-2"}),t._v(t._s(t.$t("List"))+" "+t._s(t.$t("View"))+" ")]),a("a",{directives:[{name:"show",rawName:"v-show",value:"list"===t.viewMode,expression:"viewMode === 'list'"}],staticClass:"mr-2",attrs:{href:"javascript:;",id:"aCardView",title:t.$t("CARD")+" "+t.$t("View")},on:{click:t.switchToCardView}},[a("i",{staticClass:"fa fa-th-large pr-2"}),t._v(t._s(t.$t("CARD"))+" "+t._s(t.$t("View"))+" ")])])])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showAddForm,expression:"showAddForm"}],staticClass:"listing mt-3",attrs:{id:"divshowAddData"}},[t._t("add-note-form"),a("hr")],2),a("div",{staticClass:"clearfix"}),a("div",{staticClass:"row card-view no-bg custom-box-width mt-3",class:{"d-none":"card"!==t.viewMode},attrs:{id:"dvCardView"}},[t.notes&&t.notes.length>0?t._l(t.notes,(function(e,i){return a("div",{key:e.noteId,staticClass:"col-md-12 col-lg-6 col-xl-6 mb-3"},[a("div",{staticClass:"card-box blue-bg-light"},[a("div",{staticClass:"card-heading",staticStyle:{"line-height":"34px"}},[a("span",{staticClass:"user-img-con mr-2"},[a("div",{staticClass:"user-image",attrs:{title:t.$t("ProfileImage")}},[a("img",{attrs:{src:t.getAvatarUrl(e.createdByAvatar),alt:t.$t("Image"),loading:"lazy"},on:{error:t.handleImageError}})])]),t._v(" "+t._s(e.name||"--")+" "),0===i?a("i",{staticClass:"fa fa-star latest-note"}):t._e()]),a("div",{staticClass:"card-detail-main"},[a("div",{staticClass:"card-detail"},[a("i",{staticClass:"fa fa-user",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(e.createdBy))])]),a("hr",{staticClass:"my-2"})]),a("div",{staticClass:"card-detail-main filterscroll",staticStyle:{"min-height":"100px"}},[e.shortDesciption?a("div",{staticClass:"cardUtilityDivisionShortDesciption mb-2 mt-2"},[a("div",{staticClass:"addednote-ticket-content"},[a("div",{staticClass:"col-12 p-0",attrs:{id:"lessdatacard"+(i+1)}},[a("div",{staticClass:"readmorecard textelipsis_inner text-truncate"},[a("div",{domProps:{innerHTML:t._s(t.truncateText(e.shortDesciption,185))}})])]),a("div",{staticClass:"col-12 p-0",staticStyle:{display:"none"},attrs:{id:"showmoredatacard"+(i+1)}},[a("div",{staticClass:"readmorecard"},[a("div",{domProps:{innerHTML:t._s(e.shortDesciption)}})])]),e.shortDesciption&&e.shortDesciption.length>185?a("a",{staticClass:"lessmoredesccard ancreadmoredesccard",attrs:{href:"javascript:;",id:"readmorecard"+(i+1)},on:{click:function(e){return t.toggleReadMoreCard(i+1)}}},[t._v(" "+t._s(t.$t("readmore"))+" ")]):t._e(),a("div",{staticClass:"addednote-ticket-content readmoredesccard"},[a("a",{staticClass:"anclessmoredesccard",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"lessmorecard"+(i+1)},on:{click:function(e){return t.toggleReadLessCard(i+1)}}},[t._v(" "+t._s(t.$t("Read"))+" "+t._s(t.$t("Less"))+" ")])])])]):t._e()]),a("div",{staticClass:"bottom-action"},[a("div",{staticClass:"card-date"},[a("i",{staticClass:"fa fa-calendar-o",attrs:{"aria-hidden":"true"}}),a("span",[t._v(t._s(t.formatDate(e.createdDate)))])]),a("div",{staticClass:"card-action"},[e.canDelete?a("a",{staticClass:"round-icon-small btn-success-light updateUtilityDivisionNote",attrs:{href:"javascript:;",value:e.NoteId,title:t.$t("Edit")},on:{click:function(a){return t.onEditNote(e)}}},[a("i",{staticClass:"fa fa-pencil"})]):t._e(),e.canDelete?a("a",{staticClass:"round-icon-small btn-danger-light deleteUtilityDivisionNote",attrs:{href:"javascript:;",value:e.NoteId,title:t.$t("Delete")},on:{click:function(a){return t.onDeleteNote(e)}}},[a("i",{staticClass:"fa fa-trash"})]):t._e(),e.attachmentId&&e.attachmentId>0?a("a",{staticClass:"round-icon-small btn-primary-light downloadAttachementInZip",attrs:{id:e.attachmentId,title:t.$t("ClickHereDownloadAttachment"),alt:t.$t("DownloadFile"),href:"javascript:;",value:e.attachmentId},on:{click:function(a){return t.downloadAttachment(e.attachmentId)}}},[a("i",{staticClass:"fa fa-download"})]):t._e()])])])])})):[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 mt-3"},[a("span",{staticClass:"text-danger text-center d-block no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])]],2),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 mt-3"},[a("div",{staticClass:"card",class:{"d-none":"list"!==t.viewMode},attrs:{id:"dvListView"}},[t.notes&&t.notes.length>0?t._l(t.notes,(function(e,i){return a("div",{key:e.noteId,staticClass:"w-100"},[a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[t._v(" "+t._s(e.name||"--")+" "),0===i?a("i",{staticClass:"fa fa-star latest-note"}):t._e(),a("span",{staticClass:"card-actions float-right"},[e.canDelete?a("a",{staticClass:"round-icon-small btn-success-light updateUtilityDivisionNote",attrs:{href:"javascript:;",value:e.noteId,title:t.$t("Edit")},on:{click:function(a){return t.onEditNote(e)}}},[a("em",{staticClass:"fa fa-pencil"})]):t._e(),e.canDelete?a("a",{staticClass:"round-icon-small btn-danger-light deleteUtilityDivisionNote",attrs:{href:"javascript:;",value:e.noteId,title:t.$t("Delete")},on:{click:function(a){return t.onDeleteNote(e)}}},[a("em",{staticClass:"fa fa-trash"})]):t._e(),e.attachmentId&&e.attachmentId>0?a("a",{staticClass:"round-icon-small btn-primary-light downloadAttachementInZip",attrs:{id:e.attachmentId,title:t.$t("ClickHereDownloadAttachment"),alt:t.$t("DownloadFile"),href:"javascript:;",value:e.attachmentId},on:{click:function(a){return t.downloadAttachment(e.attachmentId)}}},[a("em",{staticClass:"fa fa-download"})]):t._e()])]),a("div",{staticClass:"card-text mb-2"},[e.shortDescription?a("div",{staticClass:"utilityDivisionShortDesciption mb-2 mt-2"},[a("div",{staticClass:"addednote-content filterscroll",staticStyle:{"max-height":"100px","overflow-y":"auto"}},[a("div",{staticClass:"col-12 p-0",attrs:{id:"lessdata"+(i+1)}},[a("div",{staticClass:"readmore textelipsis_inner text-truncate"},[a("div",{domProps:{innerHTML:t._s(t.truncateText(e.shortDescription,185))}})])]),a("div",{staticClass:"col-12 p-0",staticStyle:{display:"none"},attrs:{id:"showmoredata"+(i+1)}},[a("div",{staticClass:"readmore"},[a("div",{domProps:{innerHTML:t._s(e.shortDescription)}})])]),e.shortDescription&&e.shortDescription.length>185?a("a",{staticClass:"lessmoredesc ancreadmoredesc",attrs:{href:"javascript:;",id:"readmore"+(i+1)},on:{click:function(e){return t.toggleReadMore(i+1)}}},[t._v(" "+t._s(t.$t("readmore"))+" ")]):t._e(),a("div",{staticClass:"addednote-ticket-content readmoredesc"},[a("a",{staticClass:"anclessmoredesc",staticStyle:{display:"none"},attrs:{href:"javascript:;",id:"lessmore"+(i+1)},on:{click:function(e){return t.toggleReadLess(i+1)}}},[t._v(" "+t._s(t.$t("Read"))+" "+t._s(t.$t("Less"))+" ")])])])]):t._e()]),a("p",{staticClass:"card-text Userndate"},[a("i",{staticClass:"fa fa-user"}),t._v(" "+t._s(e.createdBy)+" "),a("span",{staticClass:"created-date"},[t._v(t._s(t.formatDate(e.createdDate)))])])])])})):[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 mt-3"},[a("span",{staticClass:"text-danger text-center d-block no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])]],2)])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:t.onClose}},[a("em",{staticClass:"fa fa-close pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Close"))+" ")])])])])])],1)])},_=[],y=(a("88a7"),a("271a"),a("5494"),a("4892")),A=a("c427"),T={components:{Loader:y["a"]},name:"PartialNotesList",props:{divisionId:{type:[Number,String],default:null},utilityId:{type:[Number,String],default:null},clientId:{type:[Number,String],default:null},uniqueName:{type:String,default:""}},data(){return{isLoading:!1,notes:[],viewMode:"list",showAddForm:!1}},created(){this.loadNotes()},methods:{async loadNotes(){var t=this;t.isLoading=!0;try{var e=[];t.divisionId&&e.push("divisionId="+t.divisionId),t.utilityId&&e.push("utilityId="+t.utilityId),t.clientId&&e.push("clientId="+t.clientId);var a=e.join("&"),i=await n["a"].GetNoteList(a);i&&i.data?t.notes=i.data:t.notes=[]}catch(s){console.log("Error loading notes:",s),t.notes=[]}finally{t.isLoading=!1}},formatDate(t){if(!t)return"";var e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleString()},truncateText(t,e){return!t||t.length<=e?t:t.substring(0,e)+"..."},getAvatarUrl(t){return t||"/Content/images/DefaultImages/avatar-icon.jpg"},handleImageError(t){t.target.src="/Content/images/DefaultImages/avatar-icon.jpg"},toggleReadMore(t){var e=document.getElementById("lessdata"+t),a=document.getElementById("showmoredata"+t),i=document.getElementById("readmore"+t),s=document.getElementById("lessmore"+t);e&&a&&i&&s&&(e.style.display="none",i.style.display="none",a.style.display="block",s.style.display="block")},toggleReadLess(t){var e=document.getElementById("lessdata"+t),a=document.getElementById("showmoredata"+t),i=document.getElementById("readmore"+t),s=document.getElementById("lessmore"+t);e&&a&&i&&s&&(a.style.display="none",s.style.display="none",e.style.display="block",i.style.display="block")},toggleReadMoreCard(t){var e=document.getElementById("lessdatacard"+t),a=document.getElementById("showmoredatacard"+t),i=document.getElementById("readmorecard"+t),s=document.getElementById("lessmorecard"+t);e&&a&&i&&s&&(e.style.display="none",i.style.display="none",a.style.display="block",s.style.display="block")},toggleReadLessCard(t){var e=document.getElementById("lessdatacard"+t),a=document.getElementById("showmoredatacard"+t),i=document.getElementById("readmorecard"+t),s=document.getElementById("lessmorecard"+t);e&&a&&i&&s&&(a.style.display="none",s.style.display="none",e.style.display="block",i.style.display="block")},switchToListView(){this.viewMode="list"},switchToCardView(){this.viewMode="card"},onAddNoteClick(){this.showAddForm=!this.showAddForm,this.$emit("add-note")},onEditNote(t){this.$emit("edit-note",t)},onDeleteNote(t){var e=this,a=e.$t("ConfirmDelete"),i=e.$t("DeleteNote");e.confirmR(a,!0,i,(function(){e.isLoading=!0,n["a"].DeleteNote({Id:t.noteId,UtilityId:t.utilityId,DivisionId:t.divisionId,ClientId:t.clientId,TicketPrivacy:t.privacy,UniqueName:e.uniqueName}).then((function(t){t&&t.data&&("Success"===t.data.status||"0"===t.data.code?(e.ShowAlert(t.data.msg||e.$t("DeletedSuccessfully"),"success",e.$t("Alert")),e.loadNotes(),e.$emit("note-deleted",t.data.result)):e.ShowAlert(t.data.msg||e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))),e.isLoading=!1})).catch((function(t){console.log("Error deleting note:",t),e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert")),e.isLoading=!1}))}))},downloadAttachment(t){var e=this;try{if(!t)return;e.isLoading=!0,A["a"].instance.get("/Client/DownloadAttachments",{params:{fileId:t},responseType:"blob"}).then((function(a){var i=new Blob([a.data],{type:"application/zip"}),s=window.URL.createObjectURL(i),o=document.createElement("a");o.href=s,o.download="attachment_"+t+".zip",o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s),e.isLoading=!1})).catch((function(t){if(console.error("Error downloading attachment:",t),e.isLoading=!1,t.response&&t.response.data)if(t.response.data instanceof Blob){var a=new FileReader;a.onload=function(){try{var t=JSON.parse(a.result);e.ShowAlert(t.message||e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))}catch(i){e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))}},a.readAsText(t.response.data)}else e.ShowAlert(t.response.data.message||e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"));else e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))}))}catch(a){console.error("Error downloading attachment:",a),e.isLoading=!1,e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))}},onClose(){this.$emit("close")}}},b=T,N=(a("c361"),Object(u["a"])(b,D,_,!1,null,"988fd622",null)),w=N.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Add"))+" "+t._s(t.$t("NOTE"))+" ")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group",attrs:{id:"divNoteForm"}},[a("label",[t._v(t._s(t.$t("Note"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),t.editor?a("ckeditor",{attrs:{editor:t.editor,config:t.editorConfig},model:{value:t.form.Note,callback:function(e){t.$set(t.form,"Note",e)},expression:"form.Note"}}):a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.Note,expression:"form.Note"}],staticClass:"form-control",attrs:{rows:"7"},domProps:{value:t.form.Note},on:{input:function(e){e.target.composing||t.$set(t.form,"Note",e.target.value)}}}),t.contentError?a("span",{staticClass:"text-danger",attrs:{id:"spnContent"}},[t._v(" "+t._s(t.contentError)+" ")]):t._e()],1),a("div",{staticClass:"heading-border mt-3 mb-2"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("Attachment")))])])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"custom-file"},[a("input",{staticClass:"form-control",class:{"is-invalid":t.fileError},attrs:{type:"file",id:"flFileNote",name:"FileSrc"},on:{change:t.onFileChange}}),a("label",{staticClass:"custom-file-label",attrs:{for:"flFileNote"}},[t._v(" "+t._s(t.fileName||t.$t("ChooseFile"))+" ")])]),t.form.AttachmentId&&t.form.AttachmentId>0?a("a",{staticClass:"round-icon-small btn-primary-light mt-1 ml-2 downloadAttachements",attrs:{id:t.form.AttachmentId,title:t.$t("DownloadFile"),href:"javascript:;"},on:{click:function(e){return t.downloadAttachment(t.form.AttachmentId)}}},[a("i",{staticClass:"fa fa-download"})]):t._e()]),t.fileError?a("span",{staticClass:"text-danger",attrs:{id:"spnFile"}},[t._v(" "+t._s(t.fileError)+" ")]):t._e()])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:t.onSave}},[a("em",{staticClass:"fa fa-floppy-o pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("submit"))+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Cancel"))+" ")])])])])])],1)])},P=[],S=a("b0ac"),k={name:"AddNotes",props:{noteId:{type:[Number,String],default:null},divisionId:{type:[Number,String],default:null},utilityId:{type:[Number,String],default:null},clientId:{type:[Number,String],default:null},uniqueName:{type:String,default:""}},computed:{CLASSIC_EDITOR(){const t=Object(S["b"])();return t.CLASSIC_EDITOR}},data(){var t=this;return{isLoading:!1,form:{NoteId:t.noteId,UtilityId:t.utilityId,DivisionId:t.divisionId,ClientId:t.clientId,UniqueName:t.uniqueName,Note:"",Privacy:"Public",AttachmentId:null},file:null,fileName:"",contentError:"",fileError:"",editor:null,editorConfig:{toolbar:["Bold","Italic","Underline","|","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],height:200}}},created(){var t=this;try{const e=Object(S["b"])();e.CLASSIC_EDITOR?t.editor=e.CLASSIC_EDITOR:(t.editor=ClassicEditor,e.setClassicEditor(ClassicEditor))}catch(e){console.warn("Could not get CLASSIC_EDITOR from store:",e),t.editor=ClassicEditor}t.noteId&&t.noteId>0&&t.loadNote()},methods:{async loadNote(){var t=this;t.isLoading=!0;try{var e="noteId="+t.noteId;t.utilityId&&(e+="&utilityId="),t.divisionId&&(e+="&divisionId="+t.divisionId),t.clientId&&(e+="&clientId="+t.clientId);var a=await n["a"].GetNoteById(e);a&&a.data&&(t.form.Note=a.data.Note||a.data.note||"",t.form.Privacy=a.data.Privacy||a.data.privacy||"Public",t.form.AttachmentId=a.data.AttachmentId||a.data.attachmentId||null,t.fileName=a.data.fileName||a.data.FileName||"",a.data.filePath&&a.data.attachmentMime&&(t.file=await t.createFileFromServer(a.data)))}catch(i){console.log("Error loading note:",i)}finally{t.isLoading=!1}},async createFileFromServer(t){const e="/"+t.filePath,a=await fetch(e),i=await a.blob(),s=JSON.parse(t.attachmentMime);return new File([i],t.fileName||"attachment."+s.Extension,{type:s.ContentType,lastModified:Date.now()})},validateNote(){var t=this,e=(t.form.Note||"").replace(/&nbsp;/gi,"");return e=e.split("<p>").join(""),e=e.split("</p>").join(""),e=e.split("</br>").join(""),e=e.replace(/<[^>]*>?/gm,"").trim(),e&&""!==e?e.length>5e3?(t.contentError=t.$t("DescLessThen")?t.$t("DescLessThen").replace("{0}",t.$t("Description")).replace("{1}","5000"):t.$t("Required"),document.getElementById("spnContent")&&(document.getElementById("spnContent").classList.remove("valid-feedback","hidden"),document.getElementById("spnContent").classList.add("text-danger")),!1):(t.contentError="",document.getElementById("spnContent")&&(document.getElementById("spnContent").classList.remove("text-danger"),document.getElementById("spnContent").classList.add("valid-feedback"),document.getElementById("spnContent").innerHTML=""),!0):(t.contentError=t.$t("NoteDescRequired")||t.$t("Required"),document.getElementById("spnContent")&&(document.getElementById("spnContent").classList.remove("valid-feedback","hidden"),document.getElementById("spnContent").classList.add("text-danger")),!1)},onFileChange(t){const e=t.target.files[0];if(this.fileError="",e){const a=e.name.split(".")[0],i=new RegExp("^[^<>%$#%;:!,|]*$");if(!i.test(a))return this.fileError=this.$t("FileNameShouldNotContainSpecialCharacters")||"File Name should not contain special characters",t.target.value="",this.file=null,void(this.fileName="");this.file=e,this.fileName=e.name}else this.file=null,this.fileName=""},async onSave(){var t=this;if(t.validateNote()){t.isLoading=!0;try{var e=new FormData;e.append("NoteId",t.form.NoteId||""),e.append("Note",t.form.Note||""),e.append("UtilityId",""),e.append("DivisionId",t.form.DivisionId||""),e.append("ClientId",t.form.ClientId||""),e.append("Privacy",t.form.Privacy||"Public"),t.file&&e.append("File",t.file);var a=await n["a"].AddNoteUtilityDivision(e);a&&a.data?0===a.data.Status||0===a.data.status?(t.ShowAlert(a.data.msg||a.data.Msg||t.$t("SavedSuccessfully"),"success",t.$t("Alert")),t.$emit("saved",{Status:a.data.Status||a.data.status,UtilityId:a.data.UtilityId||a.data.utilityId,DivisionId:a.data.DivisionId||a.data.divisionId,ClientId:a.data.ClientId||a.data.clientId,TotalNotes:a.data.TotalNotes||a.data.totalNotes||0,msg:a.data.msg||a.data.Msg,UniqueName:t.form.UniqueName,LatestNote:a.data.msg||a.data.Msg}),t.onClose()):t.ShowAlert(a.data.msg||a.data.Msg||t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert")):t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))}catch(i){console.log("Error saving note:",i),t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))}finally{t.isLoading=!1}}},downloadAttachment(t){if(t){var e="/Client/DownloadAttachments?fileId="+t;window.open(e,"_blank")}},onClose(){this.$emit("close")}}},x=k,$=(a("11a7"),Object(u["a"])(x,E,P,!1,null,"2e2b9584",null)),O=$.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block",staticStyle:{"z-index":"1050"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("Advance"))+" "+t._s(t.$t("Filter"))+" ")]),a("button",{staticClass:"close text-white",attrs:{type:"button"},on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{"max-height":"70vh","overflow-y":"auto"}},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive overflowauto"},[a("table",{staticClass:"table table-bordered",staticStyle:{"min-width":"600px"},attrs:{id:"tblAdvanceFilter"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{width:"5%"}},[t._v(t._s(t.$t("SerialNumbering")))]),a("th",{attrs:{width:"10%"}},[a("span",[t._v(t._s(t.$t("RelationWithBelowColumn")))])]),a("th",{attrs:{width:"5%"}},[t._v(t._s(t.$t("OpeningBracket")))]),a("th",{attrs:{width:"20%"}},[t._v(t._s(t.$t("fieldName")))]),a("th",{attrs:{width:"23%"}},[t._v(t._s(t.$t("ConditionalOperator")))]),a("th",{staticClass:"nonresize",staticStyle:{width:"350px","min-width":"350px","max-width":"350px"},attrs:{"data-width":"350"}},[t._v(t._s(t.$t("Value")))]),a("th",{attrs:{width:"8%"}},[t._v(t._s(t.$t("ClosingBracket")))]),a("th",{attrs:{width:"5%"}})])]),a("tbody",{attrs:{id:"advanceFilterBody"}},t._l(t.filterRows,(function(e,i){return a("tr",{key:i,attrs:{id:"trFirst"}},[a("td",{staticClass:"up text-center"},[t._v(" "+t._s(i+1)+" ")]),a("td",{staticClass:"up overflow-visible align-top"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.relationWithParent,expression:"row.relationWithParent"}],staticClass:"form-control width_88 ddlRelation",style:{display:0===i?"none":"block"},attrs:{id:"Relation_"+i,name:"Relation_"+i},on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"relationWithParent",a.target.multiple?i:i[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.relationList,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Text)+" ")])}))],2)]),a("td",{staticClass:"up overflow-visible align-top"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.openingBrackets,expression:"row.openingBrackets"}],staticClass:"form-control txtOpeningBrackets",attrs:{type:"text",id:"OpeningBrackets_"+i,name:"OpeningBrackets_"+i,maxlength:"5"},domProps:{value:e.openingBrackets},on:{input:function(a){a.target.composing||t.$set(e,"openingBrackets",a.target.value)}}})]),a("td",{staticClass:"up overflow-visible align-top"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.templateId,expression:"row.templateId"}],staticClass:"form-control w-100 ddlField",attrs:{id:"TemplateId_"+i,name:"TemplateId_"+i},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"templateId",a.target.multiple?i:i[0])},function(e){return t.onFieldChange(i)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.filterFields,(function(e){return a("option",{key:e.TEMPLATE_ID,attrs:{"data-type":e.DATA_TYPE,"data-columnname":e.COLUMN_NAME,"data-tablename":e.TABLE_NAME},domProps:{value:e.TEMPLATE_ID}},[t._v(" "+t._s(e.DISPLAY_NAME)+" ")])}))],2)]),a("td",{staticClass:"up overflow-visible align-top"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.operatorId,expression:"row.operatorId"}],staticClass:"form-control ddlOperator w-100 marginbottom5",attrs:{id:"OperatorId_"+i,name:"OperatorId_"+i},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"operatorId",a.target.multiple?i:i[0])},function(e){return t.onOperatorChange(i)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(e.operatorList,(function(e){return a("option",{key:e.OPERATOR_ID,attrs:{"data-expression":e.OPERATOR_EXPRESSION,"data-datatype":e.OPERATION_DATA_TYPE},domProps:{value:e.OPERATOR_ID}},[t._v(" "+t._s(e.OPERATOR_DISPLAY_NAME)+" ")])}))],2),t.showAdditionalFields(e)?a("select",{directives:[{name:"model",rawName:"v-model",value:e.additionalTemplateId,expression:"row.additionalTemplateId"}],staticClass:"form-control w-48 float-left mt-2 ddlAdditionalTemplateId",attrs:{id:"AdditionalTemplateId_"+i,name:"AdditionalTemplateId_"+i},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"additionalTemplateId",a.target.multiple?i:i[0])},function(e){return t.onAdditionalFieldChange(i)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.getAdditionalFieldList(e),(function(e){return a("option",{key:e.TEMPLATE_ID,domProps:{value:e.TEMPLATE_ID}},[t._v(" "+t._s(e.DISPLAY_NAME)+" ")])}))],2):t._e(),t.showAdditionalFields(e)?a("select",{directives:[{name:"model",rawName:"v-model",value:e.additionalOperatorId,expression:"row.additionalOperatorId"}],staticClass:"form-control w-48 float-right mt-2 ddlAdditionalOperatorId",attrs:{id:"AdditionalOperatorId_"+i,name:"AdditionalOperatorId_"+i},on:{change:function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"additionalOperatorId",a.target.multiple?i:i[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.getAdditionalOperatorList(e),(function(e){return a("option",{key:e.OPERATOR_ID,attrs:{"data-expression":e.OPERATOR_EXPRESSION},domProps:{value:e.OPERATOR_ID}},[t._v(" "+t._s(e.OPERATOR_DISPLAY_NAME)+" ")])}))],2):t._e()]),a("td",{staticClass:"overflow-visible align-top"},[e.showDateTimeRadio?a("div",{staticClass:"divRadio marginbottom10 w-100 float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.isTime,expression:"row.isTime"}],staticClass:"rdIsTime",attrs:{type:"radio",id:"IsTime_0_"+i,name:"IsTime_"+i,value:"0"},domProps:{checked:t._q(e.isTime,"0")},on:{change:[function(a){return t.$set(e,"isTime","0")},function(e){return t.onDateTimeChange(i)}]}}),a("label",{staticClass:"mr-3",attrs:{for:"IsTime_0_"+i}},[t._v(t._s(t.$t("Date")))]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.isTime,expression:"row.isTime"}],staticClass:"rdIsTime",attrs:{type:"radio",id:"IsTime_1_"+i,name:"IsTime_"+i,value:"1"},domProps:{checked:t._q(e.isTime,"1")},on:{change:[function(a){return t.$set(e,"isTime","1")},function(e){return t.onDateTimeChange(i)}]}}),a("label",{attrs:{for:"IsTime_1_"+i}},[t._v(t._s(t.$t("Time")))])]):t._e(),e.showValueInput?a("div",[e.isBetween?a("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldFirstValue,expression:"row.fieldFirstValue"}],class:t.getValueInputClass(e,i,"first"),attrs:{type:"text",id:"FieldFirstValue_"+i,name:"FieldFirstValue_"+i,maxlength:e.maxLength,placeholder:e.placeholder},domProps:{value:e.fieldFirstValue},on:{input:function(a){a.target.composing||t.$set(e,"fieldFirstValue",a.target.value)}}}):t._e(),e.isBetween?a("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldSecondValue,expression:"row.fieldSecondValue"}],class:t.getValueInputClass(e,i,"second"),attrs:{type:"text",id:"FieldSecondValue_"+i,name:"FieldSecondValue_"+i,maxlength:e.maxLength,placeholder:e.placeholder},domProps:{value:e.fieldSecondValue},on:{input:function(a){a.target.composing||t.$set(e,"fieldSecondValue",a.target.value)}}}):t._e(),e.isBetween?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:e.fieldFirstValue,expression:"row.fieldFirstValue"}],class:t.getValueInputClass(e,i,"first"),attrs:{type:"text",id:"FieldFirstValue_"+i,name:"FieldFirstValue_"+i,maxlength:e.maxLength,placeholder:e.placeholder},domProps:{value:e.fieldFirstValue},on:{input:function(a){a.target.composing||t.$set(e,"fieldFirstValue",a.target.value)}}})]):t._e(),e.showOffDays?a("div",{staticClass:"width_100 float-left chkOffDays margintop5"},[a("div",{staticClass:"mr-3 offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day1_"+i,value:"1"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"1")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="1",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day1_"+i}},[t._v(t._s(t.$t("Sun")))])]),a("div",{staticClass:"mr-3 offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day2_"+i,value:"2"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"2")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="2",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day2_"+i}},[t._v(t._s(t.$t("Mon")))])]),a("div",{staticClass:"mr-3 offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day3_"+i,value:"3"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"3")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="3",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day3_"+i}},[t._v(t._s(t.$t("Tue")))])]),a("div",{staticClass:"mr-3 offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day4_"+i,value:"4"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"4")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="4",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day4_"+i}},[t._v(t._s(t.$t("Wed")))])]),a("div",{staticClass:"mr-3 offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day5_"+i,value:"5"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"5")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="5",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day5_"+i}},[t._v(t._s(t.$t("Thu")))])]),a("div",{staticClass:"mr-3 offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day6_"+i,value:"6"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"6")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="6",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day6_"+i}},[t._v(t._s(t.$t("Fri")))])]),a("div",{staticClass:"offdays float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.daysOfWeek,expression:"row.daysOfWeek"}],staticClass:"custCheckBox",attrs:{type:"checkbox",id:"day7_"+i,value:"7"},domProps:{checked:Array.isArray(e.daysOfWeek)?t._i(e.daysOfWeek,"7")>-1:e.daysOfWeek},on:{change:function(a){var i=e.daysOfWeek,s=a.target,o=!!s.checked;if(Array.isArray(i)){var n="7",l=t._i(i,n);s.checked?l<0&&t.$set(e,"daysOfWeek",i.concat([n])):l>-1&&t.$set(e,"daysOfWeek",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(e,"daysOfWeek",o)}}}),a("label",{staticClass:"ml-1",attrs:{for:"day7_"+i}},[t._v(t._s(t.$t("Sat")))])])]):t._e()]),a("td",{staticClass:"overflow-visible align-top"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.closingBrackets,expression:"row.closingBrackets"}],staticClass:"form-control txtClosingBrackets",attrs:{type:"text",id:"ClosingBrackets_"+i,name:"ClosingBrackets_"+i,maxlength:"5"},domProps:{value:e.closingBrackets},on:{input:function(a){a.target.composing||t.$set(e,"closingBrackets",a.target.value)}}})]),a("td",{staticClass:"single-action overflow-visible align-top"},[i>0?a("a",{staticClass:"addDiscount delRow",attrs:{title:t.$t("Delete"),href:"javascript:;"},on:{click:function(e){return t.removeRow(i)}}},[a("i",{staticClass:"fa fa-trash text-danger",attrs:{"aria-hidden":"true"}})]):t._e()])])})),0)])]),a("div",{staticClass:"col-lg-12 add-form-field text-right py-3 px-0"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"ancAddRow",title:t.$t("AddNewRow")},on:{click:t.addRow}},[a("i",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("AddNewRow"))+" ")])])]),a("div",{staticClass:"col-lg-12 mt-3"},[a("div",{staticClass:"heading-border mt-3 mb-2"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("Condition"))+":")])])]),a("div",{staticClass:"mb-2",attrs:{id:"divCondition"}},[t._v(t._s(t.conditionText))])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:t.onApply}},[a("em",{staticClass:"fa fa-check pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("ApplyFilter"))+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:t.onClose}},[a("em",{staticClass:"fa fa-close pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Cancel"))+" ")])])])])])],1)])},L=[],F={name:"AdvanceFilter",props:{setupId:{type:[Number,String],default:null},templateId:{type:[Number,String],default:null},filterFields:{type:Array,default:()=>[]}},data(){return{isLoading:!1,filterRows:[{relationWithParent:"",openingBrackets:"(",templateId:"",operatorId:"",operatorList:[],additionalTemplateId:"",additionalOperatorId:"",fieldFirstValue:"",fieldSecondValue:"",closingBrackets:")",isTime:"0",daysOfWeek:[],dataType:"",operatorExpression:"",showDateTimeRadio:!1,showValueInput:!0,showOffDays:!1,isBetween:!1,maxLength:250,placeholder:""}],relationList:[{Value:"AND",Text:"AND"},{Value:"OR",Text:"OR"}],dateTimeFields:[],nvarcharFields:[],dateOperators:[]}},computed:{conditionText(){var t="";return this.filterRows.forEach((e,a)=>{if(e.templateId&&e.operatorId){var i=this.getFieldById(e.templateId);if(i){var s=e.operatorList.find(t=>t.OPERATOR_ID==e.operatorId);if(s){var o=(s.OPERATOR_EXPRESSION||"").toLowerCase(),n=(i.DATA_TYPE||"").toLowerCase();a>0&&e.relationWithParent&&(t+=" "+e.relationWithParent+" "," "+e.relationWithParent+" "),e.openingBrackets&&(t+=e.openingBrackets+" ",e.openingBrackets+" "),t+=i.DISPLAY_NAME+" ";var l=this.getFieldSqlName(i);if(l+" ",t+=s.OPERATOR_DISPLAY_NAME+" ","between"===o)t+=e.fieldFirstValue+" And "+e.fieldSecondValue,"BETWEEN "+this.formatValue(e.fieldFirstValue,n)+" AND "+this.formatValue(e.fieldSecondValue,n);else if(["is week end","is working day"].includes(o)){var r=e.daysOfWeek.join(",");"DATEPART(DW, "+l+") IN ("+r+")"}else["is null","is not null","is duplicate","is lowest","is highest","is not lowest","is not highest"].includes(o)||(t+=e.fieldFirstValue,this.getOperatorSql(o)+" "+this.formatValue(e.fieldFirstValue,n));e.closingBrackets&&(t+=" "+e.closingBrackets," "+e.closingBrackets)}}}}),t||this.$t("NoConditionDefined")}},watch:{filterFields:{handler:function(t){t&&t.length>0&&this.prepareFieldLists()},immediate:!0},templateId:{handler:function(t){t&&this.loadOperatorsForAllRows()}}},methods:{prepareFieldLists(){this.dateTimeFields=this.filterFields.filter(t=>"datetime"===t.DATA_TYPE),this.nvarcharFields=this.filterFields.filter(t=>"nvarchar"===t.DATA_TYPE)},getFieldById(t){return this.filterFields.find(e=>String(e.TEMPLATE_ID)===String(t))},getFieldSqlName(t){var e=(t.TABLE_NAME||"").toLowerCase(),a=t.COLUMN_NAME||"";return"talygen_be_template_master"===e?"M."+a:"talygen_be_processed_records"===e?"R."+a:"talygen_client_additional_info"===e?"INFO."+a:"talygen_be_billing_division"===e?"DIV."+a:"talygen_cost_center"===e?"C_CENTER."+a:"talygen_be_sba_id"===e?"SBA."+a:a},getOperatorSql(t){var e={"equal to":"=","not equal to":"!=","greater than":">","less than":"<","greater than or equal to":">=","less than or equal to":"<=",like:"LIKE","starts with":"LIKE","ends with":"LIKE"};return e[t]||t.toUpperCase()},formatValue(t,e){return t?"nvarchar"===e||"datetime"===e||"time"===e?"'"+t+"'":t:""},onFieldChange(t){var e=this.filterRows[t],a=this.getFieldById(e.templateId);a?(e.dataType=a.DATA_TYPE,this.loadOperatorsForRow(t),this.updateRowDisplay(e)):this.resetRow(e)},onOperatorChange(t){var e=this.filterRows[t],a=e.operatorList.find(t=>t.OPERATOR_ID==e.operatorId);a?(e.operatorExpression=a.OPERATOR_EXPRESSION,this.updateRowDisplay(e)):this.updateRowDisplay(e)},onAdditionalFieldChange(t){},onDateTimeChange(t){this.filterRows[t]},updateRowDisplay(t){var e=(t.operatorExpression||"").toLowerCase(),a=(t.dataType||"").toLowerCase();t.showDateTimeRadio=!1,t.showValueInput=!0,t.showOffDays=!1,t.isBetween=!1,t.maxLength=250,t.placeholder="","datetime"===a&&(t.showDateTimeRadio=!0,"between"===e&&(t.isBetween=!0)),["is week end","is working day","is off day","is duplicate","is null","is not null","is lowest","is highest","is not lowest","is not highest"].includes(e)&&(t.showValueInput=!1,["is week end","is working day"].includes(e)&&(t.showOffDays=!0)),"between"===e&&(t.isBetween=!0),"int"===a?t.maxLength=9:"bigint"===a?t.maxLength=18:"float"===a?t.maxLength=15:"decimal"===a&&(t.maxLength=21)},showAdditionalFields(t){var e=(t.operatorExpression||"").toLowerCase();return["minutesdiff","hoursdiff","daydiff","monthdiff","yeardiff","has with"].includes(e)},getAdditionalFieldList(t){var e=(t.operatorExpression||"").toLowerCase();return["minutesdiff","hoursdiff","daydiff","monthdiff","yeardiff"].includes(e)?this.dateTimeFields:"has with"===e?this.nvarcharFields:[]},getAdditionalOperatorList(t){return t.operatorList||[]},getValueInputClass(t,e,a){var i=["form-control"];return t.isBetween?"first"===a?i.push("txtFirstValue","w-48","float-left"):i.push("txtSecondValue","w-48","float-right"):i.push("txtFirstValue"),"datetime"===t.dataType&&"0"===t.isTime?i.push("txtdatepicker"):("datetime"===t.dataType&&"1"===t.isTime||"time"===t.dataType)&&i.push("txttimepicker"),i.join(" ")},resetRow(t){t.operatorId="",t.operatorList=[],t.additionalTemplateId="",t.additionalOperatorId="",t.fieldFirstValue="",t.fieldSecondValue="",t.dataType="",t.operatorExpression="",this.updateRowDisplay(t)},loadOperatorsForRow(t){var e=this,a=e.filterRows[t];if(a.templateId){var i=this.getFieldById(a.templateId);i?(e.isLoading=!0,A["a"].instance.get("/BillingService/LoadAdvanceFilterOperators?templateId="+a.templateId).then(t=>{t&&t.data?a.operatorList=Array.isArray(t.data)?t.data:[]:a.operatorList=[],e.isLoading=!1}).catch(()=>{a.operatorList=this.getDefaultOperators(i.DATA_TYPE),e.isLoading=!1})):a.operatorList=[]}else a.operatorList=[]},getDefaultOperators(t){var e=[],a=(t||"").toLowerCase();return"int"===a||"bigint"===a||"float"===a||"decimal"===a?e=[{OPERATOR_ID:1,OPERATOR_DISPLAY_NAME:"Equal To",OPERATOR_EXPRESSION:"equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:2,OPERATOR_DISPLAY_NAME:"Not Equal To",OPERATOR_EXPRESSION:"not equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:3,OPERATOR_DISPLAY_NAME:"Greater Than",OPERATOR_EXPRESSION:"greater than",OPERATION_DATA_TYPE:a},{OPERATOR_ID:4,OPERATOR_DISPLAY_NAME:"Less Than",OPERATOR_EXPRESSION:"less than",OPERATION_DATA_TYPE:a},{OPERATOR_ID:5,OPERATOR_DISPLAY_NAME:"Greater Than Or Equal To",OPERATOR_EXPRESSION:"greater than or equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:6,OPERATOR_DISPLAY_NAME:"Less Than Or Equal To",OPERATOR_EXPRESSION:"less than or equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:7,OPERATOR_DISPLAY_NAME:"Between",OPERATOR_EXPRESSION:"between",OPERATION_DATA_TYPE:a}]:"datetime"===a||"time"===a?e=[{OPERATOR_ID:1,OPERATOR_DISPLAY_NAME:"Equal To",OPERATOR_EXPRESSION:"equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:2,OPERATOR_DISPLAY_NAME:"Not Equal To",OPERATOR_EXPRESSION:"not equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:3,OPERATOR_DISPLAY_NAME:"Greater Than",OPERATOR_EXPRESSION:"greater than",OPERATION_DATA_TYPE:a},{OPERATOR_ID:4,OPERATOR_DISPLAY_NAME:"Less Than",OPERATOR_EXPRESSION:"less than",OPERATION_DATA_TYPE:a},{OPERATOR_ID:7,OPERATOR_DISPLAY_NAME:"Between",OPERATOR_EXPRESSION:"between",OPERATION_DATA_TYPE:a},{OPERATOR_ID:8,OPERATOR_DISPLAY_NAME:"Is Week End",OPERATOR_EXPRESSION:"is week end",OPERATION_DATA_TYPE:a},{OPERATOR_ID:9,OPERATOR_DISPLAY_NAME:"Is Working Day",OPERATOR_EXPRESSION:"is working day",OPERATION_DATA_TYPE:a},{OPERATOR_ID:10,OPERATOR_DISPLAY_NAME:"Is Null",OPERATOR_EXPRESSION:"is null",OPERATION_DATA_TYPE:a},{OPERATOR_ID:11,OPERATOR_DISPLAY_NAME:"Is Not Null",OPERATOR_EXPRESSION:"is not null",OPERATION_DATA_TYPE:a}]:"nvarchar"!==a&&"varchar"!==a&&"string"!==a||(e=[{OPERATOR_ID:1,OPERATOR_DISPLAY_NAME:"Equal To",OPERATOR_EXPRESSION:"equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:2,OPERATOR_DISPLAY_NAME:"Not Equal To",OPERATOR_EXPRESSION:"not equal to",OPERATION_DATA_TYPE:a},{OPERATOR_ID:12,OPERATOR_DISPLAY_NAME:"Like",OPERATOR_EXPRESSION:"like",OPERATION_DATA_TYPE:a},{OPERATOR_ID:13,OPERATOR_DISPLAY_NAME:"Starts With",OPERATOR_EXPRESSION:"starts with",OPERATION_DATA_TYPE:a},{OPERATOR_ID:14,OPERATOR_DISPLAY_NAME:"Ends With",OPERATOR_EXPRESSION:"ends with",OPERATION_DATA_TYPE:a},{OPERATOR_ID:15,OPERATOR_DISPLAY_NAME:"In",OPERATOR_EXPRESSION:"in",OPERATION_DATA_TYPE:a},{OPERATOR_ID:16,OPERATOR_DISPLAY_NAME:"Not In",OPERATOR_EXPRESSION:"not in",OPERATION_DATA_TYPE:a}]),e},loadOperatorsForAllRows(){this.filterRows.forEach((t,e)=>{t.templateId&&this.loadOperatorsForRow(e)})},addRow(){this.filterRows.push({relationWithParent:"",openingBrackets:"(",templateId:"",operatorId:"",operatorList:[],additionalTemplateId:"",additionalOperatorId:"",fieldFirstValue:"",fieldSecondValue:"",closingBrackets:")",isTime:"0",daysOfWeek:[],dataType:"",operatorExpression:"",showDateTimeRadio:!1,showValueInput:!0,showOffDays:!1,isBetween:!1,maxLength:250,placeholder:""})},removeRow(t){this.filterRows.length>1&&this.filterRows.splice(t,1)},onApply(){var t={conditions:this.filterRows.map(t=>({relationWithParent:t.relationWithParent,openingBrackets:t.openingBrackets,templateId:t.templateId,operatorId:t.operatorId,additionalTemplateId:t.additionalTemplateId,additionalOperatorId:t.additionalOperatorId,fieldFirstValue:t.fieldFirstValue,fieldSecondValue:t.fieldSecondValue,closingBrackets:t.closingBrackets,isTime:t.isTime,daysOfWeek:t.daysOfWeek.join(",")})),conditionText:this.conditionText};this.$emit("apply",t)},onClose(){this.$emit("close")}}},M=F,B=(a("d405"),Object(u["a"])(M,R,L,!1,null,"7d25a64e",null)),V=B.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("BulkMove")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("ClientName"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.ClientId,expression:"form.ClientId"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"ClientId",e.target.multiple?a:a[0])},t.onClientChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.clientOptions,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.text)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("UtilityName"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.UtilityName,expression:"form.UtilityName"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"UtilityName",e.target.multiple?a:a[0])},t.onUtilityChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.utilityOptions,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("sba_id"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.SbaId,expression:"form.SbaId"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"SbaId",e.target.multiple?a:a[0])},t.onSbaChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.sbaOptions,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Division"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.DivisionId,expression:"form.DivisionId"}],staticClass:"form-control",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"DivisionId",e.target.multiple?a:a[0])},t.onDivisionChange]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("SelectDivision")))]),t._l(t.divisionOptions,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])}))],2)])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("InvoiceNumber")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.InvoiceNumber,expression:"form.InvoiceNumber"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"InvoiceNumber",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select"))+" "+t._s(t.$t("InvoiceNumber")))]),t._l(t.invoiceOptions,(function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])}))],2)])])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:t.onSave}},[a("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:t.onClose}},[a("em",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel"))+" ")])])])])])],1)])},U=[],Y={name:"ChangeClientAndUtilityInvoice",props:{lineItemIds:{type:[String,Array],default:""},oldClientId:{type:[Number,String],default:null},oldUtilityName:{type:String,default:""},workDateFrom:{type:String,default:""},workDateTo:{type:String,default:""},requestFrom:{type:String,default:"lineitem"},allInvoice:{type:String,default:""},xmlData:{type:String,default:""}},data(){return{isLoading:!1,clientOptions:[],utilityOptions:[],sbaOptions:[],divisionOptions:[],invoiceOptions:[],form:{ClientId:"",UtilityName:"",SbaId:"",DivisionId:"",InvoiceNumber:""}}},created(){this.loadClients()},methods:{loadClients(){this.isLoading=!0,n["a"].getClientList({reqFrom:"CUSTOM"}).then(t=>{this.isLoading=!1,t.data&&t.data.items&&(this.clientOptions=t.data.items.map(t=>({text:t.text||t.CHILD_NAME,value:t.value||t.CHILD_USER_ID})))}).catch(()=>{this.isLoading=!1})},onClientChange(){if(this.form.UtilityName="",this.form.SbaId="",this.form.DivisionId="",this.form.InvoiceNumber="",this.utilityOptions=[],this.sbaOptions=[],this.divisionOptions=[],this.invoiceOptions=[],!this.form.ClientId)return;this.isLoading=!0;const t=`clientId=${this.form.ClientId}&configId=&reqFrom=&clientIds=`;n["a"].getUtilityList(t).then(t=>{this.isLoading=!1,t.data&&(this.utilityOptions=t.data.map(t=>({name:t.UTILITY_NAME,value:t.UTILITY_NAME})))}).catch(()=>{this.isLoading=!1})},onUtilityChange(){if(this.form.SbaId="",this.form.DivisionId="",this.form.InvoiceNumber="",this.sbaOptions=[],this.divisionOptions=[],this.invoiceOptions=[],!this.form.UtilityName)return;const t="UtilityId="+this.form.UtilityName;n["a"].GetSbaIdListByUtilityId(t).then(t=>{t.data&&(this.sbaOptions=t.data.map(t=>({name:t.NAME,value:t.SBA_ID})))}).catch(()=>{})},onSbaChange(){if(this.form.DivisionId="",this.form.InvoiceNumber="",this.divisionOptions=[],this.invoiceOptions=[],!this.form.SbaId||!this.form.ClientId||!this.form.UtilityName)return;const t=`clientId=${this.form.ClientId}&utilityIds=${this.form.UtilityName}`;n["a"].LoadClientDivisionListByUtilityIds(t).then(t=>{t.data&&(this.divisionOptions=t.data.map(t=>({name:t.NAME,value:t.VALUE})))}).catch(()=>{})},onDivisionChange(){if(this.form.InvoiceNumber="",this.invoiceOptions=[],!this.form.DivisionId||!this.form.ClientId)return;const t=`clientId=${this.form.ClientId}&divisionId=${this.form.DivisionId}&type=division`;n["a"].LoadInvoiceNumberList(t).then(t=>{t.data&&(this.invoiceOptions=t.data.map(t=>({name:t.NAME,value:t.BILL_ID})))}).catch(()=>{})},onSave(){if(!this.form.ClientId||!this.form.UtilityName||!this.form.SbaId||!this.form.DivisionId)return;const t=!0;if(!t)return;const e={utilityName:this.form.UtilityName,clientId:this.form.ClientId,sbaId:this.getSbaText(this.form.SbaId),beSbaId:this.form.SbaId,divisionId:this.form.DivisionId,lineItemIds:Array.isArray(this.lineItemIds)?this.lineItemIds.join(","):this.lineItemIds,reqFrom:this.requestFrom,ticketNumber:"",activityId:"",oldClient:this.oldClientId,oldUtility:this.oldUtilityName,workDateFrom:this.workDateFrom,workDateTo:this.workDateTo,billId:this.form.InvoiceNumber,allInvoice:this.allInvoice,xmlData:this.xmlData,bulkMoveBatchId:""};this.isLoading=!0,n["a"].UpdateContractAndUtility(e).then(t=>{this.isLoading=!1,t.data&&"success"===t.data.flag&&(this.$emit("saved"),this.onClose())}).catch(()=>{this.isLoading=!1})},getSbaText(t){const e=this.sbaOptions.find(e=>e.value===t);return e?e.name:""},onClose(){this.$emit("close")}}},q=Y,j=(a("7ee7"),Object(u["a"])(q,W,U,!1,null,"8fb62f00",null)),G=j.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("Loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block",staticStyle:{"z-index":"1050"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Manageworkcode")))]),a("button",{staticClass:"close text-white",attrs:{type:"button"},on:{click:t.onClose}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("span",{staticClass:"user-guide"},[a("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseChange_work_Code",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(" "+t._s(t.$t("UserGuide"))+" ")]),a("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseChange_work_Code"}},[a("div",{attrs:{id:"scrollbarreplyuserguide"}},[a("div",{staticClass:"con"},[a("div",{domProps:{innerHTML:t._s(t.$t("User_Guide_Invoice_Change_work_Code"))}})])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("WorkCode"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.WorkCodeId,expression:"form.WorkCodeId"}],staticClass:"form-control ddlworkcode",class:{"is-invalid":t.errors.WorkCodeId},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"WorkCodeId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("SelectWorkCode")))]),t._l(t.workCodeOptions,(function(e){return a("option",{key:e.Value,domProps:{value:e.Value}},[t._v(" "+t._s(e.Name||e.Text)+" ")])}))],2),t.errors.WorkCodeId?a("span",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.WorkCodeId))]):t._e()])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"inp-group"},[a("label",[t._v(t._s(t.$t("IsAdder")))]),a("div",{staticClass:"form-check pl-0 pt-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.IsAdder,expression:"form.IsAdder"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"IsAdderSelectedN"},domProps:{checked:Array.isArray(t.form.IsAdder)?t._i(t.form.IsAdder,null)>-1:t.form.IsAdder},on:{change:[function(e){var a=t.form.IsAdder,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);i.checked?n<0&&t.$set(t.form,"IsAdder",a.concat([o])):n>-1&&t.$set(t.form,"IsAdder",a.slice(0,n).concat(a.slice(n+1)))}else t.$set(t.form,"IsAdder",s)},t.onIsAdderChange]}}),a("input",{attrs:{type:"hidden",id:"IsAdderSelected"},domProps:{value:t.form.IsAdder}})])])])]),t.form.IsAdder?a("div",{staticClass:"row",attrs:{id:"divChangeAdderNameLineIteams"}},[a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("AdderName"))),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.AdderName,expression:"form.AdderName"}],staticClass:"form-control ddladdernamelist",class:{"is-invalid":t.errors.AdderName},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"AdderName",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("SelectAdder")))]),t._l(t.adderOptions,(function(e){return a("option",{key:e.Value,domProps:{value:e.Name||e.Value}},[t._v(" "+t._s(e.Name||e.Value)+" ")])}))],2),t.errors.AdderName?a("span",{staticClass:"invalid-feedback",attrs:{id:"spnAdderName"}},[t._v(t._s(t.errors.AdderName))]):t._e()])])]):t._e()]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"row flex-row-reverse w-100 mt-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:t.onSave}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:t.onClose}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel"))+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v("*")]),t._v(" "+t._s(t.$t("MandatoryField"))+" ")])])])])])])])],1)])},X=[],H={components:{Loader:y["a"]},name:"ManageWorkCodeInvoice",props:{lineItemIds:{type:[String,Array],default:""},requestFrom:{type:String,default:"lineitem"},allInvoice:{type:String,default:""},xmlData:{type:String,default:""},lineBatchId:{type:String,default:""},invoiceBillId:{type:[Number,String],default:null}},data(){return{isLoading:!1,workCodeOptions:[],adderOptions:[],form:{WorkCodeId:"",IsAdder:!1,AdderName:""},errors:{WorkCodeId:"",AdderName:""}}},created(){this.loadWorkCodes()},methods:{loadWorkCodes(){this.isLoading=!0,n["a"].GetWorkCodeData().then(t=>{this.isLoading=!1,t.data&&(this.workCodeOptions=t.data,this.adderOptions=t.data)}).catch(()=>{this.isLoading=!1})},onIsAdderChange(){var t=this;t.form.IsAdder||(t.form.AdderName="",t.errors.AdderName="")},validate(){var t=this;t.errors={WorkCodeId:"",AdderName:""};var e=!1;return t.form.WorkCodeId&&""!==t.form.WorkCodeId||(t.errors.WorkCodeId=t.$t("Required").replace("{0}",t.$t("WorkCode")),e=!0),!t.form.IsAdder||t.form.AdderName&&""!==t.form.AdderName||(t.errors.AdderName=t.$t("Required").replace("{0}",t.$t("AdderName")),e=!0),!e},async onSave(){var t=this;if(t.validate()){t.isLoading=!0;try{var e={workCodeId:t.form.WorkCodeId,workCode:t.getWorkCodeText(t.form.WorkCodeId),lineIds:Array.isArray(t.lineItemIds)?t.lineItemIds.join(","):t.lineItemIds,reqFrom:t.requestFrom,allInvoice:t.allInvoice,xmlData:t.xmlData,isAdder:t.form.IsAdder?"true":"false",adderName:t.form.AdderName||"",lineBatchId:t.lineBatchId,invoiceBillId:t.invoiceBillId},a=await n["a"].SaveWorkCode(e);a&&a.data?"success"===a.data.flag?(t.ShowAlert(a.data.msg||t.$t("SavedSuccessfully"),"success",t.$t("Alert")),t.$emit("saved"),t.onClose()):t.ShowAlert(a.data.msg||t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert")):t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))}catch(i){console.log("Error saving work code:",i),t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))}finally{t.isLoading=!1}}else t.ShowAlert(t.$t("CorrectHighlightedErrors"),"warning",t.$t("Alert"))},getWorkCodeText(t){const e=this.workCodeOptions.find(e=>e.Value===t);return e?e.Name:""},onClose(){this.$emit("close")}}},J=H,K=(a("ad28"),Object(u["a"])(J,z,X,!1,null,"d1cdcf32",null)),Z=K.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("Loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block",staticStyle:{"z-index":"1050"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Discount")))]),a("button",{staticClass:"close text-white",attrs:{type:"button"},on:{click:t.onCancel}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("span",{staticClass:"user-guide"},[a("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReplyugdisc",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(" "+t._s(t.$t("UserGuide"))+" ")]),a("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReplyugdisc"}},[a("div",{attrs:{id:"scrollbarreplyuserguide"}},[a("div",{staticClass:"con"},[a("div",{domProps:{innerHTML:t._s(t.$t("User_Guide_Billing_Rule_Discount_Amount"))}})])])])]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("DiscountAmount"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.discountData.discountAmount,expression:"discountData.discountAmount"}],staticClass:"form-control",class:{"is-invalid":t.errors.discountAmount},attrs:{type:"text",id:"txtAddDiscount",maxlength:"15",name:"txtAddDiscount"},domProps:{value:t.discountData.discountAmount},on:{keydown:t.onKeyDown,input:function(e){e.target.composing||t.$set(t.discountData,"discountAmount",e.target.value)}}}),t.errors.discountAmount?a("span",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.discountAmount))]):t._e()])]),a("div",{staticClass:"col-lg-12"},[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("Description"))+":"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.discountData.description,expression:"discountData.description"}],staticClass:"form-control",class:{"is-invalid":t.errors.description},attrs:{id:"txtAddDescription",name:"txtAddDescription",maxlength:"500"},domProps:{value:t.discountData.description},on:{input:function(e){e.target.composing||t.$set(t.discountData,"description",e.target.value)}}}),t.errors.description?a("span",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.description))]):t._e()])])])]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"row flex-row-reverse w-100 mt-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",title:t.$t("Save")},on:{click:t.onSave}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")]),a("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:t.$t("Cancel")},on:{click:t.onCancel}},[a("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel"))+" ")])]),a("div",{staticClass:"col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v("*")]),t._v(" "+t._s(t.$t("MandatoryField"))+" ")])])])])])])])],1)])},tt=[],et={components:{Loader:y["a"]},name:"AddDiscount",props:{itemId:{type:Number,required:!0},itemCost:{type:Number,default:0}},data(){return{isLoading:!1,discountData:{discountAmount:"",description:""},errors:{discountAmount:"",description:""}}},async created(){await this.loadDiscount()},watch:{itemId:{handler:function(t,e){t&&t!==e&&this.loadDiscount()},immediate:!1}},methods:{async loadDiscount(){var t=this;t.isLoading=!0;try{var e="itemId="+t.itemId,a=await n["a"].GetDiscount(e);if(a&&a.data){var i=a.data.discountAmount;t.discountData.discountAmount=null!==i&&void 0!==i?parseFloat(i).toFixed(2):"",t.discountData.description=a.data.description||""}else t.discountData.discountAmount="",t.discountData.description=""}catch(s){console.log("Error loading discount:",s),t.discountData.discountAmount="",t.discountData.description=""}finally{t.isLoading=!1}},onKeyDown(t){var e=[8,9,27,13,46,110,190];return!(!t.ctrlKey&&!t.metaKey||-1===[65,67,86,88].indexOf(t.keyCode))||(t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||(-1!==e.indexOf(t.keyCode)||(t.preventDefault(),!1)))},validate(){var t=this;t.errors={discountAmount:"",description:""};var e=!1;if(t.discountData.discountAmount&&""!==t.discountData.discountAmount.trim()){var a=parseFloat(t.discountData.discountAmount);isNaN(a)||a<0?(t.errors.discountAmount=t.$t("InvalidAmount"),e=!0):a>t.itemCost&&(t.errors.discountAmount=t.$t("DISCOUNTMORETHENZEROMESSAGE").replace("{0}",t.itemCost.toFixed(2)),e=!0)}else t.errors.discountAmount=t.$t("Required").replace("{0}",t.$t("Amount")),e=!0;return t.discountData.description&&""!==t.discountData.description.trim()||(t.errors.description=t.$t("Required").replace("{0}",t.$t("Description")),e=!0),!e},async onSave(){var t=this;if(t.validate()){var e=parseFloat(t.discountData.discountAmount);if(e>t.itemCost)t.ShowAlert(t.$t("DISCOUNTMORETHENZEROMESSAGE").replace("{0}",t.itemCost.toFixed(2)),"warning",t.$t("Alert"));else{t.isLoading=!0,t.$emit("saving");try{var a={ItemId:t.itemId,Discount:e,Description:t.discountData.description.trim()},i=await n["a"].AddDiscount(a);if(i&&i.data){var s=i.data.status,o=0===s?t.$t("AddedSuccess").replace("{0}",t.$t("USICDiscount")):t.$t("UpdatedSuccess").replace("{0}",t.$t("USICDiscount"));t.$emit("saved",{itemId:t.itemId,discount:e.toFixed(2),status:s}),t.ShowAlert(o,"success",t.$t("Alert"))}else t.ShowAlert(t.$t("AddedError").replace("{0}",t.$t("Discount")),"failure",t.$t("Alert"))}catch(l){console.log("Error saving discount:",l),t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))}finally{t.isLoading=!1,t.$emit("saved-complete")}}}},onCancel(){this.$emit("cancel")}}},at=et,it=(a("ac9f"),Object(u["a"])(at,Q,tt,!1,null,"3cbe4001",null)),st=it.exports,ot=a("9f3d"),nt=a("4555"),lt={name:"InvoiceAdd",components:{LineItems:v,EditInvoiceLineItem:I,PartialNotesList:w,AddNotes:O,AdvanceFilter:V,ChangeClientAndUtility:G,ManageWorkCode:Z,AddDiscount:st,SearchableSelect:ot["a"],Pager:nt["a"]},data(){return{isLoading:!1,billId:0,UserId:"",batchId:null,lineBatchId:null,refreshKey:0,setupId:32,showMainForm:!1,invoiceStatus:"NotShowNumber",selectAllButtonState:"1",showActionMenu:!1,pageTitle:"",currentCompanyId:null,currency:"USD",searchData:{ClientId:null,DivisionId:"",dateFrom:"",dateTo:"",NoOfNotes:0},validationErrors:{ClientId:"",DivisionId:"",dateFrom:"",dateTo:""},invoiceData:{BillId:0,ClientId:null,ClientName:"",BillNumber:null,LatestInvoiceNo:null,InvoiceStartNo:null,ParentCompanyId:"",BillIssueDate:"",DateRangeFrom:"",DateRangeTo:"",BillDueDateFrom:"",BillDueDateTo:"",Terms:"",BillDateComments:"",InvoiceMemo:"",InvoicePONumber:"",PaymentTermId:null,DivisionId:null,DivisionName:"",ProjectId:null,TemplateId:null,InvoiceTypeId:null,DetailFileFormat:null,SubTotal:0,DiscountType:"Sequential",IsCredit:!1,CreditAmount:null,BillTotalNoAdv:0,DiscountFlatRate:0,BillAdvanceAmount:0,BillNetTotal:0,Comment:"",StatusCode:"",BillDateFrom:"",BillDateTo:""},groupedUtilities:[],clientList:[],divisionList:[],companyList:[],paymentTermsList:[],projectList:[],invoiceDetailTemplateList:[],invoiceTypeList:[],detailFileFormatList:[],filterFields:[],lineItemsData:[],lineItemHeaders:[],lineItemsPager:null,currentPage:1,pageSize:40,totalRecords:0,selectedLineItemIds:[],selectAllInvoice:"",filterData:{columnId:"",columnValue:""},activeFilters:[],filterXmlData:"",discountRows:[{label:"Discount",percentage:0,amount:0}],taxRows:[{label:"",percentage:0,amount:0}],creditAmountBalance:0,notInSummaryCost:0,isAssociateProjectWithDivision:!1,isShowInvoiceDetailDropdown:!1,isShowWorkdayInvoiceType:!1,paymentTermAllowed:"no",getNotesByCompanyId:"no",showEditLineItem:!1,selectedLineItemId:null,selectedColumnId:null,selectedTicketType:null,selectedIsTicketManual:null,isAddNewLineItem:!1,showNotesList:!1,selectedDivisionId:null,selectedUtilityId:null,selectedUniqueName:null,showAddNote:!1,selectedNoteId:null,showAdvanceFilter:!1,showChangeContract:!1,oldUtilityName:"",showManageWorkCode:!1,showAddDiscount:!1,selectedDiscountItemId:null,selectedDiscountItemCost:0,hdnGlobalCurrentID:0,hdnGlobalTotal:0,hdnDicountCost:0}},computed:{backUrl(){return"/ClientBill/Index"}},watch:{"invoiceData.TemplateId":{handler:function(t,e){var a=this;t&&t!==e&&null!==t&&""!==t&&(console.log("TemplateId changed from",e,"to",t),a.$nextTick((function(){a.loadFilterFields()})))},immediate:!1},"searchData.dateFrom":function(t){t&&(this.validationErrors.dateFrom="",this.searchData.dateTo=new Date)},"searchData.dateTo":function(t){t&&(this.validationErrors.dateTo="")},lineItemsData:{handler(){this.selectedLineItemIds=this.lineItemsData.filter(t=>t.selected).map(t=>String(t.lineItemId||t.LineItemId)).join(",")},deep:!0,immediate:!0}},async created(){var t=this;t.billId=t.$route.query.billId?parseInt(t.$route.query.billId):0,t.batchId=t.$route.query.batchId||null,t.lineBatchId=t.$route.query.lineBatchId||this.generateGuid(),t.UserId=t.GetUserInfo.ID,t.pageTitle=t.billId>0?t.$t("UpdateInvoice"):t.$t("CreateInvoice"),await t.GetNotesvalueByCompanyId("Billing","EnableNotes"),await t.fetchclientlist(),t.billId>0&&t.loadInvoiceData()},methods:{clearPlanEndDate(t){},planStartDateError(t){},validatePlanField(t,e){},fetchclientlist:async function(){var t=this;t.isLoading=!0;var e="reqFrom=CUSTOM";try{const a=await n["a"].getClientList(e);t.clientList=a.data.items,t.groupedUtilities=t.clientList}catch(a){t.clientList=[],t.groupedUtilities=t.clientList,console.log("Error fetching client list:",a)}finally{t.isLoading=!1}},GetNotesvalueByCompanyId(t,e){var a=this,i=`clientId=${a.UserId}&moduleName=&configkey=${e}`;n["a"].GetConfigurationValueByKey(i).then(t=>{t.data?a.getNotesByCompanyId=t.data:a.getNotesByCompanyId="no"}).catch(t=>{console.log("Error loading setup:",t),a.setupId="no"})},onRowClientChange(t,e){var a=this;if(console.log("Client changed to:",t),a.searchData.ClientId=t,a.validationErrors.ClientId="",a.divisionList=[],a.searchData.DivisionId="",t){var i="Billing",s="SelectSetup",o=`clientId=${t}&moduleName=${i}&configkey=${s}`;n["a"].GetConfigurationValueByKey(o).then(t=>{t.data?a.setupId=t.data:a.setupId=32}).catch(t=>{console.log("Error loading setup:",t),a.setupId=32});var l=`clientId=${a.searchData.ClientId}&utilityIds=`;n["a"].LoadClientDivisionList(l).then(t=>{var e=t.data;console.log("Divisions loaded:",e),null!=e&&e.forEach(t=>{let e={description:null,displayValue:t.NOTE,groupText:null,groupValue:null,metaData:null,text:t.NOTE,ID:t.ID,NOTE:t.NOTE,INVOICE_DETAIL_TEMPLATE:t.INVOICE_DETAIL_TEMPLATE,PROJECT_ID:t.PROJECT_ID,DETAIL_FORMAT_TYPE:t.DETAIL_FORMAT_TYPE,INVOICE_TYPE_ID:t.INVOICE_TYPE_ID,NO_OF_NOTES:t.NO_OF_NOTES||0};a.divisionList.push(e)})}).catch(t=>{console.log("Error loading divisions:",t),a.divisionList=[]})}},generateGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,a="x"==t?e:3&e|8;return a.toString(16)}))},loadInvoiceData(){var t=this;t.isLoading=!0,setTimeout(()=>{t.isLoading=!1},100)},onClientChange(){var t=this;t.searchData.DivisionId="",t.divisionList=[],t.searchData.ClientId&&t.loadDivisionList(t.searchData.ClientId)},loadDivisionList(t){var e=this;e.isLoading=!0,setTimeout(()=>{e.isLoading=!1,e.divisionList=[]},100)},onDivisionChange(){var t=this;t.validationErrors.DivisionId="";var e=t.divisionList.find(e=>e.ID==t.searchData.DivisionId);e?(t.invoiceData.DivisionId=e.ID,t.invoiceData.DivisionName=e.NOTE||e.text||"",t.invoiceData.NoOfNotes=e.NO_OF_NOTES||0,t.searchData.NoOfNotes=e.NO_OF_NOTES||0,t.$nextTick(()=>{var t=document.getElementById("hdnDivisionId"),a=document.getElementById("hdnNoOfNotes");t&&(t.value=e.ID),a&&(a.value=e.NO_OF_NOTES||0)}),t.billId<=0&&(t.invoiceData.TemplateId=e.INVOICE_DETAIL_TEMPLATE,t.invoiceData.ProjectId=e.PROJECT_ID,t.invoiceData.DetailFileFormat=e.DETAIL_FORMAT_TYPE,t.invoiceData.InvoiceTypeId=e.INVOICE_TYPE_ID)):(t.invoiceData.DivisionId=null,t.invoiceData.DivisionName="",t.invoiceData.NoOfNotes=0,t.searchData.NoOfNotes=0)},onSearch(){var t=this;t.isLoading=!0,t.validationErrors={ClientId:"",DivisionId:"",dateFrom:"",dateTo:""};var e=!1;if(t.searchData.ClientId&&"0"!==t.searchData.ClientId&&""!==t.searchData.ClientId||(t.validationErrors.ClientId=t.$t("ClientRequired"),e=!0),t.searchData.DivisionId&&""!==t.searchData.DivisionId||(t.validationErrors.DivisionId=t.$t("DivisionRequired"),e=!0),t.searchData.dateFrom&&""!==t.searchData.dateFrom||(t.validationErrors.dateFrom=t.$t("DateFromRequired"),e=!0),t.searchData.dateTo&&""!==t.searchData.dateTo||(t.validationErrors.dateTo=t.$t("DateToRequired"),e=!0),!t.setupId||""===t.setupId||null===t.setupId)return alert(t.$t("SetupNotExistClient")),void(t.isLoading=!1);if(e)t.isLoading=!1;else{t.invoiceData.BillIssueDate=t.searchData.dateTo;var a=new Date(t.searchData.dateTo),i=new Date(a);i.setDate(i.getDate()+30),t.invoiceData.BillDueDate=t.formatDate(i);try{t.showCompanyClientsDropDown(t.searchData.ClientId),"yes"===t.paymentTermAllowed&&t.loadPaymentTerms(t.searchData.ClientId),t.invoiceData.ClientId=t.searchData.ClientId,t.invoiceData.DivisionId=t.searchData.DivisionId,t.invoiceData.DateRangeFrom=t.searchData.dateFrom,t.invoiceData.DateRangeTo=t.searchData.dateTo;var s=t.divisionList.find(e=>e.ID==t.searchData.DivisionId);if(s&&(t.invoiceData.DivisionId=s.ID,t.invoiceData.DivisionName=s.NOTE||s.text,t.invoiceData.NoOfNotes=s.NO_OF_NOTES||0,t.searchData.NoOfNotes=s.NO_OF_NOTES||0,t.billId<=0)){t.invoiceData.DetailFileFormat=s.DETAIL_FORMAT_TYPE;var o=t.invoiceData.TemplateId;t.invoiceData.TemplateId=s.INVOICE_DETAIL_TEMPLATE,t.invoiceData.InvoiceTypeId=s.INVOICE_TYPE_ID,t.invoiceData.ProjectId=s.PROJECT_ID,t.invoiceData.TemplateId&&t.invoiceData.TemplateId!==o&&t.$nextTick((function(){t.loadFilterFields()}))}var n=t.clientList.find(e=>e.value==t.searchData.ClientId);n&&(t.invoiceData.ClientName=n.text),t.loadLineItems(),t.loadDefaultTaxAndDeductions(),t.showMainForm=!0,t.billId<=0&&(t.onChangeInvoiceStatus("ShowNumber"),t.LoadInvoiceMemoPo(t.searchData.DivisionId),t.loadTemplateBySetupId(t.setupId))}catch(l){console.log("Error in onSearch:",l),alert(t.$t("An error occurred while processing your request"))}finally{t.isLoading=!1}}},validateDate(t){var e=/^(0[1-9]|1[0-2])\/(0[1-9]|[12][0-9]|3[01])\/\d{4}$/;if(!e.test(t))return!1;var a=t.split("/"),i=parseInt(a[0],10),s=parseInt(a[1],10),o=parseInt(a[2],10),n=new Date(o,i-1,s);return n.getFullYear()===o&&n.getMonth()===i-1&&n.getDate()===s},formatDate(t){var e=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0"),i=t.getFullYear();return e+"/"+a+"/"+i},formatDateForAPI(t){if(!t)return"";if("string"===typeof t&&/^\d{4}-\d{2}-\d{2}$/.test(t))return t;var e;if(t instanceof Date)e=t;else if("string"===typeof t){if(e=new Date(t),isNaN(e.getTime())){var a=t.split("/");3===a.length&&(e=new Date(parseInt(a[2]),parseInt(a[0])-1,parseInt(a[1])))}}else e=new Date(t);if(isNaN(e.getTime()))return console.log("Invalid date format:",t),"";var i=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0"),o=e.getFullYear();return o+"-"+i+"-"+s},loadPaymentTerms(t){var e=this,a="clientId="+t;n["a"].GetPaymentTerm(a).then(t=>{t.data&&t.data.PaymentClientId&&(e.invoiceData.PaymentTermId=t.data.PaymentClientId)}).catch(t=>{console.log("Error loading payment terms:",t)})},loadDefaultTaxAndDeductions(){},async LoadInvoiceMemoPo(t){var e=this;console.log("Division ID for loading memo and PO:",t);var a="divisionId="+t;await n["a"].LoadInvoiceMemoPo(a).then(t=>{console.log("Response from LoadInvoiceMemoPo:",t),t.data&&(e.invoiceData.InvoiceMemo=t.data.name,e.invoiceData.InvoicePONumber=t.data.value)}).catch(t=>{console.log("Error loading invoice memo and PO:",t)})},loadTemplateBySetupId(t){var e=this;if(t){var a="setupId="+t;n["a"].LoadTemplateBySetupId(a).then(t=>{t.data&&(e.invoiceDetailTemplateList=t.data.map(t=>({Value:t.Value,Name:t.Name})))}).catch(t=>{console.log("Error loading templates:",t)})}},async showCompanyClientsDropDown(t){var e=this;e.isLoading=!0;var a="clientId="+t;await n["a"].GetCompanyByParentCompanyId(a).then(t=>{var a=t.data,i=[],s=a.filter((function(t){return""===t.firstAttribute||null===t.firstAttribute}));s.forEach((function(t){i.push({Value:t.value,Text:t.text,IsParent:!0});var e=a.filter((function(e){return e.firstAttribute===t.value}));e.forEach((function(e){i.push({Value:e.value,Text:"  "+e.text,IsParent:!1,ParentId:t.value})}))})),e.companyList=i,e.isLoading=!1}).catch(t=>{console.log("Error loading company clients:",t),e.companyList=[],e.isLoading=!1})},onClear(){var t=this;t.searchData={ClientId:null,DivisionId:null,dateFrom:"",dateTo:"",NoOfNotes:0},t.divisionList=[]},onBackToSearch(){var t=this;t.batchId=null,t.searchData.DivisionId="",t.searchData.dateFrom="",t.searchData.dateTo="",t.searchData.ClientId=null,t.showMainForm=!1},loadLineItems(){var t=this;t.isLoading=!0;var e=t.invoiceData.ClientId||t.searchData.ClientId;if(!e||0===e||"0"===e||""===e)return console.warn("ClientId is required for loading line items"),void(t.isLoading=!1);if(!t.setupId||0===t.setupId)return console.warn("SetupId is required for loading line items"),void(t.isLoading=!1);t.activeFilters&&t.activeFilters.length>0?t.buildFilterXml():t.filterXmlData="";var a=[];t.billId&&a.push("billId="+t.billId),a.push("clientId="+e),a.push("setupId="+t.setupId);var i=t.invoiceData.DivisionId||t.searchData.DivisionId;i&&a.push("divisionId="+i),t.invoiceData.TemplateId&&a.push("templateId="+t.invoiceData.TemplateId);var s=t.invoiceData.DateRangeFrom||t.searchData.dateFrom,o=t.invoiceData.DateRangeTo||t.searchData.dateTo;if(s){var l=t.formatDateForAPI(s);l?a.push("dateFrom="+encodeURIComponent(l)):console.warn("Invalid dateFrom format:",s)}if(o){var r=t.formatDateForAPI(o);r?a.push("dateTo="+encodeURIComponent(r)):console.warn("Invalid dateTo format:",o)}var d=(t.currentPage-1)*t.pageSize+1;a.push("offset="+d),a.push("fetchNext="+t.pageSize),console.log("Loading line items - Page:",t.currentPage,"PageSize:",t.pageSize,"Offset:",d,"FetchNext:",t.pageSize),t.batchId&&a.push("batchId="+t.batchId),a.push("requestFrom=INVOICEEDITMODE"),t.lineBatchId&&a.push("lineBatchId="+t.lineBatchId),a.push("sortBy="+(t.sortBy||"1")),a.push("sortExp="+(t.sortExp||"Asc")),t.filterXmlData&&a.push("xmlData="+encodeURIComponent(t.filterXmlData));var c=a.join("&");return console.log("Loading line items with URL:",c),n["a"].LoadLineItems(c).then(e=>{if(console.log("Line items response:",e),e&&e.data){var a=e.data;if(a.lineItems||a.LineItems){var i=a.lineItems||a.LineItems||[];if(console.log("Received line items:",i.length,"items for page",t.currentPage),t.$set(t,"lineItemsData",i),t.lineItemsData.forEach(e=>{t.$set(e,"selected",!1)}),t.lineItemsData.length>0){var s=t.lineItemsData[0],o=s.headerNames||s.HeaderNames;if(o)try{var n=o.split(","),l=[];n.forEach((function(t){var e=t.trim();if(e){var a=e.split("-");a.length>=2&&l.push({displayName:a[0].trim(),dataType:a[1].trim(),columnName:a.length>2?a[2].trim():"",format:a.length>3?a[3].trim():"N",fullString:e})}})),t.$set(t,"lineItemHeaders",l),console.log("Parsed headers:",l)}catch(u){console.warn("Error parsing headers:",u),t.$set(t,"lineItemHeaders",[])}}var r=0;t.lineItemsData.forEach((function(t){var e=t.subTotal||t.SubTotal||0;r+=parseFloat(e)||0})),t.$set(t.invoiceData,"SubTotal",r),(a.batchId||a.BatchId)&&(t.batchId=a.batchId||a.BatchId),void 0===a.creditAmountBalance&&void 0===a.CreditAmountBalance||(t.creditAmountBalance=void 0!==a.creditAmountBalance?a.creditAmountBalance:a.CreditAmountBalance),void 0===a.notInSummaryCost&&void 0===a.NotInSummaryCost||(t.notInSummaryCost=void 0!==a.notInSummaryCost?a.notInSummaryCost:a.NotInSummaryCost);var d=a.clientInvoiceTemplateId||a.ClientInvoiceTemplateId;d&&!t.invoiceData.TemplateId&&t.$set(t.invoiceData,"TemplateId",d),(a.paymentDueDate||a.PaymentDueDate)&&t.$set(t.invoiceData,"PaymentDueDate",a.paymentDueDate||a.PaymentDueDate),t.invoiceData.TemplateId&&t.$nextTick((function(){t.loadFilterFields()}));var c=a.totalRecords||a.TotalRecords;void 0!==c&&(t.totalRecords=c,t.$set(t,"lineItemsPager",{TotalRecords:c,CurrentPage:t.currentPage,PageSize:t.pageSize,TotalPages:Math.ceil(c/t.pageSize)}),t.$nextTick((function(){t.$refs.lineItemsPagerComponent&&(t.$refs.lineItemsPagerComponent.PageNumber=t.currentPage,t.$refs.lineItemsPagerComponent.PageSize=t.pageSize)})))}else a.Records?(t.$set(t,"lineItemsData",a.Records||[]),t.$set(t,"lineItemHeaders",a.Headers||[]),t.$set(t,"lineItemsPager",a.Pager),t.$set(t.invoiceData,"SubTotal",a.SubTotal||0)):(console.warn("Unexpected response structure:",a),t.$set(t,"lineItemsData",[]))}else console.warn("No data in response:",e),t.$set(t,"lineItemsData",[]);t.isLoading=!1}).catch(e=>{t.isLoading=!1,console.log("Error loading line items:",e),t.$set(t,"lineItemsData",[]);var a="Error loading line items.";e.response?(console.log("Error response:",e.response.data),e.response.data&&e.response.data.message?a=e.response.data.message:e.response.status&&(a="Error "+e.response.status+": "+(e.response.statusText||"Request failed"))):e.message&&(a=e.message),console.log(a),console.log("Full error details:",e)})},onSelectAllLineItems(){var t=this,e="1"===t.selectAllButtonState;t.selectAllButtonState="0"===t.selectAllButtonState?"1":"0",t.selectAllInvoice=e?"1":"0",t.lineItemsData.forEach((function(t){"F"!==t.ticketType&&!0!==t.isManual&&(t.selected=e)})),t.selectedLineItemIds=e?t.lineItemsData.filter((function(t){return"F"!==t.ticketType&&!0!==t.isManual})).map((function(t){return String(t.lineItemId||t.LineItemId)})).join(","):""},onSelectAllChange(t){var e=this;e.selectAllInvoice=t?"1":"0",e.selectAllButtonState=t?"0":"1",e.lineItemsData.forEach((function(e){"F"!==e.ticketType&&!0!==e.isManual&&(e.selected=t)})),e.selectedLineItemIds=t?e.lineItemsData.filter((function(t){return"F"!==t.ticketType&&!0!==t.isManual})).map((function(t){return String(t.lineItemId||t.LineItemId)})).join(","):""},onColumnSort(t){},onDeleteDiscount(t){},onAddNewRow(){var t=this,e="controller=ClientInvoice&action=AddNewRow";o["a"].CheckPrivilege(e).then((function(e){if(!e.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1;t.selectedLineItemId=null,t.selectedColumnId=null,t.selectedTicketType=null,t.selectedIsTicketManual=null,t.isAddNewLineItem=!0,t.showEditLineItem=!0}))},closeEditLineItem(){this.showEditLineItem=!1},onLineItemSaved(){var t=this;t.closeEditLineItem(),t.loadLineItems()},toggleActionMenu(){this.showActionMenu=!this.showActionMenu},async onNonVisibleInSummary(){var t=this;if(t.selectedLineItemIds&&0!==t.selectedLineItemIds.length){var e="controller=ClientInvoice&action=MarkAsNonVisible",a=await o["a"].CheckPrivilege(e);if(!a.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1;await t.markAsNonVisible(!0)}else t.ShowAlert(t.$t("SelectAnyRecord"),"warning",t.$t("Alert"))},async onVisibleInSummary(){var t=this;if(t.selectedLineItemIds&&0!==t.selectedLineItemIds.length){var e="controller=ClientInvoice&action=MarkAsVisible",a=await o["a"].CheckPrivilege(e);if(!a.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1;await t.markAsNonVisible(!1)}else t.ShowAlert(t.$t("SelectAnyRecord"),"warning",t.$t("Alert"))},async markAsNonVisible(t){var e=this;e.isLoading=!0;try{var a="",i="";a=e.selectedLineItemIds;var s={allInvoice:i,lineIds:a,reqFrom:"lineitem",visible:t,xmlData:e.filterXmlData||""},o=await n["a"].MarkAsNonVisible(s);if(o&&o.data){var l=o.data.flag,r=o.data.msg||("success"===l?e.$t("UpdatedSuccessfully"):e.$t("ErrorWhileProcessingRequest"));e.ShowAlert(r,"success"===l?"success":"failure",e.$t("Alert")),"success"===l&&(e.loadLineItems(),e.selectedLineItemIds=[],e.selectAllInvoice="0",e.selectAllButtonState="1")}else e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))}catch(d){console.log("Error marking as non-visible:",d),e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",e.$t("Alert"))}finally{e.isLoading=!1}},onManageWorkCode(){var t=this;if(t.selectedLineItemIds&&0!==t.selectedLineItemIds.length){var e="controller=ClientInvoice&action=ChangeWorkCode";o["a"].CheckPrivilege(e).then((function(e){if(!e.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1;t.showManageWorkCode=!0}))}else t.ShowAlert(t.$t("SelectAnyRecord"),"warning",t.$t("Alert"))},closeManageWorkCode(){this.showManageWorkCode=!1},onWorkCodeChanged(){var t=this;t.closeManageWorkCode(),t.loadLineItems()},onChangeColumnValue(){var t=this;if(0!==t.selectedLineItemIds.length){var e="controller=ClientInvoice&action=ChangeColumnValue";o["a"].CheckPrivilege(e).then((function(e){if(!e.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1}))}else t.ShowAlert(t.$t("SelectAnyRecord"),"warning",t.$t("Alert"))},onCloneLineItem(){var t=this,e="controller=ClientInvoice&action=CloneLineItem";o["a"].CheckPrivilege(e).then((function(e){if(!e.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1}))},onChangeContract(){var t=this;if(0!==t.selectedLineItemIds.length){var e="controller=ClientInvoice&action=ChangeContract";o["a"].CheckPrivilege(e).then((function(e){if(!e.data)return t.ShowAlert(t.$t("UnAuthorized"),"warning",t.$t("Alert")),!1;t.oldUtilityName="",t.showChangeContract=!0}))}else t.ShowAlert(t.$t("SelectAnyRecord"),"warning",t.$t("Alert"))},closeChangeContract(){this.showChangeContract=!1},onContractChanged(){var t=this;t.closeChangeContract(),t.loadLineItems()},onFilterColumnChange(){},onApplyFilter(){var t=this;if(t.filterData.columnId&&""!==t.filterData.columnId&&null!==t.filterData.columnId)if("-1"===t.filterData.columnId||"-2"===t.filterData.columnId||t.filterData.columnValue&&""!==t.filterData.columnValue.trim()){var e=t.filterFields.find(e=>String(e.TEMPLATE_ID)===String(t.filterData.columnId));if(e){var a=t.activeFilters.find(e=>String(e.fieldId)===String(t.filterData.columnId)&&String(e.fieldValue)===String(t.filterData.columnValue));a||t.activeFilters.push({fieldId:t.filterData.columnId,fieldType:e.DATA_TYPE,tablename:e.TABLE_NAME,columnname:e.COLUMN_NAME,fieldValue:t.filterData.columnValue||"",displayName:e.DISPLAY_NAME})}t.filterData.columnId="",t.filterData.columnValue="",t.currentPage=1,t.buildFilterXml(),t.loadLineItems()}else console.warn("Please enter a filter value");else console.warn("Please select a column to filter")},removeFilter(t){var e=this;e.activeFilters.splice(t,1),e.currentPage=1,e.buildFilterXml(),e.$refs.lineItemsPagerComponent&&(e.$refs.lineItemsPagerComponent.PageNumber=1,e.$refs.lineItemsPagerComponent.CurrentPage=1),e.loadLineItems()},onAdvanceFilter(){this.showAdvanceFilter=!0},closeAdvanceFilter(){this.showAdvanceFilter=!1},onAdvanceFilterApply(t){var e=this;e.closeAdvanceFilter(),t&&t.conditions&&t.conditions.forEach((function(t){if(t.templateId&&t.operatorId){var a=e.filterFields.find(e=>String(e.TEMPLATE_ID)===String(t.templateId));if(a){var i=t.fieldFirstValue||"";t.fieldSecondValue&&(i=t.fieldFirstValue+" AND "+t.fieldSecondValue),e.activeFilters.push({fieldId:t.templateId,fieldType:a.DATA_TYPE,tablename:a.TABLE_NAME,columnname:a.COLUMN_NAME,fieldValue:i,displayName:a.DISPLAY_NAME,operatorId:t.operatorId,relationWithParent:t.relationWithParent,openingBrackets:t.openingBrackets,closingBrackets:t.closingBrackets,isAdvanceFilter:!0})}}})),e.currentPage=1,e.buildFilterXml(),e.loadLineItems()},onTemplateChange(){var t=this;t.loadFilterFields(),t.loadLineItems()},onPageChange(){var t=this;if(t.$refs.lineItemsPagerComponent){var e=t.$refs.lineItemsPagerComponent.PageNumber||t.$refs.lineItemsPagerComponent.CurrentPage,a=t.$refs.lineItemsPagerComponent.PageSize;e&&(t.currentPage=parseInt(e)),a&&(t.pageSize=parseInt(a)),console.log("Page changed - CurrentPage:",t.currentPage,"PageSize:",t.pageSize,"Pager PageNumber:",t.$refs.lineItemsPagerComponent.PageNumber,"Pager CurrentPage:",t.$refs.lineItemsPagerComponent.CurrentPage)}t.loadLineItems()},buildFilterXml(){var t=this;if(t.activeFilters&&0!==t.activeFilters.length){var e=[];e.push("<Fields>"),t.activeFilters.forEach((function(t){e.push("\n<Field>"),e.push("\n\t<FieldId>"+(t.fieldId||"")+"</FieldId>"),e.push("\n\t<FieldValue>"+(t.fieldValue||"")+"</FieldValue>"),e.push("\n\t<FieldColumn>"+(t.columnname||"")+"</FieldColumn>"),e.push("\n</Field>")})),e.push("\n</Fields>"),e.push("\n"),t.filterXmlData=e.join("")}else t.filterXmlData=""},loadFilterFields(){var t=this;if(!t.invoiceData.TemplateId)return console.warn("TemplateId is not set, cannot load filter fields"),void(t.filterFields=[]);var e=`templateId=${t.invoiceData.TemplateId}&requestFrom=INVOICEEDITMODE`;console.log("Loading filter fields with URL:",e),n["a"].LoadFields(e).then(e=>{if(console.log("Filter fields response:",e),e&&e.data){var a=Array.isArray(e.data)?e.data:[];t.$set(t,"filterFields",[]),t.filterFields.push({DISPLAY_NAME:"InsertedManually",TEMPLATE_ID:"-2",DATA_TYPE:"int",COLUMN_NAME:"is_manual",TABLE_NAME:"talygen_be_processed_records"}),t.filterFields.push({DISPLAY_NAME:"NonVisibleInSummary",TEMPLATE_ID:"-1",DATA_TYPE:"int",COLUMN_NAME:"not_include_in_summary",TABLE_NAME:"talygen_be_processed_records"}),a.length>0&&a.forEach((function(e){var a=e.TEMPLATE_ID||e.templateId||e.TemplateId||e.Template_ID,i=e.DISPLAY_NAME||e.displayName||e.DisplayName||e.DISPLAYNAME,s=e.DATA_TYPE||e.dataType||e.DataType||e.DATATYPE,o=e.COLUMN_NAME||e.columnName||e.ColumnName||e.COLUMNNAME,n=e.TABLE_NAME||e.tableName||e.TableName||e.TABLENAME;void 0!==a&&i&&t.filterFields.push({DISPLAY_NAME:i,TEMPLATE_ID:String(a),DATA_TYPE:s||"",COLUMN_NAME:o||"",TABLE_NAME:n||""})})),console.log("Filter fields loaded:",t.filterFields.length,"fields"),console.log("Filter fields data:",t.filterFields)}else console.warn("No data in filter fields response:",e),t.$set(t,"filterFields",[{DISPLAY_NAME:"InsertedManually",TEMPLATE_ID:"-2",DATA_TYPE:"int",COLUMN_NAME:"is_manual",TABLE_NAME:"talygen_be_processed_records"},{DISPLAY_NAME:"NonVisibleInSummary",TEMPLATE_ID:"-1",DATA_TYPE:"int",COLUMN_NAME:"not_include_in_summary",TABLE_NAME:"talygen_be_processed_records"}])}).catch(e=>{console.log("Error loading filter fields:",e),e.response&&console.log("Error response:",e.response.data),t.$set(t,"filterFields",[{DISPLAY_NAME:"InsertedManually",TEMPLATE_ID:"-2",DATA_TYPE:"int",COLUMN_NAME:"is_manual",TABLE_NAME:"talygen_be_processed_records"},{DISPLAY_NAME:"NonVisibleInSummary",TEMPLATE_ID:"-1",DATA_TYPE:"int",COLUMN_NAME:"not_include_in_summary",TABLE_NAME:"talygen_be_processed_records"}])})},onViewNotes(t){var e=this;e.selectedDivisionId=e.invoiceData.DivisionId,e.selectedUtilityId=e.invoiceData.UtilityId||e.invoiceData.ClientId,t&&t.target&&(e.selectedUniqueName=t.target.getAttribute("data-uniquename")||""),e.showNotesList=!0},onAddNote(t){var e=this;e.selectedNoteId=t?t.noteId:null,e.showAddNote=!0},closeNotesList(){this.showNotesList=!1},onChangeInvoiceStatus(t){var e=this;e.invoiceStatus=t},onCreditToggle(){var t=this;t.invoiceData.IsCredit?t.creditAmountBalance=0:t.invoiceData.CreditAmount=null,t.calculateGrandTotal()},calculateDiscountAndTax(){var t=this;t.discountRows.forEach(e=>{e.percentage>0?e.amount=(t.invoiceData.SubTotal*e.percentage/100).toFixed(2):e.amount=0}),t.taxRows.forEach(e=>{e.percentage>0?e.amount=(t.invoiceData.SubTotal*e.percentage/100).toFixed(2):e.amount=0}),t.calculateGrandTotal()},checkDecimal(t){var e=t.target.value;/^\d*\.?\d*$/.test(e)||(t.target.value=e.replace(/[^0-9.]/g,""))},onAddDiscountRow(){var t=this;t.discountRows.push({label:"",percentage:0,amount:0})},removeDiscountRow(t){var e=this;e.discountRows.splice(t,1),e.calculateDiscountAndTax()},onRemoveCredit(){var t=this;t.invoiceData.IsCredit=!1,t.invoiceData.CreditAmount=null,t.calculateGrandTotal()},onAddTaxRow(){var t=this;t.taxRows.push({label:"",percentage:0,amount:0})},removeTaxRow(t){var e=this;e.taxRows.splice(t,1),e.calculateDiscountAndTax()},getColumnWidth(){var t=this.lineItemHeaders?this.lineItemHeaders.length:1;return 0===t?10:Math.floor(90/t)},getHeaderClass(t){var e=this.lineItemHeaders?Math.floor(this.lineItemHeaders.length/2):8;return e<9&&(e=8),t>e?"hideColumnLineItem":""},getRowClass(t){var e="";return!0!==t.isManual&&!0!==t.IsManual||(e="low-bar"),!0!==t.isNonVisibleInSummary&&!0!==t.IsNonVisibleInSummary||!0===t.isManual||!0===t.IsManual||(e="high-bar"),!0!==t.isManual&&!0!==t.IsManual||!0!==t.isNonVisibleInSummary&&!0!==t.IsNonVisibleInSummary||(e="critical-bar"),e},getCellValue(t,e){var a="col"+(e+1),i="Col"+(e+1);return t[a]||t[i]||""},getCellClass(t,e){var a="";7===e&&(a+="txtUTotal "),"D"!==t.dataType&&"I"!==t.dataType&&"Si"!==t.dataType||(a+="textalignright");var i=this.lineItemHeaders?Math.floor(this.lineItemHeaders.length/2):8;return i<9&&(i=8),e>i&&(a+=" hideColumnLineItem"),a.trim()},formatCellValue(t,e,a){var i=this.getCellValue(t,e);if(!i)return"";var s=a.dataType||"",o=a.format||"N";if("DT"===s&&i)try{var n=new Date(i);if(!isNaN(n.getTime()))return o&&"N"!==o?this.formatDate(n,o):this.formatDate(n,"MM/dd/yyyy")+" "+this.formatTime(n)}catch(d){console.warn("Error formatting date:",d)}else if("T"===s&&i)try{n=new Date(i);if(!isNaN(n.getTime()))return o&&"N"!==o?this.formatDate(n,o):this.formatTime(n)}catch(d){console.warn("Error formatting time:",d)}else if("D"===s&&i)try{var l=parseFloat(i);if(!isNaN(l))return l.toFixed(2)}catch(d){console.warn("Error formatting decimal:",d)}if(7===e&&a.displayName&&"cost"===a.displayName.toLowerCase().trim())try{var r=parseFloat(i);if(!isNaN(r))return r.toFixed(2)}catch(d){console.warn("Error formatting cost:",d)}return i},formatDate(t,e){var a=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),s=t.getFullYear();return a+"/"+i+"/"+s},formatTime(t){var e=t.getHours(),a=t.getMinutes(),i=e>=12?"PM":"AM";e%=12,e=e||12;var s=a.toString().padStart(2,"0");return e+":"+s+" "+i},getCostValue(t){return parseFloat(t.col8||t.Col8||0)},onItemCheckboxChange(t){var e=this;if(t&&t.lineItemId){var a=e.lineItemsData.find((function(e){return e.lineItemId===t.lineItemId}));a&&(a._selected=t.checked)}},onColumnSort(t){var e=this,a=e.sortBy===t?e.sortExp:"Asc",i="Asc"===a?"Desc":"Asc";e.sortBy=t,e.sortExp=i,e.loadLineItems()},onAddDiscount(t){var e=this,a="controller=ClientInvoice&action=AddDiscount";o["a"].CheckPrivilege(a).then((function(a){if(!ture)return e.ShowAlert(e.$t("UnAuthorized"),"warning",e.$t("Alert")),!1;var i=t.lineItemId||t.LineItemId,s=parseFloat(t.col8||t.Col8||0);if(e.hdnDicountCost=s,s>0){if((!e.hdnGlobalCurrentID||e.hdnGlobalCurrentID<=0)&&(e.hdnGlobalCurrentID=i),!e.hdnGlobalTotal||e.hdnGlobalTotal<=0){var o=document.getElementById("SubTotal");e.hdnGlobalTotal=o?parseFloat(o.value)||0:parseFloat(e.invoiceData.SubTotal)||0}e.selectedDiscountItemId=i,e.selectedDiscountItemCost=s,e.showAddDiscount=!0}else e.ShowAlert(e.$t("DISCOUNTLESSTHENZEROMESSAGE"),"warning",e.$t("Alert"))}))},onDeleteDiscount(t){var e=t.lineItemId||t.LineItemId;e&&console.log("Delete discount for item:",t)},onEditLineItem(t){var e=this,a="controller=ClientInvoice&action=EditLineItem";o["a"].CheckPrivilege(a).then((function(a){if(!ture)return e.ShowAlert(e.$t("UnAuthorized"),"warning",e.$t("Alert")),!1;e.selectedLineItemId=t.lineItemId||t.LineItemId,e.selectedColumnId=t.tranNo||t.TranNo,e.selectedTicketType=t.ticketType||t.TicketType,e.selectedIsTicketManual=!0===t.isManual||!0===t.IsManual?"M":"N",e.isAddNewLineItem=!1,e.showEditLineItem=!0}))},calculateGrandTotal(){var t=this,e=parseFloat(t.invoiceData.SubTotal)||0,a=t.discountRows.reduce((t,e)=>t+parseFloat(e.amount||0),0),i=t.taxRows.reduce((t,e)=>t+parseFloat(e.amount||0),0),s=parseFloat(t.invoiceData.CreditAmount)||0,o=parseFloat(t.invoiceData.DiscountFlatRate)||0,n=parseFloat(t.invoiceData.BillAdvanceAmount)||0;t.invoiceData.BillTotalNoAdv=(e-a+i).toFixed(2),t.invoiceData.BillNetTotal=(parseFloat(t.invoiceData.BillTotalNoAdv)-o-n-s).toFixed(2)},closeNotesList(){this.showNotesList=!1},onNoteDeleted(t){},closeAddNote(){this.showAddNote=!1},onNoteSaved(){var t=this;this.refreshKey+=1,t.closeAddNote()},closeAdvanceFilter(){this.showAdvanceFilter=!1},onAdvanceFilterApply(t){var e=this;e.closeAdvanceFilter(),e.loadLineItems()},closeChangeContract(){this.showChangeContract=!1},onContractChanged(){var t=this;t.closeChangeContract(),t.loadLineItems()},closeManageWorkCode(){this.showManageWorkCode=!1},onSave(){var t=this,e="controller=ClientInvoice&action=Save";o["a"].CheckPrivilege(e).then((function(e){"NotShowNumber"===t.invoiceStatus&&(t.invoiceData.BillNumber="");var a="",i={};"undefined"===typeof t.notInSummaryCost&&(t.notInSummaryCost=0);var s=parseFloat(t.invoiceData.DiscountFlatRate)||0,o=parseFloat(t.notInSummaryCost)||0;if(s!==o&&o>0)return t.ShowAlert(t.$t("DiscountInvoiceALertMessage").replace("{0}",o.toString()),"warning",t.$t("Alert")),!1;if(!t.lineItemsData||0===t.lineItemsData.length)return t.ShowAlert(t.$t("PleaseAddSomeLineItems"),"warning",t.$t("Alert")),!1;if("yes"!==t.paymentTermAllowed||t.invoiceData.PaymentTermId&&""!==t.invoiceData.PaymentTermId||(i.PaymentTermId=t.$t("Required").replace("{0}",t.$t("PaymentTerm")),a+="no"),t.invoiceData.BillDueDate&&""!==t.invoiceData.BillDueDate||(i.BillDueDate=t.$t("Required").replace("{0}",t.$t("DueDate")),a+="no"),t.invoiceData.BillIssueDate&&""!==t.invoiceData.BillIssueDate||(i.BillIssueDate=t.$t("Required").replace("{0}",t.$t("BillIssueDate")),a+="no"),t.invoiceData.BillIssueDate){var l=new Date(t.invoiceData.BillIssueDate);isNaN(l.getTime())&&(i.BillIssueDate=t.$t("InvalidDatePattern"),a+="no")}if(t.invoiceData.BillDueDate){var r=new Date(t.invoiceData.BillDueDate);isNaN(r.getTime())&&(i.BillDueDate=t.$t("InvalidDatePattern"),a+="no")}if(t.invoiceData.DateRangeFrom){var d=new Date(t.invoiceData.DateRangeFrom);isNaN(d.getTime())&&(i.DateRangeFrom=t.$t("InvalidDatePattern"),a+="no")}if(t.invoiceData.DateRangeTo){var c=new Date(t.invoiceData.DateRangeTo);isNaN(c.getTime())&&(i.DateRangeTo=t.$t("InvalidDatePattern"),a+="no")}var u=0;t.discountRows.forEach((function(e,a){0===a&&1===t.discountRows.length||(e.label&&""!==e.label.trim()||u++,e.percentage&&""!==e.percentage||u++,e.amount&&""!==e.amount||u++)}));var m=0;if(t.taxRows.forEach((function(e,a){0===a&&1===t.taxRows.length||(e.label&&""!==e.label.trim()||m++,e.percentage&&""!==e.percentage||m++,e.amount&&""!==e.amount||m++)})),t.invoiceData.DiscountFlatRate&&""!==t.invoiceData.DiscountFlatRate&&null!==t.invoiceData.DiscountFlatRate||(i.DiscountFlatRate=t.$t("Required").replace("{0}",t.$t("DiscountFlatRate")),a+="no"),t.invoiceData.BillAdvanceAmount&&""!==t.invoiceData.BillAdvanceAmount&&null!==t.invoiceData.BillAdvanceAmount||(i.BillAdvanceAmount=t.$t("Required").replace("{0}",t.$t("AdvanceReceived")),a+="no"),t.invoiceData.BillNetTotal&&""!==t.invoiceData.BillNetTotal&&null!==t.invoiceData.BillNetTotal||(i.BillNetTotal=t.$t("Required").replace("{0}",t.$t("NetTotal")),a+="no"),"ShowNumber"!==t.invoiceStatus||t.invoiceData.BillNumber&&""!==t.invoiceData.BillNumber||(i.BillNumber=t.$t("Required").replace("{0}",t.$t("BillNumber")),a+="no"),t.invoiceData.IsCredit&&(t.invoiceData.CreditAmount&&""!==t.invoiceData.CreditAmount&&null!==t.invoiceData.CreditAmount||(i.CreditAmount=t.$t("Required").replace("{0}",t.$t("Amount")),a+="no")),t.isShowInvoiceDetailDropdown&&(t.invoiceData.TemplateId&&""!==t.invoiceData.TemplateId&&null!==t.invoiceData.TemplateId||(i.TemplateId=t.$t("Required").replace("{0}",t.$t("InvoiceDetailTemplate")),a+="no"),t.invoiceData.DetailFileFormat&&""!==t.invoiceData.DetailFileFormat&&null!==t.invoiceData.DetailFileFormat||(i.DetailFileFormat=t.$t("Required").replace("{0}",t.$t("DetailFileFormat")),a+="no")),t.isShowWorkdayInvoiceType&&(t.invoiceData.InvoiceTypeId&&""!==t.invoiceData.InvoiceTypeId&&null!==t.invoiceData.InvoiceTypeId||(i.InvoiceTypeId=t.$t("Required").replace("{0}",t.$t("WorkdayInvoiceType")),a+="no")),t.activeFilters&&t.activeFilters.length>0)return t.ShowAlert(t.$t("InvoiceLineItemRemoveSearchFilter"),"warning",t.$t("Alert")),!1;if(0===u&&0===m&&0===a.length){var v=0,p=0;t.discountRows.forEach((function(e,a){0===a&&1===t.discountRows.length||(v+=parseFloat(e.amount||0))})),t.taxRows.forEach((function(e,a){0===a&&1===t.taxRows.length||(p+=parseFloat(e.amount||0))}));var f="<BILLITEM>\n";t.discountRows.forEach((function(e,a){if(0!==a||1!==t.discountRows.length){var i="0";f+="\n<ITEMRECORD>\n\t<ADJUSTMENT_NAME>"+(e.label||"")+"</ADJUSTMENT_NAME>\n\t<ADJUSTMENT_OPERATION>"+i+"</ADJUSTMENT_OPERATION>\n\t<ADJUSTMENT_AMOUNT>"+parseFloat(e.amount||0)+"</ADJUSTMENT_AMOUNT>\n\t<ADJUSTMENT_PERCENTAGE>"+(e.percentage||0)+"</ADJUSTMENT_PERCENTAGE>\n</ITEMRECORD>\n"}})),t.taxRows.forEach((function(e,a){if(0!==a||1!==t.taxRows.length){var i="1";f+="\n<ITEMRECORD>\n\t<ADJUSTMENT_NAME>"+(e.label||"")+"</ADJUSTMENT_NAME>\n\t<ADJUSTMENT_OPERATION>"+i+"</ADJUSTMENT_OPERATION>\n\t<ADJUSTMENT_AMOUNT>"+parseFloat(e.amount||0)+"</ADJUSTMENT_AMOUNT>\n\t<ADJUSTMENT_PERCENTAGE>"+(e.percentage||0)+"</ADJUSTMENT_PERCENTAGE>\n</ITEMRECORD>\n"}})),f+="\n</BILLITEM>\n";var h={ClientId:t.invoiceData.ClientId||t.searchData.ClientId,BatchId:t.batchId||"",DateFrom:t.searchData.dateFrom||"",DateTo:t.searchData.dateTo||"",LineItems:null,BillIssueDate:t.invoiceData.BillIssueDate||"",BillNumber:t.invoiceData.BillNumber&&""!==t.invoiceData.BillNumber&&null!==t.invoiceData.BillNumber?t.invoiceData.BillNumber.trim():"Draft Mode",BillDueDate:t.invoiceData.BillDueDate||"",SetupId:t.setupId||"",XmlStr:f,SubTotal:t.invoiceData.SubTotal||0,BillTotalDiscount:v,BillTotalTax:p,BillTotalNoAdv:t.invoiceData.BillTotalNoAdv||0,BillAdvanceAmount:t.invoiceData.BillAdvanceAmount||0,BillDateComments:t.invoiceData.BillDateComments||"",Terms:t.invoiceData.Terms||"",BillDescription:t.invoiceData.Comment||"",BillNetTotal:t.invoiceData.BillNetTotal||0,DiscountFlatRate:t.invoiceData.DiscountFlatRate||0,DiscountType:t.invoiceData.DiscountType||"Sequential",Frequency:"",CustomFrequencyDate:"",Adjustments:null,DisplayStatus:null,ItemQty:null,StatusCode:null,BillDateFrom:null,BillDateTo:null,BillDate_From:null,BillDate_To:null,PONumber:null,PaidAmount:null,ClientName:null,LatestInvoiceNo:null,InvoiceStartNo:null,CreditAmount:t.invoiceData.IsCredit&&t.invoiceData.CreditAmount||null,IsCredit:t.invoiceData.IsCredit?1:0,UpdateBillId:t.billId||0,TemplateId:t.invoiceData.TemplateId||t.templateId||"",ParentCompanyId:t.invoiceData.ParentCompanyId||"",PaymentTermId:t.invoiceData.PaymentTermId||null,DateRangeFrom:t.invoiceData.DateRangeFrom||"",DateRangeTo:t.invoiceData.DateRangeTo||"",BACId:null,InvoiceTypeId:t.invoiceData.InvoiceTypeId||null,divisionId:t.invoiceData.DivisionId||t.searchData.DivisionId,InvoiceMemo:t.invoiceData.InvoiceMemo||"",InvoicePONumber:t.invoiceData.InvoicePONumber||"",ProjectId:t.invoiceData.ProjectId||null,DetailFileFormat:t.invoiceData.DetailFileFormat||null,LineBatchId:t.lineBatchId||""};t.isLoading=!0,n["a"].SaveInvoice(h).then((function(e){if(t.isLoading=!1,e&&e.data)if("0"===e.data.status||0===e.data.status){var a="";if(t.billId>0)a=t.$t("UpdatedSuccess").replace("{0}",t.$t("Invoice"));else{var i=e.data.invoiceNumber||"";a=t.$t("SubmitSuccess").replace("{0}",t.$t("Invoice")).replace("{1}",t.$t("Generated").toLowerCase()).replace("{2}",i)}t.ShowAlert(a,"success",t.$t("Alert")),setTimeout((function(){window.location.href="/ClientBill/Index"}),200)}else"-1"===e.data.status||-1===e.data.status?t.ShowAlert(t.$t("Duplicateinvoicenumber"),"failure",t.$t("Alert")):t.ShowAlert(t.$t("AddedError").replace("{0}",t.$t("Invoice")),"failure",t.$t("Alert"));else t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))})).catch((function(e){t.isLoading=!1,console.log("Error saving invoice:",e),t.ShowAlert(t.$t("ErrorWhileProcessingRequest"),"failure",t.$t("Alert"))}))}else t.ShowAlert(t.$t("CorrectHighlightedErrors"),"warning",t.$t("Alert"))}))},closeAddDiscount(){this.showAddDiscount=!1,this.selectedDiscountItemId=null,this.selectedDiscountItemCost=0},onDiscountSaving(){this.isLoading=!0},onDiscountSaved(t){var e=this,a=e.lineItemsData.find((function(e){return(e.lineItemId||e.LineItemId)===t.itemId}));a&&e.$set(a,"discount",parseFloat(t.discount)||0);var i=e.loadLineItems();i&&"function"===typeof i.then?i.then((function(){e.$nextTick((function(){e.calculateDiscountAndTax(),e.calculateGrandTotal()}))})).catch((function(t){console.log("Error reloading line items after discount save:",t),e.$nextTick((function(){e.calculateDiscountAndTax(),e.calculateGrandTotal()}))})):e.$nextTick((function(){e.calculateDiscountAndTax(),e.calculateGrandTotal()}))},onDiscountSavedComplete(){this.isLoading=!1,this.closeAddDiscount()}}},rt=lt,dt=(a("da82"),Object(u["a"])(rt,i,s,!1,null,"42d81912",null));e["default"]=dt.exports},"4b99":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".mandatory[data-v-d1cdcf32]{color:red}.is-invalid[data-v-d1cdcf32]{border-color:#dc3545}.invalid-feedback[data-v-d1cdcf32]{display:block;width:100%;margin-top:.25rem;font-size:.875rem;color:#dc3545}.modal[data-v-d1cdcf32]{background-color:rgba(0,0,0,.5)}",""]),t.exports=e},5797:function(t,e,a){var i=a("e396");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("7d042354",i,!0,{sourceMap:!1,shadowMode:!1})},"605d":function(t,e,a){"use strict";var i=a("da84"),s=a("c6b6");t.exports="process"===s(i.process)},6315:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".mandatory[data-v-2e2b9584]{color:red}.heading-border[data-v-2e2b9584]{border-bottom:1px solid #ddd;padding-bottom:10px;margin-bottom:10px}",""]),t.exports=e},"637b":function(t,e,a){"use strict";a("5797")},"7ee7":function(t,e,a){"use strict";a("8cb54")},"846c":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".mandatory[data-v-8fb62f00]{color:red}",""]),t.exports=e},"863a":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".border[data-v-7d25a64e]{border:1px solid #ddd!important}.overflowauto[data-v-7d25a64e]{overflow-x:auto}.width_88[data-v-7d25a64e]{width:88%}.w-48[data-v-7d25a64e]{width:48%}.w-100[data-v-7d25a64e]{width:100%}.marginbottom5[data-v-7d25a64e]{margin-bottom:5px}.margintop5[data-v-7d25a64e]{margin-top:5px}.offdays[data-v-7d25a64e]{margin-right:10px}.divRadio[data-v-7d25a64e]{margin-bottom:10px}.chkOffDays[data-v-7d25a64e]{margin-top:5px}.modal[data-v-7d25a64e]{background-color:rgba(0,0,0,.5)}",""]),t.exports=e},8699:function(t,e,a){var i=a("fb53");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("8503ad76",i,!0,{sourceMap:!1,shadowMode:!1})},"8cb54":function(t,e,a){var i=a("846c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("bf57042e",i,!0,{sourceMap:!1,shadowMode:!1})},a640:function(t,e,a){"use strict";var i=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&i((function(){a.call(null,e||function(){return 1},1)}))}},ac9f:function(t,e,a){"use strict";a("05aa")},ad28:function(t,e,a){"use strict";a("3c07")},c361:function(t,e,a){"use strict";a("1548")},cec1:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".textalignright[data-v-b20f254c]{text-align:right}.low-bar[data-v-b20f254c]{background-color:#fff3cd}.high-bar[data-v-b20f254c]{background-color:#f8d7da}.critical-bar[data-v-b20f254c]{background-color:#d1ecf1}.hideColumnLineItem[data-v-b20f254c]{display:none}",""]),t.exports=e},d405:function(t,e,a){"use strict";a("fe40")},d58f:function(t,e,a){"use strict";var i=a("59ed"),s=a("7b0b"),o=a("44ad"),n=a("07fa"),l=TypeError,r="Reduce of empty array with no initial value",d=function(t){return function(e,a,d,c){var u=s(e),m=o(u),v=n(u);if(i(a),0===v&&d<2)throw new l(r);var p=t?v-1:0,f=t?-1:1;if(d<2)while(1){if(p in m){c=m[p],p+=f;break}if(p+=f,t?p<0:v<=p)throw new l(r)}for(;t?p>=0:v>p;p+=f)p in m&&(c=a(c,m[p],p,u));return c}};t.exports={left:d(!1),right:d(!0)}},da82:function(t,e,a){"use strict";a("8699")},e396:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".mandatory[data-v-5178373a]{color:red}",""]),t.exports=e},e64c:function(t,e,a){var i=a("6315");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("244e1724",i,!0,{sourceMap:!1,shadowMode:!1})},f259:function(t,e,a){var i=a("cec1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("6d99ab71",i,!0,{sourceMap:!1,shadowMode:!1})},f29e:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".is-invalid[data-v-3cbe4001]{border-color:#dc3545}.invalid-feedback[data-v-3cbe4001]{display:block;width:100%;margin-top:.25rem;font-size:.875rem;color:#dc3545}",""]),t.exports=e},fb53:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".is-invalid[data-v-42d81912]{border-color:#dc3545}.invalid-feedback[data-v-42d81912]{color:#dc3545;font-size:.875rem;margin-top:.25rem}",""]),t.exports=e},fe40:function(t,e,a){var i=a("863a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("7ce780e2",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-53d001b5.js.map