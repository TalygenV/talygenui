(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56522921"],{"17e4":function(t,e,a){"use strict";a("ebd3")},"533b":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!1,ModuleName:"Billing",listType:["List"],SubModuleCode:"Billing",IdentityColumn:"STATION_ID",HeaderText:t.$t("station"),ListData:t.stationList,HeaderData:t.headers,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchData,LegendArray:[],SortExp:t.sortExp,SortBy:t.sortBy,RenderRowActionMethod:t.renderActions,NorecordfoundText:t.$t("NoRecordfound")},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function(e){var o=e.data;return["STATION_NAME"==o.column.COLUMN_NAME?[o.row.STATION_NAME?a("span",{staticClass:"text-dark"},[a("a",{staticClass:"relatedproduct",attrs:{href:"javascript:;",id:o.row.STATION_ID,title:o.row.STATION_NAME},on:{click:function(e){return t.clickEventOfColumn1(o.row)}}},[a("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[t._v(t._s(o.row.STATION_NAME))])])]):t._e()]:t._e(),"STATUS_NAME"==o.column.COLUMN_NAME?[a("td",{staticClass:"text-center single-action"},[a("div",{staticClass:"cstm-drop-btn"},[a("select",{directives:[{name:"model",rawName:"v-model",value:o.row.STATUS_ID,expression:"data.row.STATUS_ID"}],class:1001==o.row.STATUS_ID?"ddlupdatestatus w-80 btn-success":"ddlupdatestatus w-80 btn-danger",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(o.row,"STATUS_ID",e.target.multiple?a:a[0])},function(e){return t.DrpdownUpdataStatus(o.row.STATUS_ID,o.row.STATION_ID)}]}},[a("option",{attrs:{value:"1001",selected:"selected"}},[t._v(t._s(t.$t("Active")))]),a("option",{attrs:{value:"1002"}},[t._v(t._s(t.$t("Inactive")))])])])])]:t._e()]}}])}),t.isCreateStation?a("AddNewStation",{attrs:{editStationData:t.editStationData}}):t._e(),t.isGCVShow?a("SetGCV",{attrs:{stationData:t.stationData}}):t._e()],1)},i=[],n=(a("14d9"),a("9769"));let s=[{title:"AddStation",iconClass:"fa fa-plus",callbackfunction:"Add",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],r=[{title:"Delete",callbackfunction:"Delete",href:"javascript:void(0)",icon:"fa fa-trash text-danger",additionalSpan:""},{title:"Set GCV",callbackfunction:"Set GCV",href:"javascript:void(0)",icon:"fa fa-cog",additionalSpan:""}];var l={buttons:s,listActions:r},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle py-1"},[a("h5",{staticClass:"pt-2",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("createstation"))+" ")]),a("button",{staticClass:"close",on:{click:function(e){return t.clearForm()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("dynamic-form",{ref:"refAddress",attrs:{lang:"en",buttons:!1,schema:t.FormSchema}})],1),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("MapComponent",{ref:"mapComponnet",staticClass:"row",attrs:{mapType:"MapBox",mapContainer:"addAddress",config:t.config,mapHeight:"355px",latLng:t.latLngValues},on:{GetAddress:t.GetAddress}}),a("div",{staticClass:"row flex-row-reverse mt-2"},[a("div",{staticClass:"col-lg-6 text-right"},[a("a",{staticClass:"btn btn-danger mr-2",attrs:{href:"javascript:;",title:"",id:"CancelAddress","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){return t.clearForm()}}},[a("i",{staticClass:"fa fa-times mr-2"}),t._v(t._s(t.$t("Cancel")))]),1==t.isUpdateForm?a("a",{staticClass:"btn btn-success  mr-2",attrs:{href:"javascript:;",title:"",id:"addAddress","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.onSubmit}},[a("i",{staticClass:"fa fa-refresh"}),a("span",{attrs:{id:"btnAddressText"}},[t._v(" "+t._s(t.$t("Update")))])]):a("a",{staticClass:"btn btn-success mr-2 ",attrs:{href:"javascript:;",title:"",id:"addAddress","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.onSubmit}},[a("i",{staticClass:"fa fa-save mr-2"}),a("span",{attrs:{id:"btnAddressText"}},[t._v(" "+t._s(t.$t("Save")))])])])])],1)])])]),a("div",{staticClass:"row col-lg-6"},[a("div",{staticClass:"py-2"},[a("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("Mandatory")))])])])])])])])])])},c=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"container-fluid mt-2"},[a("div",[a("div",{staticClass:"row mt-0.5",attrs:{id:"checkForZone"}},["Google"==t.mapType&&1==t.config.isShowSearchBox?a("div",{staticClass:"col-lg-5 col-sm-12"},[a("div",{staticClass:"form-group d-flex"},[a("div",{staticClass:"input-group customsearchbox divcityshown"},[1==t.config.isShowSearchBox?a("input",{staticClass:"form-control",attrs:{type:"text",id:"pac-input",maxlength:"50",placeholder:"Enter Your Location or Zip Code"}}):t._e()])])]):t._e(),a("div",{staticClass:"col-lg-3 col-sm-12"},[void 0!=t.config&&1==t.config.isShowCurrentLocation?a("div",{staticClass:"form-group"},[a("a",{staticClass:"btn btn-secondary",attrs:{href:"javascript:;"},on:{click:t.CurrentLocation}},[t._v("Use my location")]),t._v("    OR "),a("a",{staticClass:"btn btn-warning float-right",attrs:{href:"javascript:;"},on:{click:t.ImportFilePopup}},[a("i",{staticClass:"fa fa-upload mr-2"}),t._v("Click To import Geo JSON File.")])]):t._e()])]),a("div",{staticClass:"search"},[a("div",{staticClass:"map-result"},[a("div",{staticClass:"map-actions"},[void 0!=t.config&&1==t.config.isShowGetDirection?a("span",{staticClass:"save legends_low"},[1==t.config.isShowGetDirection?a("a",{class:{"mp-active":0==t.showSetting,"mg-success":1==t.showSetting},attrs:{href:"javascript:;",title:"GetDirection"},on:{click:t.GetDirection}},[a("em",{staticClass:"fa fa-map-marker"})]):t._e()]):t._e(),t._v("  "),void 0!=t.config&&1==t.config.isShowLocator?a("span",{staticClass:"save legends_low"},[1==t.config.isShowLocator?a("a",{class:{"mp-active":0==t.showSetting,"mg-success":1==t.showSetting},attrs:{href:"javascript:;",title:"View Locator on map"},on:{click:t.ViewLocatorOnMap}},[a("em",{staticClass:"fa fa-map-marker"})]):t._e()]):t._e(),t._v("  "),void 0!=t.config&&1==t.config.isShowEtaMap?a("span",{staticClass:"edit legends_profile"},[1==t.config.isShowEtaMap?a("a",{attrs:{href:"javascript:;",title:"ETA Map"},on:{click:function(e){return t.LoadLocatorDataonMap("locator")}}},[a("em",{staticClass:"fa fa-map"})]):t._e()]):t._e(),void 0!=t.config&&1==t.config.isShowEtaPipeLines?a("span",{staticClass:"edit legends_high esri_prof"},[t._m(0),a("div",{staticClass:"dropdown"},[t._m(1),a("div",{staticClass:"dropdown-menu esri_prof_data",staticStyle:{display:"block"}},[t._m(2),a("div",{staticClass:"w-100 mb-2"},t._l(t.UtilityMapData,(function(e,o){return a("a",{key:o,staticClass:"dropdown-item p-0",attrs:{href:"javascript:;"}},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline w-100"},[a("input",{staticClass:"custom-control-input dynamic customcheckboxUtilityMap",attrs:{type:"checkbox"}}),a("label",{staticClass:"custom-control-label pt-1",attrs:{type:"checkbox"}},[a("label",{staticClass:"font-weight-bold"},[t._v(t._s(e.LAYER_NAME))])])])])})),0),a("div",[a("a",{staticClass:"btn btn-primary d-block text-white py-2",attrs:{href:"javascript:;",title:"Go"},on:{click:t.ShowUtilityMap}},[t._v("Go"),a("i",{staticClass:"fa fa-angle-double-right pl-2"})])])])])]):t._e()]),t.showSaveZone?a("div",{staticClass:"gmnoprint",staticStyle:{position:"absolute",right:"0px","z-index":"9999999",top:"0px"},attrs:{id:"customSaveButton"},on:{click:t.OpenSaveZone}},[t._m(3)]):t._e(),t.showDeleteFeature?a("div",{staticClass:"gmnoprint",staticStyle:{position:"absolute",right:"1670px","z-index":"999999",top:"0px"},attrs:{id:"customSaveButton"},on:{click:t.DeleteFeature}},[t._m(4)]):t._e(),a("div",{staticClass:"map"},[a("div",{staticClass:"map_canvas map_ipadcontrol",style:{"min-height":void 0==t.mapHeight?"500px":t.mapHeight,"min-width":void 0==t.mapWidth?"100%":t.mapWidth},attrs:{id:t.mapContainer}}),a("div",{staticClass:"w-100 float-left",staticStyle:{position:"absolute",top:"0px"}},[0==t.showSetting?a("a",{staticClass:"showduration anchideduration",attrs:{title:"Hide"},on:{click:t.ShowTravelMode}},[t._v("Hide")]):t._e(),1==t.showSetting?a("a",{staticClass:"showduration ancshowduration",attrs:{title:"Show Setting"},on:{click:t.ShowTravelMode}},[t._v("Show Setting")]):t._e(),a("div",{staticClass:"position-absolute float-left my24 mx24 bg-gray-faint round settingPopup d-none",staticStyle:{"z-index":"999999"}},[a("div",{attrs:{id:"params"}},[t._m(5),a("h4",{staticClass:"txt-m font-weight-bold"},[t._v("Choose Travel Mode:")]),t._m(6),a("h4",{staticClass:"txt-m font-weight-bold"},[t._v("Choose Maximum Duration:")]),a("div",{staticClass:"w-100 float-left",staticStyle:{"margin-bottom":"15px"}},[a("div",{staticClass:"w-30 float-left"},[a("label",{staticClass:"switch"},[a("input",{staticClass:"dynamic",attrs:{type:"checkbox",name:"duration",checked:"checked"},domProps:{value:t.time},on:{onChange:function(e){return t.TravelMode(t.time)}}}),a("span",{staticClass:"sliderchk round"})]),a("div",{staticClass:"fs_textname "},[t._v("Minutes10")])]),a("div",{staticClass:"w-30 float-left"},[a("label",{staticClass:"switch"},[a("input",{staticClass:"dynamic",attrs:{type:"checkbox",name:"duration",checked:"checked"},domProps:{value:2*t.time},on:{onChange:function(e){return t.TravelMode(2*t.time)}}}),a("span",{staticClass:"sliderchk round"})]),a("div",{staticClass:"fs_textname"},[t._v("Minutes20")])]),a("div",{staticClass:"w-30 float-left"},[a("label",{staticClass:"switch"},[a("input",{staticClass:"dynamic",attrs:{type:"checkbox",name:"duration",checked:"checked"},domProps:{value:3*t.time},on:{onChange:function(e){return t.TravelMode(3*t.time)}}}),a("span",{staticClass:"sliderchk round"})]),a("div",{staticClass:"fs_textname"},[t._v("Minutes30")])])])])])])])])])])])],1)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"javascript:;",title:"UtilityMap"}},[a("i",{staticClass:"fa fa-map-pin",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{attrs:{href:"javascript:;",title:"UtilityMap"}},[a("i",{staticClass:"fa fa-map-pin",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 bg-grey"},[a("div",{staticClass:"custom-control custom-checkbox custom-control-inline w-100"},[a("input",{staticClass:"custom-control-input dynamic customcheckboxselectall",attrs:{id:"customcheckboxselectallUtilityMap",type:"checkbox",value:""}}),a("label",{staticClass:"custom-control-label pt-1",attrs:{for:"customcheckboxselectallUtilityMap",type:"checkbox",value:""}},[t._v("SelectAll")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"background-color":"rgb(40, 167, 69)",color:"rgb(255, 255, 255)","border-style":"solid","border-width":"1px","border-color":"rgb(204, 204, 204)","margin-top":"4px","margin-left":"-6px",cursor:"pointer","text-align":"center"},attrs:{title:"Save Zone"}},[a("div",{staticStyle:{"font-family":"Arial, sans-serif","font-size":"14px",padding:"0.6rem 0.8rem"}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v("Save Zone")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{left:"-121px","background-color":"rgb(240, 4, 4)",color:"rgb(255, 255, 255)","border-style":"solid","border-width":"1px","border-color":"rgb(204, 204, 204)","margin-top":"4px","margin-right":"122px","margin-left":"-6px",cursor:"pointer","text-align":"center"},attrs:{title:"Delete Save Zone"}},[a("div",{staticStyle:{"font-family":"Arial, sans-serif","font-size":"14px",padding:"0.6rem 0.8rem"}},[a("i",{staticClass:"fa fa-trash pr-2"}),t._v("Delete Selected Shape")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row float-left"},[a("div",{staticClass:"col float-left text-dark px-2"},[a("span",{staticClass:"timelegend min10"}),t._v(" Minutes10 ")]),a("div",{staticClass:"col float-left text-dark px-2"},[a("span",{staticClass:"timelegend min20"}),t._v(" Minutes20 ")]),a("div",{staticClass:"col float-left text-dark px-2"},[a("span",{staticClass:"timelegend min30"}),t._v(" Minutes30 ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mr12 toggle-group text-center"},[a("label",{staticClass:"toggle-container"},[a("input",{staticClass:"dynamic",attrs:{name:"profile",type:"radio",value:"foot-walking"}}),a("div",{staticClass:"toggle toggle--active-null toggle--null"},[t._v("Walking")])]),a("label",{staticClass:"toggle-container"},[a("input",{staticClass:"dynamic",attrs:{name:"profile",type:"radio",value:"cycling-regular"}}),a("div",{staticClass:"toggle toggle--active-null toggle--null"},[t._v("Cycling")])]),a("label",{staticClass:"toggle-container"},[a("input",{staticClass:"dynamic",attrs:{name:"profile",type:"radio",value:"driving-car",checked:"checked"}}),a("div",{staticClass:"toggle toggle--active-null toggle--null"},[t._v("Driving")])])])}],g=a("e192"),u=a.n(g),h=(a("ac6d"),a("e11e")),f=a.n(h),v=(a("6cc5"),a("cae8")),y=a.n(v),L=(a("bdd0"),a("885b")),w=a.n(L),S=(a("c307"),a("2573"),a("20d6"),a("5fbf"),a("ac00")),b=(a("1615"),a("5bfd"),a("125d"),a("afaa")),_={components:{},props:{mapType:{required:!0},Data:{required:!0},isShowDrawButton:{required:!0,type:String},config:{required:!1},mapWidth:{required:!1},mapHeight:{required:!1},latLng:{required:!1},mapContainer:{required:!0},selectedUser:{required:!0},UtilityMapData:{required:!0},editZone:{required:!0},zoneId:{required:!0}},data:function(){return{isLoading:!1,zoneEditData:[],showDeleteFeature:!1,showSaveZonePopUp:!1,showSaveZone:!1,showAddZone:!1,time:600,colors:"",showSetting:null,address:[],UserName:null,UserEmailId:null,imageMarker:[],mapLayer:[],map:null,locations:[],locationPriority:[],locationname:[],ticketNumberList:[],LocationwithPriority:null,markers:[],mapZoom:!1,mapMarker:[],markerCluster:null,startingPoint:null,showSettingPopup:!1,lngLatData:[],fullAddress:[],leafLetReferenceNumber:[],polygonData:[],polygonNewShapeId:null,zoneData:[],drawingManager:null,currentSelectedShape:null,myPolygon:null,editableLayers:null,showHideEtaMap:!1,showImportFilePopup:!1,emailString:"",ZoneType:""}},watch:{Data:{handler:function(){setTimeout(()=>{this.ShowLocationOnGoogleMap(),"LeafLet"==this.mapType&&this.initLeafletMap(this.Data)},500)},deep:!0},config:{handler:function(){this.ShowDrawingManager()},deep:!0},selectedUser:{handler:function(){this.ViewLocatorOnMap(this.selectedUser)},deep:!0},latLng:{handler:function(){this.ViewOnMap()}}},mounted:function(){"Google"==this.mapType?setTimeout(()=>{},2e3):"MapBox"==this.mapType?this.initMapBox(this.Data,"pk.eyJ1IjoiaGFycmlzbHVtZW4iLCJhIjoiY2s2dWtrMzJ3MDk2NTNncXMxMjlxa29mcCJ9.riRtpclzr9XfExHhclre8A"):"Esri"==this.mapType?setTimeout(()=>{this.initLeafletMap(this.Data)},2e3):"LeafLet"!=this.mapType&&"Esri"!=this.mapType||setTimeout(()=>{this.initLeafletMap(this.Data)},2e3)},created:function(){this.UserName=this.GetUserInfo.Name,this.UserEmailId=this.GetUserInfo.Email,void 0!=this.myPolygon&&null!=this.myPolygon&&this.myPolygon.setMap(null);let t=document.createElement("script");t.setAttribute("src","https://maps.googleapis.com/maps/api/js?key=AIzaSyAJdx4gmhGKWjPTBBVk5riFgpbE0lGS-xM&callback=initAutocompletes&libraries=geometry,drawing,places&v=weekly"),document.head.appendChild(t);let e=document.createElement("script");e.setAttribute("src","https://unpkg.com/@google/markerclustererplus@4.0.1/dist/markerclustererplus.min.js"),document.head.appendChild(e);let a=document.createElement("script");a.setAttribute("src","~/Scripts/FsmMaps/fontawesome-markers.min.js"),document.head.appendChild(a),this.ShowLocationOnGoogleMap(),this.MapExtendLocation()},methods:{MapExtendLocation:function(){var t=this;if("Google"==t.mapType){let n=[];t.Data[0].mapExtendLatLong.forEach((function(t){n.push(new google.maps.LatLng(t[1],t[0]))}));for(var e=new google.maps.LatLngBounds,a=n,o=0,i=a.length;o<i;o++)e.extend(a[o]);t.map.fitBounds(e)}else if("MapBox"==t.mapType){let e=[];t.Data[0].mapExtendLatLong.forEach((function(t){e.push(t)})),t.map.fitBounds(e)}else{let e=[];t.Data[0].mapExtendLatLong.forEach((function(t){e.push([t[1],t[0]])}));var n=f.a.polygon(e);t.map.fitBounds(n.getBounds())}},ImportFilePopup:function(){var t=this;t.showImportFilePopup=!0},initAutocompletes:function(){var t=this;const e=document.getElementById("pac-input"),a=new google.maps.places.SearchBox(e);t.map.addListener("bounds_changed",()=>{a.setBounds(t.map.getBounds())}),google.maps.event.addListener(a,"places_changed",(function(){var e,o,i=a.getPlaces(),n=new google.maps.LatLngBounds;for(e=0;o=i[e];e++)(function(t){n.extend(t.geometry.location)})(o);t.map.fitBounds(n),a.set("map",t.map),t.map.setZoom(Math.min(t.map.getZoom(),12))}))},CurrentLocation:function(){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(t.GetCurrentLocation,t.geoError):alert("Geolocation is not supported by this browser.")},GetCurrentLocation:function(t){var e=this;if(t){var a=t.coords.latitude,o=t.coords.longitude,i=new google.maps.LatLng(a,o);e.map.setCenter(i),e.map.setZoom(18)}},SaveMapExtent:function(){var t=this;t.$emit("SaveMapExtent",t.fullAddress,t.mapType)},ShowUtilityMap:function(){var t=this,e=JSON.parse(localStorage.getItem("coordinates"));null==e&&(e={x:"43.133971",x1:"43.132812",y:"-76.088009",y1:"-76.087183"}),Object(b["loadModules"])(["esri/Map","esri/views/MapView","esri/layers/FeatureLayer","esri/Graphic","esri/layers/GraphicsLayer"]).then(([a,o,i,n,s])=>{var r=new a({basemap:"hybrid"});new o({container:"utilitymap",map:t.map,extent:{xmin:-13856051.7748509,ymin:2821931.08215458,xmax:-7488766.97004404,ymax:6364777.09974285,spatialReference:102100}});""!=layerUrl&&null!=layerUrl&&(Colors={},Colors.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00"},Colors.random=function(){var t,e=0;for(var a in this.names)Math.random()<1/++e&&(t=a);return{name:t,rgb:this.names[t]}},String(layerUrl).split(",").forEach((function(t){var e=String(t).split("^")[1];""!=e&&null!=e&&"null"!=e&&"undefined"!=typeof e||(e=String(Colors.random().rgb).toUpperCase());const a={type:"simple",symbol:{color:e,type:"simple-line",style:"solid"},visualVariables:[{type:"size",field:"ELEV_GAIN",minDataValue:0,maxDataValue:2300,minSize:"3px",maxSize:"7px"}]};var o=String(t).split("^")[0];r.add(new i({url:o,renderer:a}))})));new o({container:"utilitymap",map:r,basemap:"hybrid",center:[e.y,e.x],zoom:17});var l=new s;r.add(l);var d=null;void 0!=e&&null!=e&&(d=[[e.y1,e.x1],[e.y1,e.x],[e.y,e.x],[e.y,e.x1]]);d={type:"polygon",rings:d};var c={type:"simple-fill",color:[255,0,0,.35],outline:{color:[255,0,0],width:1}},p=new n({geometry:d,symbol:c});l.add(p)}).catch(t=>{console.error(t)})},GetDirection:function(){var t=this;navigator.geolocation?navigator.geolocation.getCurrentPosition(t.showRoutePosition,t.geoError):alert("Geolocation is not supported by this browser.")},geoError:function(){},showRoutePosition:function(t){var e=this;if(t){var a=t.coords.latitude,o=t.coords.longitude,i=new google.maps.LatLng(a,o),n=new google.maps.LatLng(e.Data[0].pinLatLong.latitude.split(",")[0],e.Data[0].pinLatLong.latitude.split(",")[1]),s=localStorage.getItem("UserImage");String(s).indexOf("blob")<=0&&(s="https://app.talygen.com/Content/images/Black/user.png");var r={lat:a,lng:o};if("Google"==e.mapType){var l={url:s,scaledSize:new google.maps.Size(40,40),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},d=new google.maps.Marker({position:r,icon:l,map:e.map}),c=new google.maps.InfoWindow({content:"<div style='padding:8px;'><img style='float:left;' src='"+s+"' class='marker' /> <div style='display:block;width: 270px;'>@loggedUserInfo.Name </br>@loggedUserInfo.Email</div></div>"});d.addListener("click",(function(){c.open(e.map,this)})),e.imageMarker.push(d);var p={path:google.maps.SymbolPath.CIRCLE,fillOpacity:1,scale:3},m={strokeColor:"#ff0000",strokeOpacity:0,fillOpacity:0,icons:[{icon:p,offset:"0",repeat:"4px"}]},g={map:e.map,suppressMarkers:!1,polylineOptions:m},h=new google.maps.DirectionsService,v=new google.maps.DirectionsRenderer(g),y=new google.maps.LatLng(a,o);function L(t,e){var a="DRIVING";t.route({origin:i,destination:n,travelMode:google.maps.TravelMode[a]},(function(t,a){if("OK"==a){e.setDirections(t);var o='<span style="font-weight:bold;">Distance: </span>'+t["routes"][0].legs[0].distance.text+'<br /><span style="font-weight:bold;">Time: </span>'+t["routes"][0].legs[0].duration.text,i=new google.maps.InfoWindow({content:o});google.maps.event.addListener(m,"click",(function(t){i.setPosition(t.latLng),i.open(map)})),google.maps.event.addListener(map,"click",(function(){i.close()}))}else window.alert("Directions request failed due to "+a+". Route exceeds maximum distance limitation.")}))}v.setMap(e.map),L(h,v)}else if("MapBox"==e.mapType){var w={lon:parseFloat(r.lng,10),lat:parseFloat(r.lat,10)},S='<img src="'+s+'" style="width:100px;height:100px;" />',b=new u.a.Popup({offset:25}).setHTML(S),_=document.createElement("div");_.className="marker",_.style.backgroundImage="url("+s+")",_.style.backgroundSize="cover",_.style.width="40px",_.style.height="40px";d=new u.a.Marker(_).setPopup(b).setLngLat(w).addTo(e.map);e.imageMarker.push(d);var C="https://api.mapbox.com/directions/v5/mapbox/driving/"+o+","+a+";"+e.Data[0].pinLatLong.latitude.split(",")[1]+","+e.Data[0].pinLatLong.latitude.split(",")[0]+"?steps=true&geometries=geojson&access_token="+u.a.accessToken;e.map.getLayer("point")||e.map.addLayer({id:"point",type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:y}}]}},paint:{"circle-radius":10,"circle-color":"#3887be"}});var A=new XMLHttpRequest;A.open("GET",C,!0),A.onload=function(){var t=JSON.parse(A.response);if(""!=typeof t.code&&"InvalidInput"!=t.code){var a=t.routes[0],o=a.geometry.coordinates,i={type:"Feature",properties:{distance:a.distance,duration:a.duration},geometry:{type:"LineString",coordinates:o}};e.map.getSource("route")?e.map.getSource("route").setData(i):(e.map.addLayer({id:"route",type:"line",source:{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:i}}},layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":"#3887be","line-width":5,"line-opacity":.75}}),e.map.on("click","route",(function(t){e.map.queryRenderedFeatures(t.point,{layers:["route"]});var a=t.features[0].properties,o=a.distance;o=parseFloat(.000621371192*o,10).toFixed(2);var i='<span style="font-weight:bold;">Distance: </span>'+o+' mi<br /><span style="font-weight:bold;">Time: </span>'+timeConvert(a.duration);(new u.a.Popup).setLngLat(t.lngLat).setHTML(i).addTo(e.map)})))}else try{ShowMsgWithMsg("Route exceeds maximum distance limitation.","failure")}catch(n){alert("Route exceeds maximum distance limitation.")}},A.send()}else{var x=f.a.icon({iconUrl:s,iconSize:[40,40]});b=f.a.popup().setContent("<img src="+s+" />");f.a.marker([a,o],{icon:x}).bindPopup(b).openPopup().addTo(e.map);var D=f.a.Routing.control({waypoints:[f.a.latLng(a,o),f.a.latLng(e.Data[0].pinLatLong.latitude.split(",")[0],e.Data[0].pinLatLong.latitude.split(",")[1])],routeWhileDragging:!1,createMarker:function(){return null}}).addTo(e.map);D.on("routesfound",(function(t){var e=t.routes;e[0].summary}))}}},DeleteFeature:function(){var t=this;null!=t.currentSelectedShape&&"undefined"!=typeof t.currentSelectedShape&&(t.currentSelectedShape.setMap(null),t.currentSelectedShape=null,t.showAddZone=!1,t.showDeleteFeature=!1)},ShowDrawingManager:function(){var t=this;null==t.drawingManager&&void 0!=t.config&&1==t.config.isShowDrawButton&&(t.drawingManager=new google.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER,drawingModes:["polygon"],setEditable:!0},polylineOptions:{editable:!0}}),t.drawingManager.setMap(t.map),google.maps.event.addListener(t.drawingManager,"overlaycomplete",t.GetGoogleAddressToDraw))},ViewLocatorOnMap:function(t){var e,a=this;a.isLoading=!0,e=void 0!=a.selectedUser?`selectedUser=${t}&reqFrom=`:"reqFrom=ETAMAP",n["a"].TrackByUserId(e).then((function(t){if(null!=t.data.data&&t.data.data.length>0){var e=t.data.data;a.ShowUserOnMap(e,a.map),a.isLoading=!1}else a.ShowAlert(a.$t("CurrentLocationNotFound"),"warning",!0,a.$t("Alert")),a.isLoading=!1}))},ShowUserOnMap:function(t,e){var a=this,o=[];$.each(t,(function(t,e){var i=e.IMAGE_PATH,n={lat:parseFloat(e.LATITUDE,10),lng:parseFloat(e.LONGITUDE,10)};o.push([n.lat,n.lng]);new google.maps.LatLng(n.lat,n.lng);String(i).indexOf("blob")<=0&&(i="/Content/images/user_avtar.png");var s='<div class="w-100 float-left popupcontent" style="padding:0px 6px 0px 0px;">';if(s+='<img src="'+i+'" class="float-left" style="width:50px;height:50px; border-radius: 100%;border: 3px solid #f2f2f2;" />',s+='<div style="padding-left:8px; padding-top:5px;width:80%;" class="float-left">',s+="<p style='margin-bottom: 2;'><b style='font-weight:bold;'>Name: </b>"+e.NAME+" </p>",s+="<p style='margin-bottom: 2;'><b style='font-weight:bold;'>Department: </b>"+e.DEPARTMENT_NAME+" </p></div>",e.TRACK_ID>0&&(s+="<p style='margin-bottom:2px;' class='px-2 float-left'><b style='font-weight:bold;'>"+e.NAME+" </b> is going to ticket number: "+e.TICKET_NUMBER+" </p>"),s+="</div>","Google"==a.mapType){var r={url:i,scaledSize:new google.maps.Size(40,40),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},l=new google.maps.Marker({position:n,icon:r,map:a.map});a.imageMarker.push(l);var d=new google.maps.InfoWindow({content:s});try{l.addListener("click",(function(){d.open(a.map,this)}))}catch(h){console.log(h)}}else if("MapBox"==a.mapType){var c={lon:parseFloat(n.lng,10),lat:parseFloat(n.lat,10)},p=new u.a.Popup({offset:25}).setHTML(s),m=document.createElement("div");m.className="marker",m.style.backgroundImage="url("+i+")",m.style.backgroundSize="cover",m.style.width="50px",m.style.height="50px";l=new u.a.Marker(m).setPopup(p).setLngLat(c).addTo(a.map);a.map.flyTo({center:[c.lon,c.lat],essential:!0}),a.imageMarker.push(l)}else{var g=f.a.icon({iconUrl:i,iconSize:[40,40]});p=f.a.popup().setContent(s),l=f.a.marker([n.lat,n.lng],{icon:g}).bindPopup(p).openPopup().addTo(a.map);a.imageMarker.push(l),a.map.fitBounds(o)}}))},ViewOnMap:function(){var t=this,e=new google.maps.LatLng(void 0!=t.latLng.location_nw?t.latLng.location_nw.split(",")[0]:t.latLng.split(",")[0],void 0!=t.latLng.location_nw?t.latLng.location_nw.split(",")[1]:t.latLng.split(",")[1]);"Google"==t.mapType?(t.markers.forEach((function(e,a){if(e.title==(t.latLng.TicketNumber||t.latLng.ticket_number)){let o=new google.maps.InfoWindow;o.setContent(e.address),o.open(t.map,t.markers[a])}})),t.map.panTo(e),t.map.setZoom(18)):"MapBox"==t.mapType?"AddTicket"!=t.mapContainer?t.markers.length>0?t.markers[0].features.forEach((function(e,a){t.map.flyTo({center:[t.latLng.location_nw.split(",")[1],t.latLng.location_nw.split(",")[0]],zoom:16,essential:!0}),e.properties.ticketNumber==(t.latLng.TicketNumber||t.latLng.ticket_number)&&new u.a.Popup({closeOnClick:!0}).setLngLat([t.latLng.location_nw.split(",")[1],t.latLng.location_nw.split(",")[0]]).setHTML(e.properties.address).addTo(t.map)})):t.map.flyTo({center:[t.latLng.location_nw.split(",")[1],t.latLng.location_nw.split(",")[0]],zoom:16,essential:!0}):setTimeout(()=>{t.map.flyTo({center:[t.latLng.location_nw.split(",")[1],t.latLng.location_nw.split(",")[0]],zoom:16,essential:!0});var e={lon:t.latLng.location_nw.split(",")[1],lat:t.latLng.location_nw.split(",")[0]},a="",o="https://unpkg.com/leaflet@1.3.4/dist/images/marker-icon.png",i=document.createElement("div");i.className="marker",i.style.backgroundImage="url("+o+")",i.style.backgroundPosition="top center",i.style.backgroundSize="cover",i.style.width="40px",i.style.height="40px",new u.a.Marker(i).setLngLat(e).setPopup(a).addTo(t.map)},1e3):(t.leafLetReferenceNumber.forEach((function(e,a){e.TicketNumber==(t.latLng.TicketNumber||t.latLng.ticket_number)&&f.a.popup().setLatLng([t.latLng.location_nw.split(",")[0],t.latLng.location_nw.split(",")[1]]).setContent(e.Address).openOn(t.map)})),t.map.flyTo([t.latLng.location_nw.split(",")[0],t.latLng.location_nw.split(",")[1]],16,{animate:!0,duration:2}))},gpxData:function(t,e,a){var o=this;o.Data=[],o.mapType="Google",o.emailString=e,o.ZoneType=a,o.Data.push(t),o.ShowLocationOnGoogleMap()},ShowLocationOnGoogleMap:function(){if("Google"==this.mapType){var t,e=this,a=null;const r=[];var o,i=null,n=new google.maps.InfoWindow;e.map=null,e.showLoader=!0,e.map=new google.maps.Map(document.getElementById(e.mapContainer),{zoom:7,zoomControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_RIGHT},zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER},center:new google.maps.LatLng(30.7333,76.7794),mapTypeId:google.maps.MapTypeId.ROADMAP}),void 0!=e.config&&1==e.config.isShowDrawButton&&(e.drawingManager=new google.maps.drawing.DrawingManager({drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER,drawingModes:["polygon"]},polylineOptions:{editable:!0}}),e.drawingManager.setMap(e.map),google.maps.event.addListener(e.drawingManager,"overlaycomplete",(function(t,a,o){var i=t.overlay;e.currentSelectedShape=i,e.GetGoogleAddressToDraw(t)}))),(this.mapType="Google")&&$.each(e.Data,(function(s,l){null!=l.pinLatLong.latitude&&(a=l.pinLatLong.latitude.split(",")[0],i=l.pinLatLong.latitude.split(",")[1]),o="Critical"==l.priority?"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_critical.png":"High"==l.priority?"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_high.png":"Medium"==l.priority?"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_medium.png":"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_low.png";let d='<div id="content"><div class="map-pop-header '+l.priority+'" style="background-color:'+l.color_code+'"><div id="siteNotice"></div>'+l.popupHeaderHtml+'</div><div id="bodyContent">'+l.popupBodyHtml+'<p class="view-details">'+l.popupFooterHtml+"</p></div></div>";t=new google.maps.Marker({position:new google.maps.LatLng(a,i),icon:o,title:l.refValue,map:e.map,address:d}),r.push(t),e.markers.push(t);let c=[];if(void 0!=e.Data[s]&&e.Data[s].polygons.forEach((function(t){t.latLong.forEach((function(t){c.push(new google.maps.LatLng(t.longitude,t.latitude))})),e.myPolygon=new google.maps.Polygon({paths:c,draggable:!1,editable:1==e.config.isEditable,strokeColor:"undefined"!=typeof t.strokeColor?t.strokeColor:"#FF0000",strokeOpacity:"undefined"!=typeof t.strokeOpacity?t.strokeOpacity:"#FF0000",strokeWeight:"undefined"!=typeof t.strokeWeight?t.strokeWeight:"#FF0000",fillColor:"undefined"!=typeof t.fillColor?t.fillColor:"#FF0000",fillOpacity:"undefined"!=typeof t.opacity?t.opacity:.35,Id:e.Data[s].refValue,FormName:t.FormName,Description:t.Description,ZoneType:t.ZoneType,locatorids:t.locatorids}),e.zoneEditData.push({FormName:t.FormName,Description:t.Description,Refrence:"View",ZoneType:t.ZoneType,YardEmails:t.YardEmails,locatorids:t.locatorids}),e.myPolygon.setMap(e.map),google.maps.event.addListener(e.myPolygon,"click",(function(t,a){e.currentSelectedShape=this,e.currentSelectedShape.setOptions({editable:!0,ShapeId:e.polygonNewShapeId}),e.showDeleteFeature=!0,"zoneMapDiv"==e.mapContainer&&(e.showAddZone=!0)}))})),"zoneMapDiv"==e.mapContainer||"mapExtend"==e.mapContainer){for(var p=new google.maps.LatLngBounds,m=c,g=0,u=m.length;g<u;g++)p.extend(m[g]);e.map.fitBounds(p)}google.maps.event.addListener(e.myPolygon.getPath(),"set_at",(function(t,a){let o={FullAddress:""};if(e.lngLatData=[],"zoneMapDiv"==e.mapContainer){e.polygonNewShapeId=(new Date).getTime()+"_"+Math.floor(1e3*Math.random()),e.myPolygon.setOptions({ShapeId:e.polygonNewShapeId}),e.showAddZone=!0,s=e.myPolygon.getPath().getArray(),s.forEach((function(t,a){e.lngLatData.push({latitude:t.lat(),longitude:t.lng()})})),o={FullAddress:""};var i=new google.maps.LatLng(e.lngLatData[0].Lat,e.lngLatData[0].Lng),n=new google.maps.Geocoder;n.geocode({latLng:i},(function(t,e){o.FullAddress=t[0].formatted_address})),e.polygonData.push({Id:e.polygonNewShapeId,latLong:e.lngLatData,CompleteAddress:o,strokeOpacity:e.myPolygon.strokeOpacity,strokeWeight:e.myPolygon.strokeWeight,strokeColor:e.myPolygon.strokeColor,fillColor:e.myPolygon.fillColor,locatorids:""}),e.fullAddress.push({LatLng:e.lngLatData,CompleteAddress:o})}else{var s;e.lngLatData=[],s=e.myPolygon.getPath().getArray(),s.forEach((function(t,a){e.lngLatData.push({Lat:t.lat(),Lng:t.lng()})})),o={FullAddress:""};i=new google.maps.LatLng(e.lngLatData[0].Lat,e.lngLatData[0].Lng),n=new google.maps.Geocoder;n.geocode({latLng:i},(function(t,e){o.FullAddress=t[0].formatted_address})),e.fullAddress.push({LatLng:e.lngLatData,CompleteAddress:o})}})),google.maps.event.addListener(t,"click",function(t,a){return function(){n.setContent(d),n.open(e.map,t),"WorkOrderDetail"!=e.mapContainer&&"detailMapDiv"!=e.mapContainer||n.close()}}(t));var h=new google.maps.LatLng(e.Data[0].latlong.split(",")[0],e.Data[0].latlong.split(",")[1]);e.map.panTo(h),e.map.setZoom(4)}));var s={gridSize:40,maxZoom:15,styles:[{width:30,height:30,url:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/m1.png",textColor:"white",textSize:12}]};e.markerCluster=new MarkerClusterer(e.map,r,s)}},LoadLocatorDataonMap:function(){var t=this,e=null,a=null;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e=t.coords.latitude,a=t.coords.longitude})):console.log("Geolocation is not supported by this browser."),t.showSetting=!0,"Google"==t.mapType?setTimeout(()=>{t.LoadGoogleHeatMap(e,a)},2e3):"MapBox"==t.mapType?setTimeout(()=>{t.LoadMapboxHeatMap(e,a)},4e3):setTimeout(()=>{t.ShowEtaMap(e,a)},4e3)},initMapBox:function(t,e,a,o){var i=this,n="";let s=3;if(t){var r=$.grep(t,(function(t,e){return""!==t.location_nw&&null!==t.location_nw&&void 0!==typeof t.location_nw&&","!==t.location_nw}));r=r[0],r&&(n=[parseFloat(String(r.location_nw).split(",")[1],10),parseFloat(String(r.location_nw).split(",")[0],10)])}i.startingPoint=n,u.a.accessToken=e,i.map=new u.a.Map({container:i.mapContainer,style:"mapbox://styles/mapbox/streets-v11",zoom:s,zoomControl:!0,scrollZoom:!0,boxZoom:!0}),void 0!==i.config&&i.config.isShowSearchBox&&(i.geocoder=new w.a({accessToken:e,mapboxgl:u.a,marker:!1,placeholder:this.$t("searchforplacesinbarbados")}),i.map.addControl(i.geocoder)),void 0!==i.config&&i.config.isShowDrawButton&&(i.draw=new y.a({displayControlsDefault:!1,controls:{line_string:!1,polygon:!0,point:!0,trash:!0}}),i.map.addControl(i.draw),i.map.on("draw.create",i.GetMapBoxAddressToDraw),i.navTopLeft=new u.a.NavigationControl,i.map.addControl(i.navTopLeft,"top-left")),i.navBottomRight=new u.a.NavigationControl,i.map.addControl(i.navBottomRight,"bottom-right")},resetMap(){var t=this;t.map&&t.draw&&t.draw.deleteAll()},clearSearchField(){var t=this;if(t.geocoder){var e=document.querySelector(".mapboxgl-ctrl-geocoder input");e&&(e.value="")}},initLeafletMap:function(t,e,a){var o,i=this;if(void 0!=t){if(i.map){i.map.off();try{i.map.remove()}catch{}}let e="",a="";if(null!=t&&t.length>0){var n=$.grep(t,(function(t,e){return""!=t.location_nw&&null!=t.location_nw&&"undefined"!=typeof t.location_nw&&","!=t.location_nw}));if(null!=n&&n.length>0){var s=n[0].location_nw;a=s.split(",")[1],e=s.split(",")[0]}}var r=f.a.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:22,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Points &copy '+(new Date).getFullYear()+" LINZ"}),l=(f.a.tileLayer("https://{s}.tiles.mapbox.com/v3/spatial.b625e395/{z}/{x}/{y}.png",{attribution:'<a href="http://www.mapbox.com/about/maps/" target="_blank">Terms &amp; Feedback</a>'}),f.a.latLng(e,a));i.startingPoint=[e,a];var d=10;if(""==e&&""==a&&(d=2),i.map=f.a.map(i.mapContainer,{zoom:d,center:l,layers:[r],zoomControl:!1}),f.a.control.zoom({position:"topright"}).addTo(i.map),void 0!=i.config&&1==i.config.isShowDrawButton&&i.GetLeafLetAddressToDraw(),void 0!=i.config&&1==i.config.isShowSearchBox){const t=new S["b"],e=new S["a"]({provider:t});i.map.addControl(e)}i.markers=f.a.markerClusterGroup({iconCreateFunction:function(t){return f.a.divIcon({html:'<div class="circle-leaflet">'+t.getChildCount()+"</div>"})}});var c=f.a.Icon.extend({options:{shadowSize:[50,64],iconAnchor:[22,94],shadowAnchor:[4,62],popupAnchor:[-3,-76]}});1==i.Data.length&&void 0!=i.Data[0].latlong&&i.map.flyTo([i.Data[0].latlong.split(",")[0],i.Data[0].latlong.split(",")[1]],16,{animate:!0,duration:2});new c({iconUrls:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_critical.png"}),new c({iconUrl:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_high.png"}),new c({iconUrls:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_low.png"}),new c({iconUrls:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_medium.png"}),new c({iconUrls:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_fill.png"});function p(t){var n="",s="";if($.each(t,(function(t,r){if(""!=r.pinLatLong.latitude&&null!=r.pinLatLong.latitude&&void 0!=typeof r.pinLatLong.latitude||r.polygons.length>0){n=r.pinLatLong.latitude;let h=[];s=r.priority;if("[]"!=r.attachmentCountWithExt&&""!=r.attachmentCountWithExt&&null!=r.attachmentCountWithExt){var l=JSON.parse(r.attachmentCountWithExt);$.each(l,(function(t,e){"Video"==e.TYPE?e.COUNT:"Image"==e.TYPE?e.COUNT:parseInt(e.COUNT)}))}if(i.Data[t].polygons.forEach((function(t){t.latLong.forEach((function(t){h.push([t.longitude,t.latitude])}))})),void 0!=r.polygons[t]){if(i.Data[0].polygons[0].latLong.length>1){var d=f.a.polygon(h,{fill:!0}).addTo(i.editableLayers);i.map.fitBounds(d.getBounds())}}let v='<div class="gm-style-iw gm-style-iw-c"><div class="gm-style-iw-d"><div><div id="content"><div class="map-pop-header '+r.priority+'" style="background-color:'+r.color_code+'"><div id="siteNotice"></div>'+r.popupHeaderHtml+'</div><div id="bodyContent">'+r.popupBodyHtml+'<p class="view-details">'+r.popupFooterHtml+"</p></div></div></div></div></div>";a=n.split(",")[1],e=n.split(",")[0],a=parseFloat(a,10),e=parseFloat(e,10);var c=r.ticket_number,p=".leafleticoncustom_"+s+"{background-color:"+r.color_code+" }",m=document.createElement("style");m.innerHTML=p,document.head.appendChild(m);var g=f.a.icon({iconUrl:"https://talygenv.github.io/Vue-UI-Content/images/Ticketing/mapicon_high.png",iconSize:[30,30],color:r.color_code,"icon-color":r.color_code,"background-color":r.color_code,className:"leafleticoncustom_"+s});""!=n&&(o=f.a.marker(f.a.latLng(e,a),{icon:g}),o.bindPopup(v),i.markers.addLayer(o),i.leafLetReferenceNumber.push({TicketNumber:r.refValue,Address:v}),i.mapMarker.push(i.markers));try{o.on("click",(function(t){var e=$("a.ticketnumber[data-ticketnumber='"+c+"']");if("WorkOrderDetail"!=i.mapContainer&&"detailMapDiv"!=i.mapContainer||o.getPopup().getElement().classList.add("d-none"),e.length>0&&"true"==localStorage.getItem("isMapView")){var a=e.closest(".lists");a.addClass("alert-info"),setTimeout((function(){a.removeClass("alert-info")}),5e3)}e=$("a.ticketnumberlist[data-ticketnumber='"+c+"']"),e.length>0&&"false"==localStorage.getItem("isMapView")&&(e=e.closest("tr"),e.addClass("alert-info"),setTimeout((function(){e.removeClass("alert-info")}),5e3))}))}catch(u){console.log("err")}}})),null!=t.mapdetail&&t.mapdetail.length>0)if("MapBox"==t.mapdetail[0].MAP_TYPE){if(""!=t.mapdetail[0].LONGITUDE&&""!=t.mapdetail[0].LATITUDE&&""!=t.mapdetail[0].LAT_LNG){var r=JSON.parse(t.mapdetail[0].LAT_LNG),l=[];$.each(JSON.parse(t.mapdetail[0].LAT_LNG),(function(t,e){var a=[];a.push(e[1],e[0]),l.push(a)})),map.fitBounds(l)}}else if("Google"==t.mapdetail[0].MAP_TYPE&&""!=t.mapdetail[0].LONGITUDE&&""!=t.mapdetail[0].LATITUDE&&""!=t.mapdetail[0].LAT_LNG){var d=[];$.each(JSON.parse(t.mapdetail[0].LAT_LNG),(function(t,e){var a=[];a.push(e.lat,e.lng),d.push(a)}));r=d;var c=[];c.push(r),map.fitBounds(r)}i.map.addLayer(i.markers)}null!=t&&t.length>0&&p(t)}else i.map=f.a.map(i.mapContainer,{layers:[f.a.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'})],center:[0,0],zoom:5});void 0!=i.latLng&&i.ViewOnMap()},ShowEtaMap:function(t,e){var a=this,o=null,i=null,n="driving-car",s=600;if(a.showHideEtaMap)return $.each(a.mapLayer,(function(t,e){a.map.removeLayer(e)})),a.showHideEtaMap=!1,!1;function r(){navigator.geolocation?navigator.geolocation.getCurrentPosition(d,l,{timeout:1e4}):alert("Geolocation is not supported by this browser")}function l(t){t.code;var e=t.message;alert(e)}r();function d(t){t=$.post("geocoordinates.php",{lat:t.coords.latitude,lng:t.coords.longitude})}function c(t,e){if(a.map){$.each(a.mapLayer,(function(t,e){a.map.removeLayer(e)})),a.showHideEtaMap=!0;var o=new f.a.latLng(t,e);a.map.panTo(o),a.map.setZoom(11)}var i=localStorage.getItem("UserImage");String(i).indexOf("blob")<=0&&(i="https://app.talygen.com/Content/images/Black/user.png");var n=f.a.icon({iconUrl:i,iconSize:[40,40]}),s=f.a.popup().setContent("<div style='padding:8px;'><img style='float:left;' src='"+i+"' class='marker' /> <div style='display:block;'>"+a.UserName+"</br>"+a.UserEmailId+"</div></div>"),r=f.a.marker([t,e],{icon:n},{layers:""}).bindPopup(s).openPopup().addTo(a.map);a.imageMarker.push(r),p(!0)}function p(t){var e=[];$("input[name=duration]:checked").each((function(){e.push($(this).val())})),$.ajax({type:"POST",dataType:"json",headers:{Authorization:"5b3ce3597851110001cf62485ecdd7b54dd545c4901722c53ac3d1d3"},url:"https://api.openrouteservice.org/v2/isochrones/"+n,data:JSON.stringify({location_type:"start",range_type:"time",range:e,interval:s,locations:[[o,i],[o,i]],intersections:!1}),async:!1,contentType:"application/json; charset=utf-8",success:function(t){f.a.geoJson(t,{onEachFeature:function(t,e){e.bindPopup("Isochrone: "+t.properties.value),a.mapLayer.push(e)},style:function(t){var e=t.properties.value;return a.SetColor(e),{fillColor:a.colors,color:a.colors,weight:1,fillOpacity:.35}}}).addTo(a.map)}})}o=parseFloat(e,10)+.02,i=parseFloat(t,10)+.004,c(i,o),document.getElementById("params").addEventListener("change",(function(t){if("profile"===t.target.name)n=t.target.value,c(i,o);else if("duration"===t.target.name){var e="";if($(params).find("input:checkbox:checked").length>0){$(params).find("input:checkbox:checked").each((function(){e.length>0&&(e+=",");var t=$(this).val();e+=t}));var a=String(e).split(",");s=a[0],a[a.length-1]}else s="600","1800";c(i,o)}}))},SetColor:function(t){var e=this;if(t=parseInt(t,10),"MapBox"!=e.mapType?t/=60:e.time=10,"MapBox"==e.mapType)switch(t){case 10:e.colors="3CEA19";break;case 20:e.colors="EFF60B";break;case 30:e.colors="F6320B";break;default:e.colors="F6320B"}else switch(t){case 10:e.colors="green";break;case 20:e.colors="yellow";break;case 30:e.colors="red";break;default:e.colors="red"}},LoadGoogleHeatMap:function(t,e){var a=this,o="driving-car",i=600;if(a.showHideEtaMap)return a.map.data.forEach((function(t){a.map.data.remove(t)})),a.showHideEtaMap=!1,!1;function n(n,s){if(a.map){$.each(a.map,(function(t,e){try{a.map.removeLayer(e)}catch(o){}})),a.showHideEtaMap=!0;var r=new f.a.latLng(n,s);a.map.panTo(r),a.map.setZoom(11)}var l={lat:t,lng:e},d=(r=new google.maps.LatLng(t,e),localStorage.getItem("UserImage"));String(d).indexOf("blob")<=0&&(d="https://app.talygen.com/Content/images/Black/user.png");var c={url:d,scaledSize:new google.maps.Size(40,40),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)},p=new google.maps.Marker({position:l,icon:c,map:a.map}),m=new google.maps.InfoWindow({content:"<div style='padding:8px;'><img style='float:left;' src='"+d+"' class='marker' /> <div style='display:block;'>"+a.UserName+"</br>"+a.UserEmailId+"</div></div>"});p.addListener("click",(function(){m.open(a.map,this)})),a.imageMarker.push(p);var g=[];$("input[name=duration]:checked").each((function(){g.push($(this).val())})),$.ajax({type:"POST",dataType:"json",headers:{Authorization:"5b3ce3597851110001cf62485ecdd7b54dd545c4901722c53ac3d1d3"},url:"https://api.openrouteservice.org/v2/isochrones/"+o,data:JSON.stringify({location_type:"start",range_type:"time",range:g,interval:i,locations:[[s,n],[s,n]],intersections:!1}),async:!1,contentType:"application/json; charset=utf-8",success:function(t){a.map.data.addGeoJson(t)}}),a.map.data.setStyle((function(t){var e=t.getProperty("value");return a.SetColor(e),{fillColor:a.colors,opacity:.35,strokeWeight:1}}))}n(t,e),document.getElementById("params").addEventListener("change",(function(a){if("profile"===a.target.name)o=a.target.value,n(t,e);else if("duration"===a.target.name){var s="";if($(params).find("input:checkbox:checked").length>0){$(params).find("input:checkbox:checked").each((function(){s.length>0&&(s+=",");var t=$(this).val();s+=t}));var r=String(s).split(",");i=r[0],r[r.length-1]}else i="600","1800";n(t,e)}}))},Close:function(){var t=this;t.showAddZone=!1,t.showSaveZonePopUp=!1,t.showImportFilePopup=!1},GetZoneManagementData:function(t){var e=this;e.currentSelectedShape.setOptions({strokeOpacity:t.strokeOpacity,strokeColor:t.strokeColor,fillOpacity:.35,strokeWeight:t.strokeWeight,fillColor:t.fillColor}),e.polygonData.forEach((function(a,o){a.Id==t.Id&&(e.polygonData[o].strokeOpacity=t.strokeOpacity,e.polygonData[o].strokeWeight=t.strokeWeight,e.polygonData[o].fillColor=t.fillColor,e.polygonData[o].locatorids=t.locatorids,e.polygonData[o].strokeColor=t.strokeColor,e.polygonData[o].locatorids=t.locatorids,e.showAddZone=!1,e.showSaveZone=!0)}))},OpenSaveZone:function(){var t=this;t.showSaveZonePopUp=!0},SaveZoneData:function(t){var e=this;let a={ZoneId:0==e.zoneId?t.ZoneId:e.zoneId,ResolverUserId:null,JsonData:{type:"FeatureCollection",features:[]},ZoneName:t.Name,description:t.Description,ZoneType:null==t.ZoneType?e.ZoneType:t.ZoneType,YardEmails:null==t.YardEmails?e.emailString:t.YardEmails};e.polygonData.forEach((function(t,e){a.JsonData.features.push({type:"Feature",geometry:{type:"Polygon",coordinates:[[]]},properties:{stroke:t.strokeWeight,"stroke-opacity":t.strokeOpacity,"stroke-width":t.strokeWeight,fillColor:t.fillColor,"fill-opacity":t.fillOpacity,locatorname:null,locatorids:t.locatorids,userids:null}}),t.latLong.forEach((function(t,o){void 0!=a.JsonData.features[e]&&a.JsonData.features[e].geometry.coordinates[0].push([t.longitude,t.latitude])})),void 0!=a.JsonData.features[e]&&a.JsonData.features[e].geometry.coordinates[0].push([a.JsonData.features[e].geometry.coordinates[0][0][0],a.JsonData.features[e].geometry.coordinates[0][0][1]])})),e.zoneData.push(a);var o=JSON.stringify(e.zoneData);n["a"].UploadGeoJSON(o).then((function(t){0==e.zoneId?e.ShowAlert("Zone Succesfully Added.","success"):e.ShowAlert("Zone Succesfully Updated.","success"),e.showSaveZonePopUp=!1,e.currentSelectedShape=null,e.$emit("FetchData")}))},GetLeafLetAddressToDraw:function(){var t=this;let e={City:{Name:"",LongName:""},Country:{Name:"",LongName:""},AdministrativeAreaLevel1:{Name:"",LongName:""},AdministrativeAreaLevel2:{Name:"",LongName:""},AdministrativeAreaLevel3:{Name:"",LongName:""},State:{Name:"",LongName:""},PinCode:"",FullAddress:""};f.a.featureGroup().addTo(t.map);t.editableLayers=(new f.a.FeatureGroup).addTo(t.map);new f.a.Control.Draw({edit:{featureGroup:t.editableLayers,poly:{allowIntersection:!0}},draw:{polygon:{allowIntersection:!1,drawError:{color:"#e1e100",message:"<strong>Oh snap!<strong> you can't draw that!"},shapeOptions:{color:"#bada55"}},polyline:!1,circle:!1,marker:!1,circlemarker:!1}}).addTo(t.map);t.map.addLayer(t.editableLayers),t.map.on("draw:editvertex",(function(a){var o=a.poly;o.getLatLngs(),o.getLatLngs()[0].forEach((function(a,o){t.lngLatData.push({Lat:a.lat,Lng:a.lng});var i=new google.maps.LatLng(t.lngLatData[0].Lat,t.lngLatData[0].Lng),n=new google.maps.Geocoder;n.geocode({latLng:i},(function(t,a){e.FullAddress=t[0].formatted_address})),t.fullAddress.push({LatLng:t.lngLatData,CompleteAddress:e})}))})),t.map.on("draw:created",(function(a){var o=a.layerType,i=a.layer;if("polygon"===o){i.on("mouseover",(function(){console.log(i.getLatLngs())})),t.editableLayers.addLayer(i),i.getLatLngs()[0].forEach((function(e,a){t.lngLatData.push({Lat:e.lat,Lng:e.lng})}));var n=new google.maps.LatLng(i.getLatLngs()[0][0].lat,i.getLatLngs()[0][0].lng),s=new google.maps.Geocoder;s.geocode({latLng:n},(function(a,o){e.FullAddress=a[0].formatted_address,a[0].address_components.forEach((function(a,o){"country"==a.types[0]?(e.Country.Name=a.short_name,e.Country.LongName=a.long_name):"postal_code"==a.types[0]?e.PinCode=a.long_name:"administrative_area_level_1"==a.types[0]?(e.AdministrativeAreaLevel1.LongName=a.long_name,e.AdministrativeAreaLevel1.Name=a.short_name,e.State.LongName=a.long_name,e.State.Name=a.short_name):"administrative_area_level_2"==a.types[0]?(e.AdministrativeAreaLevel2.LongName=a.long_name,e.AdministrativeAreaLevel2.Name=a.short_name):"administrative_area_level_3"==a.types[0]?(t.address.push({AdministrativeArea3:a.long_name}),e.AdministrativeAreaLevel3.LongName=a.long_name,e.AdministrativeAreaLevel3.Name=a.short_name):"locality"==a.types[0]&&(t.address.push({City:a.long_name}),e.City.LongName=a.long_name,e.City.Name=a.short_name)})),t.fullAddress.push({LatLng:t.lngLatData,CompleteAddress:e}),t.$emit("GetAddress",t.fullAddress)}))}else{t.lngLatData.push({Lat:a.layer._latlng.lat,Lng:a.layer._latlng.lng});n=new google.maps.LatLng(a.layer._latlng.lat,a.layer._latlng.lng),s=new google.maps.Geocoder;s.geocode({latLng:n},(function(a,o){e.FullAddress=a[0].formatted_address,a[0].address_components.forEach((function(a,o){"country"==a.types[0]?(e.Country.Name=a.short_name,e.Country.LongName=a.long_name):"postal_code"==a.types[0]?e.PinCode=a.long_name:"administrative_area_level_1"==a.types[0]?(e.AdministrativeAreaLevel1.LongName=a.long_name,e.AdministrativeAreaLevel1.Name=a.short_name,e.State.LongName=a.long_name,e.State.Name=a.short_name):"administrative_area_level_2"==a.types[0]?(e.AdministrativeAreaLevel2.LongName=a.long_name,e.AdministrativeAreaLevel2.Name=a.short_name):"administrative_area_level_3"==a.types[0]?(t.address.push({AdministrativeArea3:a.long_name}),e.AdministrativeAreaLevel3.LongName=a.long_name,e.AdministrativeAreaLevel3.Name=a.short_name):"locality"==a.types[0]&&(t.address.push({City:a.long_name}),e.City.LongName=a.long_name,e.City.Name=a.short_name)})),t.fullAddress.push({LatLng:t.lngLatData,CompleteAddress:e}),t.$emit("GetAddress",t.fullAddress)}))}}))},GetGoogleAddressToDraw:function(t){var e=this,a=t.overlay;e.currentSelectedShape=a;let o={City:{Name:"",LongName:""},Country:{Name:"",LongName:""},AdministrativeAreaLevel1:{Name:"",LongName:""},AdministrativeAreaLevel2:{Name:"",LongName:""},AdministrativeAreaLevel3:{Name:"",LongName:""},State:{Name:"",LongName:""},PinCode:"",FullAddress:""};if("polygon"==t.type){var i=t.overlay;i.type=t.type,e.lngLatData=[],"zoneMapDiv"==e.mapContainer&&(e.polygonNewShapeId=(new Date).getTime()+"_"+Math.floor(1e3*Math.random()),e.showAddZone=!0),t.overlay.getPath().getArray().map(t=>{e.lngLatData.push({latitude:t.lat(),longitude:t.lng()})}),i["ShapeId"]=e.polygonNewShapeId,google.maps.event.addListener(i,"click",(function(t,a,o){"zoneMapDiv"==e.mapContainer&&(e.polygonNewShapeId=this.ShapeId,e.showAddZone=!0,e.currentSelectedShape=this)}));var n=new google.maps.LatLng(e.lngLatData[0].latitude,e.lngLatData[0].longitude),s=new google.maps.Geocoder;s.geocode({latLng:n},(function(t,a){o.FullAddress=t[0].formatted_address,a==google.maps.GeocoderStatus.OK&&(t[0].address_components.forEach((function(t,a){"country"==t.types[0]?(o.Country.Name=t.short_name,o.Country.LongName=t.long_name):"postal_code"==t.types[0]?o.PinCode=t.long_name:"administrative_area_level_1"==t.types[0]?(o.AdministrativeAreaLevel1.LongName=t.long_name,o.AdministrativeAreaLevel1.Name=t.short_name,o.State.LongName=t.long_name,o.State.Name=t.short_name):"administrative_area_level_2"==t.types[0]?(o.AdministrativeAreaLevel2.LongName=t.long_name,o.AdministrativeAreaLevel2.Name=t.short_name):"administrative_area_level_3"==t.types[0]?(e.address.push({AdministrativeArea3:t.long_name}),o.AdministrativeAreaLevel3.LongName=t.long_name,o.AdministrativeAreaLevel3.Name=t.short_name):"locality"==t.types[0]&&(e.address.push({City:t.long_name}),o.City.LongName=t.long_name,o.City.Name=t.short_name)})),e.fullAddress.push({LatLng:e.lngLatData,CompleteAddress:o}),e.$emit("GetAddress",e.fullAddress),e.polygonData.push({Id:e.polygonNewShapeId,latLong:e.lngLatData,CompleteAddress:o,strokeOpacity:"",strokeWeight:"",strokeColor:"",fillColor:"",locatorids:""}))}))}else if("marker"==t.type){e.lngLatData.push({name:"",latLong:[{latitude:t.overlay.getPosition().lat(),longitude:t.overlay.getPosition().lng()}]});n=new google.maps.LatLng(t.overlay.getPosition().lat(),t.overlay.getPosition().lng()),s=new google.maps.Geocoder;s.geocode({latLng:n},(function(t,a){a==google.maps.GeocoderStatus.OK&&(t[0].address_components.forEach((function(t,a){"country"==t.types[0]?(o.Country.Name=t.short_name,o.Country.LongName=t.long_name):"postal_code"==t.types[0]?o.PinCode=t.long_name:"administrative_area_level_1"==t.types[0]?(o.AdministrativeAreaLevel1.LongName=t.long_name,o.AdministrativeAreaLevel1.Name=t.short_name,o.State.LongName=t.long_name,o.State.Name=t.short_name):"administrative_area_level_2"==t.types[0]?(o.AdministrativeAreaLevel2.LongName=t.long_name,o.AdministrativeAreaLevel2.Name=t.short_name):"administrative_area_level_3"==t.types[0]?(e.address.push({AdministrativeArea3:t.long_name}),o.AdministrativeAreaLevel3.LongName=t.long_name,o.AdministrativeAreaLevel3.Name=t.short_name):"locality"==t.types[0]&&(e.address.push({City:t.long_name}),o.City.LongName=t.long_name,o.City.Name=t.short_name)})),e.fullAddress.push({LatLng:e.lngLatData,CompleteAddress:o}),e.$emit("GetAddress",e.fullAddress))}))}},LoadMapboxHeatMap:function(t,e){var a=this;if("undefined"!=typeof a.map.getLayer("isoLayer")&&a.map.removeLayer("isoLayer"),"undefined"!=typeof a.map.getSource("iso"))return a.map.removeSource("iso"),!1;var o=document.getElementById("params"),i="https://api.mapbox.com/isochrone/v1/mapbox/",n=null,s=null,r=(i="https://api.mapbox.com/isochrone/v1/mapbox/",parseFloat(s,10),parseFloat(n,10),"driving"),l="10,20,30";function d(){var o=i+r+"/"+e+","+t+"?contours_minutes="+l+"&contours_colors="+a.colors+"&polygons=true&access_token="+u.a.accessToken;$.ajax({method:"GET",url:o}).done((function(t){a.map.getSource("iso").setData(t)}))}a.colors="3CEA19,EFF60B,F6320B",p(),a.map.flyTo({center:[e,t],zoom:10,essential:!0});var c=new y.a;function p(){a.map.addSource("iso",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),a.map.addLayer({id:"isoLayer",type:"fill",source:"iso",layout:{},paint:{"fill-color":["get","fillColor"],"fill-opacity":.5}},"poi-label");var o={lon:e,lat:t},i=localStorage.getItem("UserImage");String(i).indexOf("blob")<=0&&(i="https://app.talygen.com/Content/images/Black/user.png");var n=new u.a.Popup({offset:25}).setHTML("<div style='padding:8px;'><img style='float:left;' src='"+i+"' class='marker' /> <div style='display:block;'>@loggedUserInfo.Name </br>@loggedUserInfo.Email</div></div>"),s=document.createElement("div");s.className="marker",s.style.backgroundImage="url("+i+")",s.style.backgroundPosition="top center",s.style.backgroundSize="cover",s.style.width="40px",s.style.height="40px";var r=new u.a.Marker(s).setLngLat(o).setPopup(n).addTo(a.map);a.imageMarker.push(r),d()}a.map.addControl(c,"bottom-left"),o.addEventListener("change",(function(t){if("profile"===t.target.name)r=t.target.value,"foot-walking"==r?r="walking":"cycling-regular"==r?r="cycling":"driving-car"==r&&(r="driving"),d();else if("duration"===t.target.name){var e="",i="";$(o).find("input:checkbox:checked").length>0?($(o).find("input:checkbox:checked").each((function(){e.length>0&&(e+=","),i.length>0&&(i+=",");var t=$(this).val();e+=t,a.SetColor(t),i+=a.colors})),l=e,a.colors=i,d()):(l="10,20,30",a.colors="3CEA19,EFF60B,F6320B",d())}})),a.map.on("load",(function(){p()}))},TravelMode:function(t){var e=this;e.time=e.time-t,"LeafLet"==e.mapType?e.ShowEtaMap():"Google"==e.mapType?e.LoadGoogleHeatMap():"MapBox"==e.mapType&&e.LoadMapboxHeatMap()},ShowTravelMode:function(){var t=this;0==t.showSettingPopup?($(".settingPopup").removeClass("d-none"),t.showSetting=!1,t.showSettingPopup=!0):($(".settingPopup").addClass("d-none"),t.showSetting=!0,t.showSettingPopup=!1)},GetMapBoxAddressToDraw:function(t){var e=this;let a={City:{Name:"",LongName:""},Country:{Name:"",LongName:""},AdministrativeAreaLevel1:{Name:"",LongName:""},AdministrativeAreaLevel2:{Name:"",LongName:""},AdministrativeAreaLevel3:{Name:"",LongName:""},PinCode:"",State:{Name:"",LongName:""},FullAddress:""};if("Polygon"==t.features[0].geometry.type){t.features[0].geometry.coordinates[0].forEach((function(t,a){e.lngLatData.push({Lat:t[1],Lng:t[0]})}));var o=new google.maps.LatLng(t.features[0].geometry.coordinates[0][0][1],t.features[0].geometry.coordinates[0][0][0]),i=new google.maps.Geocoder;i.geocode({latLng:o},(function(t,o){a.FullAddress=t[0].formatted_address,o==google.maps.GeocoderStatus.OK&&(t[0].address_components.forEach((function(t,o){"country"==t.types[0]?(a.Country.Name=t.short_name,a.Country.LongName=t.long_name):"postal_code"==t.types[0]?a.PinCode=t.long_name:"administrative_area_level_1"==t.types[0]?(a.AdministrativeAreaLevel1.LongName=t.long_name,a.AdministrativeAreaLevel1.Name=t.short_name,a.State.LongName=t.long_name,a.State.Name=t.short_name):"administrative_area_level_2"==t.types[0]?(a.AdministrativeAreaLevel2.LongName=t.long_name,a.AdministrativeAreaLevel2.Name=t.short_name):"administrative_area_level_3"==t.types[0]?(e.address.push({AdministrativeArea3:t.long_name}),a.AdministrativeAreaLevel3.LongName=t.long_name,a.AdministrativeAreaLevel3.Name=t.short_name):"locality"==t.types[0]&&(e.address.push({City:t.long_name}),a.City.LongName=t.long_name,a.City.Name=t.short_name)})),e.fullAddress.push({LatLng:e.lngLatData,CompleteAddress:a}),e.$emit("GetAddress",e.fullAddress))}))}else{e.lngLatData.push({Lat:t.features[0].geometry.coordinates[1],Lng:t.features[0].geometry.coordinates[0]});o=new google.maps.LatLng(t.features[0].geometry.coordinates[1],t.features[0].geometry.coordinates[0]),i=new google.maps.Geocoder;i.geocode({latLng:o},(function(t,o){a.FullAddress=t[0].formatted_address,o==google.maps.GeocoderStatus.OK&&(t[0].address_components.forEach((function(t,o){"country"==t.types[0]?(a.Country.Name=t.short_name,a.Country.LongName=t.long_name):"postal_code"==t.types[0]?a.PinCode=t.long_name:"administrative_area_level_1"==t.types[0]?(a.AdministrativeAreaLevel1.LongName=t.long_name,a.AdministrativeAreaLevel1.Name=t.short_name):"administrative_area_level_2"==t.types[0]?(a.AdministrativeAreaLevel2.LongName=t.long_name,a.AdministrativeAreaLevel2.Name=t.short_name,a.State.LongName=t.long_name,a.State.Name=t.short_name):"administrative_area_level_3"==t.types[0]?(e.address.push({AdministrativeArea3:t.long_name}),a.AdministrativeAreaLevel3.LongName=t.long_name,a.AdministrativeAreaLevel3.Name=t.short_name):"locality"==t.types[0]&&(e.address.push({City:t.long_name}),a.City.LongName=t.long_name,a.City.Name=t.short_name)})),e.fullAddress.push({LatLng:e.lngLatData,CompleteAddress:a}),e.$emit("GetAddress",e.fullAddress))}))}}}},C=_,A=(a("b851"),a("0c7c")),x=Object(A["a"])(C,p,m,!1,null,null,null),D=x.exports,k={name:"Billing",props:{editStationData:{type:Array}},components:{MapComponent:D},data(){return{config:{isShowDrawButton:!0,isShowSearchBox:!0},meterServiceOptions:[],FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("StationName"),name:"Station Name:",value:"",placeholder:"",validationRules:{max:200,required:!1}},{astype:"SelectField",label:this.$t("ServiceType"),name:"Service Type",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{options:[]}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{options:[{name:this.$t("Active"),value:1001},{name:this.$t("Inactive"),value:1002}],showAddIcon:!1}},{astype:"TextField",label:this.$t("AssociatedZipCodes"),name:"Associated Zip Codes:",value:"",placeholder:"",validationRules:{max:200,required:!1}},{astype:"NumericField",label:this.$t("PressureValue"),name:"Pressure Value:",value:0,placeholder:"",validationRules:{required:!0}}]},{layoutType:"double",group_name:"Account Settings",group_display_name:this.$t("AccountSettings"),Data:[{astype:"TextField",label:this.$t("AddressLine1"),name:"Address Line 1:",value:"",placeholder:""},{astype:"TextField",label:this.$t("AddressLine2"),name:"Address Line 2:",value:"",placeholder:"",validationRules:{max:200,required:!1}},{astype:"SelectField",label:this.$t("COUNTRY"),name:"Country",value:"",placeholder:"",disabled:!0,validationRules:{required:!0,max:250},config:{options:[]}},{astype:"TextField",label:this.$t("StateProvince"),name:"State/Province",value:"",placeholder:"",disabled:!0,validationRules:{required:!1}},{astype:"TextField",label:this.$t("City"),name:"City:",value:"",placeholder:"",disabled:!0,validationRules:{required:!1},config:{options:[]}},{astype:"TextField",label:this.$t("ZIPCODE"),name:"Zip Code:",value:"",placeholder:"",disabled:!0,validationRules:{required:!1}}]}],latLngValues:"",isStationId:0,isUpdateForm:!1}},async created(){var t=this;if(await t.GetCountryDDL(),await t.GetMeterServices(),0!=t.editStationData.length){t.isUpdateForm=!0,t.latLngValues="",t.isStationId=this.editStationData.STATION_ID,this.FormSchema[0].Data[0].value=this.editStationData.STATION_NAME,this.FormSchema[0].Data[1].value=this.editStationData.SERVICE_TYPE,this.FormSchema[0].Data[2].value=this.editStationData.STATUS_ID,this.FormSchema[0].Data[3].value=this.editStationData.ASSOCIATED_ZIP_CODES,this.FormSchema[0].Data[4].value=this.editStationData.PRESSURE_VALUE,this.FormSchema[1].Data[0].value=this.editStationData.ADDRESS_1,this.FormSchema[1].Data[1].value=this.editStationData.ADDRESS_2,this.FormSchema[1].Data[2].value=this.editStationData.COUNTRY_ID,this.FormSchema[1].Data[3].value=this.editStationData.STATE,this.FormSchema[1].Data[4].value=this.editStationData.CITY,this.FormSchema[1].Data[5].value=this.editStationData.ZIPCODE,this.Latitude=this.editStationData.LATITUDE,this.Longitude=this.editStationData.LONGITUDE;let e={location_nw:this.editStationData.LONGITUDE.replace(",","")+this.editStationData.LATITUDE.replace(",",",")};t.latLngValues=e}else t.isStationId=0,t.isUpdateForm=!1},methods:{clearForm(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.FormSchema[0].Data[4].value="",t.FormSchema[1].Data[0].value="",t.FormSchema[1].Data[1].value="",t.FormSchema[1].Data[2].value="",t.FormSchema[1].Data[3].value="",t.FormSchema[1].Data[4].value="",t.FormSchema[1].Data[5].value="",this.$parent.editStationData=[],this.$parent.isCreateStation=!1},GetMeterServices(){n["a"].GetMeterServices().then(t=>{this.meterServiceOptions=t.data,this.meterServiceOptions.forEach(t=>{this.FormSchema[0].Data[1].config.options.push({name:""+t.key,value:""+t.value})})})},GetCountryDDL(){var t="moduleName=CRM&type=COUNTRIES",e=this;n["a"].GetDDLData(t).then(t=>{e.countryList=t.data.DATA,e.countryList.forEach(t=>{e.FormSchema[1].Data[2].config.options.push({name:""+t.name,value:""+t.value})}),this.$refs.refAddress.UpdateKeyValue()})},GetAddress(t){var e=this;e.Latitude="",e.Longitude="",e.$refs.mapComponnet.fullAddress=[],e.$refs.mapComponnet.lngLatData=[];var a=t.length-1;let o=e.countryList.filter(e=>e.name===t[a].CompleteAddress.Country.LongName);e.FormSchema[1].Data[0].value=t[a].CompleteAddress.FullAddress;var i=""==o?"":o[0].value;e.FormSchema[1].Data[2].value=i,e.FormSchema[1].Data[3].value=e.FormSchema[1].Data[4].value=t[a].CompleteAddress.State.LongName,e.FormSchema[1].Data[4].value=t[a].CompleteAddress.City.LongName,e.FormSchema[1].Data[5].value=t[a].CompleteAddress.PinCode;var n="",s="",r="",l="";t[a].LatLng.forEach((t,e)=>{0==e?(n=t.Lat,s=t.Lng):(r=t.Lat,l=t.Lng)}),e.Latitude=r+","+s,e.Longitude=n+","+l},onSubmit(){var t=this;t.$refs.refAddress.validateForm.validate().then(async e=>{if(e){t.isLoading=!0;let e={stationId:t.isStationId,station_name:t.FormSchema[0].Data[0].value,service_type_id:parseInt(t.FormSchema[0].Data[1].value),status_id:t.FormSchema[0].Data[2].value,associated_zip_code:t.FormSchema[0].Data[3].value,pressure_value:t.FormSchema[0].Data[4].value,address_1:t.FormSchema[1].Data[0].value,address_2:t.FormSchema[1].Data[1].value,country_id:parseInt(t.FormSchema[1].Data[2].value),state:t.FormSchema[1].Data[3].value,city:t.FormSchema[1].Data[4].value,zipcode:t.FormSchema[1].Data[5].value,latitude:t.Latitude,longitude:t.Longitude};console.warn(e);var a=new FormData;a.append("postString",JSON.stringify(e)),n["a"].AddUpdateStation(a).then(e=>{if(t.isLoading=!1,null!=e.data){if(1==e.data){t.ShowAlert(t.$t("StationAddedSuccess"),"success",t.$t("Alert")),t.clearForm();let e={location_nw:"0,0"};t.latLngValues=e,t.FormSchema[0].Data[0].validationRules.required=!1,t.FormSchema[0].Data[2].validationRules.required=!1,t.$refs.mapComponnet.clearSearchField(),t.$refs.mapComponnet.resetMap()}else if(2==e.data){t.ShowAlert(t.$t("BillingStationUpdated"),"success",t.$t("Alert")),t.clearForm();let e={location_nw:"0,0"};t.latLngValues=e,t.FormSchema[0].Data[0].validationRules.required=!1,t.FormSchema[0].Data[2].validationRules.required=!1,t.isUpdateForm=!1,t.$refs.mapComponnet.clearSearchField(),t.$refs.mapComponnet.resetMap()}}else t.ShowAlert(t.$t("Something went Wrong."),"success",t.$t("Alert"));this.$parent.FetchData(),this.$parent.editStationData=[],this.$parent.isCreateStation=!1})}}).catch(t=>{console.error("Error validating form:",t)})}}},T=k,N=Object(A["a"])(T,d,c,!1,null,null,null),M=N.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle py-1"},[a("h5",{staticClass:"pt-2",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("CreateGCV"))+" ")]),a("button",{staticClass:"close",on:{click:function(e){t.$parent.isGCVShow=!1}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("dynamic-form",{ref:"refAddress",attrs:{lang:"en",buttons:!1,schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-SetGCVYear",fn:function(e){e.data;return[a("div",{staticClass:"input-group mb-3"},[a("MonthPickerInput",{staticClass:"form-control",attrs:{"no-default":!0},model:{value:t.DateofMeasurement,callback:function(e){t.DateofMeasurement=e},expression:"DateofMeasurement"}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[a("em",{staticClass:"fa fa-calendar"})])])],1)]}}])})],1),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("div",{staticClass:"row flex-row-reverse mt-2"},[a("div",{staticClass:"col-lg-6 text-right mb-2"},[a("a",{staticClass:"btn btn-success mr-2 ",attrs:{title:"",id:"addAddress","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.onSubmit}},[a("i",{staticClass:"fa fa-save mr-2"}),a("span",{attrs:{id:"btnAddressText"}},[t._v(" "+t._s(t.$t("Save")))])]),a("a",{staticClass:"btn btn-danger mr-2",attrs:{title:"",id:"CancelAddress","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){t.$parent.isGCVShow=!1}}},[a("i",{staticClass:"fa fa-times mr-2"}),t._v(t._s(t.$t("Cancel")))])])])])])]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left mb-2",staticStyle:{"max-height":"300px","overflow-y":"auto",width:"100%"}},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered nowrap mt-0 mb-0",attrs:{"aria-describedby":"layoutfilter"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("yearmonth")))])]),a("th",{staticClass:"text-center",attrs:{scope:"col"}},[a("span",[t._v(t._s(t.$t("setGcvvalue")))])])])]),a("tbody",[t._l(t.stationGcvList,(function(e,o){return a("tr",{key:o},[a("td",{staticClass:"text-center"},[t._v(t._s(t.formatListDate(e.GCV_DATE_OF_MEASUREMENT)))]),a("td",{staticClass:"text-center"},[t._v(t._s(e.GCV_VALUE))])])})),0==t.stationGcvList.length?a("tr",{staticStyle:{cursor:"initial"}},[a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])])]):t._e()],2)])])])])])])])])])])])},I=[],F=a("7b25"),P={name:"Billing",props:{stationData:{type:Array}},components:{MapComponent:D,MonthPickerInput:F["a"]},data(){return{config:{isShowDrawButton:!0,isShowSearchBox:!0},meterServiceOptions:[],FormSchema:[{layoutType:"double",Data:[{astype:"SlotField",label:this.$t("GCVYear"),name:"SetGCVYear",value:"",placeholder:"MM-YYYY",validationRules:{required:!0,max:250}},{astype:"NumericField",label:this.$t("setGcvvalue"),name:"SetGCVValue",value:0,placeholder:"",validationRules:{max:9,required:!1}}]}],latLngValues:"",isStationId:0,isUpdateForm:!1,GCVDate:null,DateofMeasurement:null,stationGcvList:[]}},async created(){var t=this;t.getGcvList(t.stationData.STATION_ID)},methods:{togglePopover(){},formatListDate(t){if("string"!==typeof t&&(t=String(t)),6===t.length){const e=t.substring(0,4),a=t.substring(4,6),o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=parseInt(a,10)-1,n=o[i];return`${e}/${n}`}return""},formatDate(t){if(!t)return"";const e=new Date(t),a=e.getFullYear(),o=(e.getMonth()+1).toString().padStart(2,"0");return`${a}/${o}`},formattedDate(t){const e=String(t.monthIndex).padStart(2,"0");return`${t.year}${e}`},onSubmit(){var t=this;t.$refs.refAddress.validateForm.validate().then(async e=>{if(e){let e=t.formattedDate(t.DateofMeasurement),o=`station_id=${t.stationData.STATION_ID}&gcv_month=${e}&gcv_value=${""==t.FormSchema[0].Data[1].value?0:t.FormSchema[0].Data[1].value}&statusId=1001`;const i=JSON.stringify(o);var a={objData:i};n["a"].SaveGCVValue(a).then(e=>{null!=e.data&&(1==e.data.code&&(t.ShowAlert(t.$t("Gcv_Added_Success"),"success",t.$t("Alert")),t.getGcvList(t.stationData.STATION_ID)),2==e.data.code&&(t.ShowAlert(t.$t("Gcv_Updated_Success"),"success",t.$t("Alert")),t.getGcvList(t.stationData.STATION_ID))),t.FormSchema[0].Data[1].value="",t.DateofMeasurement=""})}})},getGcvList(t){var e=this;let a="station_id="+t;n["a"].GetGCVByStationId(a).then(t=>{null!=JSON.parse(t.data.result).DATA?e.stationGcvList=JSON.parse(t.data.result).DATA:e.stationGcvList=[]})}}},O=P,G=(a("17e4"),a("dd62"),Object(A["a"])(O,E,I,!1,null,null,null)),U=G.exports,B={components:{AddNewStation:M,SetGCV:U},data(){return{noRecord:!0,TotalRecords:0,CurrentPage:1,totalPages:0,sortBy:"",sortExp:"",pageSize:10,PageNumber:1,widgets:[],headers:[{COLUMN_NAME:"STATION_NAME",DATA_TYPE:"image",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("StationName"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ServiceType"),DISPLAY_ORDER:2},{COLUMN_NAME:"ASSOCIATED_ZIP_CODES",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AssociatedZipCodes"),DISPLAY_ORDER:3},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"COUNTRY_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("COUNTRY"),DISPLAY_ORDER:5},{COLUMN_NAME:"STATE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("STATE"),DISPLAY_ORDER:6},{COLUMN_NAME:"CITY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("City"),DISPLAY_ORDER:7},{COLUMN_NAME:"ZIPCODE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ZIPCODE"),DISPLAY_ORDER:8}],stationList:[],isLoading:!0,listheaderbuttons:l.buttons,isCreateStation:!1,editStationData:[],listActions:l.listActions,isGCVShow:!1,stationData:[]}},created(){this.FetchData()},methods:{pagerMethod(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,this.FetchData()},actionButtonClick:function(t,e,a,o){var i=this;switch(t){case"Delete":i.DeleteStation(e);break;case"Set GCV":i.SetUGCStation(e);break}},SetUGCStation(t){var e=this;e.isGCVShow=!0,e.stationData=t},DeleteStation(t){var e=this;e.isLoading=!0,e.confirmR(e.$t("AreYouSureToUpdateStatus"),!0,!1,(function(a){let o="station_id="+t.STATION_ID;n["a"].DeleteStationData(o).then(t=>{1==t.data.status?e.ShowAlert(e.$t("DeletedSuccess",[e.$t("station")]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("DeletedError","failure",e.$t("Alert"))),e.FetchData()})}))},DrpdownUpdataStatus(t,e){var a=this,o=t,i=e;a.confirmR(a.$t("AreYouSureToUpdateStatus"),!0,!1,(function(t){var e=`station_id=${i}&statusId=${o}`;n["a"].UpdateStationStatus(e).then(t=>{1==t.data.status&&(a.ShowAlert(a.$t("RecordUpdatedSuccessfully","Success",!0,a.$t("Alert"))),a.FetchData())})})),a.FetchData()},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Delete":e.isVisible=!0;break;case"Set GCV":e.isVisible=!0;break}a.push(e)}),a},FetchData:function(){var t=this;t.isLoading=!0,n["a"].GetStationList().then(e=>{if("Success"==e.data.status){console.log(e.data.result);try{let a=JSON.parse(e.data.result).data;a.length>0?t.stationList=a:t.stationList=[]}catch(a){t.stationList=[]}}else t.stationList=[];t.isLoading=!1}).catch(e=>{t.stationList=[],t.isLoading=!1})},commonHeaderButtonClick(t){switch(t.callbackfunction){case"Add":this.AddNew();break}},AddNew:function(){var t=this;t.isCreateStation=!0},clickEventOfColumn1:function(t){var e=this;e.isCreateStation=!0,e.editStationData=t}}},R=B,z=Object(A["a"])(R,o,i,!1,null,null,null);e["default"]=z.exports},5729:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,'.mapboxgl-popup-content button.mapboxgl-popup-close-button{font-size:23px;top:3px}.mapboxgl-popup{width:340px;max-width:340px!important}.leaflet-popup-content .popupcontent{background:#fff}.leaflet-left .leaflet-control-zoom{display:none}.leaflet-marker-icon{border-radius:100%!important}.leaflet-popup-content p{margin:auto!important}.leaflet-popup-content-wrapper{padding:0!important}.leaflet-popup-content{margin:auto!important;line-height:1.4!important;width:340px!important}.leaflet-container a.leaflet-popup-close-button{color:#5c5c5c!important;padding:6px 5px 0 0!important}.gm-style-iw.gm-style-iw-c{background-color:#fff!important;padding-right:0!important;padding-bottom:0!important;max-width:648px!important;min-height:150px!important;padding:0!important;width:340px!important;border-radius:0}.gm-style-iw.gm-style-iw-c button.gm-ui-hover-effect{background:0 0!important;display:block!important;font-size:18px!important;border:0!important;margin:0!important;padding:0!important;position:absolute!important;cursor:pointer!important;-webkit-user-select:none!important;-moz-user-select:none!important;user-select:none!important;top:-6px!important;right:-6px!important;width:36px!important;height:40px!important}.gm-style-iw.gm-style-iw-c .gm-style-iw-d{overflow:hidden!important;width:100%!important}.gm-style-iw.gm-style-iw-c #content{padding:0!important;transition:all .3s;width:100%}.gm-style-iw.gm-style-iw-c .map-pop-header{color:#fff}.gm-style-iw.gm-style-iw-c .map-pop-header.Medium{background:#4cb4fb}.gm-style-iw.gm-style-iw-c .map-pop-header.Low{background:#4db567}.gm-style-iw.gm-style-iw-c .map-pop-header.High{background:#fbc648}.gm-style-iw.gm-style-iw-c .map-pop-header.Critical{background:#ef8934}.gm-style-iw.gm-style-iw-c .map-pop-header.highprofile{background:#de0303}.gm-style-iw.gm-style-iw-c .firstHeading{font-size:16px;display:flex;align-items:center;padding:5px 10px}.gm-style-iw.gm-style-iw-c .status{font-size:12px;background:#5c5c5c;font-weight:400;color:#fff;padding:4px 6px;margin-left:5px}.gm-style-iw.gm-style-iw-c p.details{display:flex;width:100%;font-weight:bolder;font-size:14px;padding:5px 10px;margin-bottom:4px}.gm-style-iw.gm-style-iw-c p.details span{font-size:12px;font-weight:400;text-transform:capitalize}.gm-style-iw.gm-style-iw-c .view-details{display:flex;width:100%;font-weight:bolder;font-size:14px;margin-bottom:0;border-top:2px solid #bfbfbf;flex-direction:row}.gm-style-iw.gm-style-iw-c .view-details a{padding:0 5px;margin-right:5px;color:#525e65}.mapboxgl-popup-content{padding:0!important}.mail-box-pop.dialog{background:rgba(0,0,0,.5)!important}.mail-box-pop .modal-dialog{max-width:570px!important;min-height:500px!important}.mail-box-pop.eta .modal-dialog{max-width:1200px!important;min-height:500px!important}.mail-box-pop.eta .modal-body{max-height:800px!important;height:800px!important}.motabod{border-right:10px solid #e5e5e5}.movedivider{background-repeat:no-repeat;background-position:0 0;width:37px;height:57px;position:absolute;z-index:999;right:-24px;top:160px;display:none}tr.bg-danger{background-color:#f7ccd0!important}.ui-resizable-handle{z-index:9999}.custom-tab-content ul.responsive-tabs.fsmtabcontrol li a{padding:10px}.tags-input-badge{font-size:12px!important;padding-top:5px!important;padding-bottom:5px!important;background-color:#3f637e!important;color:#fff!important}.tags-input-remove:after,.tags-input-remove:before{background:#fff!important}.tags-input span{margin-bottom:.3em}.circle-leaflet{width:55px!important;height:55px!important;line-height:55px;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/Ticketing/m2.png)!important;text-align:center!important;font-weight:700!important;position:absolute!important;top:-22px!important;left:-19px!important}.table-heading-wb .table-head-btn{padding:.5rem}.gmnoprint{right:0!important;left:auto!important}.bg-gray-faint{position:relative;background-color:#fff!important;font-family:Open Sans,sans-serif;padding:8px 16px!important;margin-top:55px!important;border:1px solid #2196f3;margin-left:12px!important}.bg-gray-faint:after{color:#2196f3;content:"\\f0d8";position:absolute;font:normal normal normal 14px/1 FontAwesome;top:-19px;left:10%;font-size:27px}.txt-m{font-size:15px;line-height:24px;margin-top:0;margin-bottom:0}.sliderchk{cursor:pointer;top:0;left:3px;right:0;bottom:0;background-color:#ccc}.sliderchk,.sliderchk:before{position:absolute;transition:.4s}.sliderchk:before{content:"";height:24px;width:24px;left:6px;bottom:4px;background-color:#fff}input:focus+.sliderchk{box-shadow:0 0 1px #2196f3}.sliderchk.round{border-radius:34px!important}.sliderchk.round:before{border-radius:50%;top:0}.textname{top:29px;position:absolute;left:4px;font-size:13px;color:#999;font-weight:700}.timelegend{height:10px;padding:0 15px;display:inline-block}.timelegend.min10{background-color:#96d52d}.timelegend.min20{background-color:#f0c141}.timelegend.min30{background-color:#f18d76}.showduration{float:left;color:#565656!important;position:absolute;left:4px;top:0;cursor:pointer;font-size:18px;background-color:#fff;padding:7px 18px;margin:10px;margin-left:8px;font-family:Roboto,Arial,sans-serif;z-index:999}.tags-input-root .typeahead-badges{padding-top:.25rem!important}#divmapdata .map-result img{width:auto!important}.filterscrollForCardView{scrollbar-width:thin;scrollbar-color:#848484}.filterscrollForCardView::-webkit-scrollbar{width:8px;height:8px}.filterscrollForCardView::-webkit-scrollbar-track{background-clip:content-box;border:2px solid transparent}.filterscrollForCardView::-webkit-scrollbar-thumb{background-color:#848484}.filterscrollForCardView::-webkit-scrollbar-corner,.scrollbar-1::-webkit-scrollbar-track{background-color:#848484}.typeahead-badges>span{max-width:195px}[data-color_code]:after{background-color:attr(data-color_code)}.fsm-ticket,.table-bordered tr.fsm-ticket{background-color:#f5f1ef!important}.pinscreenMap{background:#17a2b8;border-left:0!important}.pinscreenMap,.unpinscreenMap{padding:15px 0!important;width:50px;cursor:pointer}.unpinscreenMap{background:#525f65}.unpinscreenMap i{transform:rotate(-45deg)}.map-actions span.esri_prof:hover{transform:none!important}.map-actions span.esri_prof a{color:#212529}.mCustomScrollBox,.mCustomScrollBox .mCS-light{max-height:inherit!important}#scrollbarreplyuserguide{max-height:350px}.theme-primary.partition{overflow:visible}',""]),t.exports=e},5790:function(t,e,a){var o=a("5729");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("5a6e3116",o,!0,{sourceMap:!1,shadowMode:!1})},"6fd0":function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".month-picker-input-container.form-control{padding:0!important}.month-picker-input{min-height:calc(1.5em + .75rem + 3px)!important;height:auto!important;padding:.375rem .75rem!important;background-color:#e9ecef;border-radius:0!important;width:100%}.month-picker__container{z-index:99;top:34px!important;border-radius:0;border:1px solid #c6cace}.month-picker__year button{line-height:16px;height:2rem}.month-picker__year{padding:.1rem}.month-picker__year p{font-size:16px!important;margin:.7rem 0!important}.month-picker__month{padding:.5rem .25rem!important}.month-picker__month:hover:after{box-shadow:0 0 10px rgba(164,223,248,.88)}",""]),t.exports=e},b851:function(t,e,a){"use strict";a("5790")},c072:function(t,e,a){var o=a("6fd0");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("347327cd",o,!0,{sourceMap:!1,shadowMode:!1})},dd62:function(t,e,a){"use strict";a("c072")},e8cd:function(t,e,a){var o=a("24fb");e=o(!1),e.push([t.i,".month-picker-input{border:0!important}",""]),t.exports=e},ebd3:function(t,e,a){var o=a("e8cd");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var i=a("499e").default;i("6b78c0a4",o,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-56522921.js.map