(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6ada"],{7429:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("section",[s("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!1,ModuleName:"Billing",listType:["List"],RenderRowActionMethod:t.renderActions,SubModuleCode:"Billing",IdentityColumn:"id",HeaderText:t.$t("BatchProcessing"),ListData:t.BatchProcessingListing,HeaderData:t.Headers,PageSize:t.pageSize,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,LegendArray:[],SortExp:t.sortExp,SortBy:t.sortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,ActionButtonClick:t.actionButtonClick,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(a){var e=a.data;return["created_at"==e.column.COLUMN_NAME?[s("span",[t._v(" "+t._s(t.$d(e.row.created_at))+" ")])]:t._e(),"batch_name"==e.column.COLUMN_NAME?[s("a",{attrs:{href:"javascript:;"},on:{click:function(a){return t.OpenBatchDetail(e.row)}}},[s("span",[t._v(t._s(e.row.batch_name))])])]:t._e(),"status_id"==e.column.COLUMN_NAME?[s("div",[s("listing-status",{ref:"updatestatus",attrs:{isfor:"BATCH_MASTER",dataid:e.row.batch_id,"data-controller":"Billing_Rule",statuslist:t.StatusListForListing,item:e.row.status_id,"data-action":"index",dataselected:1001==e.row.status_id?"Active":"Inactive",callbackfunction:t.FetchData,isselectedvaluestring:!0}})],1),s("div",["Active"==e.row.status_id?s("span",{class:t.getStatusClassList(e.row.status_id,"status_id")},[t._v(" "+t._s(e.row.status_id)+" ")]):t._e(),"Inactive"==e.row.status_id?s("span",{class:t.getStatusClassList(e.row.status_id,"status_id")},[t._v(" "+t._s(e.row.status_id)+" ")]):t._e()])]:t._e(),"no_of_cycle"==e.column.COLUMN_NAME?[s("span",[s("a",{class:{"text-dark text-center":!0,disabled:0==e.row.no_of_cycle},attrs:{id:"ancProjectDetail",href:"javascript:;"},on:{click:function(a){return t.OpenBatchProcessDataLising(e.row.batch_id)}}},[s("i",{staticClass:"fa fa-file-o",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(e.row.no_of_cycle))])])])]:t._e()]}}])}),t.isCreateBatch?s("CreateBatch",{attrs:{callbackfunction:t.FetchData,BatchId:t.BatchId}}):t._e(),t.isRecordDetail?s("RecordDetails"):t._e(),t.isReprocess?s("Reprocess",{attrs:{reProcessDetail:t.reProcessDetail,reProcessIndex:t.reProcessIndex}}):t._e(),s("transition",{attrs:{name:"modal"}},[s("div",{staticClass:"my-popups"},[s("loader",{attrs:{"is-visible":t.isLoading}}),t.isDetail?s("div",{staticClass:"modal d-block dialog"},[s("div",{staticClass:"modal-dialog modal-lg"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("BatchDetail")))]),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseBatchDetail}},[s("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"col-md-12 p-0"},[s("div",{staticClass:"listing"},[s("div",{staticClass:"card mb-3 probx"},[s("div",{staticClass:"card-header"},[s("h2",[t._v(t._s(t.$t("Details")))]),s("div",{staticClass:"cont_right"},[s("div",{staticClass:"bar"})])]),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},t._l(t.displayFields,(function(a,e){return s("div",{key:e,staticClass:"col-md-6 col-lg-4"},[s("div",{staticClass:"form-group"},[s("label",[s("strong",[t._v(t._s(a.label)+":")]),s("span",{staticClass:"answer rightlabeltext ml-1",class:"status"===a.key?"status-badge":"",staticStyle:{display:"inline !important"}},[t._v(t._s(t.formatFieldValue(a.key)))])])])])})),0)])])])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-danger",on:{click:t.CloseBatchDetail}},[s("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Cancel"))+" ")])])])])]):t._e()],1)]),t.isOpenProcessData?s("BatchCycleListing",{attrs:{BatchId:t.BatchId}}):t._e()],1)},i=[],r=(s("14d9"),s("9769")),o=s("b3e8"),c=s("0edd"),n=s("f5cf"),l=s("8e2a"),d=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"my-popups"},[s("loader",{attrs:{"is-visible":t.isLoading}}),s("div",{staticClass:"modal d-block"},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header theme-primary partition-full  d-flex"},[s("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("BatchCycle")))]),s("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[s("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"modal-body"},[s("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,ModuleName:"Billing",listType:["List"],RenderRowActionMethod:t.renderActions,SubModuleCode:"Billing",IdentityColumn:"id",HeaderText:t.$t("BatchProcessing"),ListData:t.BatchProcessingListing,HeaderData:t.Headers,PageSize:t.pageSize,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",ListDataCallBackFunction:t.FetchData,LegendArray:[],SortExp:t.sortExp,SortBy:t.sortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,ActionButtonClick:t.actionButtonClick,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(a){var e=a.data;return["created_at"==e.column.COLUMN_NAME?[s("span",[t._v(" "+t._s(t.$d(e.row.created_at))+" ")])]:t._e(),"batch_name"==e.column.COLUMN_NAME?[s("span",[t._v(t._s(e.row.batch_name))])]:t._e(),"status"==e.column.COLUMN_NAME?[s("span",[s("div",{staticClass:"progress mb-1"},["Starting"==e.row.status&&0==e.row.progressValue?s("div",{staticClass:"progress-bar progress-bar-striped bg-warning",style:{width:"100%"},attrs:{id:"progressBar-30"}},[s("span",[t._v(t._s(t.$t("Starting")))])]):t._e(),"Completed"==e.row.status&&0==e.row.progressValue?s("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:"100%"},attrs:{id:"progressBar-30"}},[s("span",[t._v(t._s(t.$t("Completed")))])]):"Generated"==e.row.status&&0==e.row.progressValue?s("div",{staticClass:"progress-bar progress-bar-striped bg-primary",style:{width:"100%"},attrs:{id:"progressBar-30"}},[s("span",[t._v(t._s(t.$t("created")))])]):"Failed"==e.row.status&&0==e.row.progressValue?s("div",{staticClass:"progress-bar progress-bar-striped bg-danger",style:{width:"100%"},attrs:{id:"progressBar-30"}},[s("span",[t._v(t._s(t.$t("Failure")))])]):"Started"==e.row.status&&e.row.progressValue<=0?s("div",{staticClass:"progress-bar progress-bar-striped bg-warning",style:{width:"100%"},attrs:{id:"progressBar-30"}},[s("span",[t._v(t._s(t.$t("Inprogress")))])]):t._e(),e.row.progressValue>0?s("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.row.progressValue+"%"}},[100===e.row.progressValue?s("span",[t._v(t._s(t.$t("Completed")))]):t._e(),s("span",[t._v(t._s(t.$t("Failure")))])]):"Started"==e.row.status&&e.row.progressValue<=0?s("div",{staticClass:"progress-bar progress-bar-striped bg-warning",style:{width:"100%"},attrs:{id:"progressBar-30"}},[s("span",[t._v(t._s(t.$t("Inprogress")))])]):t._e(),e.row.progressValue>0?s("div",{staticClass:"progress-bar progress-bar-striped bg-success",style:{width:e.row.progressValue+"%"}},[100===e.row.progressValue?s("span",[t._v(t._s(t.$t("Completed")))]):s("span",[t._v(t._s(e.row.progressValue)+"%")])]):"Pending"==e.row.status&&0==e.row.progressValue?s("div",{staticClass:"progress-bar progress-bar-striped bg-danger",style:{width:"100%"},attrs:{id:"progressBar-0"}},[s("span",[t._v(t._s(t.$t("Pending")))])]):t._e()])])]:t._e(),"stats"==e.column.COLUMN_NAME?["Generated"==e.row.status?s("span",[t._v(" -- ")]):s("span",[t._v(" "+t._s(e.row.stats)+" ")])]:t._e(),"record_count"==e.column.COLUMN_NAME?[s("span",[s("a",{class:{"text-dark text-center":!0,disabled:0==e.row.record_count},attrs:{id:"ancProjectDetail",href:"javascript:;"},on:{click:function(a){return t.OpenBatchProcessDataLising(e.row.batch_id)}}},[s("em",{staticClass:"fa fa-file-o",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(e.row.record_count))])])])]:t._e()]}}])})],1)])])])],1)},h=[];let u=[{fieldName:"CustomerType",fieldType:"ddl-check",fieldIcon:"fa fa-users",paramName:"",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}];async function p(t,a,s,e){var i=t;if("CUSTOMER_TYPE"==s){i.leftSearchFields[0].listOptions=[];var o=`id=&moduleName=&type=${s}&search=&refId=`;await r["a"].GetDDLData(o).then(t=>{""!=t.data&&t.data.DATA.length&&t.data.DATA.forEach(t=>{let a={name:t.name,value:t.value};i.leftSearchFields[0].listOptions.push(a)})})}}var g={leftsearchSchema:u,bindleftCommonSearchdropdown:p},_={props:{BatchId:{type:Object,required:!0}},components:{},data(){return{reProcessDetail:{},reProcessIndex:0,isReprocess:!1,Headers:[{COLUMN_NAME:"batch_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("batchname"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"customer_type_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("CustomerType"),DISPLAY_ORDER:2},{COLUMN_NAME:"plan_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Plan"),DISPLAY_ORDER:3},{COLUMN_NAME:"station_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("StationName"),DISPLAY_ORDER:4},{COLUMN_NAME:"created_at",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedDate"),DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"status",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"record_count",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("RecordCount"),DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"stats",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("stats"),DISPLAY_ORDER:8,settings:{isInSlot:!0}}],TotalRecords:0,pageSize:10,pageNum:1,sortBy:"",searchCondition:"",leftSearchFields:g.leftsearchSchema,listActions:[],listheaderbuttons:[],GroupStart:1,GroupEnd:3,PlanId:0,CurrentPage:1,TotalPages:0,sortExp:"",requestId:"",BatchProcessingListing:[],noRecords:!1,isCreateBatch:!1,isRecordDetail:!1,batchName:"",intervalId:[],isDetail:!1,BatchData:[],isOpenProcessData:!1,batchProcessData:[]}},created:async function(){var t=this;await g.bindleftCommonSearchdropdown(this,"Billing","CUSTOMER_TYPE",null),await g.bindleftCommonSearchdropdown(this,"Billing","PLANS",null),await g.bindleftCommonSearchdropdown(this,"Billing","STATION_LIST",null),await t.FetchData()},methods:{startAllProgress:function(){var t=this;t.BatchProcessingListing.forEach((a,s)=>{var e=a.status;"Started"==e&&t.getProgress(s,a.batch_id)})},getProgress:function(t,a){this.intervalId[a]=setInterval(async()=>{try{var t="batchId="+a;let s=await r["a"].GetBatchProgress(t);if(null!=s.data.result){this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].status=JSON.parse(s.data.result).status;let t=JSON.parse(s.data.result).progress_value;t<100?this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].progressValue=t:(this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].progressValue=100,clearInterval(this.intervalId[a]),delete this.intervalId[a]),this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].stats=JSON.parse(s.data.result).stats}}catch(s){console.error("Error fetching progress:",s),clearInterval(this.intervalId[a])}},15e3)},OpenBatchProcessDataLising:async function(t){this.BatchId=t,this.isOpenProcessData=!this.isOpenProcessData},Close:function(){var t=this;t.$parent.isOpenProcessData=!1},FetchData:async function(){var t,a=this;a.BatchProcessingListing=[];var s=`search=${a.searchCondition}&pageSize=${a.pageSize}&pageNum=${a.pageNum}&sortBy=${a.sortBy}&sortExp=${a.sortExp}&batchId=${null!==(t=a.BatchId)&&void 0!==t?t:""}`;const e=JSON.stringify(s);var i={objData:e};await r["a"].GetBatchCycleListing(i).then((function(t){""!=t.data&&null!=t.data&&t.data.result.data.length>0?(a.BatchProcessingListing=t.data.result.data.map(t=>(t.created_at=new Date(t.created_at),t.progressValue=0,t)),a.TotalRecords=t.data.result.data[0].TOTALRECORDS,a.TotalPages=Math.ceil(a.TotalRecords/a.pageSize),a.CurrentPage=a.pageNum,a.noRecord=!1):(a.noRecord=!0,a.TotalRecords=0,a.BatchProcessingListing=[])}))},leftCommonSearch(t){this.pageNum=t.PageNumber,this.isPaged=1,"undefined"!==typeof t.searchConditionJson&&null!==t.searchConditionJson?this.searchCondition=t.searchConditionJson.replace("=",""):this.searchCondition="",this.FetchData()},actionButtonClick(t,a,s,e){},renderActions:function(t){var a=this;let s=[];return a.listActions.forEach(a=>{let e={...a};switch(e.title){case"Edit":e.isVisible=!0,e.isDisabled="Generated"!=t.status;break}s.push(e)}),s},pagerMethod(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,this.FetchData()},commonHeaderButtonClick(t){},sortdata:function(t){this.sortBy=t;var a="ASC";"ASC"==this.sortExp&&(a="DESC"),this.sortExp=a,this.sortBy=t,this.sortExp=a,this.pageNum=1,this.GroupStart=this.pageNum,this.GroupEnd=this.pageNum+2,this.FetchData()}}},S=_,C=s("0c7c"),m=Object(C["a"])(S,d,h,!1,null,null,null),f=m.exports,B={components:{CreateBatch:o["a"],RecordDetails:n["a"],Reprocess:l["a"],BatchCycleListing:f},computed:{displayFields(){return[{key:"batch_name",label:this.$t("batchname")},{key:"customer_type_name",label:this.$t("CustomerType")},{key:"station_name",label:this.$t("StationName")},{key:"plan_name",label:this.$t("PlanName")},{key:"state",label:this.$t("State")},{key:"district",label:this.$t("District")},{key:"zip_code",label:this.$t("ZIPCODE")},{key:"status",label:this.$t("Status")},{key:"processed_by",label:this.$t("processedby")},{key:"created_at",label:this.$t("CreatedAt")},{key:"record_count",label:this.$t("RecordCount")},{key:"total_records",label:this.$t("TotalRecords")},{key:"progressValue",label:this.$t("ProgressValue")}]}},data(){return{reProcessDetail:{},reProcessIndex:0,isReprocess:!1,Headers:[{COLUMN_NAME:"batch_name",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("batchname"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"customer_type_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("CustomerType"),DISPLAY_ORDER:2},{COLUMN_NAME:"plan_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Plan"),DISPLAY_ORDER:3},{COLUMN_NAME:"station_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("StationName"),DISPLAY_ORDER:4},{COLUMN_NAME:"created_at",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedDate"),DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"status_id",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"no_of_cycle",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Number of Cycle"),DISPLAY_ORDER:7,settings:{isInSlot:!0}}],TotalRecords:0,pageSize:10,pageNum:1,sortBy:"",searchCondition:"",leftSearchFields:c["a"].leftsearchSchema,listActions:[{title:"Edit",callbackfunction:"EditRuleService",href:"javascript:void(0)",icon:"fa fa-pencil text-success",additionalSpan:"",isDisabled:!1,isvisible:!0}],listheaderbuttons:[{title:"createbatch",iconClass:"fa fa-spinner",callbackfunction:"GenerateBatch",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"QueueList",iconClass:"fa fa-list",callbackfunction:"queueList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],GroupStart:1,GroupEnd:3,PlanId:0,CurrentPage:1,TotalPages:0,sortExp:"",requestId:"",BatchProcessingListing:[],noRecords:!1,isCreateBatch:!1,isRecordDetail:!1,batchName:"",intervalId:[],BatchId:"",isDetail:!1,BatchData:[],isOpenProcessData:!1,batchProcessData:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}]}},created:async function(){var t=this;await c["a"].bindleftCommonSearchdropdown(this,"Billing","CUSTOMER_TYPE",null),await c["a"].bindleftCommonSearchdropdown(this,"Billing","PLANS",null),await c["a"].bindleftCommonSearchdropdown(this,"Billing","STATION_LIST",null),await t.FetchData()},methods:{startAllProgress:function(){var t=this;t.BatchProcessingListing.forEach((a,s)=>{var e=a.status;"Started"==e&&t.getProgress(s,a.batch_id)})},getProgress:function(t,a){this.intervalId[a]=setInterval(async()=>{try{var t="batchId="+a;let s=await r["a"].GetBatchProgress(t);if(null!=s.data.result){this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].status=JSON.parse(s.data.result).status;let t=JSON.parse(s.data.result).progress_value;t<100?this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].progressValue=t:(this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].progressValue=100,clearInterval(this.intervalId[a]),delete this.intervalId[a]),this.BatchProcessingListing.filter(t=>t.batch_id==a)[0].stats=JSON.parse(s.data.result).stats}}catch(s){console.error("Error fetching progress:",s),clearInterval(this.intervalId[a])}},15e3)},OpenBatchDetail:async function(t){var a=this;a.$router.push({name:"BatchProcessing",params:{id:t.batch_id}})},formatFieldValue(t){if(!this.BatchData)return"--";const a=this.BatchData[t];let s=a;if("total_records"===t&&void 0!==this.BatchData.TOTALRECORDS&&(s=this.BatchData.TOTALRECORDS),null===s||void 0===s||""===s)return"--";if("created_at"===t){const t=new Date(s);if(isNaN(t))return s;{const a=t.toLocaleDateString(),s=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return`${a}, ${s}`}}if("status"===t)return s.charAt(0).toUpperCase()+s.slice(1);if("stats"===t&&s)try{const t="string"===typeof s?JSON.parse(s):s;if(t&&"object"===typeof t){const a=t.success||0,s=t.failure||0;return`Success: ${a}, Failure: ${s}`}}catch(e){}return s},OpenBatchProcessDataLising:async function(t){this.BatchId=t,this.isOpenProcessData=!this.isOpenProcessData},callProcessBatch:async function(t,a,s){var e=this,i="";i=void 0==s||"undefined"==s||"null"==s?"batchId="+t.batch_id:`batchId=${t.batch_id}&reProcess=${s}`,this.BatchProcessingListing.filter(a=>a.batch_id==t.batch_id)[0].status="Starting",this.getProgress(a,t.batch_id),await r["a"].CallProcessBatchDataTask(i).then((function(t){""!=t.data&&null!=t.data?"Success"==t.data.status&&t.data.result&&""!==t.data.result&&(e.requestId=t.data.result.split("=")[1]):t.data.result.status_id}))},EditBatchProcessData:async function(t,a){var s=this;s.BatchId=t.batch_id,s.isCreateBatch=!0},CloseBatchDetail:function(){var t=this;t.isDetail=!1},CloseBatchProcess:function(){var t=this;t.isOpenProcessData=!1},FetchData:async function(){var t=this;t.BatchProcessingListing=[];var a=`search=${t.searchCondition}&pageSize=${t.pageSize}&pageNum=${t.pageNum}&sortBy=${t.sortBy}&sortExp=${t.sortExp}`;const s=JSON.stringify(a);var e={objData:s};await r["a"].GetBatchProcessingListing(e).then((function(a){""!=a.data&&null!=a.data&&a.data.result.data.length>0?(t.BatchProcessingListing=a.data.result.data.map(t=>(t.created_at=new Date(t.created_at),t.progressValue=0,t)),t.TotalRecords=a.data.result.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNum,t.noRecord=!1):(t.noRecord=!0,t.TotalRecords=0,t.BatchProcessingListing=[])}))},leftCommonSearch(t){this.pageNum=t.PageNumber,this.isPaged=1,"undefined"!==typeof t.searchConditionJson&&null!==t.searchConditionJson?this.searchCondition=t.searchConditionJson.replace("=",""):this.searchCondition="",this.FetchData()},actionButtonClick(t,a,s,e){switch(t){case"Process":this.callProcessBatch(a,s);break;case"Detail":this.recordDetail(a);break;case"Reprocess":this.reProcess(a,s);break;case"EditRuleService":this.EditBatchProcessData(a,s);break}},renderActions:function(t){var a=this;let s=[];return a.listActions.forEach(a=>{let e={...a};switch(e.title){case"Edit":e.isVisible=!0,e.isDisabled=1001!=t.status_id;break}s.push(e)}),s},pagerMethod(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,this.FetchData()},getStatusClass:function(t){var a="";switch(t){case"Active":a="px-2 text-center bg-success text-white d-block";break;case"Inactive":a="px-2 text-center bg-danger text-white d-block";break;default:a=""}return a},commonHeaderButtonClick(t){switch(t.callbackfunction){case"GenerateBatch":this.GenerateBatch();break;case"queueList":this.navigateToQueueList();break}},GenerateBatch:function(){var t=this;t.BatchId=0,t.isCreateBatch=!0},sortdata:function(t){this.sortBy=t;var a="ASC";"ASC"==this.sortExp&&(a="DESC"),this.sortExp=a,this.sortBy=t,this.sortExp=a,this.pageNum=1,this.GroupStart=this.pageNum,this.GroupEnd=this.pageNum+2,this.FetchData()},recordDetail(t){var a=this;null!==a.requestId&&""!==a.requestId?window.open(a.$router.resolve({name:"BillLog",params:{requestId:a.requestId}}).href,"_blank"):window.open(a.$router.resolve({name:"BillLog",params:{requestId:t.request_id}}).href,"_blank")},reProcess(t,a){this.isReprocess=!0,this.reProcessDetail=t,this.reProcessIndex=a},navigateToQueueList(){var t=this;t.$router.push({name:"QueueList"})}}},b=B,A=Object(C["a"])(b,e,i,!1,null,null,null);a["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2d0d6ada.js.map