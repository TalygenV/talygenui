(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8297a856"],{"750f":function(t,e,a){"use strict";a.d(e,"a",(function(){return i})),a.d(e,"b",(function(){return s}));a("88a7"),a("271a"),a("5494");var n=a("c427");const i={getClientList(t){return n["a"].instance.get("/lookups/clients-group-by-account?"+t)},getUtilityList(t){return n["a"].instance.get("/lookups/talygen-utilities-by-client?"+t)},getFlagList(){return n["a"].instance.get("/lookups/GetFlagList")},async GetStateList(t){return await n["a"].instance.get("/lookups/state-list-by-country-code?"+t)},async GetFlagType(t){return await n["a"].instance.get("/lookups/flag-type")},async GetCostCenters(t){return await n["a"].instance.get("/lookups/cost-centers")},async GetFlagRecords(t){return await n["a"].instance.get("/GetFlagRecords?"+t)},SaveColumnItems(t){return n["a"].instance.post("/lookups/SaveColumnItems",t)},DoNotProcessLineItems(t){return n["a"].instance.post("/lookups/DoNotProcessLineItems",t)},async GetFieldsListBySetupId(t){return await n["a"].instance.get("/lookups/GetFieldsListBySetupId?"+t)},async LoadFlagFieldDropDown(t){return await n["a"].instance.get("/lookups/LoadFlagFieldDropDown?"+t)},async GetSbaIdListByUtilityId(t){return await n["a"].instance.get("/lookups/GetSbaIdListByUtilityId?"+t)},GetTicketTypes(){return n["a"].instance.get("/lookups/GetTicketTypes")},GetStatusCodes(){return n["a"].instance.get("/lookups/GetStatusCodes")},async LoadAdditionalInfoByClientId(t){return await n["a"].instance.get("/lookups/LoadAdditionalInfoByClientId?"+t)},async GetExceptionRecord(t){return await n["a"].instance.get("/lookups/GetExceptionRecord?"+t)},UpdateException(t){return n["a"].instance.post("/lookups/UpdateException",t)},async GetCDC_CodePagedList(t){return await n["a"].instance.get("/lookups/GetCDC_CodePagedList?"+t)},CommonUpdateStatus(t){return n["a"].instance.post("/lookups/CommonUpdateStatus",t)},async ViewTicketImage(t){return await n["a"].instance.get("/lookups/ViewTicketImage?"+t)},async GetBilledUnbilledRecords(t){return await n["a"].instance.get("/GetBilledUnbilledRecordsListing?"+t)},async GetUnprocessedRecords(t){return await n["a"].instance.get("/GetUnprocessedRecords?"+t)},async GetTicketLog(t){return await n["a"].instance.get("/GetTicketLog?"+t)},async GetChildTicketLog(t){return await n["a"].instance.get("/GetChildTicketLog?"+t)},async GetChildTicketLogNew(t){return await n["a"].instance.get("/GetChildTicketLogNew?"+t)},GetWorkCodeData(){return n["a"].instance.get("/lookups/GetWorkCodeData")},async GetDivisionDropdownData(t){return await n["a"].instance.get("/lookups/GetDivisionDropdownData?"+t)},async GetActivityIdDropdownListByTicketNumber(t){return await n["a"].instance.get("/lookups/GetActivityIdDropdownListByTicketNumber?"+t)},async GetInvoiceLineItem(t){return await n["a"].instance.get("/lookups/GetInvoiceLineItem?"+t)},async LoadRateByWorkCode(t){return await n["a"].instance.get("/lookups/LoadRateByWorkCode?"+t)},async ChildTicketLogNew(t){return await n["a"].instance.get("/lookups/ChildTicketLogNew?"+t)},async LoadClientDivisionList(t){return await n["a"].instance.get("/lookups/client-divisions?"+t)},UpdateInvoiceLineItem(t){return n["a"].instance.post("/lookups/UpdateInvoiceLineItem",t)},async ChildTicketLog(t){return await n["a"].instance.get("/lookups/ChildTicketLog?"+t)},async ChildTicketLogNew(t){return await n["a"].instance.get("/lookups/ChildTicketLogNew?"+t)},SaveAndProcessLineItemsForInvoice(t){return n["a"].instance.post("/lookups/SaveAndProcessLineItemsForInvoice",t)},async GetAuditRecords(t){return await n["a"].instance.get("/ClientInvoice/AuditRecords?"+t)},async GetBulkMoveListing(t){return await n["a"].instance.get("/GetBulkMoveListing?"+t)},async GetBulkMoveQueueList(t){return await n["a"].instance.get("/GetBulkMoveQueueList?"+t)},async getUserList(t){return await n["a"].instance.get("/lookups/GetUserList?"+t)},async LoadClientDivisionListByUtilityIds(t){return await n["a"].instance.get("/lookups/LoadDivisionListByUtilityId?"+t)},async LoadInvoiceNumberList(t){return await n["a"].instance.get("/lookups/LoadInvoiceNumberList?"+t)},ValidateBMUtilitySbaIdInvoiceNo(t){return n["a"].instance.post("/lookups/ValidateBMUtilitySbaIdInvoiceNo",t)},UpdateContractAndUtility(t){return n["a"].instance.post("/lookups/UpdateContractAndUtility",t)},async UploadFile(t){return n["a"].instance.post("/lookups/UploadFile?",t)},async GetBulkMoveAdvanceListing(t){return await n["a"].instance.get("/GetBulkMoveAdvanceListing?"+t)},BulkMoveAdvancePostData(t){return n["a"].instance.post("/lookups/BulkMoveAdvancePostData",t)},UpdateAdvanceBulkMoveLineIds(t){return n["a"].instance.post("/lookups/UpdateAdvanceBulkMoveLineIds",t)},async SetupListing(t){return await n["a"].instance.get("/GetSetupListing?"+t)},async GetSetupUpdateRecords(t){return await n["a"].instance.get("/GetSetupUpdateRecords?"+t)},SubmitTemplateMapping(t){return n["a"].instance.post("/SubmitTemplateMapping",t)},UpdateTemplateMapping(t){return n["a"].instance.post("/UpdateTemplateMapping",t)},DeleteColumn(t){return n["a"].instance.post("/DeleteColumn",t)},async DeleteItems(t){return await n["a"].instanceCommon.post("/Common/Delete?"+t)},async ImportSetupDataFromExcel(t){return await n["a"].instance.get("/ImportSetupDataFromExcel?"+t)},async GetSetupTemplate(t){return await n["a"].instance.get("/GetSetupTemplate?"+t)},async GetPaymentTerm(t){return await n["a"].instance.get("/ClientInvoice/GetPaymentTerm?"+t)},async LoadParentChildClientList(t){return await n["a"].instance.get("/BillingRule/LoadParentChildClientList?"+t)},async GetCompanyByParentCompanyId(t){return await n["a"].instance.get("/BillingRule/GetCompanyByParentCompanyId?"+t)},async LoadInvoiceMemoPo(t){return await n["a"].instance.get("/ClientInvoice/LoadInvoiceMemoPo?"+t)},async LoadLineItems(t){return await n["a"].instance.get("/ClientInvoice/LoadLineItems?"+t)},async GetConfigurationValueByKey(t){return await n["a"].instance.get("/BillingRule/GetConfigurationValueByKey?"+t)},async LoadTemplateBySetupId(t){return await n["a"].instance.get("/BillingRule/LoadTemplateBySetupId?"+t)},async LoadFields(t){return await n["a"].instance.get("/ClientInvoice/LoadFields?"+t)},async GetDiscount(t){return await n["a"].instance.get("/ClientInvoice/GetDiscount?"+t)},async AddDiscount(t){return await n["a"].instance.post("/ClientInvoice/AddDiscount",t)},async SaveWorkCode(t){return await n["a"].instance.post("/ClientInvoice/SaveWorkCode",null,{params:{workCodeId:t.workCodeId,workCode:t.workCode,lineIds:t.lineIds,reqFrom:t.reqFrom,allInvoice:t.allInvoice,xmlData:t.xmlData,isAdder:t.isAdder,adderName:t.adderName,lineBatchId:t.lineBatchId,invoiceBillId:t.invoiceBillId}})},async GetNoteList(t){return await n["a"].instance.get("/Client/NoteList?"+t)},async GetNoteById(t){return await n["a"].instance.get("/Client/EditNote?"+t)},async DeleteNote(t){return await n["a"].instance.post("/Client/DeleteNote",t)},async AddNoteUtilityDivision(t){return await n["a"].instance.post("/Client/AddNoteUtilityDivision",t)},async MarkAsNonVisible(t){return await n["a"].instance.post("/ClientInvoice/MarkAsNonVisible",t)},async SaveInvoice(t){return await n["a"].instance.post("/ClientInvoice/Save",t)},async GetTemplateListing(t){return await n["a"].instance.get("/GetTemplateListing?"+t)},async GetSetupList(t){return await n["a"].instance.get("/GetTemplateRecords?"+t)},async SaveTemplate(t){return await n["a"].instance.post("/SaveTemplate",t)},async GetTemplateFieldMapping(t){return await n["a"].instance.get("/TemplateFieldMapping?"+t)}},s={async getLookupItems({type:t,category:e,search:a,page:i=1,limit:s=50,filters:o={}}){const r=new URLSearchParams({type:t,page:i.toString(),limit:s.toString()});return a&&a.length>=2&&r.append("search",a),e&&r.append("category",e),Object.entries(o).forEach(([t,e])=>{null!==e&&void 0!==e&&""!==e&&r.append(`filters[${t}]`,e.toString())}),n["a"].instance.get("/lookup?"+r)},async getLookupItem(t,e){return n["a"].instance.get(`/lookup/${t}/${e}`)},async getSupportedTypes(){return n["a"].instance.get("/lookup/types")}}},ec9c:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!1,showCheckBox:!0,ModuleName:"BillingRule",SubModuleCode:"TemplateListing",IdentityColumn:"INVOICE_TEMPLATE_ID",HeaderText:t.$t("Manage")+" "+t.$t("InvoiceTemplate"),ListData:t.ListingData,HeaderData:t.Headers,widgets:t.widgets,HeaderButtons:t.Buttons,TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchTemplates,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,SearchPosition:"top"},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata,LeftsearchButtonClick:t.leftCommonSearch,ActionButtonClick:t.actionButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function(e){var n=e.data;return["INVOICE_TEMPLATE_NAME"==n.column.COLUMN_NAME?[a("a",{attrs:{href:"javascript:;",title:t.$t("ClickHereToViewThis").replace("{0}",n.row.INVOICE_TEMPLATE_NAME)},on:{click:function(e){return t.editTemplate(n.row)}}},[t._v(" "+t._s(n.row.INVOICE_TEMPLATE_NAME)+" ")])]:t._e(),"CREATED_ON"==n.column.COLUMN_NAME?[n.row.CREATED_ON?a("span",{attrs:{title:n.row.CREATED_ON}},[t._v(" "+t._s(t.formatDate(n.row.CREATED_ON))+" ")]):a("span",[t._v("--")])]:t._e()]}}])})],1)},i=[],s=(a("14d9"),a("750f"));let o=[{title:"AddTemplate",iconClass:"fa fa-plus",callbackfunction:"AddTemplate",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0},{title:"BacktoList",iconClass:"fa fa-angle-double-left",callbackfunction:"BacktoList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1,id:""}],r=[{fieldName:"TemplateName",fieldType:"text",fieldIcon:"fa fa-search",paramName:"templateName",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}],c=[{COLUMN_NAME:"INVOICE_TEMPLATE_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TemplateName",DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"SETUP_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"SetupName",DISPLAY_ORDER:2},{COLUMN_NAME:"CREATED_BY",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CreatedBy",DISPLAY_ORDER:3},{COLUMN_NAME:"CREATED_ON",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CreatedOn",DISPLAY_ORDER:4,settings:{isInSlot:!0}}],l=[];var d={buttons:o,leftsearchSchema:r,headerSchema:c,listActions:l},u={name:"TemplateListing",data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],Buttons:d.buttons,leftSearchFields:d.leftsearchSchema,listActions:d.listActions,Headers:d.headerSchema,searchCondition:"",setupId:null}},created:function(){var t=this;t.setupId=this.$route.params.setupId||null,t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME)}),t.FetchTemplates()},methods:{leftCommonSearch:function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?""!=t.searchConditionJson?this.searchCondition=t.searchConditionJson:this.searchCondition=t.searchCondition||"":this.searchCondition="",this.FetchTemplates()},renderActions:function(t){let e=[];return t.TEMPLATE_COUNT,e},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchTemplates()},actionButtonClick:function(t,e){},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddTemplate":this.addTemplate();break;case"commonDeleteData":this.commonDeleteData();break;case"BacktoList":this.BacktoList();break}},sortdata:function(t){this.SortBy=t,"INVOICE_TEMPLATE_NAME"==this.SortBy?this.SortBy="TEMP":"SETUP_NAME"==this.SortBy?this.SortBy="SETUPNAME":this.SortBy=t,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchTemplates()},FetchTemplates:function(){var t=this;t.isLoading=!0;var e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;t.setupId&&(e+="&setupId="+t.setupId),t.searchCondition&&(e+="&"+t.searchCondition),s["a"].GetTemplateListing(e).then(e=>{t.isLoading=!1,e.data.result&&(t.ListingData=JSON.parse(e.data.result)),t.ListingData&&t.ListingData.length>0?(t.TotalRecords=t.ListingData[0].TOTAL_RECORDS||t.ListingData[0].TOTALRECORDS||0,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.Buttons[1].isdisabled=!0):(t.ListingData=[],t.TotalRecords=0)}).catch(e=>{t.isLoading=!1,t.ListingData=[],t.TotalRecords=0,console.error("Error fetching templates:",e)}),setTimeout(()=>{t.isLoading=!1,t.ListingData=[],t.TotalRecords=0},100)},formatDate(t){if(!t)return"";if(t instanceof Date)return t.toLocaleDateString();const e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleDateString()},addTemplate(){var t=this,e="/BillingRule/Template";t.setupId&&(e+="?setupId="+t.setupId),t.$router.push(e)},editTemplate(t){var e=this,a="/BillingRule/Template?templateId="+t.INVOICE_TEMPLATE_ID;e.setupId&&(a+="&setupId="+e.setupId),e.searchCondition&&(a+="&"+e.searchCondition),e.$router.push(a)},commonDeleteData:function(t){var e=this,a="";e.isLoading=!0,null==t?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a=t,null!=a?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Tag"),(function(){var t=`ids=${a}&tablename=TALYGEN_BE_INVOICE_TEMPLATE&primaryKey=INVOICE_TEMPLATE_ID`;s["a"].DeleteItems(t).then((function(t){200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Template")]),"success",!0,e.$t("Alert")),e.FetchTemplates()):e.ShowAlert(e.$t("DeletedError",[e.$t("Template")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1},BacktoList(){var t=this;t.$router.push({name:"ImportFormatListing"})}}},p=u,g=a("0c7c"),m=Object(g["a"])(p,n,i,!1,null,"73ece079",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-8297a856.js.map