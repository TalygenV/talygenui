(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-743ea836"],{"07212":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{},[i("loader",{attrs:{"is-visible":t.isLoading}}),i("div",{staticClass:"container-fluid mt-2 p-0"},[i("div",{staticClass:"w-100"},[i("div",{staticClass:"theme-primary partition-full"},[t.isUtilityName?i("span",{staticClass:"p-actions float-right d-block text-center"},[i("a",{staticClass:"p-action-btn text-white",on:{click:t.showQueueList}},[i("i",{staticClass:"fa fa-eye",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s("ViewQueueList")+" ")])]):t._e(),t.isQueueList?i("span",{staticClass:"p-actions float-right tablehead"},[i("a",{staticClass:"p-action-btn text-white",on:{click:t.showUtility}},[i("i",{staticClass:"fa fa-angle-double-left"}),i("br"),t._v(" "+t._s(t.$t("BacktoList"))+" ")])]):t._e()])])]),i("div",{staticClass:"border p-3"},[i("dynamic-form",{ref:"ProcessCharges",attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.onSubmit}})],1),t.isUtilityName?i("UtilityName",{attrs:{ClientId:t.ClientId}}):t._e(),t.isQueueList?i("QueueList",{attrs:{ClientId:t.ClientId}}):t._e()],1)},s=[],o=(i("14d9"),i("9769")),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{},[i("loader",{attrs:{"is-visible":t.isLoading}}),i("tg-list",{attrs:{IsShowAction:!0,ModuleName:"BillingRule",SubModuleCode:"BillingRule",LegendArray:[],RenderRowActionMethod:t.renderActions,widgets:[],IdentityColumn:"UTILITY_ID",listType:["List"],ListData:t.UtilityData,HeaderData:t.Headers,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"false",SearchPosition:"",ListDataCallBackFunction:t.FetchData,showCheckBox:!1,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),isShowHeaderText:!1},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(e){var a=e.data;return["EFFECTIVE_FROM"==a.column.COLUMN_NAME?[i("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.EFFECTIVE_FROM))+" ")])]:t._e(),"EFFECTIVE_TO"==a.column.COLUMN_NAME?[i("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.EFFECTIVE_TO))+" ")])]:t._e()]}}])})],1)},n=[],l={props:{ClientId:{type:Number,require:!1}},components:{},data(){return{isLoading:!1,FormSchema:[{layoutType:"four",Data:[{astype:"SelectField",label:this.$t("Contract/Customer Name"),name:"CustomerName",value:"",visibility:!0,placeholder:"CustomerName",disabled:!1,config:{options:[]},validationRules:{required:!0}}]}],UtilityData:[],isCloneModel:!1,listActions:[],listheaderbuttons:[],cloneItem:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Headers:[{COLUMN_NAME:"SERIAL_NUMBER",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("SerialNumber"),DISPLAY_ORDER:1},{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("UtilityName"),DISPLAY_ORDER:2},{COLUMN_NAME:"EFFECTIVE_FROM",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("EffectiveFrom"),DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"EFFECTIVE_TO",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("EffectiveTo"),DISPLAY_ORDER:4,settings:{isInSlot:!0}}],leftSearchFields:[],searchByName:"",searchByClientName:"",utilities:"",searchByState:[],SortBy:"",SortExp:"",noRecords:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",ListingData:[],servicePlanId:"",isBillingHistoryPopup:!1}},watch:{ClientId(){this.FetchData(),this.SaveProcessReprocessCharge()}},created:async function(){var t=this;t.FetchData()},methods:{SaveProcessReprocessCharge:async function(){var t=this,e=this.$options.filters.formatDate(new Date),i=`clientId=${t.ClientId}&additionalId=${t.ClientId}&dateFrom=${e}&dateTo=${e}`;try{const e=await o["a"].SaveProcessReprocessCharge(i);if(e.data.result){const i=e.data.result.data;0==i.STATUS_CODE?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Process")]),"success",!0,t.$t("Alert")),t.Close()):1==i.STATUS_CODE?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Process")]),"Success",!0,t.$t("Alert")),t.Close()):2==i.STATUS_CODE?(t.$router.push({path:"/ClientBill/Index"}),t.Close()):3==i.STATUS_CODE?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("invoiceNumberList")]),"failure",t.$t("Alert")),t.Close()):4==i.STATUS_CODE?(t.$router.push({path:"/ClientBill/Index"}),t.Close()):t.ShowAlert(t.$t("UnknownError"),"failure",t.$t("Alert"))}}catch(a){console.error("Error fetching data:",a)}},FetchData:async function(){var t=this;t.UtilityData=[];var e=`clientId=${this.ClientId}&configId=&reqFrom=reprocesscharge&clientIds=`;try{const i=await o["a"].getUtilityList(e);i.data&&i.data.length>0?(t.UtilityData=i.data,t.TotalRecords=i.data.length,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecords=!1):(t.UtilityData=[],t.TotalRecords=0,t.noRecords=!0)}catch(i){console.error("Error fetching data:",i)}},renderActions(t){let e=[];return this.listActions.forEach(t=>{let i={...t};i.isVisible=!0,e.push(i)}),e},leftCommonSearch:function(t){if(this.PageNumber=t.PageNumber,this.isPaged=1,t.searchCondition){let e=t.searchConditionJson,i=e.split("=")[1];this.searchCondition=i}else this.searchCondition="";this.FetchData()},actionButtonClick:function(t,e,i,a){switch(t){}},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddBillingRule":this.AddBillingRule();break}},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.FetchData()},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()}}},c=l,A=i("0c7c"),S=Object(A["a"])(c,r,n,!1,null,"296c0d87",null),d=S.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{},[i("loader",{attrs:{"is-visible":t.isLoading}}),i("tg-list",{attrs:{IsShowAction:!1,ModuleName:"BillingRule",SubModuleCode:"BillingRule",LegendArray:[],RenderRowActionMethod:t.renderActions,widgets:[],IdentityColumn:"UTILITY_ID",listType:["List"],ListData:t.QueueData,HeaderData:t.Headers,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"false",SearchPosition:"",ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),isShowHeaderText:!1},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata}})],1)},h=[],u={props:{ClientId:{type:Number,require:!1}},components:{},data(){return{isLoading:!1,FormSchema:[{layoutType:"four",Data:[{astype:"SelectField",label:this.$t("Contract/Customer Name"),name:"CustomerName",value:"",visibility:!0,placeholder:"CustomerName",disabled:!1,config:{options:[]},validationRules:{required:!0}}]}],QueueData:[],isCloneModel:!1,listActions:[],listheaderbuttons:[],cloneItem:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Headers:[{COLUMN_NAME:"SERIAL_NUMBER",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("SerialNumber"),DISPLAY_ORDER:1},{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("UtilityName"),DISPLAY_ORDER:2},{COLUMN_NAME:"TOTAL_RECORDS",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TotalRecords"),DISPLAY_ORDER:2},{COLUMN_NAME:"DATE_RANGE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DateRange"),DISPLAY_ORDER:3},{COLUMN_NAME:"REPROCESSED_BY",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ReprocessedBy"),DISPLAY_ORDER:4},{COLUMN_NAME:"REQUESTED_AT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("RequestedAt"),DISPLAY_ORDER:5},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:6}],leftSearchFields:[],searchByName:"",searchByClientName:"",utilities:"",searchByState:[],SortBy:"",SortExp:"",noRecords:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",ListingData:[],servicePlanId:"",isBillingHistoryPopup:!1}},watch:{ClientId(){this.FetchData()}},created:async function(){var t=this;t.FetchData()},methods:{FetchData:async function(){var t=this;t.QueueData=[];var e=`clientId=${this.ClientId}&configId=&reqFrom=REPROCESSQUEUELIST&clientIds=`;try{const i=await o["a"].getUtilityList(e);i.data&&i.data.length>0?(t.QueueData=i.data,t.TotalRecords=i.data.length,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecords=!1):(t.QueueData=[],t.TotalRecords=0,t.noRecords=!0)}catch(i){console.error("Error fetching data:",i)}},renderActions(t){let e=[];return this.listActions.forEach(t=>{let i={...t};i.isVisible=!0,e.push(i)}),e},leftCommonSearch:function(t){if(this.PageNumber=t.PageNumber,this.isPaged=1,t.searchCondition){let e=t.searchConditionJson,i=e.split("=")[1];this.searchCondition=i}else this.searchCondition="";this.FetchData()},actionButtonClick:function(t,e,i,a){switch(t){}},CloneRule(t){var e=this;e.isCloneModel=!0,e.GetUtility()},CloseCloneModel(){var t=this;t.$refs.validatePlan.updateProperty("RuleName","value",""),t.$refs.validatePlan.updateProperty("CompanyName","value",""),t.$refs.validatePlan.updateProperty("ContractName","value",""),this.isCloneModel=!1,this.cloneItem=[],this.FetchData()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddBillingRule":this.AddBillingRule();break}},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.FetchData()},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()}}},T=u,L=Object(A["a"])(T,E,h,!1,null,"55c460d2",null),C=L.exports,_={components:{UtilityName:d,QueueList:C},data(){return{isLoading:!1,FormSchema:[{layoutType:"four",Data:[{astype:"SelectField",label:this.$t("Contract/Customer Name"),name:"CustomerName",value:"",visibility:!0,placeholder:"CustomerName",disabled:!1,config:{options:[],onChange:this.ListingByClient},validationRules:{required:!0}}]}],BillingRuleData:[],isCloneModel:!1,listActions:[],listheaderbuttons:[],cloneItem:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Headers:[{COLUMN_NAME:"RULE_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("BillingRuleName"),DISPLAY_ORDER:1},{COLUMN_NAME:"SERVICE_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ServiceName"),DISPLAY_ORDER:2},{COLUMN_NAME:"CLIENT_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!1,DISPLAY_NAME:"Contract",DISPLAY_ORDER:2},{COLUMN_NAME:"UTILITYNAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!1,DISPLAY_NAME:this.$t("UtilityName"),DISPLAY_ORDER:3},{COLUMN_NAME:"CATEGORY_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!1,DISPLAY_NAME:"Category",DISPLAY_ORDER:4},{COLUMN_NAME:"STATENAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!1,DISPLAY_NAME:this.$t("STATE"),DISPLAY_ORDER:5},{COLUMN_NAME:"EFFICATIVE_DATE_FROM",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("EffectiveFrom"),DISPLAY_ORDER:6},{COLUMN_NAME:"EFFICATIVE_DATE_TO",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("EffectiveTo"),DISPLAY_ORDER:7},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:8},{COLUMN_NAME:"CREATED_BY_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedBy"),DISPLAY_ORDER:9},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedAt"),DISPLAY_ORDER:9},{COLUMN_NAME:"MODIFIED_BY_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ModifiedBy"),DISPLAY_ORDER:9},{COLUMN_NAME:"MODIFIED_AT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ModifiedAt"),DISPLAY_ORDER:9}],leftSearchFields:[],searchByName:"",searchByClientName:"",utilities:"",searchByState:[],SortBy:"",SortExp:"",noRecords:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",ListingData:[],servicePlanId:"",isBillingHistoryPopup:!1,isUtilityName:!0,isQueueList:!1,ClientId:0}},created:async function(){var t=this;t.showUtility(),t.GetGroupList()},methods:{GetGroupList(){var t=this,e="reqFrom=CUSTOM";o["a"].getClientList(e).then(e=>{e.data.items&&e.data.items.length&&(e.data.items.forEach(e=>{var i={name:e.text,value:e.value};t.FormSchema[0].Data[0].config.options.push(i)}),t.$refs.ProcessCharges.UpdateKeyValue())})},showUtility(){this.isUtilityName=!0,this.isQueueList=!1},showQueueList(){this.isUtilityName=!1,this.isQueueList=!0},async ListingByClient(t,e,i){this.ClientId=parseInt(e.value)}}},I=_,D=Object(A["a"])(I,a,s,!1,null,"197ca8cc",null);e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-743ea836.js.map