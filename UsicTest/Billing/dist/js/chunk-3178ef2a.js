(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3178ef2a"],{"0907":function(e,t,a){var i=a("8079");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("0c4bec04",i,!0,{sourceMap:!1,shadowMode:!1})},"0bd5":function(e,t,a){"use strict";a("1826")},"0d72":function(e,t,a){var i=a("6051");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("3c08b3ee",i,!0,{sourceMap:!1,shadowMode:!1})},1826:function(e,t,a){var i=a("cc81");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("f4d61fb0",i,!0,{sourceMap:!1,shadowMode:!1})},"1d91":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{attrs:{type:"hidden"},domProps:{value:e.showFromInvoice}}),a("input",{attrs:{type:"hidden"},domProps:{value:e.showHistory}}),e.flowData.length>0?a("div",[a("RBillingFlowChart",{attrs:{data:e.flowData,"chart-id":"RflowChartNew","chart-class":"outer"}})],1):a("div",{staticClass:"text-danger text-center",staticStyle:{"padding-top":"50%"}},[e._v("No Data Found")])])},s=[],o=a("4206"),n=a("9769"),l={name:"FlowChartWrapper",components:{RBillingFlowChart:o["a"]},props:{configurationId:{type:[String,Number],required:!1}},data(){return{flowData:[],showHistory:0,showFromInvoice:"1"}},created:async function(){var e=this;"1"===e.showFromInvoice&&e.fetchFlowData(e.configurationId,e.showHistory)},methods:{fetchFlowData:async function(e,t="0"){var a="configId="+e+"&clientId=&includeParentNode=true&showHistory="+t;const i=await n["a"].ShowFlowchartNew(a);i&&i.data&&i.data.length>0&&(this.flowData=i.data)}}},r=l,c=(a("2602"),a("0c7c")),d=Object(c["a"])(r,i,s,!1,null,"5ac33973",null);t["a"]=d.exports},2331:function(e,t,a){"use strict";a("0907")},2602:function(e,t,a){"use strict";a("e398")},"2b19":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".fc_parentchild li p.shape_oval.shape_ovalnew{height:auto!important;padding:10px}p.shape_oval.shape_ovalnew table th{font-size:13px;font-weight:600}p.shape_oval.shape_ovalnew table td{font-size:12px;font-weight:400;padding:0;line-height:8px}",""]),e.exports=t},4206:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"chartContainer",class:e.chartClass,attrs:{id:e.chartId}})},s=[],o=(a("8560"),{name:"RBillingFlowChart",props:{data:{type:Array,required:!0},chartId:{type:String,default:"BillingFlowChart"},chartClass:{type:String,default:"RBillingflowChart"}},data(){return{globalServiceText:1}},mounted(){this.buildFlowChart()},methods:{buildFlowChart(){const e=this.$refs.chartContainer;e.innerHTML="";const t=document.createElement("ul");t.className="fc_parentchild";const a=document.createElement("li");a.className="arrowdown";const i=this.buildNodeStructure(null,0);a.appendChild(i),t.appendChild(a);const s=[...this.data].sort(this.naturalSort);s.forEach(e=>{const a=document.createElement("li"),i=document.createElement("ul");e.nodeName&&-1!==e.nodeName.indexOf(".")?i.className="fc_subchild":a.className="arrowdown";const s=this.buildNodeStructure(e,e.displayOrder||0);if(a.appendChild(s),e.isLeafNode&&!e.isAddOn||e.isAddOn){const t=this.buildFlowChartRightNew(e);a.appendChild(t)}t.appendChild(a)}),e.appendChild(t),this.adjustWidth(e)},naturalSort(e,t){const a=(e.nodeName||"").split(".").map(Number),i=(t.nodeName||"").split(".").map(Number),s=Math.max(a.length,i.length);for(let o=0;o<s;o++){const e=a[o]||0,t=i[o]||0;if(e!==t)return e-t}return 0},buildNodeStructure(e,t){const a=document.createElement("p");a.className=t<=0?"shape_oval":"shape_polygan";const i=document.createElement("span");var s;if(i.style.fontWeight="700",i.style.marginTop=t<=0?"25px":"0px",!e||!e.serviceName)return i.textContent=(null===(s=this.$t)||void 0===s?void 0:s.call(this,"Start"))||"Start",a.appendChild(i),a;let o=e.serviceName||"";var n,l;o.includes("~GLOBAL~")?o=o.replace(/~NODENAME~/g,(null===(n=this.$t)||void 0===n?void 0:n.call(this,"GlobalService"))||"GlobalService").replace(/~GLOBAL~/g,String(this.globalServiceText++)):o=o.replace(/~NODENAME~/g,(null===(l=this.$t)||void 0===l?void 0:l.call(this,"NodeName"))||"NodeName");const r=o.split("AND");return r.forEach((e,t)=>{if(t>0){const e=document.createElement("span");e.textContent="And",e.style.fontWeight=400,a.appendChild(e)}const i=document.createElement("span");i.textContent=e.trim(),i.title=e.trim(),i.style.fontWeight="bold",a.appendChild(i)}),a},buildFlowChartRightNew(e){const t=document.createElement("ul");t.className="fc_subchild";const a=(t,a="&nbsp;",i="")=>{const s=document.createElement("li");s.className="arrowright";const o=document.createElement("p");null==e.addOnType||""==e.addOnType?o.className="shape_oval":o.className="shape_oval shape_ovalnew",i&&o.classList.add(i),""!==i&&null==t&&(t="Flag");const n=document.createElement("span");n.className="textbetweenline",n.innerHTML=a;const l=document.createElement("span");return l.style.marginTop="25px",l.style.fontWeight="bold",l.innerHTML=t,o.appendChild(n),null!=e.addOnType&&""!=e.addOnType||o.appendChild(l),s.appendChild(o),s},i=e=>{if(e.isLimit){const t=e.limit||0,a=e.dayLimit||0;if(t>0&&a>0)return`Limit: ${t}<br/>Days: ${a}`;if(t>0)return"Limit: "+t;if(a>0)return"Days: "+a}return"&nbsp;"},s=this.getFlagClass(e.clientServiceFlag);if("C"===e.addOnType&&e.isLeafNode&&e.isAddOn){const o=a(e.addonWorkCode||e.workCodeName,i(e),s);t.appendChild(o)}if("C"!==e.addOnType){let o=null,n=null;if(null!=e.addonDetail){o=document.createElement("table"),o.className="slab-table";const t=document.createElement("thead"),a=document.createElement("tr");["From","To","Rate Code"].forEach(e=>{const t=document.createElement("th");t.textContent=e,a.appendChild(t)}),t.appendChild(a),o.appendChild(t),n=document.createElement("tbody"),o.appendChild(n);let i=[];try{i=JSON.parse(e.addonDetail)}catch(l){console.error("Invalid addonDetail JSON",l),i=[]}i.forEach(e=>{const t=e&&e.hasOwnProperty("addon_to_value")&&null!==e.addon_to_value?e.addon_to_value:"âˆž",a=e.work_code,i=document.createElement("tr"),s=document.createElement("td");s.textContent=e.addon_from_value,i.appendChild(s);const o=document.createElement("td");o.textContent=t,i.appendChild(o);const l=document.createElement("td"),r=document.createElement("span");r.className="slab-label",r.textContent=a,l.appendChild(r),i.appendChild(l),n.appendChild(i)})}const r=a(e.addonWorkCode||e.workCodeName,i(e),s);o&&r.querySelector("p").appendChild(o),t.appendChild(r)}const o=e.isAddOn?e.addonWorkCodeId:e.workCodeId,n=(e.billingLimitWorkCode||[]).find(e=>e.workCodeId===o);return n&&this.buildFlowChartChild(t,n,e.billingLimitWorkCode,o),t},buildFlowChartChild(e,t,a,i){if(!t)return;const s=document.createElement("p");s.className="shape_oval";const o=document.createElement("span");o.className="textbetweenline",t.limit>0&&t.daysLimit>0?o.innerHTML=`Limit: ${t.limit}<br/>Days: ${t.daysLimit}`:t.limit>0?o.innerHTML="Limit: "+t.limit:t.daysLimit>0?o.innerHTML="Days: "+t.daysLimit:o.innerHTML="&nbsp;";const n=document.createElement("span");n.style.marginTop="25px",n.style.fontWeight="bold",n.textContent=t.alternateWorkCode,s.appendChild(o),s.appendChild(n);const l=document.createElement("li");l.className="arrowright",l.appendChild(s),e.appendChild(l);const r=a.find(e=>e.workCodeId===t.alternateWorkCodeId);r&&r.workCodeId!==i&&this.buildFlowChartChild(e,r,a,t.alternateWorkCodeId)},getFlagClass(e){switch(String(e||"").trim()){case"R":return"oval_red";case"G":return"oval_green";case"Y":return"oval_yellow";default:return""}},adjustWidth(e){const t=Array.from(e.querySelectorAll("ul.fc_subchild")).map(e=>e.querySelectorAll("li.arrowright").length),a=Math.max(...t,4);e.style.width=Math.max(window.innerWidth-100,350*a)+"px"}}}),n=o,l=(a("45a0"),a("0c7c")),r=Object(l["a"])(n,i,s,!1,null,null,null);t["a"]=r.exports},"42c0":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,"#RflowChartNew[data-v-5ac33973]{width:unset!important}",""]),e.exports=t},"45a0":function(e,t,a){"use strict";a("c016")},"53d6":function(e,t,a){"use strict";a("82c5")},5530:function(e,t,a){var i=a("ef5d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("7de11025",i,!0,{sourceMap:!1,shadowMode:!1})},5616:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,'.outer{float:left;width:100%;box-sizing:border-box;background:#fff;padding:50px}.outer .container{float:left;text-align:center;list-style-type:none;position:relative;padding:20px 5px 0 5px;transition:all .5s;-webkit-transition:all .5s;-moz-transition:all .5s}.outer .container:after,.outer .container:before{content:"";position:absolute;top:0;right:50%;border-top:1px solid #000;width:50%;height:20px}.outer .container:after{right:auto;left:50%;border-left:1px solid #000}.outer .container:only-child:after,.outer .container:only-child:before{display:none}.outer .container:only-child{padding-top:0}.outer .container:first-child:before,.outer .container:last-child:after{border:0 none}.outer .container:last-child:before{border-right:1px solid #000}.outer .maintree .maintree:before{content:"";position:absolute;top:0;left:50%;border-left:1px solid #000;width:0;height:32px}*,.fc_parentchild{margin:0;padding:0}.fc_parentchild{width:100%;float:left;height:auto}.fc_parentchild li{width:auto;float:left;height:auto;display:flex;clear:both;margin-bottom:60px;position:relative;align-content:center;align-items:center}.fc_parentchild li p.shape_oval{background-color:#d9c8b8;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/billingRule/oval_default.png);border:none;border-radius:36px/62px;height:70px;list-style:outside none none;margin:0 31px 0 75px;width:120px;border-radius:0}.fc_parentchild li p.shape_oval,.fc_parentchild li p.shape_polygan{color:rgba(0,0,0,.8);background-repeat:no-repeat;background-size:100% 100%;background-position:50%;position:relative;text-align:center;vertical-align:middle;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;display:inline-block}.fc_parentchild li p.shape_polygan{background-color:#badefc;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/billingRule/fc_diamond.png);border:none;z-index:100;border-radius:0;min-height:110px;list-style:none;margin:0 0 0 10px;width:250px;padding:20px 50px}.fc_parentchild li:last-child p:before{border:none!important}.fc_parentchild li p{float:left}.fc_parentchild li p span{display:block;line-height:20px;overflow:hidden;text-overflow:ellipsis;width:100%;box-sizing:border-box;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;font-size:12px}.fc_subchild li p img{left:50%;margin-left:-12px;position:absolute;top:-35px}.fc_subchild li p.hoctagon{background-color:#c7d6d5;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/billingRule/hoctagen.png);background-repeat:no-repeat;background-position:top;color:#000;height:76px;margin:0;padding-top:24px;position:relative;width:188px;background-size:100% auto}.fc_subchild li p.hoctagon span{display:block;padding:0 10px;text-align:center}.fc_subchild li p.shape_oval span{display:inline-block;padding:0 10px;text-align:center}.textbetweenline{color:#2a2a2a;font-size:12px!important;left:-50px;line-height:14px!important;margin:0;padding:0!important;position:absolute;text-align:left!important;top:0;width:auto;font-weight:400}.fc_parentchild li.arrowdown:last-child:after{border-left:6px solid transparent}.fc_subchild li.arrowright.Dparent:after{top:40%}.imgdownarrow{left:129px;position:absolute;top:110px;z-index:100}.fc_parentchild li.arrowdown{margin-bottom:0;padding-bottom:60px;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/billingRule/FlowChart_DownArrow.png);background-repeat:no-repeat;background-position:129px bottom}.fc_parentchild li.arrowdown:last-child{background:none}.fc_subchild{float:left;margin-left:0}.fc_subchild li{clear:none;float:left;margin:19px 0;padding-left:60px;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/billingRule/FlowChart_RightArrow.png);background-position:0}.fc_subchild li,.fc_subchild li p.shape_oval{display:inline-block;background-repeat:no-repeat}.fc_subchild li p.shape_oval{background-color:#ffe0a4;background-image:url(https://talygenv.github.io/Vue-UI-Content/images/billingRule/oval_default.png);background-size:100% 100%;background-position:50%;border:none;border-radius:36px/62px;height:70px;position:relative;list-style:outside none none;margin:0;text-align:center;vertical-align:middle;width:auto;min-width:120px;border-radius:0;box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box}.fc_subchild li p.shape_oval.oval_red{background-color:#d02828}.fc_subchild li p.shape_oval.oval_yellow{background-color:#ffc107}.fc_subchild li p.shape_oval.oval_green{background-color:#28a745}.buttonsdlt{display:initial;float:right;padding-right:5px}a.nodetablecollapse i{padding:0 2px!important}',""]),e.exports=t},6051:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".textalignright[data-v-02075c42]{text-align:right}.paddingright5[data-v-02075c42]{padding-right:5px}.remove_blackheader .ticketsmallfix.theme-primary.partition.p-actions-expand[data-v-02075c42]{display:none!important}",""]),e.exports=t},7306:function(e,t,a){var i=a("b008");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("2d8f23e4",i,!0,{sourceMap:!1,shadowMode:!1})},"782f":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".my-popups .modal-dialog{max-width:95%}",""]),e.exports=t},"797d":function(e,t,a){"use strict";a("9480")},"7de1":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".textalignright[data-v-8580c9ba]{text-align:right}.paddingright5[data-v-8580c9ba]{padding-right:5px}",""]),e.exports=t},8079:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".textalignright[data-v-f97dd266]{text-align:right}.paddingright5[data-v-f97dd266]{padding-right:5px}",""]),e.exports=t},"82c5":function(e,t,a){var i=a("8d53");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("057d9e4d",i,!0,{sourceMap:!1,shadowMode:!1})},8560:function(e,t,a){var i=a("5616");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("13a2cced",i,!0,{sourceMap:!1,shadowMode:!1})},"86f9":function(e,t,a){"use strict";a("0d72")},8773:function(e,t,a){var i=a("a3c6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("573903b2",i,!0,{sourceMap:!1,shadowMode:!1})},"8c39":function(e,t,a){"use strict";a("ac0b")},"8d53":function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".textalignright[data-v-338e7e6d]{text-align:right}.paddingright5[data-v-338e7e6d]{padding-right:5px}",""]),e.exports=t},"8f64":function(e,t,a){"use strict";a("9525")},9480:function(e,t,a){var i=a("782f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("13aa7e80",i,!0,{sourceMap:!1,shadowMode:!1})},9525:function(e,t,a){var i=a("7de1");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("7eabb750",i,!0,{sourceMap:!1,shadowMode:!1})},a3c6:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".my-popups .modal-dialog[data-v-782d21e6]{max-width:90%}.bg-f5f5f5[data-v-782d21e6]{background-color:#f5f5f5}.thead-bg[data-v-782d21e6]{background-color:#f8f9fa}.text-danger[data-v-782d21e6]{color:#dc3545!important}",""]),e.exports=t},ac0b:function(e,t,a){var i=a("de6b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("efe8ea20",i,!0,{sourceMap:!1,shadowMode:!1})},b008:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".single-action[data-v-443aceea]{display:flex;align-items:center;gap:8px}.single-action a[data-v-443aceea]{cursor:pointer}.rotate-icon[data-v-443aceea]{transition:transform .3s}.expandchild .rotate-icon[data-v-443aceea]{transform:rotate(90deg)}.child-row-container[data-v-443aceea]{background-color:#f8f9fa;padding:10px;border-top:1px solid #dee2e6}",""]),e.exports=t},b91c:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"modal my-popups right fade show d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-right"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title"},[e._v(e._s(e.modelDetail.RULE_NAME?e.modelDetail.RULE_NAME:e.modelDetail.BILLING_RULE_NAME)+" ")])]),a("div",{staticClass:"modal-body p-0"},[e.modelDetail.CONFIGURATION_ID?a("div",{staticClass:"tab-content",staticStyle:{"overflow-x":"hidden",height:"800px","max-height":"800px"}},[a("FlowChartWrapper",{attrs:{configurationId:e.modelDetail.CONFIGURATION_ID.toString()}})],1):e._e()])])])])])},s=[],o=a("1d91"),n={components:{FlowChartWrapper:o["a"]},props:{modelDetail:{type:[Object,Array],required:!0}},data(){return{configId:""}},created(){var e;this.configId=(null===(e=this.modelDetail.CONFIGURATION_ID)||void 0===e?void 0:e.toString())||""},methods:{close(){this.$parent.modelopen=!1}}},l=n,r=a("0c7c"),c=Object(r["a"])(l,i,s,!1,null,"3846242c",null);t["a"]=c.exports},c016:function(e,t,a){var i=a("2b19");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("a2889e42",i,!0,{sourceMap:!1,shadowMode:!1})},ca80:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"main-content"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"padding-t_10 p-0",attrs:{id:"reportstabsdata"}},[a("div",{staticClass:"left-menu-tab mt-2"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"theme-primary partition"},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("Billing")))])])]),a("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab nav-tabs"},e._l(e.tabsWithLocalization,(function(t){return a("li",{key:t.id,class:{"nav-item":!0,active:e.currentTab&&e.currentTab.id===t.id},on:{click:function(a){return e.changeTab(t)}}},[a("span",{class:{"nav-link left-menu":!0,active:e.currentTab&&e.currentTab.id===t.id}},[a("i",{staticClass:"p-1",class:t.icon}),e._v(" "+e._s(t.displayName)+" ")])])})),0)]),a("div",{staticClass:"right-content"},[a("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e._m(0),e.currentTab?a("div",{staticClass:"col-md-12 p-0"},[1===e.currentTab.id?a("FlagRecords"):e._e(),2===e.currentTab.id?a("BilledUnbilledRecords"):e._e(),3===e.currentTab.id?a("BulkMove"):e._e(),4===e.currentTab.id?a("BulkMoveAdvance"):e._e(),5===e.currentTab.id?a("TicketLog"):e._e(),6===e.currentTab.id?a("UnprocessedRecords"):e._e(),7===e.currentTab.id?a("PreviewInvoice"):e._e()],1):e._e()])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"expand-list"},[a("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[a("i",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])}],o=(a("14d9"),a("4892")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!0,ModuleName:"BillingValidationData",SubModuleCode:"FlagRecords",IdentityColumn:"COLUMN_ID",HeaderText:e.$t("FlagRecords"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.Buttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchFlagRecords,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,SearchFields:e.leftSearchFields,SearchPosition:"top"},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["FLAG_REASON"==i.column.COLUMN_NAME?[a("span",{class:e.getFlagClass(i.row.FLAG),attrs:{title:i.row.FLAG_REASON}},[e._v(" "+e._s(i.row.FLAG_REASON)+" ")])]:e._e(),"TRANSMIT_DATE"==i.column.COLUMN_NAME?[i.row.TRANSMIT_DATE?a("span",[e._v(" "+e._s(e.formatDate(i.row.TRANSMIT_DATE))+" ")]):e._e()]:e._e(),"WORK_DATE"==i.column.COLUMN_NAME?[i.row.WORK_DATE?a("span",[e._v(" "+e._s(e.formatDate(i.row.WORK_DATE))+" ")]):e._e()]:e._e(),"PROCESS_DATE"==i.column.COLUMN_NAME?[i.row.PROCESS_DATE?a("span",{attrs:{title:i.row.PROCESS_DATE}},[e._v(" "+e._s(e.formatDate(i.row.PROCESS_DATE))+" ")]):a("span",[e._v("--")])]:e._e(),"MINUTES_WORKED"==i.column.COLUMN_NAME?[a("span",{staticClass:"textalignright paddingright5"},[e._v(e._s(i.row.MINUTES_WORKED))])]:e._e(),"FEET_LOCATED"==i.column.COLUMN_NAME?[a("span",{staticClass:"textalignright paddingright5"},[e._v(e._s(i.row.FEET_LOCATED))])]:e._e()]}}])}),e.IsChangeLineItem?a("ManageColumnItems",{attrs:{ColumnIds:e.ColumnIds,reqFrom:e.reqFrom}}):e._e(),e.IsEditException?a("EditException",{attrs:{ColumnIds:e.ColumnIds,ClientId:e.ClientId,IsProcessed:e.IsProcessed,requestFrom:e.requestFrom}}):e._e(),a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),e.IsViewTicket?a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("TicketImage")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[e.TicketContent?a("div",{staticClass:"listing"},[a("div",{staticStyle:{border:"1px solid #ddd",padding:"10px","margin-top":"10px","min-height":"50vh","overflow-y":"auto"},domProps:{innerHTML:e._s(e.TicketContent)}})]):a("div",{staticClass:"listing text-danger text-center border-0"},[e._v(" "+e._s(e.$t("NorecordfoundText"))+" ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])]):e._e()],1)])],1)},l=[],r=a("750f");let c=[{title:"Process",iconClass:"fa fa-money",callbackfunction:"Process",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0},{title:"DoNotBill",iconClass:"fa fa-times",callbackfunction:"DoNotBill",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0},{title:"Update",iconClass:"fa fa-pencil",callbackfunction:"Update",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0},{title:"FlagSummary_Report",iconClass:"fa fa-flag",callbackfunction:"FlagSummaryReport",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0}],d=[{fieldName:"ClientName",fieldType:"searchableselect",fieldIcon:"fa-user",paramName:"ClientIds",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},itemFields:["text"],groupFields:["groupText"],isMultiple:!1,maxRenderItems:50,placeholder:"Select Client Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"UtilityName",fieldType:"searchableselect",fieldIcon:"fa fa-building",paramName:"utilityName",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Utility Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"State",fieldType:"ddl-radio",fieldIcon:"fa fa-map-marker",paramName:"State",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Flag",fieldType:"ddl-radio",fieldIcon:"fa fa-flag",paramName:"serviceId",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"TicketNo",fieldType:"text",fieldIcon:"fa fa-ticket",paramName:"ticketNumber",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"CostCenters",fieldType:"ddl-radio",fieldIcon:"fa fa-sitemap",paramName:"costCenterId",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work_Date",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"WorkDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"ProcessDate",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"ProcessDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}}],u=[{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"UtilityName",DISPLAY_ORDER:1},{COLUMN_NAME:"TICKETNUMBER",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TicketNumber",DISPLAY_ORDER:2},{COLUMN_NAME:"TICKETTYPE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TicketType",DISPLAY_ORDER:3},{COLUMN_NAME:"WORK_DONE_FOR",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"WorkDoneFor",DISPLAY_ORDER:4},{COLUMN_NAME:"FLAG_REASON",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"FlagReason",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"TRANSMIT_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TransmitDate",DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"WORK_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Work_Date",DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"FEEDNAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"feed_name",DISPLAY_ORDER:8},{COLUMN_NAME:"TERM_CODE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TermCode",DISPLAY_ORDER:9},{COLUMN_NAME:"MINUTES_WORKED",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"MinutesWorked",DISPLAY_ORDER:10,settings:{isInSlot:!0}},{COLUMN_NAME:"FEET_LOCATED",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"FeetLocated",DISPLAY_ORDER:11,settings:{isInSlot:!0}},{COLUMN_NAME:"STATUS_CODE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"StatusCode",DISPLAY_ORDER:12},{COLUMN_NAME:"TYPEOFWORK",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TypeofWork",DISPLAY_ORDER:13},{COLUMN_NAME:"PROCESS_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ProcessedDate",DISPLAY_ORDER:14,settings:{isInSlot:!0}}],m=[{title:"TicketImage",icon:"fa fa-ticket text-primary action-icon",additionalSpan:"",callbackfunction:"ViewTicketImage"},{title:"Edit",icon:"fa fa-pencil text-success text-success action-icon",additionalSpan:"",callbackfunction:"EditRecord"}];async function h(e){var t=e;try{const e="countryId=223&includeCandaState=true",a=await r["a"].GetStateList(e);if(a.data){const e=a.data.map(e=>({name:e.STATE_NAME,value:e.ISO_CODE_3}));t.leftSearchFields.find(e=>"State"===e.fieldName).listOptions=e}}catch(a){console.error("Error loading states:",a)}try{const e=await r["a"].GetFlagType();if(e.data){const a=e.data.map(e=>({name:e.SERVICE_NAME,value:e.SERVICE_ID}));t.leftSearchFields.find(e=>"Flag"===e.fieldName).listOptions=a}}catch(a){console.error("Error loading flags:",a)}try{const e=await r["a"].GetCostCenters();if(e.data){const a=e.data.map(e=>({name:e.TEXT,value:e.VALUE}));t.leftSearchFields.find(e=>"CostCenters"===e.fieldName).listOptions=a}}catch(a){console.error("Error loading cost centers:",a)}}var p={buttons:c,leftsearchSchema:d,headerSchema:u,listActions:m,bindleftCommonSearchdropdown:h},f=a("9f3d"),g=a("7d0c"),v=a("993a"),C={name:"FlagRecords",components:{SearchableSelect:f["a"],ManageColumnItems:g["a"],EditException:v["a"]},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],Buttons:p.buttons,leftSearchFields:p.leftsearchSchema,listActions:p.listActions,Headers:p.headerSchema,searchCondition:"",selectedUtilities:[],groupedUtilities:[],IsChangeLineItem:!1,ColumnIds:"",reqFrom:"catchall",IsEditException:!1,ClientId:"",IsProcessed:0,TicketNumber:"",TransmissionId:"",IsViewTicket:!1,TicketContent:"",requestFrom:""}},created:async function(){var e,t=this;(null===(e=t.leftSearchFields)||void 0===e?void 0:e.length)>0&&(t.leftSearchFields[0].onChange=t.onSelectionChange),t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME)}),p.bindleftCommonSearchdropdown(this),await t.fetchclientlist()},methods:{leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:(this.searchCondition=e.searchCondition||"",this.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[]):this.searchCondition="",this.searchCondition&&(this.searchCondition=this.searchCondition.replace(/WorkDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`WorkDateFrom=${a}&WorkDateTo=${i}`})),this.searchCondition=this.searchCondition.replace(/ProcessDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`ProcessDateFrom=${a}&ProcessDateTo=${i}`}))),this.FetchFlagRecords()},onSelectionChange(e,t){var a=this;a.isLoading=!0;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.UTILITY_NAME,groupText:null,groupValue:null,metaData:null,text:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=t,a.groupedUtilities=a.UtilityList)}).catch(e=>{a.isLoading=!1,a.UtilityList=[],a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[]}).finally(()=>{a.isLoading=!1})},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"TicketImage":t.isVisible=!0;break;case"Edit":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchFlagRecords()},actionButtonClick:function(e,t){switch(e){case"ViewTicketImage":this.viewTicketImage(t);break;case"EditRecord":this.editRecord(t);break}},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"Process":this.ProcessColumnItems();break;case"DoNotBill":this.DoNotProcessLineItems();break;case"Update":this.ChangeColumnItems();break;case"FlagSummaryReport":this.FlagSummaryReport();break}},ProcessColumnItems:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((async function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmProcessFlagRecords"),!0,!1,(function(){var e={value:"",fieldName:"",lineIds:a,reqFrom:"process",setClient:0,beSbaId:0};r["a"].SaveColumnItems(e).then((async function(e){"Success"==e.data.msg?(t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",!0,t.$t("Alert")),setTimeout(async()=>{await t.FetchFlagRecords()},1e3)):t.ShowAlert(t.$t("DeletedError",[t.$t("WorkCode")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("SelectanyrecordtoChangeFlagRecords"),"warning",!0,t.$t("Alert"))},DoNotProcessLineItems:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((async function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmPurgesFlagRecords"),!0,!1,(function(){var e={value:"",fieldName:"",lineIds:a};r["a"].DoNotProcessLineItems(e).then((async function(e){"Success"==e.data.msg?(t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",!0,t.$t("Alert")),setTimeout(async()=>{await t.FetchFlagRecords()},1e3)):t.ShowAlert(t.$t("DeletedError",[t.$t("WorkCode")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("SelectanyrecordtoChangeFlagRecords"),"warning",!0,t.$t("Alert"))},ChangeColumnItems:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((async function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?(t.ColumnIds=a,t.IsChangeLineItem=!t.IsChangeLineItem):t.ShowAlert(t.$t("SelectanyrecordtoChangeFlagRecords"),"warning",!0,t.$t("Alert"))},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchFlagRecords()},FetchFlagRecords:function(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}`;e.searchCondition&&(t+="&"+e.searchCondition),r["a"].GetFlagRecords(t).then(t=>{e.isLoading=!1,t.data.result&&(e.ListingData=JSON.parse(t.data.result)),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach(e=>{e.TRANSMIT_DATE&&(e.TRANSMIT_DATE=new Date(e.TRANSMIT_DATE)),e.WORK_DATE&&(e.WORK_DATE=new Date(e.WORK_DATE)),e.PROCESS_DATE&&(e.PROCESS_DATE=new Date(e.PROCESS_DATE))}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)}).catch(t=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0,console.error("Error fetching flag records:",t)})},getFlagClass(e){if(!e)return"";const t=e.toUpperCase().trim();return"R"===t?"bg-danger py-1 px-1 text-white w-100 d-block text-center":"Y"===t?"bg-warning py-1 px-1 text-white w-100 d-block text-center":"G"===t?"bg-success py-1 px-1 text-white w-100 d-block text-center":""},formatDate(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString();const t=new Date(e);return t.toLocaleDateString()},CloseTemplate:function(){var e=this;e.IsViewTicket=!1},viewTicketImage:async function(e){var t=this;t.TicketNumber=e.TICKETNUMBER,t.TransmissionId=e.TRANSMISSION_ID,t.IsViewTicket=!t.IsViewTicket;var a=`TicketNumber=${t.TicketNumber}&TransmissionId=${t.TransmissionId}`;await r["a"].ViewTicketImage(a).then(e=>{e.data.length>0&&(t.TicketContent=e.data[0].RAW_IMAGE)})},editRecord(e){var t=this;t.ColumnIds=e.COLUMN_ID,t.ClientId=e.CLIENT_ID,t.IsEditException=!t.IsEditException},fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=e.clientList,e.groupedUtilities=e.clientList}).catch(t=>{e.isLoading=!1,e.clientList=[],e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=[],console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},fetchStatelist:function(){var e=this;e.isLoading=!0,r["a"].getStateList().then(t=>{e.isLoading=!1,e.stateList=t.data})},fetchFlaglist:function(){var e=this;e.isLoading=!0,r["a"].getFlagList().then(t=>{e.isLoading=!1,e.flagList=t.data})}}},I=C,S=(a("2331"),a("0c7c")),A=Object(S["a"])(I,n,l,!1,null,"f97dd266",null),T=A.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!1,ModuleName:"BillingValidationData",SubModuleCode:"BilledUnbilledRecords",IdentityColumn:"COLUMN_ID",HeaderText:e.$t("BilledUnbilledRecords"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.Buttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchBilledUnbilledRecords,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,SearchFields:e.leftSearchFields,SearchPosition:"top"},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["COST"==i.column.COLUMN_NAME?[a("span",{staticClass:"textalignright paddingright5"},[e._v(e._s(e.formatCurrency(i.row.COST)))])]:e._e(),"DATEOFINV"==i.column.COLUMN_NAME?[i.row.DATEOFINV||i.row.DATEOFINV?a("span",{attrs:{title:i.row.DATEOFINV||i.row.DATEOFINV}},[e._v(" "+e._s(e.formatDate(i.row.DATEOFINV||i.row.DATEOFINV))+" ")]):a("span",[e._v("--")])]:e._e(),"DATEOFWORK"==i.column.COLUMN_NAME?[i.row.DATEOFWORK||i.row.DATEOFWORK?a("span",{attrs:{title:i.row.DATEOFWORK||i.row.DATEOFWORK}},[e._v(" "+e._s(e.formatDate(i.row.DATEOFWORK||i.row.DATEOFWORK))+" ")]):a("span",[e._v("--")])]:e._e(),"FREQUENCY"==i.column.COLUMN_NAME?[a("span",[e._v(e._s(e.getFrequencyName(i.row.FREQUENCY)))])]:e._e()]}}])}),e.IsEditInvoiceItem?a("EditInvoiceLineItem",{attrs:{columnId:e.columnId,ClientId:e.ClientId,TicketNumber:e.TicketNumber,lineItemId:e.lineItemId,IsProcessed:e.IsProcessed,IsAdd:e.IsAdd,ticketType:e.ticketType,isTicketMannual:e.isTicketMannual}}):e._e(),a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),e.IsViewTicket?a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("TicketImage")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[e.TicketContent?a("div",{staticClass:"listing"},[a("div",{staticStyle:{border:"1px solid #ddd",padding:"10px","margin-top":"10px","min-height":"50vh","overflow-y":"auto"},domProps:{innerHTML:e._s(e.TicketContent)}})]):a("div",{staticClass:"listing text-danger text-center border-0"},[e._v(" "+e._s(e.$t("NorecordfoundText"))+" ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])]):e._e()],1)])],1)},E=[];let _=[],L=[{fieldName:"ClientName",fieldType:"searchableselect",fieldIcon:"fa-user",paramName:"ClientIds",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},itemFields:["text"],groupFields:["groupText"],isMultiple:!1,maxRenderItems:50,placeholder:"Select Client Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"UtilityName",fieldType:"searchableselect",fieldIcon:"fa fa-building",paramName:"utilityName",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Utility Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"Division",fieldType:"searchableselect",fieldIcon:"fa fa-sitemap",paramName:"divisionIds",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Division Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"Type",fieldType:"ddl-radio",fieldIcon:"fa fa-list",paramName:"searchType",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[{name:"Billed Records",value:"B"},{name:"Unbilled Records",value:"UB"}]},{fieldName:"TicketNo",fieldType:"text",fieldIcon:"fa fa-ticket",paramName:"ticketNumber",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"State",fieldType:"ddl-radio",fieldIcon:"fa fa-map-marker",paramName:"State",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work_Date",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"WorkDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"ProcessDate",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"ProcessDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"CostCenters",fieldType:"ddl-radio",fieldIcon:"fa fa-sitemap",paramName:"costCenterIds",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Frequency",fieldType:"ddl-radio",fieldIcon:"fa fa-repeat",paramName:"frequency",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[{name:"Weekly",value:"week"},{name:"Bi-Weekly",value:"biweek"},{name:"Monthly",value:"month"},{name:"Quarterly",value:"quarterly"},{name:"Half yearly",value:"halfyear"},{name:"Annually",value:"annual"},{name:"Custom Date",value:"custom"},{name:"Daily",value:"daily"}]}],N=[{COLUMN_NAME:"TICKETNUMBER",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TicketNumber",DISPLAY_ORDER:1},{COLUMN_NAME:"ACTIVITY_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"ActivityId",DISPLAY_ORDER:2},{COLUMN_NAME:"TRANSMISSION_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TransmissionId",DISPLAY_ORDER:3},{COLUMN_NAME:"CONTRACT_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"ClientName",DISPLAY_ORDER:4},{COLUMN_NAME:"UTIL_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"UtilId",DISPLAY_ORDER:5},{COLUMN_NAME:"SBA",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"sba_id",DISPLAY_ORDER:6},{COLUMN_NAME:"DIVISION_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"DivisionId",DISPLAY_ORDER:7},{COLUMN_NAME:"WORKCODE_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"WorkCode",DISPLAY_ORDER:8},{COLUMN_NAME:"COST",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Cost",DISPLAY_ORDER:9,settings:{isInSlot:!0}},{COLUMN_NAME:"SERVICE_CONDITION",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ServiceCondition",DISPLAY_ORDER:10},{COLUMN_NAME:"CDC",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CDCTermCode",DISPLAY_ORDER:11},{COLUMN_NAME:"DATEOFINV",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ProcessDate",DISPLAY_ORDER:12,settings:{isInSlot:!0}},{COLUMN_NAME:"DATEOFWORK",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"WorkedDate",DISPLAY_ORDER:13,settings:{isInSlot:!0}},{COLUMN_NAME:"FREQUENCY",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Frequency",DISPLAY_ORDER:14,settings:{isInSlot:!0}}],y=[{title:"TicketImage",icon:"fa fa-ticket text-primary action-icon",additionalSpan:"",callbackfunction:"ViewTicketImage"},{title:"Edit",icon:"fa fa-pencil text-success text-success action-icon",additionalSpan:"",callbackfunction:"EditRecord"}];async function b(e){var t=e;try{const e="countryId=223&includeCandaState=true",a=await r["a"].GetStateList(e);if(a.data){const e=a.data.map(e=>({name:e.STATE_NAME,value:e.ISO_CODE_3}));t.leftSearchFields.find(e=>"State"===e.fieldName).listOptions=e}}catch(a){console.error("Error loading states:",a)}try{const e=await r["a"].GetCostCenters();if(e.data){const a=e.data.map(e=>({name:e.TEXT,value:e.VALUE}));t.leftSearchFields.find(e=>"CostCenters"===e.fieldName).listOptions=a}}catch(a){console.error("Error loading cost centers:",a)}}var R={buttons:_,leftsearchSchema:L,headerSchema:N,listActions:y,bindleftCommonSearchdropdown:b},k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Edit")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("span",{staticClass:"user-guide"},[a("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[a("em",{staticClass:"fa fa-files-o pr-2"}),e._v(e._s(e.$t("GuideForUser"))+" ")]),a("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[a("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[a("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("User_Guide_Edit_Line_Item"))}})])])])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{ref:"dynamicform",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.$t("MandatoryString")},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-TicketImage",fn:function(){return[a("span",[a("a",{staticClass:"form-control border-0 px-0 viewicon text-primary",staticStyle:{width:"25px"},attrs:{href:"javascript:;"},on:{click:e.viewTicketImage}},[a("i",{staticClass:"fa fa-eye fa-size"})])])]},proxy:!0}])})],1)])])]),a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),e.IsViewTicket?a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("TicketImage")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[e.TicketContent?a("div",{staticClass:"listing"},[a("div",{staticStyle:{border:"1px solid #ddd",padding:"10px","margin-top":"10px","min-height":"50vh","overflow-y":"auto"},domProps:{innerHTML:e._s(e.TicketContent)}})]):a("div",{staticClass:"listing text-danger text-center border-0"},[e._v(" "+e._s(e.$t("NorecordfoundText"))+" ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])]):e._e()],1)])],1)},M=[],O={props:{columnId:{type:Number,required:!0},ClientId:{type:Number,required:!0},IsProcessed:{type:Number,default:0},lineItemId:{type:Number,required:!0},IsAdd:{type:Boolean,required:!0},ticketType:{type:String,required:!0},isTicketMannual:{type:String,required:!0},TicketNumber:{type:String,required:!0}},data(){return{isLoading:!1,isProcessed:0,oldModel:"",oldValues:{},changedValues:{},EditRequestFrom:"",FormSchema:[{layoutType:"triple",Data:[{astype:"RadioField",label:"",name:"customlineitem",value:this.IsTicketMannual,visibility:this.IsAdd,config:{options:[{name:this.$t("TicketNumber"),value:"T"},{name:this.$t("Manual"),value:"M"}]},onChange:this.onCustomLineItemChange},{astype:"TextField",label:this.$t("TicketNumber"),name:"TicketNumber",value:"",visibility:!0,validationRules:{required:!0,max:500},disabled:!0},{astype:"SelectField",label:this.$t("ActivityId"),name:"ActivityId",value:"",visibility:!0,config:{options:[]},validationRules:{required:!0},disabled:!0},{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",visibility:!0,config:{rows:3},disabled:!0},{astype:"SelectField",label:this.$t("StatusCode"),name:"Status",value:"",visibility:!0,config:{options:[]},validationRules:{required:!0}},{astype:"SearchableSelectField",label:this.$t("ContractName"),name:"ClientId",value:"",visibility:!0,placeholder:"Select Client Name",isSearch:!1,config:{options:[],actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},groupFields:["groupText"],isMultiple:!1,minSearchLength:0,statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},onChange:this.onSelectionChange},validationRules:{required:!1},disabled:!0},{astype:"TextField",label:this.$t("TicketId"),name:"TicketId",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("LocatorName"),name:"LocatorName",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("StreetName"),name:"StreetName",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("FeedName"),name:"FeedName",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("TransmissionId"),name:"TransmissionId",value:"",visibility:!0,disabled:!0},{astype:"SelectField",label:this.$t("TicketType"),name:"TicketType",value:"",visibility:!0,config:{options:[]}},{astype:"TextField",label:this.$t("WorkArea"),name:"WorkArea",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("CallDate"),name:"CallDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("TransmitDate"),name:"TransmitDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("LocatorStartDate"),name:"LocatorStartDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("ParseDate"),name:"ParseDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("County"),name:"County",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("State"),name:"State",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("CallerName"),name:"CallerName",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("CallerPhone"),name:"CallerPhone",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("WorkDoneFor"),name:"WorkDoneFor",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("Excavator"),name:"Excavator",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("TypeofWork"),name:"TypeOfWork",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("LocatorEndDate"),name:"LocatorEndDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("InitialStatusDate"),name:"InitialStatusDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("LegalDuedate"),name:"LegalDuedate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("TicketStartDate"),name:"TicketStartDate",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("UtilityName"),name:"UtilityName",value:"",visibility:!0,disabled:!0},{astype:"NumericField",label:this.$t("FeetLocated"),name:"FeetLocated",value:"",visibility:!0,onKeyUp:this.calculateNetTotal},{astype:"NumericField",label:this.$t("MinutesWorked"),name:"MinutesWorked",value:"",visibility:!0},{astype:"TextField",label:this.$t("Emergency"),name:"Emergency",value:"",visibility:!0,disabled:!0},{astype:"SlotField",label:this.$t("TicketImage"),name:"TicketImage",value:"",visibility:!0},{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",config:{rows:3}},{astype:"SelectField",label:this.$t("Utlityid"),name:"UtilityId",value:"",visibility:!0,config:{options:[]},validationRules:{required:!0},onChange:this.onSelectionUtilityChange},{astype:"SelectField",label:this.$t("sba_id"),name:"SbaId",value:"",visibility:!0,config:{options:[]}},{astype:"SelectField",label:this.$t("CostCenters"),name:"DistrictCode",value:"",visibility:!0,config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("WorkCode"),name:"WorkCodeId",value:"",visibility:!0,config:{options:[],onChange:this.onWorkCodeChange},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Division"),name:"DivisionId",value:"",visibility:!0,config:{options:[]}},{astype:"NumericField",label:this.$t("UnitRate"),name:"UnitRate",value:"",visibility:!1,validationRules:{required:!0},onKeyUp:this.calculateNetTotalManual},{astype:"NumericField",label:this.$t("UnitQuantity"),name:"UnitQuantity",value:"",visibility:!1,validationRules:{required:!0},onKeyUp:this.calculateNetTotalManual},{astype:"TextField",label:this.$t("NetTotal"),name:"NetTotalManual",value:"0.00",visibility:!1,disabled:!0},{astype:"NumericField",label:this.$t("Rate"),name:"UnitAmountTotal",value:"",visibility:0!=this.columnId&&null!=this.columnId,onKeyUp:this.calculateNetTotal},{astype:"TextField",label:this.$t("TermCode"),name:"TermCode",value:"",visibility:!0},{astype:"SelectField",label:this.$t("AdderName"),name:"AdderNameLineItem",value:"",visibility:!0,config:{options:[]},disabled:!0,onChange:this.onAdderNameChange},{astype:"NumericField",label:this.$t("AdderUnitCost"),name:"AdderUnitCost",value:"",visibility:!0,disabled:!0,onKeyUp:this.calculateNetTotal},{astype:"TextField",label:this.$t("AdderUnit"),name:"AdderUnit",value:"",visibility:!0,disabled:!0},{astype:"TextField",label:this.$t("NetTotal"),name:"NetTotal",value:"",visibility:!0,disabled:!0}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Close"},{type:"submit",class:"btn btn-primary",text:"<i class='fa fa-save pr-2'></i>Save And Reprocess"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}],FieldOptions:[],DataType:"nvarchar",SelectedValue:"",IsViewTicket:!1,TicketContent:"",TransmissionId:"",DivisionId:"",currentAction:"CatchAll",UtilityId:"",ServiceId:"",LocateId:"",AfterHours:"",UtilityAbbrev:"",FlagReason:""}},created:async function(){var e=this;await e.GetStatusCodes(),await e.GetTicketTypes(),await e.GetActivityIdDropdownListByTicketNumber(),await e.GetWorkCodeData(),await e.GetDivisionDropdownData(),await e.LoadAdditionalInfoByClientId(),await e.GetSbaIdListByUtilityId(),await e.GetCostCenters(),await e.fetchclientlist(),await e.GetInvoiceLineItem()},methods:{GetInvoiceLineItem:async function(){var e=this;e.isLoading=!0;var t=`lineBatchId=&billID=0&lineItemId=${e.lineItemId}&columnId=${e.columnId}&ticketType=${e.ticketType}&isTicketMannual=${e.isTicketMannual}`;r["a"].GetInvoiceLineItem(t).then(t=>{if(t.data){var a,i,s=t.data[0];e.TransmissionId=s.TRANSMISSION_ID,e.DivisionId=s.DIVISION_ID,e.UtilityId=s.CLIENT_ADDITIONAL_ID,e.$refs.dynamicform.updateProperty("TicketNumber","value",s.TICKETNUMBER),e.$refs.dynamicform.updateProperty("ActivityId","value",s.ACTIVITY_ID),e.$refs.dynamicform.updateProperty("Description","value",s.DESCRIPTION),e.$refs.dynamicform.updateProperty("Status","value",s.STATUS),e.$refs.dynamicform.updateProperty("ClientId","value",s.CLIENT_ID),e.$refs.dynamicform.updateProperty("TicketId","value",s.TICKET_ID),e.$refs.dynamicform.updateProperty("LocatorName","value",s.LOCATOR_NAME),e.$refs.dynamicform.updateProperty("StreetName","value",s.STREETNAME),e.$refs.dynamicform.updateProperty("FeedName","value",s.FEEDNAME),e.$refs.dynamicform.updateProperty("TransmissionId","value",s.TRANSMISSION_ID),e.$refs.dynamicform.updateProperty("TicketType","value",s.TICKETTYPE),e.$refs.dynamicform.updateProperty("WorkArea","value",s.WORK_AREA),e.$refs.dynamicform.updateProperty("CallDate","value",e.$options.filters.formatDateTime(s.CALL_DATE)),e.$refs.dynamicform.updateProperty("TransmitDate","value",e.$options.filters.formatDateTime(s.TRANSMIT_DATE)),e.$refs.dynamicform.updateProperty("LocatorStartDate","value",e.$options.filters.formatDateTime(s.WORK_DATE)),e.$refs.dynamicform.updateProperty("ParseDate","value",e.$options.filters.formatDateTime(s.PARSE_DATE)),e.$refs.dynamicform.updateProperty("County","value",s.COUNTY),e.$refs.dynamicform.updateProperty("State","value",s.STATE),e.$refs.dynamicform.updateProperty("CallerName","value",s.CALLER_NAME),e.$refs.dynamicform.updateProperty("CallerPhone","value",s.CALLER_PHONE),e.$refs.dynamicform.updateProperty("WorkDoneFor","value",s.WORK_DONE_FOR),e.$refs.dynamicform.updateProperty("Excavator","value",s.EXCAVATOR),e.$refs.dynamicform.updateProperty("TypeOfWork","value",s.TYPEOFWORK),e.$refs.dynamicform.updateProperty("LocatorEndDate","value",s.CLOSED_DATE?e.$options.filters.formatDateTime(s.CLOSED_DATE):null),e.$refs.dynamicform.updateProperty("InitialStatusDate","value",e.$options.filters.formatDateTime(s.INITIAL_STATUS_DATE)),e.$refs.dynamicform.updateProperty("LegalDuedate","value",s.LEGAL_DUE_DATE?e.$options.filters.formatDateTime(s.LEGAL_DUE_DATE):null),e.$refs.dynamicform.updateProperty("TicketStartDate","value",e.$options.filters.formatDateTime(s.OUR_DUE_DATE)),e.$refs.dynamicform.updateProperty("UtilityName","value",s.UTILITY_NAME),e.$refs.dynamicform.updateProperty("FeetLocated","value",s.FEET_LOCATED),e.$refs.dynamicform.updateProperty("MinutesWorked","value",s.MINUTES_WORKED),e.$refs.dynamicform.updateProperty("Emergency","value",s.EMERGENCY),e.$refs.dynamicform.updateProperty("Comment","value",s.REMARKS),e.$refs.dynamicform.updateProperty("UtilityId","value",s.CLIENT_ADDITIONAL_ID),e.$refs.dynamicform.updateProperty("SbaId","value",s.BE_SBA_ID),e.$refs.dynamicform.updateProperty("DistrictCode","value",s.DISTRICT_CODE),e.$refs.dynamicform.updateProperty("WorkCodeId","value",s.WORK_CODE_ID),e.$refs.dynamicform.updateProperty("DivisionId","value",s.DIVISION_ID),e.$refs.dynamicform.updateProperty("UnitRate","value",s.UNIT_RATE),e.$refs.dynamicform.updateProperty("UnitQuantity","value",s.UNIT_WORKED),e.$refs.dynamicform.updateProperty("UnitAmountTotal","value",s.UNIT_TOTAL_AMOUNT),e.$refs.dynamicform.updateProperty("TermCode","value",s.TERM_CODE),e.$refs.dynamicform.updateProperty("AdderNameLineItem","value",s.ADDER_NAME),e.$refs.dynamicform.updateProperty("AdderUnitCost","value",s.ADDER_UNIT_COST),e.$refs.dynamicform.updateProperty("AdderUnit","value",s.ADDER_UNIT),e.$refs.dynamicform.updateProperty("NetTotal","value",null!==(a=s.AMOUNT)&&void 0!==a?a:s.UNIT_TOTAL_AMOUNT),e.ServiceId=s.SERVICECODE,e.LocateId=s.LOCATE_ID,e.AfterHours=s.AFTER_HOURS,e.UtilityAbbrev=s.UTILITY_ABBREV,e.FlagReason=s.FLAG_REASON,e.oldValues={TicketNumber:s.TICKETNUMBER,ActivityId:s.ACTIVITY_ID,Description:s.DESCRIPTION,Status:s.STATUS,ClientId:s.CLIENT_ID,TicketId:s.TICKET_ID,LocatorName:s.LOCATOR_NAME,StreetName:s.STREETNAME,FeedName:s.FEEDNAME,TransmissionId:s.TRANSMISSION_ID,TicketType:s.TICKETTYPE,WorkArea:s.WORK_AREA,CallDate:e.$options.filters.formatDateTime(s.CALL_DATE),TransmitDate:e.$options.filters.formatDateTime(s.TRANSMIT_DATE),LocatorStartDate:e.$options.filters.formatDateTime(s.WORK_DATE),ParseDate:e.$options.filters.formatDateTime(s.PARSE_DATE),County:s.COUNTY,State:s.STATE,CallerName:s.CALLER_NAME,CallerPhone:s.CALLER_PHONE,WorkDoneFor:s.WORK_DONE_FOR,Excavator:s.EXCAVATOR,TypeOfWork:s.TYPEOFWORK,LocatorEndDate:e.$options.filters.formatDateTime(s.CLOSED_DATE),InitialStatusDate:e.$options.filters.formatDateTime(s.INITIAL_STATUS_DATE),LegalDuedate:e.$options.filters.formatDateTime(s.LEGAL_DUE_DATE),TicketStartDate:e.$options.filters.formatDateTime(s.OUR_DUE_DATE),UtilityName:s.UTILITY_NAME,FeetLocated:s.FEET_LOCATED,MinutesWorked:s.MINUTES_WORKED,Emergency:s.EMERGENCY,TicketImage:s.TICKETIMAGE,Comment:s.REMARKS,UtilityId:s.CLIENT_ADDITIONAL_ID,SbaId:s.SBA_ID,DistrictCode:s.DISTRICT_CODE,WorkCodeId:s.WORK_CODE_ID,DivisionId:s.DIVISION_ID,UnitRate:s.UNIT_RATE,UnitQuantity:s.UNIT_WORKED,NetTotalManual:"0.00",UnitAmountTotal:s.UNIT_TOTAL_AMOUNT,TermCode:s.TERM_CODE,AdderNameLineItem:s.ADDER_NAME,AdderUnitCost:s.ADDER_UNIT_COST,AdderUnit:s.ADDER_UNIT,NetTotal:null!==(i=s.AMOUNT)&&void 0!==i?i:s.UNIT_TOTAL_AMOUNT,customlineitem:e.IsTicketMannual,ServiceId:s.SERVICECODE,LocateId:s.LOCATE_ID,AfterHours:s.AFTER_HOURS,UtilityAbbrev:s.UTILITY_ABBREV,FlagReason:s.FLAG_REASON},e.onCustomLineItemChange(e.IsTicketMannual)}e.isLoading=!1}).catch(()=>{e.isLoading=!1})},onSelectionUtilityChange(e,t){var a=this;a.UtilityId=t.value,a.GetSbaIdListByUtilityId()},fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.$refs.dynamicform.updateProperty("ClientId","config.options",e.clientList),e.$refs.dynamicform.UpdateKeyValue()}).catch(t=>{e.isLoading=!1,e.clientList=[],e.$refs.dynamicform.updateProperty("ClientId","config.options",e.clientList),e.$refs.dynamicform.UpdateKeyValue(),console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},GetStatusCodes:async function(){var e=this;let t=[];r["a"].GetStatusCodes().then(a=>{if(a.data){var i=a.data;null!=i&&(i.forEach(e=>{let a={name:e.TEXT,value:e.VALUE};t.push(a)}),e.$refs.dynamicform.updateProperty("Status","config.options",t),e.$refs.dynamicform.UpdateKeyValue())}})},GetWorkCodeData:async function(){var e=this;r["a"].GetWorkCodeData().then(t=>{if(t.data){var a=t.data;e.$refs.dynamicform.updateProperty("WorkCodeId","config.options",a),e.$refs.dynamicform.updateProperty("AdderNameLineItem","config.options",a),e.$refs.dynamicform.UpdateKeyValue()}})},GetDivisionDropdownData:async function(){var e=this,t="ClientId="+e.ClientId;r["a"].GetDivisionDropdownData(t).then(t=>{if(t.data){var a=t.data.map(e=>({name:e.NAME,value:e.DIVISIONS_ID}));e.$refs.dynamicform.updateProperty("DivisionId","config.options",a),e.$refs.dynamicform.UpdateKeyValue()}})},GetTicketTypes:async function(){var e=this;let t=[];r["a"].GetTicketTypes().then(a=>{if(a.data){var i=a.data;null!=i&&(i.forEach(e=>{let a={name:e.TYPE_NAME,value:e.TYPE_ID};t.push(a)}),e.$refs.dynamicform.updateProperty("TicketType","config.options",t),e.$refs.dynamicform.UpdateKeyValue())}})},LoadAdditionalInfoByClientId:async function(){var e=this;let t=[];var a="ClientId="+e.ClientId;r["a"].LoadAdditionalInfoByClientId(a).then(a=>{if(a.data){var i=a.data;null!=i&&(i.forEach(e=>{let a={name:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),e.$refs.dynamicform.updateProperty("UtilityId","config.options",t),e.$refs.dynamicform.UpdateKeyValue())}})},GetActivityIdDropdownListByTicketNumber:async function(){var e=this;let t=[];var a=`ClientId=${e.ClientId}&ticketNumber=${e.TicketNumber}`;r["a"].GetActivityIdDropdownListByTicketNumber(a).then(a=>{if(a.data){var i=a.data;null!=i&&(i.forEach(e=>{let a={name:e.NAME,value:e.ACTIVITY_ID};t.push(a)}),e.$refs.dynamicform.updateProperty("ActivityId","config.options",t),e.$refs.dynamicform.UpdateKeyValue())}})},GetSbaIdListByUtilityId:async function(){var e=this;let t=[];var a="UtilityId="+e.UtilityId;r["a"].GetSbaIdListByUtilityId(a).then(a=>{if(a.data){var i=a.data;null!=i&&(i.forEach(e=>{let a={name:e.NAME,value:e.VALUE};t.push(a)}),e.$refs.dynamicform.updateProperty("SBAId","config.options",t),e.$refs.dynamicform.UpdateKeyValue())}})},GetCostCenters:async function(){var e=this;let t=[];r["a"].GetCostCenters().then(a=>{if(a.data){var i=a.data;null!=i&&(i.forEach(e=>{let a={name:e.TEXT,value:e.VALUE};t.push(a)}),e.$refs.dynamicform.updateProperty("DistrictCode","config.options",t),e.$refs.dynamicform.UpdateKeyValue())}})},onCustomLineItemChange:function(e){var t=this;"M"===e||"F"===t.IsTicketFlatFee?(t.$refs.dynamicform.updateProperty("UnitRate","visibility",!0),t.$refs.dynamicform.updateProperty("UnitQuantity","visibility",!0),0!=t.columnId&&null!=t.columnId||t.$refs.dynamicform.updateProperty("NetTotalManual","visibility",!0),t.setTicketFieldsVisibility(!1),t.$refs.dynamicform.updateProperty("AdderNameLineItem","disabled",!0),t.$refs.dynamicform.updateProperty("AdderUnitCost","disabled",!0),"F"===t.IsTicketFlatFee&&(t.$refs.dynamicform.updateProperty("UnitQuantity","visibility",!1),t.$refs.dynamicform.updateProperty("WorkCodeId","disabled",!0),t.$refs.dynamicform.updateProperty("WorkCodeId","value","FF"))):(t.setTicketFieldsVisibility(!0),t.$refs.dynamicform.updateProperty("UnitRate","visibility",!1),t.$refs.dynamicform.updateProperty("UnitQuantity","visibility",!1),t.$refs.dynamicform.updateProperty("NetTotalManual","visibility",!1),t.AdderUnit>0&&(t.$refs.dynamicform.updateProperty("AdderNameLineItem","disabled",!1),t.$refs.dynamicform.updateProperty("AdderUnitCost","disabled",!1)))},setTicketFieldsVisibility:function(e){var t=["TicketNumber","ActivityId","Description","Status","ClientId","TicketId","LocatorName","StreetName","FeedName","TransmissionId","TicketType","WorkArea","CallDate","TransmitDate","LocatorStartDate","ParseDate","County","State","CallerName","CallerPhone","WorkDoneFor","Excavator","TypeOfWork","LocatorEndDate","InitialStatusDate","LegalDuedate","TicketStartDate","UtilityName","FeetLocated","MinutesWorked","Emergency","TicketImage","Comment","UtilityId","SbaId"];t.forEach(t=>{this.$refs.dynamicform.updateProperty(t,"visibility",e)})},onActivityIdChange:function(e){var t=this;if(t.ActivityId=e,t.TicketNumber&&e){var a=`TicketNumber=${t.TicketNumber}&ActivityId=${e}&ClientId=${t.ClientId}`;r["a"].GetInvoiceLineItem(a).then(e=>{e.data&&t.GetInvoiceLineItem()})}},onSelectionChange(e,t){var a=this;a.isLoading=!0;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];if(e.data){var i=e.data;null!=i&&(i.forEach(e=>{let a={name:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.$refs.dynamicform.updateProperty("UtilityId","config.options",t),a.$refs.dynamicform.UpdateKeyValue(),a.UtilityId=a.$refs.dynamicform.getPropertyValue("UtilityId","value"),a.GetSbaIdListByUtilityId())}}).catch(e=>{a.isLoading=!1,a.UtilityList=[],a.$refs.dynamicform.updateProperty("UtilityId","config.options",UtilityList),a.$refs.dynamicform.UpdateKeyValue()}).finally(()=>{a.isLoading=!1})},onWorkCodeChange:function(e,t,a){var i=this,s=`clientId=${i.ClientId}&workCodeId=${t.value}&divisionId=${i.DivisionId}`;r["a"].LoadRateByWorkCode(s).then(e=>{if(e.data){var t=parseFloat(e.data[0].WORK_RATE).toFixed(2);"M"===i.IsTicketMannual?(i.$refs.dynamicform.updateProperty("UnitRate","value",t),i.calculateNetTotalManual()):(i.$refs.dynamicform.updateProperty("UnitAmountTotal","value",t),i.calculateNetTotal())}})},onAdderNameChange:function(e){var t=this,a=`clientId=${t.ClientId}&workCodeId=${e}&divisionId=${t.DivisionId}`;r["a"].LoadRateByWorkCode(a).then(e=>{if(e.data){var a=parseFloat(e.data).toFixed(2);t.$refs.dynamicform.updateProperty("AdderUnitCost","value",a),t.calculateNetTotal()}})},calculateNetTotal:function(){var e=this,t=parseFloat(e.$refs.dynamicform.getPropertyValue("UnitAmountTotal","value")||0),a=parseFloat(e.$refs.dynamicform.getPropertyValue("AdderUnitCost","value")||0),i=parseFloat(e.AdderUnit||0),s=t+a*i;e.$refs.dynamicform.updateProperty("NetTotal","value",s.toFixed(2))},calculateNetTotalManual:function(){var e=this,t=parseFloat(e.$refs.dynamicform.getPropertyValue("UnitRate","value")||0),a=parseFloat(e.$refs.dynamicform.getPropertyValue("UnitQuantity","value")||0);0===t&&(t=0),0===a&&(a=0);var i=a*t,s=parseFloat(Math.round(100*i)/100).toFixed(2);isNaN(s)||e.$refs.dynamicform.updateProperty("NetTotalManual","value",s)},onSubmit(e,t){var a=this;a.isLoading=!0,a.UpdateChangedValues(e);var i=JSON.stringify(a.MakeJsonForProcessLog(e));let s=t.replace(/<[^>]*>/g,"").trim(),o="Save And Close"===s?1:0;var n={columnId:a.columnId,SetupId:"",BatchId:"",BillId:0,IsAdd:a.IsAdd,IsReadOnlyForReport:"",IsTicketMannual:a.isTicketMannual,IsTicketFlatFee:a.ticketType,LineItemId:a.lineItemId,DateOfInvoiceLine:"",InvoiceBatchId:"",RecordOnSearchTicketNumer:"yes",TicketNumber:e.TicketNumber,ActivityId:e.ActivityId,Description:e.Description,Status:e.Status,ClientId:e.ClientId,TicketId:e.TicketId,LocatorName:e.LocatorName,StreetName:e.StreetName,FeedName:e.FeedName,TransmissionId:e.TransmissionId,TicketType:e.TicketType,WorkArea:e.WorkArea,CallDate:e.CallDate,TransmitDate:e.TransmitDate,WorkDate:e.LocatorStartDate,ParseDate:e.ParseDate,County:e.County,State:e.State,CallerName:e.CallerName,CallerPhone:e.CallerPhone,WorkDoneFor:e.WorkDoneFor,Excavator:e.Excavator,TypeOfWork:e.TypeOfWork,ClosedDate:e.LocatorEndDate,InitialStatusDate:e.InitialStatusDate,LegalDuedate:e.LegalDuedate,OurDueDate:e.TicketStartDate,UtilityName:e.UtilityName,FeetLocated:e.FeetLocated,MinutesWorked:e.MinutesWorked,Emergency:e.Emergency,Comment:e.Comment,ClientAdditionalId:e.UtilityId,SbaId:e.SbaId,DistrictCode:e.DistrictCode,WorkCodeId:e.WorkCodeId,DivisionId:e.DivisionId,UnitRate:e.UnitRate,UnitQuantity:e.UnitQuantity,UnitAmountTotal:e.UnitAmountTotal,TermCode:e.TermCode,AdderNameLineItem:e.AdderNameLineItem,AdderUnitCost:e.AdderUnitCost,AdderUnit:e.AdderUnit,NetTotal:e.NetTotal,ServiceId:a.ServiceId,LocateId:a.LocateId,AfterHours:a.AfterHours,UtilityAbbrev:a.UtilityAbbrev,FlagReason:a.FlagReason,ProcessLogJson:i,newStringifyModel:JSON.stringify(e),oldStringifyModel:JSON.stringify(a.oldValues),isSaveClicked:o};r["a"].UpdateInvoiceLineItem(n).then(e=>{a.isLoading=!1,e.data&&"Success"===e.data.msg?(a.ShowAlert(a.$t("RecordUpdatedSuccessfully"),"success",!0,a.$t("Alert")),1!=o&&0!=o||(a.$parent.FetchBilledUnbilledRecords(),a.Close())):e.data&&"invalid"===e.data.msgFor?(e.data.invalidKey&&e.data.invalidKey.forEach((function(e){a.$refs.dynamicform.showError(e.ctrId,e.ctrMsg)})),a.ShowAlert(e.data.msg,"failure",!0,a.$t("Alert"))):a.ShowAlert(e.data.msg,e.data.msgFor,!0,a.$t("Alert"))}).catch(()=>{a.isLoading=!1,a.ShowAlert(a.$t("ErrorWhileProcessingRequest"),"failure",!0,a.$t("Alert"))})},UpdateChangedValues(e){var t="{";for(var a in e)e[a]!==this.oldValues[a]&&(t+='"'+a+'":'+JSON.stringify(e[a])+",");"{"===t?this.$refs.dynamicform.updateProperty("Comment","value",""):(t=t.substr(0,t.length-1)+"}",this.$refs.dynamicform.updateProperty("Comment","value",t))},MakeJsonForProcessLog(e){var t=[];for(var a in e)e[a]!==this.oldValues[a]&&"Comment"!==a&&t.push({ControlName:a,OldData:this.oldValues[a]||"",NewData:e[a]||""});return t},viewTicketImage:function(){var e=this;e.IsViewTicket=!0;var t=`TicketNumber=${e.TicketNumber}&TransmissionId=${e.TransmissionId}`;r["a"].ViewTicketImage(t).then(t=>{t.data&&t.data.length>0&&(e.TicketContent=t.data[0].RAW_IMAGE)})},CloseTemplate:function(){this.IsViewTicket=!1},Close:function(){this.$parent.IsEditInvoiceItem=!1}}},P=O,w=Object(S["a"])(P,k,M,!1,null,null,null),F=w.exports,U={name:"BilledUnbilledRecords",components:{EditInvoiceLineItem:F},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],Buttons:R.buttons,leftSearchFields:R.leftsearchSchema,listActions:R.listActions,Headers:R.headerSchema,searchCondition:"",frequencyList:[],IsEditInvoiceItem:"",columnId:"",lineItemId:"",ClientId:"",IsProcessed:1,IsAdd:!1,ticketType:"N",isTicketMannual:"N",TicketNumber:"",IsViewTicket:!1,TicketContent:"",selectedId:""}},created:async function(){var e,t=this;(null===(e=t.leftSearchFields)||void 0===e?void 0:e.length)>0&&(t.leftSearchFields[0].onChange=t.onSelectionChange,t.leftSearchFields[1].onChange=t.onSelectionUtilityChange),t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME)}),R.bindleftCommonSearchdropdown(this),await t.fetchclientlist()},methods:{leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:this.searchCondition=e.searchCondition||"":this.searchCondition="",this.searchCondition&&(this.searchCondition=this.searchCondition.replace(/WorkDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`WorkDateFrom=${a}&WorkDateTo=${i}`})),this.searchCondition=this.searchCondition.replace(/ProcessDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`ProcessDateFrom=${a}&ProcessDateTo=${i}`}))),this.FetchBilledUnbilledRecords()},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(t=>{let i={...t};switch(i.title){case"TicketImage":i.isVisible=!0;break;case"Edit":"CLBSND"===e.STATUS_CODE?(i.isVisible=!0,i.isDisabled=!0):(i.isVisible=!0,i.isDisabled=!1);break;default:i.isVisible=!0}a.push(i)}),a},CloseTemplate:function(){var e=this;e.IsViewTicket=!1},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchBilledUnbilledRecords()},actionButtonClick:function(e,t){switch(e){case"ViewTicketImage":this.viewTicketImage(t);break;case"EditRecord":this.editRecord(t);break}},commonHeaderButtonClick:function(e){},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchBilledUnbilledRecords()},FetchBilledUnbilledRecords:function(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}`;e.searchCondition&&(t+="&"+e.searchCondition),r["a"].GetBilledUnbilledRecords(t).then(t=>{e.isLoading=!1,t.data.result&&(e.ListingData=JSON.parse(t.data.result)),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach(e=>{e.DATEOFINV&&(e.DATEOFINV=new Date(e.DATEOFINV)),e.DATEOFWORK&&(e.DATEOFWORK=new Date(e.DATEOFWORK))}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)}).catch(t=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0,console.error("Error fetching flag records:",t)})},formatDate(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString();const t=new Date(e);return t.toLocaleDateString()},formatCurrency(e){return e||0===e?parseFloat(e).toFixed(2):"0.00"},getFrequencyName(e){if(!e)return"";const t=this.frequencyList.find(t=>t.Value==e||t.value==e);return t?t.Name||t.name||"":e},viewTicketImage:async function(e){var t=this;t.TicketNumber=e.TICKETNUMBER,t.TransmissionId=e.TRANSMISSION_ID,t.IsViewTicket=!t.IsViewTicket;var a=`TicketNumber=${t.TicketNumber}&TransmissionId=${t.TransmissionId}`;await r["a"].ViewTicketImage(a).then(e=>{e.data.length>0&&(t.TicketContent=e.data[0].RAW_IMAGE)})},editRecord(e){var t=this;t.columnId=e.TRAN_NO,t.lineItemId=e.COLUMN_ID,t.ClientId=e.CLIENT_ID,t.TicketNumber=e.TICKETNUMBER,t.IsEditInvoiceItem=!t.IsEditInvoiceItem},fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=e.clientList,e.groupedUtilities=e.clientList}).catch(t=>{e.isLoading=!1,e.clientList=[],e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=[],console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},onSelectionChange(e,t){var a=this;a.isLoading=!0,a.selectedId=t;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.UTILITY_NAME,groupText:null,groupValue:null,metaData:null,text:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=t)}).catch(e=>{a.isLoading=!1,a.SelectedUtilityList=[],a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[]}).finally(()=>{a.isLoading=!1})},onSelectionUtilityChange(e,t){var a=this;a.isLoading=!0;let i=t.map(e=>""+e).join(",");var s=`clientId=${a.selectedId}&utilityIds=${i}`;r["a"].LoadClientDivisionList(s).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.NOTE,groupText:null,groupValue:null,metaData:null,text:e.NOTE,value:e.ID};t.push(a)}),a.leftSearchFields.find(e=>"Division"===e.fieldName).listOptions=t)}).catch(e=>{a.isLoading=!1,a.DivisionList=[],a.leftSearchFields.find(e=>"Division"===e.fieldName).listOptions=[]}).finally(()=>{a.isLoading=!1})}}},x=U,B=(a("8f64"),Object(S["a"])(x,D,E,!1,null,"8580c9ba",null)),Y=B.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"col-md-12 p-0 mt-2"},[a("div",{staticClass:"ticketsmallfix theme-primary p-actions-expand ",staticStyle:{overflow:"visible"}},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("BulkMove")))]),a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white",attrs:{title:"Bulk Move",href:"javascript:;"},on:{click:e.bulkMoveAction}},[a("em",{staticClass:"fa fa-arrows"}),a("br"),a("span",[e._v(e._s(e.$t("BulkMove")))])]),a("a",{staticClass:"p-action-btn text-white",attrs:{title:"Delete",href:"javascript:;"},on:{click:e.deleteAction}},[a("em",{staticClass:"fa fa-trash"}),a("br"),a("span",[e._v(e._s(e.$t("Delete")))])]),a("a",{staticClass:"p-action-btn text-white",attrs:{title:"View Queue List",href:"javascript:;"},on:{click:e.viewQueueListAction}},[a("em",{staticClass:"fa fa-eye"}),a("br"),a("span",[e._v(e._s(e.$t("ViewQueueList")))])])])])]),a("div",{staticClass:"border p-3 float-left w-100 remove_blackheader"},[a("dynamic-form",{ref:"dynamicform",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.$t("MandatoryString")},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-SampleFile",fn:function(t){t.data;return[a("div",{staticClass:"col-lg-12 col-xl-12 p-0"},[a("div",{staticClass:"form-group",attrs:{id:"divFiles"}},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"form-control"},[a("span",{staticClass:"text-truncate"},[e._v("Download BulkMoveAdvanceSampleFile.xls")])]),a("div",{staticClass:"input-group-append"},[a("a",{staticClass:"input-group-text",attrs:{href:"https://cogniterblob.blob.core.windows.net/cg-usic-llc-310896/Upload/UserProfileImage/0f0cf000-22f8-40d0-ab1a-34fbcb382d96.xlsx",title:"Download",checkprivilege:"no"}},[a("i",{staticClass:"fa fa-download action-icon"})])])])])])]}}])}),a("div",{staticClass:"heading-border mt-3"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("Ticket")))])])]),a("div",{staticClass:"row mb-2 mt-2"},[a("div",{staticClass:"col-12 mb-2"},[a("div",{staticClass:"d-inline-block mr-2"},[a("button",{staticClass:"btn btn-success text-white",attrs:{type:"button"},on:{click:e.selectAllLineItems}},[a("i",{staticClass:"fa fa-check pr-2",staticStyle:{width:"20px"}}),e._v(e._s(e.$t("SelectAllLineItems"))+" ")])]),a("div",{staticClass:"d-inline-block"},[a("span",{staticClass:"legend-upcoming colorboxsquare"}),e._v(e._s(e.$t("InvoiceSentMessageOnBulkMove"))+" ")])])]),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!1,showCheckBox:!0,ModuleName:"BillingValidationData",SubModuleCode:"BulkMove",IdentityColumn:"COLUMN_ID",HeaderText:e.$t("BulkMove"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:[],TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchBulkMoveRecords,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,SearchFields:!1},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["COST"==i.column.COLUMN_NAME?[a("span",{staticClass:"textalignright paddingright5"},[e._v(e._s(e.formatCurrency(i.row.COST)))])]:e._e(),"DATEOFINV"==i.column.COLUMN_NAME?[i.row.DATEOFINV?a("span",{attrs:{title:i.row.DATEOFINV}},[e._v(" "+e._s(e.formatDate(i.row.DATEOFINV))+" ")]):a("span",[e._v("--")])]:e._e(),"DATEOFWORK"==i.column.COLUMN_NAME?[i.row.DATEOFWORK?a("span",{attrs:{title:i.row.DATEOFWORK}},[e._v(" "+e._s(e.formatDate(i.row.DATEOFWORK))+" ")]):a("span",[e._v("--")])]:e._e()]}}])})],1),e.IsChangeLineItem?a("ChangeClientAndUtility",{attrs:{lineItemIds:e.ColumnIds,ticketNumberList:e.SelectedTicketNumbers,activityIdList:e.SelectedActivityIds,requestFrom:e.requestFrom,oldClientList:e.selectedClientId,oldUtilityList:e.SelectedUtilityList,workDateFrom:e.WorkDateFrom,workDateTo:e.WorkDateTo,BulkMoveBatchId:e.BulkMoveBatchId}}):e._e(),e.IsViewQueueList?a("BulkMoveQueue",{attrs:{ReqFrom:e.ReqFrom}}):e._e()],1)},W=[];a("b7ef");let K=[],q=[],G=[{COLUMN_NAME:"TICKETNUMBER",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TicketNumber",DISPLAY_ORDER:1},{COLUMN_NAME:"ACTIVITY_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"ActivityId",DISPLAY_ORDER:2},{COLUMN_NAME:"TRANSMISSION_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TransmissionId",DISPLAY_ORDER:3},{COLUMN_NAME:"CONTRACT_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"ContractName",DISPLAY_ORDER:4},{COLUMN_NAME:"UTIL_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"UtilId",DISPLAY_ORDER:5},{COLUMN_NAME:"SBA_DESC",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"sba_id",DISPLAY_ORDER:6},{COLUMN_NAME:"DIVISION_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"DivisionId",DISPLAY_ORDER:7},{COLUMN_NAME:"WORKCODE_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"WorkCode",DISPLAY_ORDER:8},{COLUMN_NAME:"COST",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Cost",DISPLAY_ORDER:9,settings:{isInSlot:!0}},{COLUMN_NAME:"SERVICE_CONDITION",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ServiceCondition",DISPLAY_ORDER:10},{COLUMN_NAME:"DATEOFINV",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ProcessDate",DISPLAY_ORDER:11,settings:{isInSlot:!0}},{COLUMN_NAME:"DATEOFWORK",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"LocatorStartDate",DISPLAY_ORDER:12,settings:{isInSlot:!0}}],z=[];var H={buttons:K,leftsearchSchema:q,headerSchema:G,listActions:z},Q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("BulkMove")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("span",{staticClass:"user-guide"},[a("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseBulkMove",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[a("em",{staticClass:"fa fa-files-o pr-2"}),e._v(e._s(e.$t("GuideForUser"))+" ")]),a("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseBulkMove"}},[a("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarBulkMove"}},[a("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("User_Guide_Bulk_move_line_item"))}})])])])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{ref:"bulkMoveForm",attrs:{buttons:e.buttons,schema:e.formSchema,lang:"en",mandatorytext:e.$t("MandatoryString")},on:{OnSubmit:e.onSubmit}})],1)])])]),a("transition",{attrs:{name:"modal"}},[e.showConfirmationDialog?a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("BulkMove")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.cancelConfirmation}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"text-center"},[a("p",[e._v(e._s(e.confirmationMessage))])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:e.confirmBulkMove}},[a("em",{staticClass:"fa fa-check pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Yes"))+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:e.cancelConfirmation}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("No"))+" ")])])])])])]):e._e()]),a("transition",{attrs:{name:"modal"}},[e.showSuccessDialog?a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("BulkMove")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closeSuccessDialog}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"bg-f5f5f5 p-2 border-bottom"},[a("span",[e._v(e._s(e.$t("BulkMoveSuccessMessagePopUp")))])]),a("div",{staticClass:"bg-f5f5f5 p-2"},[a("span",[e._v(e._s(e.successMessage))])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:e.closeSuccessDialog}},[a("em",{staticClass:"fa fa-check pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("OK"))+" ")])])])])])]):e._e()]),a("transition",{attrs:{name:"modal"}},[e.showSameRecordsDialog?a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-xl"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("BulkMove")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.closeSameRecordsDialog}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"bg-f5f5f5 p-2 border-bottom"},[a("span",{staticClass:"text-danger"},[e._v(e._s(e.sameRecordsMessage))])]),a("div",{staticClass:"bg-f5f5f5 p-2"},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered"},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",[e._v(e._s(e.$t("Client")))]),a("th",[e._v(e._s(e.$t("Utility")))]),a("th",[e._v(e._s(e.$t("TicketNumber")))]),a("th",[e._v(e._s(e.$t("ActivityId")))]),a("th",[e._v(e._s(e.$t("SBA")))]),a("th",[e._v(e._s(e.$t("Division")))])])]),a("tbody",e._l(e.sameRecordsData,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(t.CONTRACT_NAME))]),a("td",[e._v(e._s(t.UTIL_ID))]),a("td",[e._v(e._s(t.TicketNumber))]),a("td",[e._v(e._s(t.activity_id))]),a("td",[e._v(e._s(t.SBA_DESC))]),a("td",[e._v(e._s(t.DIVISION_NAME))])])})),0)])])])])])])])]):e._e()])],1)},j=[],J={name:"ChangeClientAndUtility",props:{requestFrom:{type:String,default:""},ticketNumberList:{type:String,default:""},activityIdList:{type:String,default:""},oldClientList:{type:String,default:""},oldUtilityList:{type:String,default:""},workDateFrom:{type:String,default:""},workDateTo:{type:String,default:""},lineItemIds:{type:String,default:""},BulkMoveBatchId:{type:String,default:""}},data(){return{isLoading:!1,formSchema:[{layoutType:"double",Data:[{astype:"SearchableSelectField",label:this.$t("CONTRACTNAME"),name:"ClientName",value:"",placeholder:"Select Client Name",visibility:!0,isSearch:!1,config:{options:[],actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},groupFields:["groupText"],isMultiple:!1,minSearchLength:0,statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},onChange:this.onSelectionChange},validationRules:{required:!0}},{astype:"SelectField",label:"Utility Name",name:"UtilityName",visibility:!0,value:"",placeholder:"Select utility",config:{options:[],onChange:this.onSelectionUtilityChange},validationRules:{required:!0}},{astype:"SelectField",label:"SBA",name:"SbaId",visibility:!0,value:"",placeholder:"Select SBA",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:"Division",name:"DivisionId",visibility:!0,value:"",placeholder:"Select division",config:{options:[],onChange:this.onDivisionChange},validationRules:{required:!0}},{astype:"SelectField",label:"Invoice Number",name:"InvoiceNumber",visibility:!0,value:"",placeholder:"Select invoice number",config:{options:[]},validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:"cancelForm"}],showSuccessDialog:!1,showSameRecordsDialog:!1,showConfirmationDialog:!1,successMessage:"",sameRecordsMessage:"",sameRecordsData:[],confirmationMessage:"",selectedClientIds:[],selectedClientNames:[],clientId:"",selectedFormData:null,SbaOptions:[]}},created(){this.loadInitialData()},methods:{loadInitialData(){this.fetchClientList()},fetchClientList(){this.isLoading=!0,r["a"].getClientList({reqFrom:"CUSTOM"}).then(e=>{if(this.isLoading=!1,e.data&&e.data.items){const t=e.data.items.map(e=>({description:null,displayValue:e.text||e.CHILD_NAME,groupText:e.groupText||e.PARENT_NAME,groupValue:null,metaData:null,text:e.text||e.CHILD_NAME,value:e.value||e.CHILD_USER_ID}));this.$refs.bulkMoveForm.updateProperty("ClientName","config.options",t),this.$refs.bulkMoveForm.UpdateKeyValue()}}).catch(e=>{this.isLoading=!1,console.error("Error fetching client list:",e)})},onSelectionChange(e,t){var a=this;if(a.clientId=t,t){a.isLoading=!0;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];if(e.data){var i=e.data;null!=i&&i.forEach(e=>{let a={name:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)})}a.clearDependentFields(),a.$refs.bulkMoveForm.updateProperty("UtilityName","config.options",t),a.$refs.bulkMoveForm.UpdateKeyValue()}).catch(e=>{a.isLoading=!1,a.clearDependentFields(),console.error("Error loading utilities:",e)})}else a.clearDependentFields()},async onSelectionUtilityChange(e,t){var a=this;t&&t.value?(a.UtilityId=t.value,a.$refs.bulkMoveForm.updateProperty("SbaId","config.options",[]),a.$refs.bulkMoveForm.updateProperty("SbaId","value",""),a.$refs.bulkMoveForm.updateProperty("DivisionId","config.options",[]),a.$refs.bulkMoveForm.updateProperty("DivisionId","value",""),a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),a.$refs.bulkMoveForm.UpdateKeyValue(),await a.GetSbaIdListByUtilityId(),await a.LoadDivisionList()):a.clearDependentFields()},GetSbaIdListByUtilityId:function(){var e=this;let t=[];e.SbaOptions=[];var a="UtilityId="+e.UtilityId;r["a"].GetSbaIdListByUtilityId(a).then(a=>{if(a.data){var i=a.data;null!=i&&i.forEach(e=>{let a={name:e.NAME,value:e.SBA_ID};t.push(a)})}e.$refs.bulkMoveForm.updateProperty("SbaId","value",""),e.$refs.bulkMoveForm.updateProperty("SbaId","config.options",t),e.SbaOptions=t,e.$refs.bulkMoveForm.updateProperty("DivisionId","config.options",[]),e.$refs.bulkMoveForm.updateProperty("DivisionId","value",""),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),e.$refs.bulkMoveForm.UpdateKeyValue()}).catch(t=>{console.error("Error loading SBA data:",t),e.$refs.bulkMoveForm.updateProperty("SbaId","config.options",[]),e.$refs.bulkMoveForm.updateProperty("SbaId","value",""),e.$refs.bulkMoveForm.updateProperty("DivisionId","config.options",[]),e.$refs.bulkMoveForm.updateProperty("DivisionId","value",""),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),e.$refs.bulkMoveForm.UpdateKeyValue()})},LoadDivisionList(){var e=this;e.isLoading=!0;var t=`clientId=${e.clientId}&utilityIds=${e.UtilityId}`;r["a"].LoadClientDivisionListByUtilityIds(t).then(t=>{e.isLoading=!1;let a=[];var i=t.data;null!=i&&i.forEach(e=>{let t={name:e.NAME,value:e.VALUE};a.push(t)}),e.$refs.bulkMoveForm.updateProperty("DivisionId","value",""),e.$refs.bulkMoveForm.updateProperty("DivisionId","config.options",a),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),e.$refs.bulkMoveForm.UpdateKeyValue()}).catch(t=>{e.isLoading=!1,e.$refs.bulkMoveForm.updateProperty("DivisionId","config.options",[]),e.$refs.bulkMoveForm.updateProperty("DivisionId","value",""),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),e.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),e.$refs.bulkMoveForm.UpdateKeyValue(),console.error("Error loading divisions:",t)})},onDivisionChange(e,t){var a=this;if(t&&t.value){a.isLoading=!0;var i=`clientId=${a.clientId}&divisionId=${t.value}&type=division`;r["a"].LoadInvoiceNumberList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&i.forEach(e=>{let a={name:e.NAME,value:e.BILL_ID};t.push(a)}),a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",t),a.$refs.bulkMoveForm.UpdateKeyValue()}).catch(e=>{a.isLoading=!1,a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),a.$refs.bulkMoveForm.UpdateKeyValue(),console.error("Error loading invoice numbers:",e)})}else a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),a.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),a.$refs.bulkMoveForm.UpdateKeyValue()},clearDependentFields(){this.$refs.bulkMoveForm.updateProperty("UtilityName","config.options",[]),this.$refs.bulkMoveForm.updateProperty("SbaId","config.options",[]),this.$refs.bulkMoveForm.updateProperty("DivisionId","config.options",[]),this.$refs.bulkMoveForm.updateProperty("InvoiceNumber","config.options",[]),this.$refs.bulkMoveForm.updateProperty("UtilityName","value",""),this.$refs.bulkMoveForm.updateProperty("SbaId","value",""),this.$refs.bulkMoveForm.updateProperty("DivisionId","value",""),this.$refs.bulkMoveForm.updateProperty("InvoiceNumber","value",""),this.$refs.bulkMoveForm.UpdateKeyValue()},onSubmit(e){this.validateBulkMoveConditions(e)},validateBulkMoveConditions(e){this.oldUtilityList===e.UtilityName&&this.activityIdList&&e.SbaId&&e.InvoiceNumber?(this.isLoading=!0,r["a"].ValidateBMUtilitySbaIdInvoiceNo({ClientId:e.ClientName,UtilityName:e.UtilityName,BillId:e.InvoiceNumber,SbaId:this.getSbaText(e.SbaId),BeSbaId:e.SbaId,DivisionId:e.DivisionId,LineItemIds:this.lineItemIds,TicketNumber:this.ticketNumberList,ActivityId:this.activityIdList,WorkDateFrom:this.workDateFrom,WorkDateTo:this.workDateTo}).then(t=>{this.isLoading=!1,"failure"!==t.data.flag||"Invalid"!==t.data.StatusCode&&"Error"!==t.data.StatusCode&&"Exception"!==t.data.StatusCode?this.showBulkMoveConfirmation(e):this.showAlert("BulkMove cannot be used on the same Utility, Sba_Id, and Invoice#.","warning")}).catch(e=>{this.isLoading=!1,this.showAlert(this.$t("ErrorWhileProcessingRequest"),"failure"),console.error("Validation error:",e)})):this.showBulkMoveConfirmation(e)},showBulkMoveConfirmation(e){this.selectedFormData=e,this.confirmationMessage=this.$t("BulkMoveConfirmMoveMessage").replace("{0}",this.selectedClientNames.join(", ")),this.showConfirmationDialog=!0},cancelConfirmation(){this.showConfirmationDialog=!1,this.selectedFormData=null},confirmBulkMove(){this.showConfirmationDialog=!1,this.performBulkMove(this.selectedFormData),this.selectedFormData=null},performBulkMove(e){this.isLoading=!0;var t=this;const a=this.getSbaText(e.SbaId),i={UtilityName:e.UtilityName,ClientId:e.ClientName,SbaId:a,BeSbaId:e.SbaId,DivisionId:e.DivisionId,LineItemIds:this.lineItemIds,ReqFrom:this.requestFrom,TicketNumber:this.ticketNumberList,ActivityId:this.activityIdList,OldClient:this.oldClientList,OldUtility:this.oldUtilityList,WorkDateFrom:this.workDateFrom,WorkDateTo:this.workDateTo,BillId:e.InvoiceNumber,AllInvoice:this.selectAllData?JSON.stringify(this.selectAllData):"",IsSelectedChecked:!0,BulkMoveBatchId:this.BulkMoveBatchId};r["a"].UpdateContractAndUtility(i).then(e=>{this.isLoading=!1,"success"==e.data.flag&&-11!==e.data.statusCode&&11!==e.data.statusCode?(101!==e.data.statusCode&&t.ShowAlert(t.$t(e.data.msg),"success",!0,t.$t("Alert")),null!=e.data.bulkMoveResult&&(101===e.data.statusCode?this.showAlert(this.$t("NoBillingRuleFound"),"warning"):this.showBulkMoveResultDialog(e.data.bulkMoveResult))):"alreadyExists"===e.data.msg&&0===e.data.statusCode?this.showSameRecordsDialogWithData(e.data.bulkMoveResult):"success"===e.data.msg&&-11===e.data.statusCode?this.showAlert(this.$t("BulkMOveAlreadyInQueueMessage"),"failure"):this.showAlert(e.data.msg||this.$t("ErrorWhileProcessingRequest"),"failure")}).catch(e=>{this.isLoading=!1,this.showAlert(this.$t("ErrorWhileProcessingRequest"),"failure"),console.error("Bulk move error:",e)})},getSbaText(e){const t=this.SbaOptions||[],a=t.find(t=>t.value===e);return a?a.name:""},showBulkMoveResultDialog(e){this.isLoading=!1,this.showSuccessDialog=!0,this.successMessage=`Total ${e.totalRecords||0} records are marked as unprocessed. Records are in queue to process and will be processed soon. Scheduler runs every 10 minutes to process these records.`},showSameRecordsDialogWithData(e){this.sameRecordsMessage="Following are the details that Client, Utility, SBA Id OR Invoice grouping same please update it and try again.",this.sameRecordsData=e||[],this.showSameRecordsDialog=!0},handleBulkMoveComplete(){this.$emit("bulk-move-complete")},setBulkMoveData(e){this.requestFrom=e.requestFrom||this.requestFrom,this.ticketNumberList=e.ticketNumberList||this.ticketNumberList,this.activityIdList=e.activityIdList||this.activityIdList,this.oldClientList=e.oldClientList||this.oldClientList,this.oldUtilityList=e.oldUtilityList||this.oldUtilityList,this.workDateFrom=e.workDateFrom||this.workDateFrom,this.workDateTo=e.workDateTo||this.workDateTo,this.lineItemIds=e.lineItemIds||this.lineItemIds,this.selectAllData=e.selectAllData||this.selectAllData},showAlert(e,t){this.$emit("show-alert",{message:e,type:t})},cancelForm(){this.closeDialog()},Close:function(){this.$parent.IsChangeLineItem=!1},closeSuccessDialog(){this.showSuccessDialog=!1,this.Close()},closeSameRecordsDialog(){this.showSameRecordsDialog=!1}}},X=J,Z=(a("e470"),Object(S["a"])(X,Q,j,!1,null,"782d21e6",null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered modal-xl remove_blackheader"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary d-flex"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("QueueList")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!1,showCheckBox:!1,ModuleName:"BillingValidationData",SubModuleCode:"BulkMoveQueue",IdentityColumn:"QUEUE_ID",HeaderText:e.$t("BulkMoveQueue"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.Buttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchBulkMoveQueueRecords,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,SearchFields:e.leftSearchFields,SearchPosition:"top"},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["DATE_RANGE"==i.column.COLUMN_NAME?[a("span",[e._v(" "+e._s(e.$options.filters.formatDate(i.row.FROM_DATE))+" -"+e._s(e.$options.filters.formatDate(i.row.TO_DATE))+" ")])]:e._e(),"STATUS"==i.column.COLUMN_NAME?[1==i.row.PROCESSING_STATUS?a("span",{staticClass:"bg-warning py-1 px-1 text-white w-100 d-block text-center"},[e._v(" "+e._s(e.$t("In_Progress"))+" ")]):1003==i.row.STATUS_ID?a("span",{staticClass:"bg-success py-1 px-1 text-white w-100 d-block text-center"},[e._v(" "+e._s(e.$t("Completed"))+" ")]):a("span",{staticClass:"bg-primary py-1 px-1 text-white w-100 d-block text-center"},[e._v(" "+e._s(e.$t("InQueue"))+" ")])]:e._e(),"CREATED_AT"==i.column.COLUMN_NAME?[a("span",[e._v(" "+e._s(e.$options.filters.formatDate(i.row.CREATED_AT))+" ")])]:e._e()]}}])})],1)])])])])},ae=[];let ie=[],se=[{fieldName:"ClientName",fieldType:"searchableselect",fieldIcon:"fa-user",paramName:"clientId",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},itemFields:["text"],groupFields:["groupText"],isMultiple:!1,maxRenderItems:50,placeholder:"Select Client Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"UtilityName",fieldType:"searchableselect",fieldIcon:"fa fa-building",paramName:"utilityName",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Utility Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"RequestedAt",fieldType:"date",fieldIcon:"fa fa-calendar",paramName:"dateFrom",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"RequestedBy",fieldType:"searchableselect",fieldIcon:"fa-user",paramName:"requestedBy",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Requested By",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null}],oe=[{COLUMN_NAME:"SERIAL_NO",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"SerialNumbering",DISPLAY_ORDER:1},{COLUMN_NAME:"CONTRACT_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Client",DISPLAY_ORDER:2},{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Utility",DISPLAY_ORDER:3},{COLUMN_NAME:"NUMBER_OF_RECORDS",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TotalRecords",DISPLAY_ORDER:4},{COLUMN_NAME:"DATE_RANGE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"DateRange",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"STATUS",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"PROCESSED_RECORD_COUNT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ProcessedRecord",DISPLAY_ORDER:7},{COLUMN_NAME:"UNPROCESSED_RECORD_COUNT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"UnprocessedRecords",DISPLAY_ORDER:8},{COLUMN_NAME:"FLAGGED_RECORD_COUNT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TOTAL_FLAGGED_RECORDS",DISPLAY_ORDER:9},{COLUMN_NAME:"USERNAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"RequestedBy",DISPLAY_ORDER:10},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"RequestedAt",DISPLAY_ORDER:11}],ne=[];async function le(e){e.fetchClientList(),e.fetchUserList()}var re={buttons:ie,leftsearchSchema:se,headerSchema:oe,listActions:ne,bindleftCommonSearchdropdown:le},ce={name:"BulkMoveQueue",props:{ReqFrom:{type:String,required:!1}},components:{Loader:o["a"]},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],Buttons:re.buttons,leftSearchFields:re.leftsearchSchema,listActions:re.listActions,Headers:re.headerSchema,searchCondition:"",selectedClientId:null,selectedUtilityIds:[],selectedUserIds:[],requestedAt:null}},created:function(){var e,t=this;t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME)}),(null===(e=t.leftSearchFields)||void 0===e?void 0:e.length)>0&&(t.leftSearchFields.find(e=>"ClientName"===e.fieldName).onChange=t.onClientChange),re.bindleftCommonSearchdropdown(this),t.FetchBulkMoveQueueRecords()},methods:{leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:this.searchCondition=e.searchCondition||"":this.searchCondition="",this.FetchBulkMoveQueueRecords()},renderActions:function(){return[]},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchBulkMoveQueueRecords()},actionButtonClick:function(){},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"searchAction":this.searchAction();break;case"clearAction":this.clearAction();break}},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchBulkMoveQueueRecords()},FetchBulkMoveQueueRecords:function(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&advanceType=${e.ReqFrom}`;e.searchCondition&&(t+="&"+e.searchCondition),r["a"].GetBulkMoveQueueList(t).then(t=>{e.isLoading=!1,t.data.result?(e.ListingData=JSON.parse(t.data.result),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach((t,a)=>{t.SERIAL_NO=(e.PageNumber-1)*e.PageSize+a+1}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)):(e.ListingData=[],e.TotalRecords=0)}).catch(t=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0,console.error("Error fetching bulk move queue records:",t)})},fetchClientList:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=e.clientList}).catch(t=>{e.isLoading=!1,e.clientList=[],e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=[],console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},fetchUserList:function(){var e=this;e.isLoading=!0;var t="isActive=1&moduleName=BulkMoveUsingFile";r["a"].getUserList(t).then(t=>{e.isLoading=!1;let a=[];var i=t.data;null!=i&&(i.forEach(e=>{let t={description:null,displayValue:e.UserName,groupText:null,groupValue:null,metaData:null,text:e.UserName,value:e.UserId};a.push(t)}),e.leftSearchFields.find(e=>"RequestedBy"===e.fieldName).listOptions=a)}).catch(t=>{e.isLoading=!1,e.leftSearchFields.find(e=>"RequestedBy"===e.fieldName).listOptions=[],console.error("Error fetching user list:",t)}).finally(()=>{e.isLoading=!1})},onClientChange(e,t){var a=this;a.selectedClientId=t,a.fetchUtilityList(t)},fetchUtilityList:function(e){if(e){var t=this;t.isLoading=!0;var a=`clientId=${e}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(a).then(e=>{t.isLoading=!1;let a=[];var i=e.data;null!=i&&(i.forEach(e=>{let t={description:null,displayValue:e.UTILITY_NAME,groupText:null,groupValue:null,metaData:null,text:e.UTILITY_NAME,value:e.UTILITY_ID};a.push(t)}),t.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=a)}).catch(e=>{t.isLoading=!1,t.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[],console.error("Error fetching utility list:",e)}).finally(()=>{t.isLoading=!1})}else this.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[]},searchAction:function(){this.FetchBulkMoveQueueRecords()},clearAction:function(){this.leftSearchFields.forEach(e=>{"searchableselect"===e.fieldType?e.value="":e.fieldType}),this.searchCondition="",this.selectedClientId=null,this.selectedUtilityIds=[],this.selectedUserIds=[],this.requestedAt=null,this.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[],this.FetchBulkMoveQueueRecords()},Close:function(){this.$parent.IsViewQueueList=!1}}},de=ce,ue=(a("797d"),Object(S["a"])(de,te,ae,!1,null,null,null)),me=ue.exports,he={name:"BulkMove",components:{ChangeClientAndUtility:ee,BulkMoveQueue:me},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],fileData:[],Buttons:H.buttons,leftSearchFields:H.leftsearchSchema,listActions:H.listActions,Headers:H.headerSchema,searchCondition:"",selectedClientId:null,IsChangeLineItem:!1,SelectedTicketNumbers:"",SelectedActivityIds:"",ColumnIds:"",requestFrom:"bmfile",ReqFrom:"",WorkDateFrom:"",WorkDateTo:"",BulkMoveBatchId:"",IsViewQueueList:!1,FormSchema:[{layoutType:"triple",Data:[{astype:"SearchableSelectField",label:this.$t("CONTRACTNAME"),name:"ContractName",value:"",placeholder:"Select Client Name",visibility:!0,isSearch:!1,config:{options:[],actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},isMultiple:!1,groupFields:["groupText"],minSearchLength:0,statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},onChange:this.onSelectionChange},validationRules:{required:!0}},{astype:"SearchableSelectField",label:this.$t("UtilityName"),name:"UtilityName",value:"",placeholder:"Select Utility Name",visibility:!0,isSearch:!1,config:{options:[],actionButtons:{selectAll:!0,clear:!0},groupFields:[],isMultiple:!0,minSearchLength:0,statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"}},validationRules:{required:!0}},{astype:"NormalFileField",label:this.$t("Image"),name:"Attachment",placeholder:"",validationRules:{required:!0},FieldIndex:0,config:{maxSize:5,showSelectedFiles:[],accept:[{fileType:"xlsx",iconClass:"fa-file-excel-o"},{fileType:"xls",iconClass:"fa-file-excel-o"},{fileType:"csv",iconClass:"fa-file-text-o"}],onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.GetBase64String,showAddIcon:!1,onAddButtonClick:"",multiple:!1}},{astype:"DateField",label:this.$t("WorkDateFrom"),name:"WorkDateFrom",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1,onChange:this.setTimerDate},validationRules:{required:!0}},{astype:"DateField",label:this.$t("WorkDateTo"),name:"WorkDateto",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1},validationRules:{required:!0}},{astype:"DateField",label:this.$t("ProcessDateFrom"),name:"ProcessDateFrom",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1,onChange:this.setTimerDate},validationRules:{required:!1}},{astype:"DateField",label:this.$t("ProcessDateTo"),name:"ProcessDateto",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1},validationRules:{required:!1}},{astype:"SlotField",label:this.$t("SampleFile"),name:"SampleFile",value:"",config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!1,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-search pr-2'></i>Search"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-refresh pr-2'></i>Clear",onClick:this.Clear}],SelectedUtilityList:""}},created:function(){var e=this;e.Headers.forEach(t=>{t.DISPLAY_NAME=e.$t(t.DISPLAY_NAME)}),e.fetchclientlist()},methods:{leftCommonSearch:function(e){var t=this;this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:this.searchCondition=e.searchCondition||"":this.searchCondition="",this.searchCondition&&(this.searchCondition=this.searchCondition.replace(/WorkDate=([^&]+)/,(function(e,a){let[i,s]=a.split("|");return t.WorkDateFrom=i,t.WorkDateTo=s,`WorkDateFrom=${i}&WorkDateTo=${s}`})),this.searchCondition=this.searchCondition.replace(/ProcessDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`ProcessDateFrom=${a}&ProcessDateTo=${i}`}))),this.FetchBulkMoveRecords()},renderActions:function(){return[]},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchBulkMoveRecords()},actionButtonClick:function(){},setTimerDate:function(e,t,a){var i=this;"WorkDateFrom"==t.name&&(i.$refs.dynamicform.updateProperty("WorkDateto","config.minDate",t.value),i.$refs.dynamicform.updateProperty("WorkDateto","value",(new Date).toLocaleDateString()),i.$refs.dynamicform.UpdateKeyValue()),"ProcessDateFrom"==t.name&&(i.$refs.dynamicform.updateProperty("ProcessDateto","config.minDate",t.value),i.$refs.dynamicform.updateProperty("ProcessDateto","value",(new Date).toLocaleDateString()),i.$refs.dynamicform.UpdateKeyValue())},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"bulkMoveAction":this.bulkMoveAction();break;case"deleteAction":this.deleteAction();break;case"viewQueueListAction":this.viewQueueListAction();break}},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchBulkMoveRecords()},GetBase64String:function(e){try{var t=this;t.fileData=[];var a=e.target.files;t.attachmentName=a[0].name;for(var i=0;i<a.length;i++){var s=a[i],o=new FileReader;o.onload=function(e){return function(e){var a=e.target.result,i=window.btoa(a);t.base64String=i;var o=s.name,n=o.lastIndexOf("."),l=o.substring(n+1,o.length),r='{"ContentType":"'+s.type+'","Size":"'+s.size+'","Extension":"'+l+'"}',c=(s.size,{attachement_mime:r,fileName:o,userId:t.GetUserInfo.ID,companyId:t.GetUserInfo.CompanyId,id:0,moduleName:"initialsetup",subModuleCode:"BulkUploaad",containerName:t.GetUserInfo.ContainerName,base64String:i,attachement_path:""});t.fileData.push(c)}}(),o.readAsBinaryString(s)}}catch(n){}},formatDate(e){let t=new Date(e),a=t.getMonth()+1,i=t.getDate(),s=t.getFullYear();return`${a}/${i}/${s}`},async onSubmit(e,t){var a=this;a.isLoading=!0;let i=a.formatDate(e.WorkDateFrom),s=a.formatDate(e.WorkDateto),o=a.formatDate(e.ProcessDateFrom),n=a.formatDate(e.ProcessDateto),l={file_Name:this.fileData[0].fileName,attachment:JSON.stringify(this.fileData)},c=new FormData;c.append("postString",JSON.stringify(l));const d=await r["a"].UploadFile(c);d.data&&d.data.length>0&&d.data[0].Name.length>0&&(a.filePath=d.data[0].Name);var u=a.filePath;let m=e.UtilityName,h=Array.isArray(m)&&m.length>1?m.join(","):Array.isArray(m)?m[0]:m;a.SelectedUtilityList=h;var p=`pageSize=${a.PageSize}&pageNum=${a.PageNumber}&sortBy=${a.SortBy}&sortExp=${a.SortExp}&utilityName=${h}&clients=${e.ContractName}&workDateFrom=${i}&workDateTo=${s}\n            &processDateFrom=${o}&processDateTo=${n}&filepath=`+encodeURIComponent(u)+"&filename="+encodeURIComponent("BulkMove_SampleFile.xlsx")+"&fileNewname="+encodeURIComponent("758499944.xlsx");a.searchCondition&&(p+="&"+a.searchCondition),r["a"].GetBulkMoveListing(p).then(e=>{a.isLoading=!1,e.data.result&&(a.ListingData=JSON.parse(e.data.result),a.BulkMoveBatchId=e.data.bulkMoveBatchId),a.ListingData&&a.ListingData.length>0?(a.ListingData.forEach(e=>{e.DATEOFINV&&(e.DATEOFINV=new Date(e.DATEOFINV)),e.DATEOFWORK&&(e.DATEOFWORK=new Date(e.DATEOFWORK))}),a.TotalRecords=a.ListingData[0].TOTAL_RECORDS||a.ListingData[0].TOTALRECORDS||0,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.CurrentPage=a.PageNumber):(a.ListingData=[],a.TotalRecords=0)})},FetchBulkMoveRecords:function(){var e=this;e.isLoading=!0;var t=e.filePath,a=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&utilityName=${SelectedUtilities}&clients=${formfields.ContractName}&workDateFrom=${WorkDateFrom}&workDateTo=${WorkDateTo}\n            &processDateFrom=${ProcessDateFrom}&processDateTo=${ProcessDateTo}&filepath=`+encodeURIComponent(t)+"&filename="+encodeURIComponent("BulkMove_SampleFile.xlsx")+"&fileNewname="+encodeURIComponent("758499944.xlsx");e.searchCondition&&(a+="&"+e.searchCondition),r["a"].GetBulkMoveListing(a).then(t=>{e.isLoading=!1,t.data.result&&(e.ListingData=JSON.parse(t.data.result),e.BulkMoveBatchId=t.data.bulkMoveBatchId),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach(e=>{e.DATEOFINV&&(e.DATEOFINV=new Date(e.DATEOFINV)),e.DATEOFWORK&&(e.DATEOFWORK=new Date(e.DATEOFWORK))}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)}).catch(t=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0,console.error("Error fetching flag records:",t)}),setTimeout(()=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0},100)},formatDate(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString();const t=new Date(e);return t.toLocaleDateString()},formatCurrency(e){return e||0===e?parseFloat(e).toFixed(2):"0.00"},selectAllLineItems(){$(".chkItems").not("[id^='chkAll_0']").prop("checked",!0)},fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.$refs.dynamicform.updateProperty("ContractName","config.options",e.clientList),e.$refs.dynamicform.UpdateKeyValue()}).catch(t=>{e.isLoading=!1,e.clientList=[],e.$refs.dynamicform.updateProperty("ContractName","config.options",e.clientList),e.$refs.dynamicform.UpdateKeyValue(),console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},Close:function(){this.$parent.IsChangeLineItem=!1},onSelectionChange(e,t){var a=this;a.isLoading=!0,a.selectedClientId=t;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.UTILITY_NAME,groupText:null,groupValue:null,metaData:null,text:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.$refs.dynamicform.updateProperty("UtilityName","config.options",t))}).catch(e=>{a.isLoading=!1,a.UtilityList=[],a.$refs.dynamicform.updateProperty("UtilityName","config.options",[])}).finally(()=>{a.isLoading=!1})},bulkMoveAction:function(e){var t=this,a=[];$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.push($(this).val())})),0!==a.length?(t.ColumnIds=a.filter(e=>null!=e&&""!==e).join(","),t.FilteredList=t.ListingData.filter(e=>a.includes(String(e.COLUMN_ID))),t.SelectedTicketNumbers=t.FilteredList.length>0?t.FilteredList.map(e=>e.TICKETNUMBER).join(","):"",t.SelectedActivityIds=t.FilteredList.length>0?t.FilteredList.map(e=>e.ACTIVITY_ID).join(","):"",t.IsChangeLineItem=!t.IsChangeLineItem):t.ShowAlert(t.$t("PleaseSelectAnyRecordsForFurther"),"warning",!0,t.$t("Alert"))},deleteAction(){var e=this,t=[];$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){t.push($(this).val())})),0!==t.length?(e.ColumnIds=t.filter(e=>null!=e&&""!==e).join(","),e.FilteredList=e.ListingData.filter(e=>t.includes(String(e.COLUMN_ID))),e.SelectedTicketNumbers=e.FilteredList.length>0?e.FilteredList.map(e=>e.TICKETNUMBER).join(","):"",e.SelectedActivityIds=e.FilteredList.length>0?e.FilteredList.map(e=>e.ACTIVITY_ID).join(","):"",t.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("BulkMove"),(function(){var t={utilityName:0,clientId:e.selectedClientId,sbaId:"",divisionId:"",lineItemIds:e.ColumnIds,reqFrom:"bmDfile",ticketNumber:e.SelectedTicketNumbers,activityId:e.SelectedActivityIds,oldClient:e.selectedClientId,oldUtility:e.SelectedUtilityList,workDateFrom:e.WorkDateFrom,workDateTo:e.WorkDateTo,allInvoice:"",bulkMoveBatchId:e.BulkMoveBatchId};r["a"].UpdateContractAndUtility(t).then((function(t){"success"==t.data.msg?(e.ShowAlert(e.$t("RecordUpdatedSuccessfully"),"success",!0,e.$t("Alert")),e.ListingData=e.ListingData.filter(t=>!e.FilteredList.some(e=>e.COLUMN_ID===t.COLUMN_ID)),e.TotalRecords-=e.FilteredList.length,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize)):e.ShowAlert(t.data.msg,"failure",!0,e.$t("Alert"))})).catch((function(){e.ShowAlert(e.$t("ErrorWhileProcessingRequest"),"failure",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("PleaseSelectAnyRecordsForFurther"),"warning",!0,e.$t("Alert"))):e.ShowAlert(e.$t("PleaseSelectAnyRecordsForFurther"),"warning",!0,e.$t("Alert"))},viewQueueListAction(){var e=this;e.IsViewQueueList=!e.IsViewQueueList},Clear:function(){var e=this;e.FormSchema[0].Data.forEach(e=>{e.value=""}),e.fileData=[],e.selectedClientId=null,e.$refs.dynamicform.updateProperty("UtilityName","config.options",[]),e.$refs.dynamicform.UpdateKeyValue()}}},pe=he,fe=(a("f10d"),Object(S["a"])(pe,V,W,!1,null,null,null)),ge=fe.exports,ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"col-md-12 p-0 mt-2"},[a("div",{staticClass:"ticketsmallfix theme-primary p-actions-expand ",staticStyle:{overflow:"visible"}},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("BulkMoveAdvance")))]),a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white",attrs:{title:"View Queue List",href:"javascript:;"},on:{click:e.viewQueueListAction}},[a("em",{staticClass:"fa fa-eye"}),a("br"),a("span",[e._v(e._s(e.$t("ViewQueueList")))])])])])]),a("div",{staticClass:"border p-3 float-left w-100  remove_blackheader"},[a("dynamic-form",{ref:"dynamicform",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.$t("MandatoryString")},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-SampleFile",fn:function(t){t.data;return[a("div",{staticClass:"col-lg-12 col-xl-12 p-0"},[a("div",{staticClass:"form-group",attrs:{id:"divFiles"}},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"form-control"},[a("span",{staticClass:"text-truncate"},[e._v("Download BulkMoveAdvanceSampleFile.xls")])]),a("div",{staticClass:"input-group-append"},[a("a",{staticClass:"input-group-text",attrs:{href:"https://cogniterblob.blob.core.windows.net/cg-usic-llc-310896/Upload/UserProfileImage/c242ce49-e900-441f-b9ff-efb51d0a5c6e.xlsx",title:"Download",checkprivilege:"no"}},[a("i",{staticClass:"fa fa-download action-icon"})])])])])])]}}])}),a("div",{staticClass:"heading-border mt-3"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("List")))])])]),a("div",{staticClass:"row mb-2 mt-3"},[a("div",{staticClass:"col-12 mb-2"},[a("div",{staticClass:"d-inline-block mr-2"},[a("span",{staticClass:"legend-Progress colorboxsquare"}),e._v(e._s(e.$t("InvoiceSentMessageOnBulkMoveAdvance"))+" ")]),a("div",{staticClass:"d-inline-block mr-2"},[a("span",{staticClass:"legend-ovrdue colorboxsquare"}),e._v(e._s(e.$t("BulkMoveAdvanceSameInvoice"))+" ")])])]),a("tg-list",{key:e.reloadkey,ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!1,ModuleName:"BillingValidationData",SubModuleCode:"BulkMoveAdvance",IdentityColumn:"COLUMN_ID",HeaderText:e.$t("BulkMoveAdvance"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:[],TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchBulkMoveAdvanceRecords,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,tableClasses:" overflow-visible",SearchFields:!1},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["CLIENT_NAME"==i.column.COLUMN_NAME?[a("div",[a("SearchableSelect",{key:i.row.COLUMN_ID+"-client",class:{"border-danger":i.row.hasErrorClient},staticStyle:{"min-width":"300px"},attrs:{items:e.groupedUtilities,"max-visible-chips":3,"action-buttons":{selectAll:!0,active:!0,inactive:!0,clear:!0},"item-fields":["text"],"group-fields":["groupText"],"max-render-items":50,"lazy-load":!0,placeholder:"Select Clients...",onChange:function(t){return e.onRowClientChange(t,i.row)},"min-search-length":0},model:{value:i.row.selectedClients,callback:function(t){e.$set(i.row,"selectedClients",t)},expression:"data.row.selectedClients"}})],1)]:e._e(),"UTILITY"==i.column.COLUMN_NAME?[a("select",{directives:[{name:"model",rawName:"v-model",value:i.row.selectedUtilities,expression:"data.row.selectedUtilities"}],key:i.row.COLUMN_ID+"-utility",class:["form-control","ddlfirstfield",{"border-danger":i.row.hasErrorUtility}],attrs:{name:"UTILITY"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(i.row,"selectedUtilities",t.target.multiple?a:a[0])},function(t){return e.onSelectionUtilityChange(t.target.value,i.row)}]}},[a("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(i.row.UtilityOptions,(function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(e.$t(t.text)))])}))],2)]:e._e(),"SBA"==i.column.COLUMN_NAME?[a("select",{directives:[{name:"model",rawName:"v-model",value:i.row.selectedSba,expression:"data.row.selectedSba"}],key:i.row.COLUMN_ID+"-sba",class:["form-control","ddlfirstfield",{"border-danger":i.row.hasErrorSba}],attrs:{name:"SBA"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(i.row,"selectedSba",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(i.row.SbaOptions,(function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(e.$t(t.text)))])}))],2)]:e._e(),"DIVISION"==i.column.COLUMN_NAME?[a("select",{directives:[{name:"model",rawName:"v-model",value:i.row.selectedDevision,expression:"data.row.selectedDevision"}],key:i.row.COLUMN_ID+"-division",class:["form-control","ddlfirstfield",{"border-danger":i.row.hasErrorDiv}],attrs:{name:"DIVISION"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(i.row,"selectedDevision",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select")))]),e._l(i.row.DivisionOptions,(function(t){return a("option",{domProps:{value:t.value}},[e._v(e._s(e.$t(t.text)))])}))],2)]:e._e(),"INVOICE_NUMBER"==i.column.COLUMN_NAME?[a("input",{directives:[{name:"model",rawName:"v-model",value:i.row.INVOICE_NUMBER,expression:"data.row.INVOICE_NUMBER"}],key:i.row.COLUMN_ID+"-invoice",staticClass:"form-control",class:{"border-danger":i.row.hasErrorInvoice},attrs:{type:"text"},domProps:{value:i.row.INVOICE_NUMBER},on:{input:function(t){t.target.composing||e.$set(i.row,"INVOICE_NUMBER",t.target.value)}}})]:e._e()]}}])}),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-success",on:{click:e.btnUpdateAdvanceClientAndUtility}},[a("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("BulkMove"))+" ")]),a("button",{staticClass:"btn btn-danger",on:{click:e.Clear}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])],1),e.IsViewQueueList?a("BulkMoveQueue",{attrs:{ReqFrom:e.ReqFrom}}):e._e()],1)},Ce=[];a("c427");let Ie=[],Se=[],Ae=[{COLUMN_NAME:"CONTRACT_NUMBER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ExcelClientName",DISPLAY_ORDER:1},{COLUMN_NAME:"CLIENT_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ClientName",DISPLAY_ORDER:2,settings:{isInSlot:!0,tdClasses:"overflow-visible"}},{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ExcelUtility",DISPLAY_ORDER:3},{COLUMN_NAME:"UTILITY",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Utility",DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"SBA_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ExcelSba",DISPLAY_ORDER:5},{COLUMN_NAME:"SBA",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Sba",DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"DIVISION_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ExcelDivision",DISPLAY_ORDER:7},{COLUMN_NAME:"DIVISION",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Division",DISPLAY_ORDER:8,settings:{isInSlot:!0}},{COLUMN_NAME:"INVOICE_NUMBER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"InvoiceNumber",DISPLAY_ORDER:9,settings:{isInSlot:!0}},{COLUMN_NAME:"Records_Count",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"RecordCount",DISPLAY_ORDER:10}],Te=[{title:"Update",icon:"fa fa-save text-success text-success action-icon",additionalSpan:"",callbackfunction:"EditRecord"}];var De={buttons:Ie,leftsearchSchema:Se,headerSchema:Ae,listActions:Te},Ee={name:"BulkMoveAdvance",components:{BulkMoveQueue:me,SearchableSelect:f["a"]},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],fileData:[],Buttons:De.buttons,leftSearchFields:De.leftsearchSchema,listActions:De.listActions,Headers:De.headerSchema,searchCondition:"",selectedClientId:null,bulkClientId:null,IsViewQueueList:!1,ReqFrom:"ADVANCE",FormSchema:[{layoutType:"triple",Data:[{astype:"NormalFileField",label:this.$t("Image"),name:"Attachment",placeholder:"",validationRules:{required:!0},FieldIndex:0,config:{maxSize:5,showSelectedFiles:[],accept:[{fileType:"xlsx",iconClass:"fa-file-excel-o"},{fileType:"xls",iconClass:"fa-file-excel-o"},{fileType:"csv",iconClass:"fa-file-text-o"}],onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.GetBase64String,showAddIcon:!1,onAddButtonClick:"",multiple:!1}},{astype:"DateField",label:this.$t("WorkDateFrom"),name:"WorkDateFrom",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1,onChange:this.setTimerDate},validationRules:{required:!0}},{astype:"DateField",label:this.$t("WorkDateTo"),name:"WorkDateto",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1},validationRules:{required:!0}},{astype:"SlotField",label:this.$t("SampleFile"),name:"SampleFile",value:"",config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!1,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-search pr-2'></i>Search"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-refresh pr-2'></i>Clear",onClick:this.Clear}],reloadkey:0}},created:async function(){var e=this;e.Headers.forEach(t=>{t.DISPLAY_NAME=e.$t(t.DISPLAY_NAME)}),await e.fetchclientlist()},methods:{fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.groupedUtilities=e.clientList}).catch(t=>{e.isLoading=!1,e.clientList=[],e.groupedUtilities=e.clientList,console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:this.searchCondition=e.searchCondition||"":this.searchCondition="",this.FetchBulkMoveAdvanceRecords()},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Update":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchBulkMoveAdvanceRecords()},setTimerDate:function(e,t,a){var i=this;"WorkDateFrom"==t.name&&(i.$refs.dynamicform.updateProperty("WorkDateto","config.minDate",t.value),i.$refs.dynamicform.updateProperty("WorkDateto","value",(new Date).toLocaleDateString()),i.$refs.dynamicform.UpdateKeyValue())},actionButtonClick:function(e,t){switch(e){case"EditRecord":this.btnTempChangeSubmitInvoice(t);break}},btnTempChangeSubmitInvoice:function(e){var t=this;t.isLoading=!0;let a=t.bulkClientId||"";a||(a=e.selectedClients||"");let i=e.selectedUtilities||"",s=e.selectedSba||"",o=e.selectedDevision||"",n=e.INVOICE_NUMBER||"",l=t.BulkMoveBatchId,c=e.NEW_BATCH_ID,d="";if(t.$set(e,"hasErrorClient",!1),t.$set(e,"hasErrorUtility",!1),t.$set(e,"hasErrorSba",!1),t.$set(e,"hasErrorDiv",!1),t.$set(e,"hasErrorInvoice",!1),a||(d+="no",t.$set(e,"hasErrorClient",!0)),i||(d+="no",t.$set(e,"hasErrorUtility",!0)),s||(d+="no",t.$set(e,"hasErrorSba",!0)),o||(d+="no",t.$set(e,"hasErrorDiv",!0)),n||(d+="no",t.$set(e,"hasErrorInvoice",!0)),d.length>0)return t.isLoading=!1,t.ShowAlert("Correct highlighted errors","warning",!0,t.$t("Alert")),!1;let u={ClientId:a,UtilityId:i,SbaId:s,DivId:o,BatchIdAdvance:l,ProcessBatchId:c,InvoiceNumber:n};r["a"].BulkMoveAdvancePostData(u).then(e=>{t.isLoading=!1,"Success"==e.data.msg?(t.FetchBulkMoveAdvanceRecords(),t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",!0,t.$t("Alert"))):t.ShowAlert(e.data.msg||"Unknown error","failure",!0,t.$t("Alert"))}).catch((function(e){console.error(e),t.isLoading=!1,t.ShowAlert("Error occurred","failure",!0,t.$t("Alert"))}))},btnUpdateAdvanceClientAndUtility:function(){var e=this,t="Are you sure you want to perform bulk move?";e.confirmR(t,!0,e.$t("BulkMove"),(function(){e.isLoading=!0;var t={WorkDateFrom:e.WorkDateFrom,WorkDateTo:e.WorkDateTo,BatchIdAdvance:e.BulkMoveBatchId};r["a"].UpdateAdvanceBulkMoveLineIds(t).then(t=>{e.isLoading=!1,"success"==t.data.flag&&-11!=t.data.statusCode?(0==t.data.statusCode?(e.ShowAlert(t.data.msg,"success",!0,e.$t("Alert")),e.FetchBulkMoveAdvanceRecords()):-12==t.data.statusCode&&(e.ShowAlert(t.data.msg,"failure",!0,e.$t("Alert")),e.FetchBulkMoveAdvanceRecords()),null!=t.data.bulkMoveResult&&101==t.data.statusCode&&e.ShowAlert("No billing rule found","warning",!0,e.$t("Alert"))):"success"==t.data.flag&&-11==t.data.statusCode?e.ShowAlert("Bulk move already in queue","failure",!0,e.$t("Alert")):e.ShowAlert(t.data.msg||"Error","failure",!0,e.$t("Alert"))}).catch(t=>{e.isLoading=!1,e.ShowAlert("Error while processing request","failure",!0,e.$t("Alert"))})}))},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"viewQueueListAction":this.viewQueueListAction();break}},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchBulkMoveAdvanceRecords()},FetchBulkMoveAdvanceRecords:function(){var e=this;e.isLoading=!0;var t=e.filePath,a=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&workDateFrom=${e.WorkDateFrom}&workDateTo=${e.WorkDateTo}&filepath=`+encodeURIComponent(t)+"&filename="+encodeURIComponent("BulkMove_Advance_SampleFile.xlsx")+"&fileNewname="+encodeURIComponent("758499944.xlsx");e.searchCondition&&(a+="&"+e.searchCondition),r["a"].GetBulkMoveAdvanceListing(a).then(t=>{e.isLoading=!1,t.data.result&&(e.ListingData=JSON.parse(t.data.result),e.BulkMoveBatchId=t.data.bulkMoveBatchId),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach((e,t)=>{e.DATEOFINV&&(e.DATEOFINV=new Date(e.DATEOFINV)),e.DATEOFWORK&&(e.DATEOFWORK=new Date(e.DATEOFWORK)),e.selectedUtilities="",e.selectedSba="",e.selectedDevision="",e.selectedClients="",e.UtilityOptions=[],e.SbaOptions=[],e.DivisionOptions=[]}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)}),setTimeout(()=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0},100)},formatDate(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString();const t=new Date(e);return t.toLocaleDateString()},formatCurrency(e){return e||0===e?parseFloat(e).toFixed(2):"0.00"},selectAllLineItems(){$(".chkItems").not("[id^='chkAll_0']").prop("checked",!0)},GetBase64String:function(e){try{var t=this;t.fileData=[];var a=e.target.files;t.attachmentName=a[0].name;for(var i=0;i<a.length;i++){var s=a[i],o=new FileReader;o.onload=function(e){return function(e){var a=e.target.result,i=window.btoa(a);t.base64String=i;var o=s.name,n=o.lastIndexOf("."),l=o.substring(n+1,o.length),r='{"ContentType":"'+s.type+'","Size":"'+s.size+'","Extension":"'+l+'"}',c=(s.size,{attachement_mime:r,fileName:o,userId:t.GetUserInfo.ID,companyId:t.GetUserInfo.CompanyId,id:0,moduleName:"initialsetup",subModuleCode:"BulkUploaad",containerName:t.GetUserInfo.ContainerName,base64String:i,attachement_path:""});t.fileData.push(c)}}(),o.readAsBinaryString(s)}}catch(n){}},async onSubmit(e,t){var a=this;a.isLoading=!0,a.WorkDateFrom=a.formatDate(e.WorkDateFrom),a.WorkDateTo=a.formatDate(e.WorkDateto);let i={file_Name:this.fileData[0].fileName,attachment:JSON.stringify(this.fileData)},s=new FormData;s.append("postString",JSON.stringify(i));const o=await r["a"].UploadFile(s);o.data&&o.data.length>0&&o.data[0].Name.length>0&&(a.filePath=o.data[0].Name);var n=a.filePath,l=`pageSize=${a.PageSize}&pageNum=${a.PageNumber}&sortBy=${a.SortBy}&sortExp=${a.SortExp}&workDateFrom=${a.WorkDateFrom}&workDateTo=${a.WorkDateTo}&filepath=`+encodeURIComponent(n)+"&filename="+encodeURIComponent("BulkMove_Advance_SampleFile.xlsx")+"&fileNewname="+encodeURIComponent("758499944.xlsx");a.searchCondition&&(l+="&"+a.searchCondition),r["a"].GetBulkMoveAdvanceListing(l).then(e=>{a.isLoading=!1,e.data.result&&(a.ListingData=JSON.parse(e.data.result),a.BulkMoveBatchId=e.data.bulkMoveBatchId),a.ListingData&&a.ListingData.length>0?(a.ListingData.forEach((e,t)=>{e.selectedUtilities="",e.selectedSba="",e.selectedDevision="",e.selectedClients="",e.UtilityOptions=[],e.SbaOptions=[],e.DivisionOptions=[]}),a.TotalRecords=a.ListingData[0].TOTAL_RECORDS||a.ListingData[0].TOTALRECORDS||0,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.CurrentPage=a.PageNumber):(a.ListingData=[],a.TotalRecords=0)})},viewQueueListAction(){var e=this;e.IsViewQueueList=!e.IsViewQueueList},onDeleteSelectedFiles:function(){},Clear:function(){var e=this;e.FormSchema[0].Data.forEach(e=>{e.value=""}),e.ListingData=[],e.fileData=[],e.$refs.dynamicform.UpdateKeyValue()},async onSelectionUtilityChange(e,t){var a=this;a.UtilityId=e;var i=a.ListingData.indexOf(t);await a.fetchSbaForRow(i,e),await a.fetchDivisionForRow(i,e)},onRowClientChange(e,t){var a=this,i=a.ListingData.indexOf(t);a.$set(a.ListingData[i],"selectedClients",e),a.selectedClientId=e;var s=`clientId=${e}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(s).then(e=>{let t=[];var s=e.data;null!=s&&(s.forEach(e=>{let a={text:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.$set(a.ListingData[i],"UtilityOptions",t),a.reloadkey++)}).catch(e=>{a.$set(a.ListingData[i],"UtilityOptions",[])})},fetchSbaForRow(e,t){var a=this,i="utilityId="+t;r["a"].GetSbaIdListByUtilityId(i).then(t=>{let i=[];var s=t.data;null!=s&&(s.forEach(e=>{let t={text:e.NAME,value:e.SBA_ID};i.push(t)}),a.$set(a.ListingData[e],"SbaOptions",i),a.reloadkey++)}).catch(t=>{a.$set(a.ListingData[e],"SbaOptions",[])})},fetchDivisionForRow(e,t){var a=this,i=`clientId=${a.selectedClientId}&utilityIds=${t}`;r["a"].LoadClientDivisionListByUtilityIds(i).then(t=>{let i=[];var s=t.data;null!=s&&(s.forEach(e=>{let t={text:e.NAME,value:e.VALUE};i.push(t)}),a.$set(a.ListingData[e],"DivisionOptions",i),a.reloadkey++)}).catch(t=>{a.$set(a.ListingData[e],"DivisionOptions",[])})}}},_e=Ee,Le=(a("86f9"),Object(S["a"])(_e,ve,Ce,!1,null,"02075c42",null)),Ne=Le.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!1,ModuleName:"BillingValidationData",SubModuleCode:"TicketLog",IdentityColumn:"COLUMN_ID",HeaderText:e.$t("TicketDetails"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.Buttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchTicketLog,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,SearchFields:e.leftSearchFields,SearchPosition:"top"},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["TICKETNUMBER"==i.column.COLUMN_NAME?[a("div",{staticClass:"single-action"},[a("a",{class:{parentwithchild:!0,expandchild:e.expandedRows[i.row.COLUMN_ID]},attrs:{href:"javascript:;","data-id":"_"+i.row.COLUMN_ID,"data-ticketnumber":i.row.TICKETNUMBER,"data-activityid":i.row.ACTIVITY_ID},on:{click:function(t){return e.toggleExpandRow(i.row,t)}}},[a("em",{class:e.expandedRows[i.row.COLUMN_ID]?"fa fa-minus-circle":"fa fa-plus-circle rotate-icon"})]),e._v(" "+e._s(i.row.TICKETNUMBER)+" ")])]:e._e(),"WORK_DATE"==i.column.COLUMN_NAME?[i.row.WORK_DATE?a("span",{attrs:{title:i.row.WORK_DATE}},[e._v(" "+e._s(e.formatDate(i.row.WORK_DATE))+" ")]):a("span",[e._v("--")])]:e._e(),"PROCESS_DATE"==i.column.COLUMN_NAME?[i.row.PROCESS_DATE?a("span",{attrs:{title:i.row.PROCESS_DATE}},[e._v(" "+e._s(e.formatDate(i.row.PROCESS_DATE))+" ")]):a("span",[e._v("--")])]:e._e()]}}])}),a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),e.IsViewTicket?a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("TicketImage")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[e.TicketContent?a("div",{staticClass:"listing"},[a("div",{staticStyle:{border:"1px solid #ddd",padding:"10px","margin-top":"10px","min-height":"50vh","overflow-y":"auto"},domProps:{innerHTML:e._s(e.TicketContent)}})]):a("div",{staticClass:"listing text-danger text-center border-0"},[e._v(" "+e._s(e.$t("NorecordfoundText"))+" ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])]):e._e()],1)]),a("transition",{attrs:{name:"modal"}},[a("section",[e.IsChildData?a("div",{staticClass:"modal my-popups right fade show d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-right"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseChildRow}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("ProcessLog")))])]),a("div",{staticClass:"modal-body p-0"},[a("div",{staticClass:"tab-content",staticStyle:{"overflow-x":"hidden",height:"800px","max-height":"800px"}},[a("div",{staticClass:"col-md-12"},[e.TicketActivityContent&&e.TicketActivityContent.length>0?a("div",{staticClass:"listing"},[a("div",{staticClass:"tab-style"},[a("div",{staticClass:"tab_container"},[a("div",{staticClass:"responsive-tabs-container accordion-xs accordion-sm"},[a("ul",{staticClass:"nav nav-tabs all-tabs responsive-tabs cust mt-3"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"OldProcessLog"===e.activeTab},on:{click:function(t){e.activeTab="OldProcessLog"}}},[e._v(e._s(e.$t("OldProcessLog")))])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:"NewProcessLog"===e.activeTab},on:{click:function(t){e.activeTab="NewProcessLog"}}},[e._v(e._s(e.$t("Process"))+" "+e._s(e.$t("Log")))])])]),a("div",{staticClass:"tab-content"},[a("div",{staticClass:"tab-pane",class:{active:"OldProcessLog"===e.activeTab}},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"table-responsive",attrs:{id:"divflagrecordlisting"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"tblprocesseLog"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",staticStyle:{width:"160px"}},[a("span",[e._v(e._s(e.$t("SerialNumber")))])]),a("th",{staticStyle:{width:"700px"}},[a("span",[e._v(e._s(e.$t("ServiceCondition")))])]),a("th",[a("span",[e._v(e._s(e.$t("IsApplied")))])])])]),a("tbody",[e.TicketActivityContent&&0!==e.TicketActivityContent.filter((function(e){return"PROCESSLOG"===e.TYPE})).length?[e._l(e.TicketActivityContent.filter((function(e){return"PROCESSLOG"===e.TYPE})),(function(t,i){return a("tr",{key:i},[a("td",{staticClass:"text-center"},[e._v(e._s(i+1)+".")]),a("td",[e._v(e._s(t.SERVICE_CONDITION))]),a("td",[e._v(e._s(t.ISAPPLICABLE))])])})),e.processLogData?a("tr",[a("td",{attrs:{colspan:"3"}},[a("a",{staticClass:"ancviewbillingflowchart",attrs:{href:"javascript:;"},on:{click:function(t){return e.viewBillingFlowchart(e.processLogData)}}},[a("em",{staticClass:"fa fa-eye"}),e._v(" "+e._s(e.$t("ClickheretoviewBillingRule"))+" ")])])]):e._e()]:a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"3"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])])],2)])])])])]),a("div",{staticClass:"tab-pane",class:{active:"NewProcessLog"===e.activeTab}},[a("div",{staticClass:"container-fluid p-0",attrs:{id:"divNewProcessLogData"}},[a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"table-responsive",attrs:{id:"divflagrecordlisting"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"tblprocesseLog"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticClass:"text-center",attrs:{width:"10%"}},[a("span",[e._v(e._s(e.$t("SerialNumber")))])]),a("th",{attrs:{width:"10%"}},[a("span",[e._v(e._s(e.$t("Date")))])]),a("th",{staticClass:"text-center",attrs:{width:"10%"}},[a("span",[e._v(e._s(e.$t("BillingRule")))])]),a("th",{attrs:{width:"70%"}},[a("span",[e._v(e._s(e.$t("ServiceCondition")))])])])]),a("tbody",[e.newProcessLogData&&0!==e.newProcessLogData.length?e._l(e.newProcessLogData,(function(t,i){return a("tr",{key:i},[a("td",{staticClass:"text-center",staticStyle:{"vertical-align":"top"}},[e._v(e._s(i+1)+".")]),a("td",{staticStyle:{"vertical-align":"top"}},[e._v(e._s(t.DATEOFWORK?new Date(t.DATEOFWORK).toLocaleDateString():""))]),a("td",{staticClass:"text-center single-action",staticStyle:{"vertical-align":"top"}},[t.CONFIGURATION_ID>0?a("a",{staticClass:"ancviewbillingflowchart enable viewicon",attrs:{href:"javascript:;",title:e.$t("ClickheretoviewBillingRule")},on:{click:function(a){return e.viewBillingFlowchart(t)}}},[a("em",{staticClass:"fa fa-eye text-primary"})]):a("a",{staticClass:"disable viewicon",attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-eye disabled text-secondary"})])]),a("td",{staticStyle:{"vertical-align":"top","white-space":"pre-wrap"}},[e._v(e._s(t.SERVICE_CONDITION))])])})):a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"4"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])])],2)])])])])])])])])]),a("div",{staticClass:"listing mt-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("Flag")))])])]),a("div",{staticClass:"table-responsive mt-2",attrs:{id:"divflagrecordlisting"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"tblflagList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",[a("span",[e._v(e._s(e.$t("ActivityId")))])]),a("th",[a("span",[e._v(e._s(e.$t("FlagReason")))])]),a("th",[a("span",[e._v(e._s(e.$t("Data")))])]),a("th",[a("span",[e._v(e._s(e.$t("Status")))])]),a("th",[a("span",[e._v(e._s(e.$t("ModifiedBy")))])]),a("th",[a("span",[e._v(e._s(e.$t("ModifiedDate")))])])])]),a("tbody",[e.TicketActivityContent&&0!==e.TicketActivityContent.filter((function(e){return"FLAG"===e.TYPE})).length?e._l(e.TicketActivityContent.filter((function(e){return"FLAG"===e.TYPE})),(function(t){return a("tr",{key:t.ACTIVITY_ID+t.FLAGREASSON},[a("td",[e._v(e._s(t.ACTIVITY_ID))]),a("td",[e._v(e._s(t.FLAGREASSON))]),a("td",{attrs:{title:t.CHANGEDDATA}},[a("span",[e._v(e._s(t.CHANGEDDATA))])]),a("td",[e._v(e._s(t.STATUS))]),a("td",[e._v(e._s(t.MODIFIEDBY))]),a("td",[e._v(e._s(t.MODIFIEDAT))])])})):a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"6"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])])],2)])])]),a("div",{staticClass:"listing mt-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("Processed")))])])]),a("div",{staticClass:"table-responsive mt-2",attrs:{id:"divflagrecordlisting"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"tblprocessedList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",[a("span",[e._v(e._s(e.$t("ActivityId")))])]),a("th",[a("span",[e._v(e._s(e.$t("TicketType")))])]),a("th",[a("span",[e._v(e._s(e.$t("WorkDoneFor")))])]),a("th",[a("span",[e._v(e._s(e.$t("WorkType")))])]),a("th",[a("span",[e._v(e._s(e.$t("TransmitDate")))])]),a("th",[a("span",[e._v(e._s(e.$t("WorkDate")))])]),a("th",[a("span",[e._v(e._s(e.$t("WorkCode")))])]),a("th",[a("span",[e._v(e._s(e.$t("Cost")))])]),a("th",[a("span",[e._v(e._s(e.$t("State")))])]),a("th",[a("span",[e._v(e._s(e.$t("ServiceCondition")))])])])]),a("tbody",[e.TicketActivityContent&&0!==e.TicketActivityContent.filter((function(e){return"PROCESSED"===e.TYPE})).length?e._l(e.TicketActivityContent.filter((function(e){return"PROCESSED"===e.TYPE})),(function(t){return a("tr",{key:t.ACTIVITY_ID+t.TICKET_TYPE},[a("td",[e._v(e._s(t.ACTIVITY_ID))]),a("td",[e._v(e._s(t.TICKET_TYPE))]),a("td",[e._v(e._s(t.WORKFOR))]),a("td",[e._v(e._s(t.WORKTYPE))]),a("td",[e._v(e._s(t.TRANSMIT_DATE))]),a("td",[e._v(e._s(t.DATEOFWORK))]),a("td",[e._v(e._s(t.WORKCODE_ID))]),a("td",[e._v(e._s(t.COST?t.COST.toFixed(2):"0.00"))]),a("td",[e._v(e._s(t.STATE))]),a("td",{staticStyle:{"white-space":"normal",overflow:"visible"}},[e._v(e._s(t.SERVICE_CONDITION))])])})):a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"10"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])])],2)])])]),a("div",{staticClass:"listing mt-3"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(e._s(e.$t("Banking")))])])]),a("div",{staticClass:"table-responsive mt-2",attrs:{id:"divflagrecordlisting"}},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"tblbankList"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",[a("span",[e._v(e._s(e.$t("ActivityId")))])]),a("th",[a("span",[e._v(e._s(e.$t("Status")))])]),a("th",[a("span",[e._v(e._s(e.$t("Units")))])]),a("th",[a("span",[e._v(e._s(e.$t("Category")))])]),a("th",{staticClass:"text-center"},[a("span",[e._v(e._s(e.$t("Date")))])])])]),a("tbody",[e.TicketActivityContent&&0!==e.TicketActivityContent.filter((function(e){return"BANK"===e.TYPE})).length?e._l(e.TicketActivityContent.filter((function(e){return"BANK"===e.TYPE})),(function(t){return a("tr",{key:t.ACTIVITY_ID+t.STATUS},[a("td",[e._v(e._s(t.ACTIVITY_ID))]),a("td",[e._v(e._s(t.STATUS))]),a("td",[e._v(e._s(t.BANKED_UNITS))]),a("td",[e._v(e._s(t.BANK_CATEGORY_ID))]),a("td",{staticClass:"text-center"},[e._v(e._s(t.DATE_OF_BANKING))])])})):a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"5"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])])],2)])])])]):a("div",{staticClass:"listing text-danger text-center border-0"},[e._v(" "+e._s(e.$t("NorecordfoundText"))+" ")])])])])])])]):e._e()])]),e.modelopen?a("VerticalFlowChartModel",{attrs:{modelDetail:e.modelDetail}}):e._e()],1)},be=[];let Re=[],ke=[{fieldName:"TicketNumber",fieldType:"text",fieldIcon:"fa fa-ticket",paramName:"ticketNumber",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[],isMandatory:!0},{fieldName:"ClientName",fieldType:"searchableselect",fieldIcon:"fa-user",paramName:"clientId",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},itemFields:["text"],groupFields:["groupText"],isMultiple:!1,maxRenderItems:50,placeholder:"Select Client Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null,isMandatory:!0},{fieldName:"UtilityName",fieldType:"searchableselect",fieldIcon:"fa fa-building",paramName:"utilityIds",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Utility Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"Work_Date",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"WorkDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"ProcessDate",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"ProcessDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"State",fieldType:"ddl-radio",fieldIcon:"fa fa-map-marker",paramName:"state",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-radio",fieldIcon:"fa fa-info-circle",paramName:"processingStatus",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[{name:"Banked",value:"BANKED"},{name:"Do Not Bill",value:"DONOTBILL"},{name:"Processed",value:"PROCESSED"},{name:"Suppressed",value:"SUPPRESSED"},{name:"Un processed",value:"UNPROCESSED"}]}],Me=[{COLUMN_NAME:"TICKETNUMBER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TicketNumber",DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"ACTIVITY_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"ActivityId",DISPLAY_ORDER:2},{COLUMN_NAME:"TRANSMISSION_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TransmissionId",DISPLAY_ORDER:3},{COLUMN_NAME:"UTILITY_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"UtilId",DISPLAY_ORDER:4},{COLUMN_NAME:"SBA_ID",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"sba_id",DISPLAY_ORDER:5},{COLUMN_NAME:"DIVISION",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Division",DISPLAY_ORDER:6},{COLUMN_NAME:"MINUTES_WORKED",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"MinutesWorked",DISPLAY_ORDER:7},{COLUMN_NAME:"FEET_LOCATED",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"FeetLocated",DISPLAY_ORDER:8},{COLUMN_NAME:"PAINTABLE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Paintable",DISPLAY_ORDER:9},{COLUMN_NAME:"WD_DESC",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"WorkDescription",DISPLAY_ORDER:10},{COLUMN_NAME:"TERM_CODE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CDCTermCode",DISPLAY_ORDER:11},{COLUMN_NAME:"STATUS_CODE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:12},{COLUMN_NAME:"STATUS",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"StatusCode",DISPLAY_ORDER:13},{COLUMN_NAME:"DESCRIPTION",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"CAStatusDescription",DISPLAY_ORDER:14},{COLUMN_NAME:"WORK_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"WorkedDate",DISPLAY_ORDER:15,settings:{isInSlot:!0}},{COLUMN_NAME:"PROCESS_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ProcessDate",DISPLAY_ORDER:16,settings:{isInSlot:!0}},{COLUMN_NAME:"VERSION_NUMBER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"VersionNumber",DISPLAY_ORDER:17}],Oe=[{title:"TicketImage",icon:"fa fa-ticket text-primary action-icon",additionalSpan:"",callbackfunction:"ViewTicketImage"}];async function Pe(e){var t=e;try{const e="countryId=223&includeCandaState=true",a=await r["a"].GetStateList(e);if(a.data){const e=a.data.map(e=>({name:e.STATE_NAME,value:e.ISO_CODE_3}));t.leftSearchFields.find(e=>"State"===e.fieldName).listOptions=e}}catch(a){console.error("Error loading states:",a)}}var we={buttons:Re,leftsearchSchema:ke,headerSchema:Me,listActions:Oe,bindleftCommonSearchdropdown:Pe},Fe=a("b91c"),Ue={name:"TicketLog",components:{VerticalFlowChartModel:Fe["a"]},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],Buttons:we.buttons,leftSearchFields:we.leftsearchSchema,listActions:we.listActions,Headers:we.headerSchema,searchCondition:"",selectedClientId:null,expandedRows:{},childRows:{},IsViewTicket:!1,TicketContent:"",TicketNumber:"",TransmissionId:"",ActivityId:"",activeTab:"OldProcessLog",processLogData:null,newProcessLogData:[],IsChildData:!1,TicketActivityContent:[],ConfigurationId:"",modelopen:!1}},created:function(){var e,t=this;t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME)}),(null===(e=t.leftSearchFields)||void 0===e?void 0:e.length)>0&&(t.leftSearchFields[1].onChange=t.onSelectionChange),we.bindleftCommonSearchdropdown(this),t.fetchclientlist()},methods:{leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:this.searchCondition=e.searchCondition||"":this.searchCondition="",this.searchCondition&&(this.searchCondition=this.searchCondition.replace(/WorkDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`workDateFrom=${a}&workDateTo=${i}`})),this.searchCondition=this.searchCondition.replace(/ProcessDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`processDateFrom=${a}&processDateTo=${i}`}))),this.FetchTicketLog()},fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=e.clientList,e.groupedUtilities=e.clientList}).catch(t=>{e.isLoading=!1,e.clientList=[],e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=[],console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"TicketImage":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchTicketLog()},actionButtonClick:function(e,t){switch(e){case"ViewTicketImage":this.viewTicketImage(t);break}},commonHeaderButtonClick:function(e){},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchTicketLog()},FetchTicketLog:function(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}`;e.searchCondition&&(t+="&"+e.searchCondition),r["a"].GetTicketLog(t).then(t=>{e.isLoading=!1,t.data.result&&(e.ListingData=JSON.parse(t.data.result)),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach(e=>{e.WORK_DATE&&(e.WORK_DATE=new Date(e.WORK_DATE)),e.PROCESS_DATE&&(e.PROCESS_DATE=new Date(e.PROCESS_DATE))}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)}).catch(t=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0,console.error("Error fetching ticket log:",t)}),setTimeout(()=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0},100)},formatDate(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString();const t=new Date(e);return t.toLocaleDateString()},toggleExpandRow:async function(e,t){var a=this;a.TicketNumber=e.TICKETNUMBER,a.ActivityId=e.ACTIVITY_ID,a.IsChildData=!a.IsChildData;var i=`TicketNumber=${a.TicketNumber}&ActivityId=${a.ActivityId}&workDateFrom=&workDateTo=`;await r["a"].ChildTicketLog(i).then(e=>{e.data.length>0&&(a.TicketActivityContent=e.data,a.processLogData=e.data.find(e=>"PROCESSLOG"===e.TYPE)||null)});var s=`ticketNumber=${a.TicketNumber}&activityId=${a.ActivityId}&workDateFrom=&workDateTo=`;await r["a"].ChildTicketLogNew(s).then(e=>{e.data&&e.data.length>0&&(a.newProcessLogData=e.data)})},CloseChildRow:function(){var e=this;e.activeTab="OldProcessLog",e.IsChildData=!1},getWorkDateFrom(){var e=this.leftSearchFields.find(e=>"WorkDate"===e.fieldName);return e&&e.value?e.value.from:""},getWorkDateTo(){var e=this.leftSearchFields.find(e=>"WorkDate"===e.fieldName);return e&&e.value?e.value.to:""},viewTicketImage:async function(e){var t=this;t.TicketNumber=e.TICKETNUMBER,t.TransmissionId=e.TRANSMISSION_ID,t.IsViewTicket=!t.IsViewTicket;var a=`TicketNumber=${t.TicketNumber}&TransmissionId=${t.TransmissionId}`;await r["a"].ViewTicketImage(a).then(e=>{e.data.length>0&&(t.TicketContent=e.data[0].RAW_IMAGE)})},CloseTemplate:function(){var e=this;e.IsViewTicket=!1},viewBillingFlowchart(e){var t=this;e.CONFIGURATION_ID>0&&(t.modelDetail=e,t.modelopen=!0)},onSelectionChange(e,t){var a=this;a.isLoading=!0,a.selectedClientId=t;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.UTILITY_NAME,groupText:null,groupValue:null,metaData:null,text:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=t)}).catch(e=>{a.isLoading=!1,a.UtilityList=[],a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[]}).finally(()=>{a.isLoading=!1})}}},$e=Ue,xe=(a("fb19"),Object(S["a"])($e,ye,be,!1,null,"443aceea",null)),Be=xe.exports,Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loader",{attrs:{"is-visible":e.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!0,ModuleName:"BillingValidationData",SubModuleCode:"UnprocessedRecords",IdentityColumn:"COLUMN_ID",HeaderText:e.$t("UnprocessedRecords"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.Buttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchUnprocessedRecords,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),LegendArray:e.LegendArray,SearchFields:e.leftSearchFields,SearchPosition:"top"},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function(t){var i=t.data;return["IMPORT_DATE"==i.column.COLUMN_NAME?[i.row.IMPORT_DATE?a("span",{attrs:{title:i.row.IMPORT_DATE}},[e._v(" "+e._s(e.formatDate(i.row.IMPORT_DATE))+" ")]):a("span",[e._v("--")])]:e._e(),"TRANSMIT_DATE"==i.column.COLUMN_NAME?[i.row.TRANSMIT_DATE?a("span",{attrs:{title:i.row.TRANSMIT_DATE}},[e._v(" "+e._s(e.formatDate(i.row.TRANSMIT_DATE))+" ")]):a("span",[e._v("--")])]:e._e(),"WORK_DATE"==i.column.COLUMN_NAME?[i.row.WORK_DATE?a("span",{attrs:{title:i.row.WORK_DATE}},[e._v(" "+e._s(e.formatDate(i.row.WORK_DATE))+" ")]):a("span",[e._v("--")])]:e._e(),"STATUS_CODE"==i.column.COLUMN_NAME?[a("span",{class:e.getStatusClass(i.row),attrs:{title:e.getStatusTitle(i.row)}},[e._v(" "+e._s(e.getStatusText(i.row))+" ")])]:e._e(),"MINUTES_WORKED"==i.column.COLUMN_NAME?[a("span",{staticClass:"textalignright paddingright5"},[e._v(e._s(i.row.MINUTES_WORKED||"--"))])]:e._e(),"FEET_LOCATED"==i.column.COLUMN_NAME?[a("span",{staticClass:"textalignright paddingright5"},[e._v(e._s(i.row.FEET_LOCATED||"--"))])]:e._e()]}}])}),e.IsChangeLineItem?a("ManageColumnItems",{attrs:{ColumnIds:e.ColumnIds,reqFrom:e.reqFrom}}):e._e(),e.IsEditException?a("EditException",{attrs:{ColumnIds:e.ColumnIds,ClientId:e.ClientId,IsProcessed:e.IsProcessed,requestFrom:e.requestFrom}}):e._e(),a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),e.IsViewTicket?a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("TicketImage")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"col-md-12"},[e.TicketContent?a("div",{staticClass:"listing"},[a("div",{staticStyle:{border:"1px solid #ddd",padding:"10px","margin-top":"10px","min-height":"50vh","overflow-y":"auto"},domProps:{innerHTML:e._s(e.TicketContent)}})]):a("div",{staticClass:"listing text-danger text-center border-0"},[e._v(" "+e._s(e.$t("NorecordfoundText"))+" ")])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:e.CloseTemplate}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])]):e._e()],1)])],1)},Ve=[];let We=[{title:"Process",iconClass:"fa fa-check",callbackfunction:"ProcessUnprocessed",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0},{title:"DoNotBill",iconClass:"fa fa-times",callbackfunction:"DoNotProcessUnprocessed",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0},{title:"Update",iconClass:"fa fa-pencil",callbackfunction:"ChangeColumnItemsUnprocessed",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilage:!0}],Ke=[{fieldName:"ClientName",fieldType:"searchableselect",fieldIcon:"fa-user",paramName:"clientId",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},itemFields:["text"],groupFields:["groupText"],isMultiple:!1,maxRenderItems:50,placeholder:"Select Client Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"UtilityName",fieldType:"searchableselect",fieldIcon:"fa fa-building",paramName:"utilityIds",fieldSearchConditionName:[""],isSearch:!1,value:"",actionButtons:{selectAll:!0,clear:!0},itemFields:["text"],groupFields:[],isMultiple:!0,maxRenderItems:50,placeholder:"Select Utility Name",statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},minSearchLength:0,listOptions:[],onChange:null},{fieldName:"State",fieldType:"ddl-radio",fieldIcon:"fa fa-map-marker",paramName:"state",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Work_Date",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"WorkDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"ImportDate",fieldType:"date-range",fieldIcon:"fa fa-calendar",paramName:"ImportDate",fieldSearchConditionName:[""],isSearch:!1,datePickerConfig:{useCurrent:!0,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}},secondDatePickerConfig:{useCurrent:!1,showClear:!0,showClose:!0,allowInputToggle:!1,minDate:!0,maxDate:!0,widgetPositioning:{horizontal:"right",vertical:"bottom"}}},{fieldName:"TicketNo",fieldType:"text",fieldIcon:"fa fa-ticket",paramName:"ticketNumber",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Status",fieldType:"ddl-radio",fieldIcon:"fa fa-info-circle",paramName:"doNotBill",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[{name:"Do Not Bill",value:"donotbill"},{name:"Un processed",value:"unprocessed"},{name:"Waiting To Process",value:"waitingtoprocess"}]}],qe=[{COLUMN_NAME:"CONTRACTNAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Contract",DISPLAY_ORDER:1},{COLUMN_NAME:"UTILITY_NAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"UtilityName",DISPLAY_ORDER:2},{COLUMN_NAME:"TICKETNUMBER",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TicketNumber",DISPLAY_ORDER:3},{COLUMN_NAME:"TICKETTYPE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TicketType",DISPLAY_ORDER:4},{COLUMN_NAME:"TYPEOFWORK",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"TypeofWork",DISPLAY_ORDER:5},{COLUMN_NAME:"IMPORT_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"ImportDate",DISPLAY_ORDER:6,settings:{isInSlot:!0}},{COLUMN_NAME:"TRANSMIT_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TransmitDate",DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"WORK_DATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Work_Date",DISPLAY_ORDER:8,settings:{isInSlot:!0}},{COLUMN_NAME:"TRANSMISSION_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TransmissionId",DISPLAY_ORDER:9},{COLUMN_NAME:"STATUS_CODE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:10,settings:{isInSlot:!0}},{COLUMN_NAME:"STATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"State",DISPLAY_ORDER:11},{COLUMN_NAME:"FEEDNAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"feed_name",DISPLAY_ORDER:12},{COLUMN_NAME:"TERM_CODE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"TermCode",DISPLAY_ORDER:13},{COLUMN_NAME:"MINUTES_WORKED",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"MinutesWorked",DISPLAY_ORDER:14,settings:{isInSlot:!0}},{COLUMN_NAME:"FEET_LOCATED",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"FeetLocated",DISPLAY_ORDER:15,settings:{isInSlot:!0}},{COLUMN_NAME:"REASON",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Reason",DISPLAY_ORDER:16},{COLUMN_NAME:"VERSION_NUMBER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Version",DISPLAY_ORDER:17}],Ge=[{title:"TicketImage",icon:"fa fa-ticket text-primary action-icon",additionalSpan:"",callbackfunction:"ViewTicketImage"},{title:"Edit",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",callbackfunction:"EditRecord"}];async function ze(e){var t=e;try{const e="countryId=223&includeCandaState=true",a=await r["a"].GetStateList(e);if(a.data){const e=a.data.map(e=>({name:e.STATE_NAME,value:e.ISO_CODE_3}));t.leftSearchFields.find(e=>"State"===e.fieldName).listOptions=e}}catch(a){console.error("Error loading states:",a)}}var He={buttons:We,leftsearchSchema:Ke,headerSchema:qe,listActions:Ge,bindleftCommonSearchdropdown:ze},Qe={name:"UnprocessedRecords",components:{ManageColumnItems:g["a"],EditException:v["a"]},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecords:0,ListingData:[],Buttons:He.buttons,leftSearchFields:He.leftsearchSchema,listActions:He.listActions,Headers:He.headerSchema,searchCondition:"",selectedClientId:null,TicketNumber:"",TransmissionId:"",IsViewTicket:!1,TicketContent:"",IsEditException:!1,ClientId:"",IsProcessed:0,ColumnIds:"",requestFrom:"unprocess",IsChangeLineItem:!1,reqFrom:"unprocessed"}},created:function(){var e,t=this;t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME)}),(null===(e=t.leftSearchFields)||void 0===e?void 0:e.length)>0&&(t.leftSearchFields[0].onChange=t.onSelectionChange),He.bindleftCommonSearchdropdown(this),t.fetchclientlist()},methods:{fetchclientlist:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=e.clientList,e.groupedUtilities=e.clientList}).catch(t=>{e.isLoading=!1,e.clientList=[],e.leftSearchFields.find(e=>"ClientName"===e.fieldName).listOptions=[],console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},leftCommonSearch:function(e){this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition?""!=e.searchConditionJson?this.searchCondition=e.searchConditionJson:this.searchCondition=e.searchCondition||"":this.searchCondition="",this.searchCondition&&(this.searchCondition=this.searchCondition.replace(/WorkDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`WorkDateFrom=${a}&WorkDateTo=${i}`})),this.searchCondition=this.searchCondition.replace(/ImportDate=([^&]+)/,(function(e,t){let[a,i]=t.split("|");return`ProcessDateFrom=${a}&ProcessDateTo=${i}`}))),this.FetchUnprocessedRecords()},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"TicketImage":t.isVisible=!0;break;case"Edit":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchUnprocessedRecords()},actionButtonClick:function(e,t){switch(e){case"ViewTicketImage":this.viewTicketImage(t);break;case"EditRecord":this.editRecord(t);break}},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"ProcessUnprocessed":this.ProcessColumnItems();break;case"DoNotProcessUnprocessed":this.DoNotProcessLineItems();break;case"ChangeColumnItemsUnprocessed":this.ChangeColumnItems();break}},sortdata:function(e){this.SortBy=e,""==this.SortExp?this.SortExp="ASC":"ASC"==this.SortExp?this.SortExp="DESC":this.SortExp="ASC",this.FetchUnprocessedRecords()},FetchUnprocessedRecords:function(){var e=this;e.isLoading=!0;var t=`pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}`;e.searchCondition&&(t+="&"+e.searchCondition),r["a"].GetUnprocessedRecords(t).then(t=>{e.isLoading=!1,t.data.result&&(e.ListingData=JSON.parse(t.data.result)),e.ListingData&&e.ListingData.length>0?(e.ListingData.forEach(e=>{e.IMPORT_DATE&&(e.IMPORT_DATE=new Date(e.IMPORT_DATE)),e.TRANSMIT_DATE&&(e.TRANSMIT_DATE=new Date(e.TRANSMIT_DATE)),e.WORK_DATE&&(e.WORK_DATE=new Date(e.WORK_DATE))}),e.ListingData.forEach(t=>{t.isCheckBoxDisabled=!1,t.PROCESS_TRAN_NO>0||t.FLAG_HISTORY_ID>0||"Reprocessing"==t.REASON?(t.isCheckBoxDisabled=!0,e.checkIsdesabled=!0):(t.isCheckBoxDisabled=!1,e.checkIsdesabled=!1)}),e.TotalRecords=e.ListingData[0].TOTAL_RECORDS||e.ListingData[0].TOTALRECORDS||0,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber):(e.ListingData=[],e.TotalRecords=0)}).catch(t=>{e.isLoading=!1,e.ListingData=[],e.TotalRecords=0,console.error("Error fetching unprocessed records:",t)})},getStatusClass(e){return"DONOTBILL"==e.STATUS_CODE?"bg-danger py-1 px-1 text-white w-100 d-block text-center":e.PROCESS_TRAN_NO>0||e.FLAG_HISTORY_ID>0||"Reprocessing"==e.REASON?"bg-info py-1 px-1 text-white w-100 d-block text-center":"bg-warning py-1 px-1 text-white w-100 d-block text-center"},getStatusText(e){return"DONOTBILL"==e.STATUS_CODE?this.$t("DoNotBill"):e.PROCESS_TRAN_NO>0||e.FLAG_HISTORY_ID>0||"Reprocessing"==e.REASON?this.$t("InQueue"):this.$t("Unprocessed")},getStatusTitle(e){return"DONOTBILL"==e.STATUS_CODE?this.$t("DoNotBill"):e.PROCESS_TRAN_NO>0||e.FLAG_HISTORY_ID>0||"Reprocessing"==e.REASON?this.$t("InQueue"):this.$t("Unprocessed")},formatDate(e){if(!e)return"";if(e instanceof Date)return e.toLocaleDateString();const t=new Date(e);return t.toLocaleDateString()},CloseTemplate:function(){var e=this;e.IsViewTicket=!1},viewTicketImage:async function(e){var t=this;t.TicketNumber=e.TICKETNUMBER,t.TransmissionId=e.TRANSMISSION_ID,t.IsViewTicket=!t.IsViewTicket;var a=`TicketNumber=${t.TicketNumber}&TransmissionId=${t.TransmissionId}`;await r["a"].ViewTicketImage(a).then(e=>{e.data.length>0&&(t.TicketContent=e.data[0].RAW_IMAGE)})},editRecord(e){var t=this;t.ColumnIds=e.COLUMN_ID,t.ClientId=e.CLIENT_ID,t.IsEditException=!t.IsEditException},ProcessColumnItems:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((async function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmProcessFlagRecords"),!0,!1,(function(){var e={value:"",fieldName:"",lineIds:a,reqFrom:"process",setClient:1,beSbaId:0};r["a"].SaveColumnItems(e).then((async function(e){"Success"==e.data.msg?(t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",!0,t.$t("Alert")),await t.FetchUnprocessedRecords()):t.ShowAlert(t.$t("DeletedError",[t.$t("WorkCode")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("SelectanyrecordtoChangeUnprocessedRecords"),"warning",!0,t.$t("Alert"))},DoNotProcessLineItems:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((async function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmPurgesFlagRecords"),!0,!1,(function(){var e={value:"",fieldName:"",lineIds:a};r["a"].DoNotProcessLineItems(e).then((async function(e){"Success"==e.data.msg?(t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",!0,t.$t("Alert")),await t.FetchUnprocessedRecords()):t.ShowAlert(t.$t("DeletedError",[t.$t("WorkCode")]),"failure",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("SelectanyrecordtoChangeUnprocessedRecords"),"warning",!0,t.$t("Alert"))},ChangeColumnItems:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((async function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?(t.ColumnIds=a,t.IsChangeLineItem=!t.IsChangeLineItem):t.ShowAlert(t.$t("SelectanyrecordtoChangeUnprocessedRecords"),"warning",!0,t.$t("Alert"))},getSelectedRecordIds(){return[]},onSelectionChange(e,t){var a=this;a.isLoading=!0,a.selectedClientId=t;var i=`clientId=${t}&configId=&reqFrom=&clientIds=`;r["a"].getUtilityList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.UTILITY_NAME,groupText:null,groupValue:null,metaData:null,text:e.UTILITY_NAME,value:e.UTILITY_ID};t.push(a)}),a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=t)}).catch(e=>{a.isLoading=!1,a.UtilityList=[],a.leftSearchFields.find(e=>"UtilityName"===e.fieldName).listOptions=[]}).finally(()=>{a.isLoading=!1})}}},je=Qe,Je=(a("53d6"),Object(S["a"])(je,Ye,Ve,!1,null,"338e7e6d",null)),Xe=Je.exports,Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-content-wrapper"},[a("div",{staticClass:"theme-primary partition p-actions-expand mt-2"},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("PreviewInvoice")))])]),a("div",{staticClass:"col-md-12 border p-3"},[a("dynamic-form",{ref:"dynamicform",attrs:{buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1)])},et=[],tt={name:"PreviewInvoice",data(){return{isLoading:!1,FormSchema:[{layoutType:"triple",Data:[{astype:"SearchableSelectField",label:this.$t("CONTRACTNAME"),name:"ContractName",value:"",placeholder:"Select Client Name",isSearch:!1,config:{options:[],actionButtons:{selectAll:!0,active:!0,inactive:!0,clear:!0},groupFields:["groupText"],isMultiple:!1,minSearchLength:0,statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"},onChange:this.onSelectionChange},validationRules:{required:!0}},{astype:"SearchableSelectField",label:this.$t("Division"),name:"InvoiceGrouping",value:"",placeholder:"Select Division Name",isSearch:!1,config:{options:[],groupFields:[],actionButtons:{selectAll:!0,clear:!0},isMultiple:!0,minSearchLength:0,statusFieldConfig:{fieldName:"status",activeValues:["Active","active"],inactiveValues:["Inactive","inactive"],activeColor:"#28a745",inactiveColor:"#dc3545"}},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("ReportType"),name:"ReportType",value:"Detailed",config:{options:[{name:this.$t("InvoiceBackupReport"),value:"Detailed"},{name:this.$t("SummaryReport"),value:"Summary"}]},validationRules:{required:!1}},{astype:"DateField",label:this.$t("ProcessDateFrom"),name:"ProcessDateFrom",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1},validationRules:{required:!0}},{astype:"DateField",label:this.$t("ProcessDateTo"),name:"ProcessDateTo",value:"",placeholder:"",config:{format:"MM/DD/YYYY",maxDate:!1},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-search pr-2'></i>Search"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Clear",onClick:this.Close}]}},created:async function(){await this.fetchClientList()},methods:{fetchClientList:function(){var e=this;e.isLoading=!0;var t="reqFrom=CUSTOM";r["a"].getClientList(t).then(t=>{e.isLoading=!1,e.clientList=t.data.items,e.$refs.dynamicform.updateProperty("ContractName","config.options",e.clientList),e.$refs.dynamicform.UpdateKeyValue()}).catch(t=>{e.isLoading=!1,e.clientList=[],e.$refs.dynamicform.updateProperty("ContractName","config.options",e.clientList),e.$refs.dynamicform.UpdateKeyValue(),console.error("Error fetching client list:",t)}).finally(()=>{e.isLoading=!1})},onSelectionChange(e,t){var a=this;a.isLoading=!0;var i=`clientId=${t}&utilityIds=`;r["a"].LoadClientDivisionList(i).then(e=>{a.isLoading=!1;let t=[];var i=e.data;null!=i&&(i.forEach(e=>{let a={description:null,displayValue:e.NOTE,groupText:null,groupValue:null,metaData:null,text:e.NOTE,value:e.ID};t.push(a)}),a.$refs.dynamicform.updateProperty("InvoiceGrouping","config.options",t),a.$refs.dynamicform.UpdateKeyValue())}).catch(e=>{a.isLoading=!1,a.SelectedDivisionList=[],a.$refs.dynamicform.updateProperty("InvoiceGrouping","config.options",SelectedDivisionList),a.$refs.dynamicform.UpdateKeyValue()}).finally(()=>{a.isLoading=!1})},onSubmit(e,t){}}},at=tt,it=(a("0bd5"),Object(S["a"])(at,Ze,et,!1,null,"c934bc7c",null)),st=it.exports,ot={components:{Loader:o["a"],FlagRecords:T,BilledUnbilledRecords:Y,BulkMove:ge,BulkMoveAdvance:Ne,TicketLog:Be,UnprocessedRecords:Xe,PreviewInvoice:st},data(){return{isLoading:!1,tabs:[{id:1,title:"FlagRecords",displayName:"FlagRecords",icon:"fa fa-flag",route:"flag-records"},{id:2,title:"BilledUnbilledRecords",displayName:"BilledUnbilledRecords",icon:"fa fa-usd",route:"billed-unbilled-records"},{id:3,title:"BulkMove",displayName:"BulkMove",icon:"fa fa-arrows",route:"bulk-move"},{id:4,title:"BulkMoveAdvance",displayName:"BulkMoveAdvance",icon:"fa fa-arrows-alt",route:"bulk-move-advance"},{id:5,title:"TicketLog",displayName:"TicketLog",icon:"fa fa-ticket",route:"ticket-log"},{id:6,title:"UnprocessedRecords",displayName:"UnprocessedRecords",icon:"fa fa-th-list",route:"unprocessed-records"},{id:7,title:"PreviewInvoice",displayName:"PreviewInvoice",icon:"fa fa-eye",route:"preview-invoice"}],currentTab:null}},computed:{tabsWithLocalization(){return this.tabs.map(e=>({...e,displayName:this.$t(e.title)}))}},created(){this.initializeTab()},watch:{$route(e,t){this.initializeTab()}},methods:{initializeTab(){const e=this.$route.params.tab||"flag-records",t=this.tabs.find(t=>t.route===e);if(t)this.currentTab={...t,displayName:this.$t(t.title)};else{const e=this.tabs[0];this.currentTab={...e,displayName:this.$t(e.title)},this.$route.params.tab!==e.route&&this.$router.replace({name:"BillingValidationData",params:{tab:e.route}})}},changeTab(e){this.currentTab={...e,displayName:this.$t(e.title)},this.$router.push({name:"BillingValidationData",params:{tab:e.route}}).catch(e=>{"NavigationDuplicated"!==e.name&&console.error(e)})}}},nt=ot,lt=(a("8c39"),Object(S["a"])(nt,i,s,!1,null,"5fdc5cb9",null));t["default"]=lt.exports},cc81:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".tab-content-wrapper[data-v-c934bc7c]{min-height:400px}",""]),e.exports=t},de6b:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".disabled-tab[data-v-5fdc5cb9]{cursor:not-allowed}",""]),e.exports=t},e398:function(e,t,a){var i=a("42c0");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var s=a("499e").default;s("3464b864",i,!0,{sourceMap:!1,shadowMode:!1})},e470:function(e,t,a){"use strict";a("8773")},ef5d:function(e,t,a){var i=a("24fb");t=i(!1),t.push([e.i,".textalignright{text-align:right}.paddingright5{padding-right:5px}.remove_blackheader .ticketsmallfix.theme-primary.partition.p-actions-expand{display:none!important}",""]),e.exports=t},f10d:function(e,t,a){"use strict";a("5530")},fb19:function(e,t,a){"use strict";a("7306")}}]);
//# sourceMappingURL=chunk-3178ef2a.js.map