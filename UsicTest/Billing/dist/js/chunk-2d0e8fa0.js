(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8fa0"],{"8c21":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"mt-2",staticStyle:{height:"100vh"}},[r("div",{staticStyle:{height:"calc(100vh - 40px)",width:"100%"},attrs:{id:"reportContainer"}})])}],n=(r("d9e2"),r("14d9"),r("7599")),s=r("9769");const a="usictest";var c={name:"StagingBillingDashboard",methods:{async loadPowerBIReport(){try{var e="Billing",t=a;const r=await s["a"].DynamicEmbedReport(e,t);if(!r||200!==r.status)throw new Error("Failed to fetch embed config");const o=r.data;if(!o.reportId)throw new Error("Report ID is missing");if(!o.embedUrl)throw new Error("Embed URL is missing");if(!o.embedToken)throw new Error("Embed token is missing");if(!o.companyId)throw new Error("Company ID is missing");const i=o.companyId;o.tables;let c=[];const l={$schema:"http://powerbi.com/product/schema#basic",target:{table:"TALYGEN_company",column:"company_id"},operator:"In",values:[i],filterType:n["models"].FilterType.BasicFilter};c.push(l),console.log("Staging Report Filters: ",c);const d={type:"report",id:o.reportId,embedUrl:o.embedUrl,accessToken:o.embedToken,tokenType:n["models"].TokenType.Embed,filters:c,settings:{panes:{filters:{visible:!1},pageNavigation:{visible:!0}}}},p=document.getElementById("reportContainer"),m=new n["service"].Service(n["factories"].hpmFactory,n["factories"].wpmpFactory,n["factories"].routerFactory),g=m.embed(p,d);g.on("loaded",async()=>{try{await g.setFilters(c),console.log("✅ Staging Power BI report embedded successfully")}catch(e){console.error("Error applying filters after load:",e)}}),g.on("error",e=>{console.error("Staging Report Error:",e.detail)})}catch(r){console.error("❌ Staging Power BI embed error:",r)}}},mounted(){this.loadPowerBIReport()}},l=c,d=r("0c7c"),p=Object(d["a"])(l,o,i,!1,null,null,null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0e8fa0.js.map