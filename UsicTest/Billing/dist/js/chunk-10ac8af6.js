(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10ac8af6"],{5377:function(t,e,a){"use strict";var i=a("da84"),s=a("83ab"),o=a("edd0"),l=a("ad6d"),r=a("d039"),n=i.RegExp,d=n.prototype,c=s&&r((function(){var t=!0;try{n(".","d")}catch(c){t=!1}var e={},a="",i=t?"dgimsy":"gimsy",s=function(t,i){Object.defineProperty(e,t,{get:function(){return a+=i,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var l in t&&(o.hasIndices="d"),o)s(l,o[l]);var r=Object.getOwnPropertyDescriptor(d,"flags").get.call(e);return r!==i||a!==i}));c&&o(d,"flags",{configurable:!0,get:l})},a985:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),t.isEditWorkCode?a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s("Update"===t.refCode?t.$t("updateratecode"):t.$t("addratecode"))+" ")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseAddWorkCode}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{ref:"validatePlan",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.$t("MandatoryString")}})],1)])])]):t._e()],1)])},s=[],o=(a("14d9"),a("9769")),l={props:{callbackfunction:{type:Function,required:!1},refCode:{type:String,required:!1},editDetail:{type:Object,required:!1}},data(){return{isLoading:!1,isEditWorkCode:!0,Id:0,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("RateCode"),name:"RateCode",value:"",placeholder:this.$t("RateCode"),validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:this.$t("Status"),config:{options:[{value:"1001",name:this.$t("Active")},{value:"1002",name:this.$t("Inactive")}]},validationRules:{required:!0}}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Category"),name:"Category",value:"",placeholder:this.$t("Select"),config:{options:[]},validationRules:{required:!0}},{astype:"NumericField",label:this.$t("DefaultRate"),name:"DefaultRate",value:"",placeholder:this.$t("DefaultRate"),validationRules:{required:!1},disabled:!1}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",placeholder:this.$t("DESCRIPTION"),validationRules:{required:!0,max:6e3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save"),onClick:this.SaveData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.CloseAddWorkCode}]}},mounted(){this.GetCategoryList(),this.editDetail&&Object.keys(this.editDetail).length>0&&"Update"==this.refCode&&this.BindEditDetail(this.editDetail)},methods:{BindEditDetail(t){var e=this;e.Id=t.WORK_CODE_ID,e.$refs.validatePlan.updateProperty("RateCode","value",t.WORK_CODE),e.$refs.validatePlan.updateProperty("Status","value",t.STATUS_ID),e.$refs.validatePlan.updateProperty("Description","value",t.WORK_DESCRIPTION),e.$refs.validatePlan.updateProperty("Category","value",t.WORK_CODE_CATEGORY_ID),e.$refs.validatePlan.updateProperty("DefaultRate","value",t.DEFAULT_RATE)},GetCategoryList(){this.isLoading=!0;const t=this,e=`companyId=${t.GetUserInfo.CompanyId}&loggedinUserID=${t.GetUserInfo.ID}&pageSize=10&pageNum=1&sortBy=&sortExp=&search=`;o["a"].GetWorkCodeCategoryList(e).then(e=>{if(e.data){const a=JSON.parse(e.data);a.forEach(e=>{t.FormSchema[1].Data[0].config.options.push({name:e.WORK_CODE_CATEGORY,value:e.WORK_CODE_CATEGORY_ID}),t.$refs.validatePlan.UpdateKeyValue()})}}).catch(t=>{console.error("Error fetching category list:",t)}).finally(()=>{this.isLoading=!1})},async SaveData(){this.isLoading=!0;try{const e=await this.$refs.validatePlan.validateForm.validate();if(!e)return void(this.isLoading=!1);const a=this.$refs.validatePlan.getPropertyValue("RateCode","value"),i=this.$refs.validatePlan.getPropertyValue("Status","value"),s=this.$refs.validatePlan.getPropertyValue("Description","value"),l=this.$refs.validatePlan.getPropertyValue("Category","value"),r=this.$refs.validatePlan.getPropertyValue("DefaultRate","value"),n={id:this.Id,name:a,description:s,status:i,categoryId:l,DefaultRate:r},d=JSON.stringify(n);var t="name="+a;if(!this.Id){const e=await o["a"].ISExistWorkCode(t);if("Exist"===e.data.message)return void this.ShowAlert(this.$t("AlreadyExists",[this.$t("RateCode")]),"failure",!0,this.$t("Alert"))}const c=await o["a"].SaveUpdateWork(d);1==c.data&&this.ShowAlert(this.$t("AddedSuccess",[this.$t("RateCode")]),"Success",!0,this.$t("Alert")),2==c.data&&this.ShowAlert(this.$t("UpdatedSuccess",[this.$t("RateCode")]),"Success",!0,this.$t("Alert")),this.callbackfunction&&this.callbackfunction(),this.CloseAddWorkCode()}catch(e){console.error("Error saving data:",e)}finally{this.isLoading=!1}},CloseAddWorkCode(){this.editDetail=null,this.$emit("CloseAddWorkCode")}}},r=l,n=a("0c7c"),d=Object(n["a"])(r,i,s,!1,null,null,null);e["a"]=d.exports},ad6d:function(t,e,a){"use strict";var i=a("825a");t.exports=function(){var t=i(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},fc09:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!0,ModuleName:"Billing",SubModuleCode:"",LegendArray:t.LegendArray,RenderRowActionMethod:t.renderActions,widgets:[],IdentityColumn:"SERVICEID",listType:["List"],ListData:t.ListingData,HeaderData:t.Headers,isShowHeaderText:!1,HeaderText:t.$t("BillingCondition"),HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(e){var i=e.data;return["SERVICENAME"==i.column.COLUMN_NAME?[a("td",[a("a",{staticClass:"text-primary",on:{click:function(e){return t.EditRecord(i.row)}}},[t._v(" "+t._s(i.row.SERVICENAME)+" ")])])]:t._e(),"MODIFIED_AT"==i.column.COLUMN_NAME?[i.row.MODIFIED_AT?a("td",{staticClass:"text-center single-action tourguide_a"},[t._v(" "+t._s(null!=i.row.MODIFIED_AT?t.$d(i.row.MODIFIED_AT):"--")+" ")]):a("td",{staticClass:"text-center single-action tourguide_a"},[t._v("--")])]:t._e(),"BILLING_CONFIG_NAME"==i.column.COLUMN_NAME?[a("span",[t._v(" "+t._s(i.row.BILLING_CONFIG_NAME?i.row.BILLING_CONFIG_NAME:"--")+" ")])]:t._e(),"STATUS"==i.column.COLUMN_NAME?[0==i.row.SCOUNT?a("div",[a("listing-status",{ref:"updatestatus",attrs:{isfor:"BillingService",dataid:i.row.SERVICEID,"data-controller":"BillingService",statuslist:t.StatusListForListing,item:i.row.STATUSID,"data-action":"index",dataselected:1001==i.row.STATUSID?"Active":"Inactive",callbackfunction:t.FetchData,isselectedvaluestring:!0}}),t.isCRMShowStausDrop(i.row.STATUSID,"Ticketing")?t._e():a("a",{staticClass:"inactive-disabled"},[a("span",{class:t.getStatusClass(i.row.STATUS)},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")])])],1):a("div",["Active"==i.row.STATUS?a("span",{class:t.getStatusClassList(i.row.STATUS)},[t._v(" "+t._s(i.row.STATUS)+" ")]):t._e(),"Inactive"==i.row.STATUS?a("span",{class:t.getStatusClassList(i.row.STATUS)},[t._v(" "+t._s(i.row.STATUS)+" ")]):t._e()])]:t._e(),"SCOUNT"==i.column.COLUMN_NAME?[a("span",[a("a",{class:{"text-dark text-center":!0,disabled:0==i.row.SCOUNT},attrs:{id:"ancProjectDetail",href:"javascript:;"},on:{click:function(e){return t.OpenBillingRuleListing(i.row)}}},[a("i",{staticClass:"fa fa-file-o",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-orange"},[t._v(t._s(i.row.SCOUNT))])])])]:t._e()]}}])}),a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),t.isCloneModel?a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("CloneCondition")+": "+this.templateName)+" ")]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseCloneModel}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{ref:"validateClone",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.$t("MandatoryString")}})],1)])])]):t._e()],1),t.IsHistory?a("ServiceHistory",{attrs:{ServiceId:t.ServiceId}}):t._e(),t.isModalAddRule?a("ModalAddBillingRule",{attrs:{serviceDetailForBillingRule:t.serviceDetailForBillingRule,reqFrom:t.reqFrom,configurationId:t.configurationId,conditionId:t.conditionId,nodeName:t.nodeName}}):t._e(),a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),t.isOpenRuleList?a("div",{staticClass:"modal d-block dialog"},[a("div",{staticClass:"modal-dialog modal-lg"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("MappedBillingRule")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseList}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[t.RuleListingData&&t.RuleListingData.length?a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive table-fix-header mt-2 px-0"},[a("table",{staticClass:"table table-bordered mb-0",staticStyle:{width:"100%"},attrs:{id:"example"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticStyle:{"min-width":"150px"}},[a("span",{staticClass:"font-weight-500"},[t._v(t._s(t.$t("Billing Rule Name")))])]),a("th",{staticStyle:{"min-width":"150px"}},[a("span",{staticClass:"font-weight-500"},[t._v(t._s(t.$t("ServiceName")))])])])]),a("tbody",t._l(t.RuleListingData,(function(e,i){return a("tr",{key:i},[a("td",[t._v(t._s(e.BILLING_CONFIG_NAME))]),a("td",[t._v(t._s(e.service_name))])])})),0)])])]):t._e()]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-danger",on:{click:t.CloseList}},[a("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Cancel"))+" ")])])])])]):t._e()],1)])],1)},s=[],o=(a("14d9"),a("9769"));let l=[{title:"AddCondition",iconClass:"fa-plus",href:"",additionalClass:"",callbackfunction:"AddService",isdisabled:!1,isvisible:!0,checkPrivilege:!1,id:""},{title:"Remove",iconClass:"fa fa-trash",callbackfunction:"Delete",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0}],r=[{title:"ViewHistory",callbackfunction:"ViewHistory",href:"javascript:void(0)",icon:"fa fa-history text-warning",additionalSpan:"",isDisabled:!1,isvisible:!0},{title:"CloneCondition",callbackfunction:"CloneService",href:"javascript:void(0)",icon:"fa fa-copy text-success",additionalSpan:"",isDisabled:!1,isvisible:!0}];var n={buttons:l,listActions:r},d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full  d-flex"},[a("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("BillingConditionHistory")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body"},[a("div",[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[t._v(t._s(t.$t("History")))])])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mb-2"},[a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legend-Progress colorboxsquare"}),t._v(" "+t._s(t.$t("CurrentVersion"))+" ")])])]),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 table_w800",attrs:{id:"tbllistinghistorydata"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",[a("span",{attrs:{id:"ServiceName"}},[t._v(t._s(t.$t("ConditionName")))])]),a("th",[a("span",{attrs:{id:"Condition"}},[t._v(t._s(t.$t("Condition")))])]),a("th",[a("span",{attrs:{id:"CreatedBy"}},[t._v(t._s(t.$t("created_by_name")))])]),a("th",[a("span",{attrs:{id:"CreatedDate"}},[t._v(t._s(t.$t("CreatedDate")))])]),a("th",[a("span",{attrs:{id:"ModifiedBy"}},[t._v(t._s(t.$t("ModifiedBy")))])]),a("th",[a("span",{attrs:{id:"ModifiedDate"}},[t._v(t._s(t.$t("ModifiedDate")))])])])]),a("tbody",[t._l(t.serviceHistory,(function(e,i){return a("tr",{key:i,class:{"low-bar":"CURRENT"===e.VERSION_NAME}},[a("td",[t._v(t._s(e.SERVICE_NAME))]),a("td",[t._v(t._s(e.CONDITION))]),a("td",[t._v(t._s(e.CREATEDBY))]),a("td",[t._v(t._s(t.$options.filters.formatDateTime(e.CREATEDDATE)))]),a("td",[t._v(t._s(e.UPDATEDBY))]),a("td",[e.MODIFIEDDATE?a("span",[t._v(t._s(t.$options.filters.formatDateTime(e.MODIFIEDDATE)))]):a("span",[t._v("--")])])])})),t.serviceHistory&&0!==t.serviceHistory.length?t._e():a("tr",[a("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"6"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])])],2)])])])])])])])])],1)},c=[],u={props:{ServiceId:{type:Number,required:!0}},components:{},data(){return{isLoading:!1,noRecords:!1,serviceHistory:[]}},created:function(){var t=this;t.FetchData()},methods:{FetchData:async function(){var t=this,e="serviceId="+t.ServiceId;await o["a"].GetServiceHistoryListing(e).then(e=>{t.serviceHistory=[],e.data?(t.serviceHistory=e.data,t.serviceHistory.length>0?t.noRecords=!1:t.noRecords=!0):(t.noRecords=!0,t.TotalRecords=0)})},Close:function(){this.$parent.IsHistory=!1}}},h=u,C=a("0c7c"),v=Object(C["a"])(h,d,c,!1,null,null,null),S=v.exports,p=a("8a4d"),m={components:{ServiceHistory:S,ModalAddBillingRule:p["a"]},data(){return{reqFrom:"fromBillingService",isCloneModel:!1,templateName:"",isModalAddRule:!1,isLoading:!1,conditionId:0,LegendArray:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Headers:[{COLUMN_NAME:"SERVICENAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ConditionName"),DISPLAY_ORDER:1},{COLUMN_NAME:"SCOUNT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BillingRuleName"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"CATEGORY",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("CategoryName"),DISPLAY_ORDER:3},{COLUMN_NAME:"SETUP",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("SetupName"),DISPLAY_ORDER:4},{COLUMN_NAME:"MODIFIED_AT",DATA_TYPE:"Date",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("LastUpdatedDate"),DISPLAY_ORDER:5},{COLUMN_NAME:"UPDATEDBY",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("LastUpdatedBy"),DISPLAY_ORDER:6},{COLUMN_NAME:"STATUS",DATA_TYPE:"Date",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:7}],leftSearchFields:[{fieldName:this.$t("Search By Condition Name"),fieldType:"text",fieldSearchConditionName:[""],paramName:"search",isSearch:!0,value:"",listOptions:[]}],FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("ConditionName"),name:"ServiceName",value:"",placeholder:"",validationRules:{required:!0},disabled:!1}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save"),onClick:this.CreateClone},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.CloseCloneModel}],CloneItem:[],SortBy:"",SortExp:"",noRecords:"",PageSize:"10",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,searchCondition:"",ListingData:[],listheaderbuttons:n.buttons,listActions:n.listActions,UserType:"",UserId:"",setupId:"",servicename:"",IsHistory:!1,ServiceId:"",isOpenRuleList:!1,RuleListingData:[]}},updated(){const t=document.getElementsByClassName("theme-primary partition p-actions-expand");if(t[0]&&"p-name text-white"!=t[0].lastChild.className){const e=document.createElement("span");e.className="p-name text-white",e.textContent=this.$t("BillingCondition"),t[0].appendChild(e)}},created:async function(){var t=this;await t.FetchData(),t.UserId=this.GetUserInfo.ID,t.UserType=t.GetUserInfo.UserType},methods:{EditRecord(t){var e=this;e.conditionId=t.SERVICEID,e.nodeName=t.IS_LEAF_NODE,e.configurationId=t.CONFIGURATION_ID,e.reqFrom="fromBillingService",e.isModalAddRule=!0},leftCommonSearch:function(t){if(this.PageNumber=t.PageNumber,this.isPaged=1,t.searchCondition){let e=t.searchConditionJson,a=e.split("=")[1];this.searchCondition=a}else this.searchCondition="";this.FetchData()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddService":this.AddBillingRule();break;case"Delete":this.DeleteData();break}},AddBillingRule:function(t){var e=this;e.serviceDetailForBillingRule=t,e.conditionId=0,e.reqFrom="addBillingService",e.isModalAddRule=!0},DeleteData:function(){var t=this,e="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),e.length>0&&t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Condition"),(function(){let a=`ids=${e}&tableName=TALYGEN_BE_SERVICE_MASTER&primaryKey=SERVICE_ID`;o["a"].Delete(a).then(e=>{e.data?t.ShowAlert(t.$t("DeletedSuccessfully"),"Success",!0,t.$t("Alert")):t.ShowAlert(t.$t("DeletedError",[t.$t("val")]),"failure",!0,t.$t("Alert")),t.FetchData()})}))},sortdata:function(t){this.SortBy=t,"MODIFIED_AT"==this.SortBy&&(this.SortBy="LASTUPDATEDDATE"),"UPDATEDBY"==this.SortBy&&(this.SortBy="LASTUPDATEDBY");var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.FetchData()},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},getStatusClassList:function(t){var e="";switch(t){case"Active":e="px-2 text-center text-white d-block bg-success";break;case"Inactive":e="px-2 text-center text-white d-block bg-danger";break;default:e=""}return e},getStatusClass:function(t){var e="";switch(t){case"Active":e="px-2 text-center bg-success text-white d-block";break;case"Inactive":e="px-2 text-center bg-danger text-white d-block";break;default:e=""}return e},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Reason":e.isVisible=!0;break;case"Resource Impact":e.isVisible=!0;break;case"Status History":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)}),a},OpenHistoryModal:function(t){var e=this;e.ServiceId=t.SERVICEID,e.IsHistory=!0},actionButtonClick:function(t,e,a,i){switch(t){case"ViewHistory":this.OpenHistoryModal(e);break;case"ResourceImpact":this.ResourceImpact(e);break;case"CloneService":this.CloneService(e);break}},OpenBillingRuleListing:async function(t){var e=this;e.descriptionData=t.CLIENT_MAPPING_LIST;try{"string"===typeof e.descriptionData&&(e.RuleListingData=JSON.parse(e.descriptionData))}catch(a){console.error("Invalid descriptionData JSON",a,e.descriptionData),e.RuleListingData=[]}this.isOpenRuleList=!this.isOpenRuleList},CloseList:function(){var t=this;t.isOpenRuleList=!1},CloneService(t){var e=this;e.templateName=t.SERVICENAME,e.isCloneModel=!0,e.CloneItem=t},CloseCloneModel(){this.isCloneModel=!1},FetchData:async function(){var t=this;const e=`serviceName=${t.searchCondition}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&setupId=${t.setupId}`;try{const a=await o["a"].GetBillServiceListing(e);a.data&&a.data.length>0?(t.ListingData=[],t.Headers.forEach(t=>{t.settings=null,["MODIFIED_AT","STATUS","MODIFIED_AT","SERVICENAME","SCOUNT"].includes(t.COLUMN_NAME)&&(t.settings={isInSlot:!0})}),t.ListingData=a.data,t.ListingData.forEach(t=>{["MODIFIED_AT"].forEach(e=>{t[e]&&(t[e]=new Date(t[e]))}),t.isCheckBoxDisabled=0!==t.SCOUNT,!0===t.IS_GLOBAL&&(t.additionalClass="sample-bar")}),t.listheaderbuttons[1].isdisabled=!0,t.TotalRecords=a.data[0].TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecords=!1):(t.ListingData=[],t.TotalRecords=0,t.noRecords=!0)}catch(a){console.error("Error fetching data:",a)}},CreateClone:function(){var t=this,e=t.$refs.validateClone.getPropertyValue("ServiceName","value"),a=t.CloneItem.SERVICEID,i=`serviceId=${a}&serviceName=${e}`;o["a"].CloneBillingService(i).then(e=>{"Success"==e.data.status?(this.ShowAlert(this.$t("AddedSuccess",[this.$t("Clone")]),"Success",!0,this.$t("Alert")),t.$refs.validateClone.updateProperty("ServiceName","value",""),t.CloseCloneModel(),t.FetchData()):this.ShowAlert(this.$t("ErrorWhileSaving",[this.$t("BillingService")]),"danger",!0,this.$t("Alert"))})}}},f=m,g=Object(C["a"])(f,i,s,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-10ac8af6.js.map