(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9bd185f8"],{"49c6":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".task-dec[data-v-667e4c6a]{color:#007bff!important;text-decoration:none;background-color:transparent}",""]),t.exports=e},a2d5:function(t,e,a){var i=a("49c6");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("b85c74f0",i,!0,{sourceMap:!1,shadowMode:!1})},c94f:function(t,e,a){"use strict";a("a2d5")},cb60:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!0,ModuleName:"ClientFlag",SubModuleCode:"AutomatedFlagProcessingBilling",IdentityColumn:"CLIENTFLAGID",HeaderText:t.$t("AutomateFlagProcessing"),ListData:t.ListingData,HeaderData:t.Headers,widgets:t.widgets,HeaderButtons:t.Buttons,TotalRecords:t.TotalRecord,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.RuleFlagListing,SortExp:t.SortExp,SortBy:t.SortBy,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",NorecordfoundText:t.$t("NoRecordfound"),LegendArray:t.LegendArray},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata,LeftsearchButtonClick:t.leftCommonSearch,ActionButtonClick:t.actionButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function(e){var i=e.data;return["FLAGCOUNT"==i.column.COLUMN_NAME?[a("span",[a("em",{class:{"text-dark text-center single-action":!0,disabled:0==i.row.FLAGCOUNT},attrs:{href:"javascript:;"},on:{click:function(e){return t.OpenBatchProcessDataLising(i.row.batch_id)}}},[a("em",{staticClass:"fa fa-flag-o",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"noti-circle noti-green bg-info"},[t._v(t._s(i.row.FLAGCOUNT))])])])]:t._e(),"STATUSID"==i.column.COLUMN_NAME?[a("td",{staticClass:"text-center single-action"},[a("div",{staticClass:"cstm-drop-btn"},[a("select",{directives:[{name:"model",rawName:"v-model",value:i.row.STATUSID,expression:"data.row.STATUSID"}],class:1001==i.row.STATUSID?"ddlupdatestatus w-80 btn-success":"ddlupdatestatus w-80 btn-danger",on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(i.row,"STATUSID",e.target.multiple?a:a[0])},function(e){return t.UpdataStatus(i.row.STATUSID,i.row.CLIENTFLAGID)}]}},[a("option",{attrs:{value:"1001",selected:"selected"}},[t._v(t._s(t.$t("Active")))]),a("option",{attrs:{value:"1002"}},[t._v(t._s(t.$t("Inactive")))])])])])]:t._e()]}}])}),t.IsAddFlag?a("FlagModel",{attrs:{EditData:t.EditData},on:{CloseAddFlag:t.CloseAddFlag}}):t._e()],1)},s=[],l=(a("14d9"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":t.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header theme-primary partition-full d-flex justify-content-between align-items-center"},[a("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Manage")))]),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[a("em",{staticClass:"fa fa-times"})])]),a("div",{staticClass:"modal-body"},[a("dynamic-form",{ref:"ClientFlag",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.$t("MandatoryString")},scopedSlots:t._u([{key:"tgslot-flagCondition",fn:function(e){var i=e.data;return[a("div",{staticClass:"col-lg-12 manage-color"},[a("div",{staticClass:"row mng-number mb-1 align-items-stretch mx-0 divclone",attrs:{id:"divclone","data-index":"0"}},[a("div",{staticClass:"col-lg-1 bg-numbr p-3 text-center d-flex align-items-center"},[a("h2",{staticClass:"w-100",attrs:{id:"lblClone"}},[t._v("1")])]),a("div",{staticClass:"col-lg-11 p-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 mb-2"},[a("div",{staticClass:"heading-border mb-2"},[a("h5",{staticClass:"h5"},[a("span",[t._v("When")]),a("small",{staticClass:"float-right"},[a("a",{staticClass:"delflagcondition",staticStyle:{display:"none"},attrs:{href:"javascript:;"}},[a("i",{staticClass:"fa fa-trash pr-2"}),t._v("Delete ")])])])])]),a("div",{staticClass:"col-lg-10"},[a("label",[t._v("Service Name:"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("Field",{attrs:{name:"ServiceName",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors;return[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.ServiceId,expression:"ServiceId"}],staticClass:"form-control",class:{"is-invalid":s[0]},attrs:{name:"ServiceName"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.ServiceId=e.target.multiple?a:a[0]},function(e){return t.handleTemplateChange(i.fieldInfo.value)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.ServiceList,(function(e,i){return a("option",{key:i,domProps:{value:e.SERVICE_ID}},[t._v(" "+t._s(e.SERVICENAME)+" ")])}))],2),s[0]?a("span",{staticClass:"invalid-feedback d-block"},[t._v(" "+t._s(s[0])+" ")]):t._e()])])]}}],null,!0)})],1),a("div",{staticClass:"col-lg-2"},[a("label",[t._v("Status:"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("Field",{attrs:{name:"Status",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.errors;return[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.StatusId,expression:"StatusId"}],staticClass:"form-control",class:{"is-invalid":i[0]},attrs:{name:"Status"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.StatusId=e.target.multiple?a:a[0]},function(e){return t.handleTemplateChange(t.StatusId)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.StatusData,(function(e,i){return a("option",{key:i,domProps:{value:e.STATUS_ID}},[t._v(" "+t._s(e.STATUS)+" ")])}))],2),i[0]?a("span",{staticClass:"invalid-feedback d-block"},[t._v(" "+t._s(i[0])+" ")]):t._e()])])]}}],null,!0)})],1),a("div",{staticClass:"col-lg-12 divthen"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 mb-2"},[a("div",{staticClass:"heading-border mb-2"},[a("h5",{staticClass:"h5"},[a("span",[t._v("Then")])])])]),a("div",{staticClass:"col-lg-12 divthenchange"},t._l(t.Mainleveldiv,(function(e,i){return a("div",{key:i,staticClass:"row divchange"},[a("div",{staticClass:"col-lg-5"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Change:"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("Field",{attrs:{name:"Change_"+i,rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(s){var l=s.errors;return[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.TempId,expression:"item.TempId"}],staticClass:"form-control",class:{"is-invalid":l[0]},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"TempId",a.target.multiple?i:i[0])},function(a){return t.GetFlagFieldListDropdown(i,e.TempId)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(t.ChangeFieldData,(function(e,i){return a("option",{key:i,domProps:{value:e.TEMPLATE_ID}},[t._v(" "+t._s(e.DISPLAY_NAME)+" ")])}))],2),l[0]?a("span",{staticClass:"invalid-feedback d-block"},[t._v(" "+t._s(l[0])+" ")]):t._e()])])]}}],null,!0)})],1)]),a("div",{staticClass:"col-lg-5"},[a("div",{staticClass:"form-group"},[a("label",[t._v("To:"),a("span",{staticClass:"mandatory"},[t._v("*")])]),a("Field",{attrs:{name:"To_"+i,rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.errors;return[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.ToId,expression:"item.ToId"}],staticClass:"form-control",class:{"is-invalid":s[0]},on:{change:[function(a){var i=Array.prototype.filter.call(a.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(e,"ToId",a.target.multiple?i:i[0])},function(a){return t.UpdateSelectedToData(e)}]}},[a("option",{attrs:{value:""}},[t._v(t._s(t.$t("Select")))]),t._l(e.ToData,(function(e,i){return a("option",{key:i,domProps:{value:e.VALUE}},[t._v(" "+t._s(e.NAME)+" ")])}))],2),s[0]?a("span",{staticClass:"invalid-feedback d-block"},[t._v(" "+t._s(s[0])+" ")]):t._e()])])]}}],null,!0)})],1)]),a("div",{staticClass:"col-lg-2 mng-btn"},[a("label"),a("div",{staticClass:"input-group"},[0==i?a("em",{staticClass:"btn btn-primary mb-2",on:{click:t.addRow}},[a("i",{staticClass:"fa fa-plus font-20 mt-1"})]):t._e(),0!=i?a("em",{staticClass:"btn btn-danger mb-2",on:{click:function(e){return t.deleteRow(i)}}},[a("i",{staticClass:"fa fa-trash font-20 mt-1"})]):t._e()])])])})),0)])])])])])])]}}])})],1)])])])],1)])}),n=[],o=a("9769"),r={props:{EditData:{type:Array,required:!1}},data(){return{isLoading:!1,ClientNameData:[],StatusData:[],FindalLocationArray:[],BillRule:[],ServiceList:[],ServiceId:null,ChangeFieldData:[],Mainleveldiv:[{TempId:[],TEMPLATE_ID:"",ToId:[],NAME:"",VALUE:null,ToData:[]}],PageSize:100,PageNumber:1,searchCondition:"",GroupNewData:[],FormLabel:"Automate Flag",StatusId:null,setupId:null,isShowUnit:!0,isGroupBy:!1,isComboChargeScope:!1,FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("SelectClient"),name:"Client",value:"",placeholder:this.$t("SelectClient"),disabled:!1,config:{options:[],onChange:this.GetBillingRuleByClient},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("BillingRuleName"),name:"RuleName",value:"",placeholder:this.$t("BillingRuleName"),disabled:!1,config:{options:[],onChange:this.GetFlagFrom},validationRules:{required:!0}}]},{group_name:"Flag Condition",layoutType:"single",Data:[{astype:"SlotField",name:"flagCondition",value:"",visibility:!1,config:{options:[],onChange:this.InvoiceComponentFieldsValues}}]}],buttons:[{type:"button",class:"btn btn-primary",text:"<i class='fa fa-save pr-2'></i>"+this.$t("AddAdditionalFlagCondition"),onClick:this.AddAdditionalFlag},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("SaveRule"),onClick:this.SaveData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.Close}]}},created:async function(){var t=this;t.GetStatusList(),t.GetParentClientGroupNew(),t.EditData.length>0&&t.EditData[0].CLIENT_FLAG_ID>0&&(setTimeout(()=>{t.FormSchema[0].Data[0].value=t.EditData[0].CLIENT_ID},300),t.GetBillingRuleByClient("client","",t.EditData[0].CLIENT_ID),setTimeout(()=>{t.GetFlagFrom(),t.FormSchema[0].Data[1].value=t.EditData[0].CONFIGURATION_ID,t.Mainleveldiv=t.EditData.map(()=>({TempId:[],TEMPLATE_ID:"",ToId:[],NAME:"",VALUE:null,ToData:[]})),setTimeout(()=>{t.ServiceId=t.EditData[0].SERVICE_ID,t.StatusId=t.EditData[0].STATUS_ID,setTimeout(()=>{t.GetFieldsListBySetupId(),setTimeout(()=>{t.EditData.forEach((e,a)=>{setTimeout(()=>{t.Mainleveldiv[a].TempId=parseInt(e.FIELD_NAME),t.GetFlagFieldListDropdown(a,parseInt(e.FIELD_NAME)),setTimeout(()=>{t.Mainleveldiv[a].ToId=e.FIELD_VALUE},500)},200)})},200)},300)},100)},100))},methods:{Close(){this.$emit("CloseAddFlag")},AddAdditionalFlag(){var t=this;t.ShowAlert(t.$t("Nomoreflagconditionexist",[t.$t("Flag")]),"warning",!0,t.$t("Alert"))},addRow(){this.Mainleveldiv.push({TempId:[],TEMPLATE_ID:"",ToId:[],NAME:"",VALUE:null,ToData:[]})},deleteRow(t){this.Mainleveldiv.length>1&&this.Mainleveldiv.splice(t,1)},handleTemplateChange(){},GetBillingRuleByClient:function(t,e,a){var i=this;if("client"==t)var s="clientId="+a;else s="clientId="+e.value;o["a"].GetBillingRuleByClient(s).then(t=>{t.data.result.length>0&&(i.FormSchema[0].Data[1].config.options=[],i.BillRule=t.data.result,i.BillRule.forEach((t,e)=>{i.FormSchema[0].Data[1].config.options.push({name:""+t.BILLING_CONFIG_NAME,value:""+t.CONFIGURATION_ID})}),i.$refs.ClientFlag.UpdateKeyValue(),i.isLoading=!1),i.isLoading=!1})},GetFlagFrom:function(){var t=this;t.FormSchema[1].Data[0].visibility=!0,t.GetServiceList(),t.GetStatusList(),t.GetFieldsListBySetupId()},GetServiceList:function(){var t=this;o["a"].GetServiceList().then(e=>{e.data.result[0].length>0&&(t.ServiceList=e.data.result[0],t.ServiceList.forEach((e,a)=>{t.FormSchema[1].Data[0].config.options.push({name:e.SERVICENAME,value:e.SERVICE_ID})}),t.$refs.ClientFlag.UpdateKeyValue(),t.isLoading=!1),t.isLoading=!1})},GetStatusList(){var t=this;t.isLoading=!0;try{o["a"].GetClientStatusList().then(e=>{null!=JSON.parse(e.data)&&(t.StatusData=JSON.parse(e.data),t.isLoading=!1),t.isLoading=!1})}catch(e){t.isLoading=!1}},GetParentClientGroupNew(){var t=this,e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&reqFrom='CUSTOM'&search=${t.searchCondition}&userId=${t.GetUserInfo.ID}`;o["a"].GetParentClientGroupNew(e).then(e=>{t.ClientNameData=t.convertApiTreeToFlatList(e.data.result),t.ClientNameData.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({name:e.CHILD_NAME,value:e.CHILD_USER_ID})}),t.$refs.ClientFlag.UpdateKeyValue()})},convertApiTreeToFlatList(t){let e=[];function a(t){e.push({CHILD_USER_ID:t.parenT_ID,CHILD_NAME:t.parenT_NAME,PARENT_ID:null}),t.children&&t.children.length>0&&t.children.forEach(a=>{e.push({CHILD_USER_ID:a.chilD_USER_ID,CHILD_NAME:a.chilD_NAME,PARENT_ID:t.parenT_ID})})}return t.forEach(t=>a(t)),e},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.CHILD_USER_ID,label:e.CHILD_NAME};let l=s;var n=a.filter((function(e){return e.parenT_ID==t}));let o=[];return n.forEach(t=>{let e=t.CHILD_USER_ID;var l=o.filter((function(e){return e.CHILD_USER_ID==t.CHILD_USER_ID}));if(0==l.length){var n=a.filter((function(t){return t.parenT_ID==e}));if(null!=n&&n.length>0){let s=i.getChildLocation(e,t,a);o.push(s)}else s={id:""+t.CHILD_USER_ID,label:""+t.CHILD_NAME},o.push(s)}}),l.children=o,l},GetFieldsListBySetupId:function(){var t=this;t.isLoading=!0;var e=parseFloat(t.FormSchema[0].Data[1].value),a=t.BillRule.find(t=>t.CONFIGURATION_ID==e);if(t.setupId=a?a.SETUP_ID:null,!t.setupId)return t.ChangeFieldData=[],void(t.isLoading=!1);var i=`setupId=${t.setupId}&isShowUnit=${t.isShowUnit}&isGroupBy=${t.isGroupBy}&isComboChargeScope=${t.isComboChargeScope}`;o["a"].GetFieldsListBySetupId(i).then(e=>{e.data&&e.data.length>0&&(t.ChangeFieldData=JSON.parse(e.data),t.Mainleveldiv.forEach(t=>{t.TempId="",t.ToData=[],t.ToId="",t.VALUE=null,t.NAME=""}),t.$refs.ClientFlag.UpdateKeyValue()),t.isLoading=!1})},GetFlagFieldListDropdown(t,e){const a=this,i=a.ChangeFieldData.find(t=>t.TEMPLATE_ID==e),s=i?i.DISPLAY_NAME:null;a.isLoading=!0,o["a"].GetFlagFieldListDropdown("reqFrom="+s).then(e=>{a.Mainleveldiv[t].ToData=JSON.parse(e.data),a.Mainleveldiv[t].ToId="",a.Mainleveldiv[t].NAME="",a.Mainleveldiv[t].VALUE="",a.isLoading=!1})},UpdateSelectedToData(t){const e=t.ToData.find(e=>e.VALUE==t.ToId);e?(t.NAME=e.NAME,t.VALUE=e.VALUE):(t.NAME="",t.VALUE="")},async SaveData(){var t=this;const e=await t.$refs.ClientFlag.validateForm.validate();if(e){var a={ClientFlagId:t.EditData.length>0?t.EditData[0].CLIENT_FLAG_ID:0,ClientId:t.FormSchema[0].Data[0].value||0,RoleId:t.FormSchema[0].Data[1].value||0,ServiceId:t.ServiceId||0,SetupId:t.setupId||0,Mainleveldiv:t.Mainleveldiv},i=JSON.stringify(a);encodeURIComponent(i);await o["a"].SaveUpdateFlagData(i).then(e=>{if(null!=e.data){const a=JSON.parse(e.data)[0];1==a.Success?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Flag")]),"success",!0,t.$t("Alert")),t.Close()):2==a.Success?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Flag")]),"Success",!0,t.$t("Alert")),t.Close()):0==a.Success&&"EXISTS"==a.Error?t.ShowAlert(t.$t("AlreadyExists",[t.$t("Flag")]),"warning",!0,t.$t("Alert")):t.ShowAlert(t.$t("UnknownError"),"failure",t.$t("Alert"))}})}}}},d=r,c=a("0c7c"),u=Object(c["a"])(d,l,n,!1,null,null,null),g=u.exports,h={components:{FlagModel:g},data(){return{isLoading:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],LegendArray:[],SortBy:"",SortExp:"",CurrentPage:1,TotalRecord:0,ListingData:[],IsAddFlag:!1,IsStepDetails:!1,StepDetailsObj:null,searchCondition:"",Headers:[{COLUMN_NAME:"CLIENTNAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ClientName"),DISPLAY_ORDER:1},{COLUMN_NAME:"RULENAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("BillingRuleName"),DISPLAY_ORDER:2},{COLUMN_NAME:"FLAGCOUNT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("FlagCount"),DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"CREATEDBYNAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedBy"),DISPLAY_ORDER:4},{COLUMN_NAME:"STATUSID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:5,settings:{isInSlot:!0}}],listActions:[{title:"Edit",icon:"fa fa-edit text-success action-icon",additionalSpan:"",callbackfunction:"EditFlag"}],Buttons:[{title:this.$t("AddNew"),iconClass:"fa fa-plus",callbackfunction:"AddNew",additionalClass:"",isdisabled:!1,isvisible:!0},{title:this.$t("Active"),iconClass:"fa fa-check",callbackfunction:"Active",additionalClass:"",isdisabled:!1,isvisible:!0,isEnabledOnSelectedRow:!0},{title:this.$t("InActive"),iconClass:"fa fa-close",callbackfunction:"InActive",additionalClass:"",isdisabled:!1,isvisible:!0,isEnabledOnSelectedRow:!0},{title:this.$t("Delete"),iconClass:"fa fa-trash",callbackfunction:"Delete",additionalClass:"",isdisabled:!1,isvisible:!0,isEnabledOnSelectedRow:!0}],leftSearchFields:[{fieldName:this.$t("Search By Condition Name"),fieldType:"text",fieldSearchConditionName:[""],paramName:"search",isSearch:!0,value:"",listOptions:[]}],EditData:[]}},created:function(){var t=this;t.UserId=t.GetUserInfo.ID,t.CompanyId=t.GetUserInfo.CompanyId,t.RuleFlagListing()},methods:{renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"EditFlag":e.isVisible=!0,this.EditFlag(t);break;default:e.isVisible=!0}a.push(e)}),a},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.RuleFlagListing()},actionButtonClick:function(t,e){switch(t){case"EditFlag":this.EditFlag(e);break}},leftCommonSearch:function(t){if(this.PageNumber=t.PageNumber,this.isPaged=1,t.searchCondition){let e=t.searchConditionJson,a=e.split("=")[1];this.searchCondition=a}else this.searchCondition="";this.RuleFlagListing()},commonHeaderButtonClick:async function(t){var e=this;switch(t.callbackfunction){case"AddNew":e.AddNew();break;case"Active":this.UpdataStatus(1001,"");break;case"InActive":this.UpdataStatus(1002,"");break;case"Delete":this.commonDeleteData();break}},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),vm.RuleFlagListing(),$("#"+t+"  span:first-child").attr("class",e)},AddNew(){var t=this;t.IsAddFlag=!0},CloseAddFlag(){var t=this;t.EditData=[],t.IsAddFlag=!1,t.RuleFlagListing()},RuleFlagListing(){var t=this;t.isLoading=!0;var e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&search=${t.searchCondition}`;o["a"].RuleFlagListing(e).then(e=>{t.isLoading=!1,e.data.result.length>0?(t.ListingData=e.data.result,t.ListingData.forEach(t=>{t.created_at=new Date(t.created_at)}),t.TotalRecord=e.data.result.TOTALRECORDS,t.TotalPages=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.Buttons[1].isdisabled=!0,t.Buttons[2].isdisabled=!0,t.Buttons[3].isdisabled=!0):(t.ListingData=[],t.TotalRecord=0)})},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Report"),(function(){var t={ids:a,moduleName:"ClientFlag",subModuleCode:"",refCode:"TALYGEN_BE_CLIENT_FLAG_MASTER"},i=JSON.stringify(t);o["a"].CommonDeleteData(i).then((async function(t){200==t.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Flag")]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),await e.RuleFlagListing()):e.ShowAlert(e.$t("DeletedError",[e.$t("Flag")]),"failure",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},UpdataStatus(t,e){var a=this,i="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((async function(){i.length>0&&(i+=","),i+=$(this).val()})),a.confirmR(a.$t("AreYouSureToUpdateStatus"),!0,!1,(function(s){var l={ID:i||e,StatusId:t,IsFor:"TALYGEN_BE_CLIENT_FLAG_MASTER",Module:"ClientFlag",Submodule:"AutomatedFlagProcessingBilling"},n=JSON.stringify(l);o["a"].CommonUpdateStatus(n).then(async t=>{200==t.status&&($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),a.listheaderbuttons[1].isdisabled=!0,a.listheaderbuttons[2].isdisabled=!0,a.listheaderbuttons[3].isdisabled=!0,a.ShowAlert(a.$t("RecordUpdatedSuccessfully"),"success",!0,a.$t("Alert")),a.RuleFlagListing())})}))},async EditFlag(t){var e=this;e.isLoading=!0;try{var a="flagId="+t.CLIENTFLAGID;await o["a"].GetFlagRecordByFlagId(a).then(t=>{e.IsAddFlag=!0,e.EditData=JSON.parse(t.data),e.isLoading=!1})}catch(i){e.isLoading=!1}}}},v=h,p=(a("c94f"),Object(c["a"])(v,i,s,!1,null,"667e4c6a",null));e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-9bd185f8.js.map