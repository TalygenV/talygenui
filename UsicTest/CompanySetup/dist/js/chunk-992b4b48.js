(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-992b4b48"],{"41ef":function(t,e,a){"use strict";a("894e")},"894e":function(t,e,a){var i=a("9dc5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("64da9544",i,!0,{sourceMap:!1,shadowMode:!1})},"9dc5":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".left-tab-container[data-v-79923adf]{max-height:70vh;overflow-y:auto}.left-tab .nav-link.left-menu a[data-v-79923adf]{width:100%;display:flex}.left-tab .nav-link.left-menu.active .listing[data-v-79923adf],.left-tab .nav-link.left-menu[data-v-79923adf]:hover,.listing[data-v-79923adf]:hover{color:#fff}",""]),t.exports=e},aae2:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"left-menu-tab mt-2"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"theme-primary partition"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("CompanySetup")))])]),e("div",{staticClass:"left-tab-container"},[e("div",{staticClass:"mb-0 d-lg-block p-2 border"},[e("div",{staticClass:"input-group customsearchbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.moduleSearchElement,expression:"moduleSearchElement"}],staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",id:"searchinput",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:t.moduleSearchElement},on:{keyup:t.ListFiltering,input:function(e){e.target.composing||(t.moduleSearchElement=e.target.value)}}}),t._m(0)])]),e("div",{staticClass:"mt-2 mCustomScrollbar _mCS_4"},[e("a",{staticClass:"card mobile-tab-accordian active",attrs:{href:"javascript:;","data-controllername":"billingrule","data-actionname":"ImportFormatListing"},on:{click:function(e){t.showMobileTabs=!t.showMobileTabs}}},[e("div",{staticClass:"card-header",attrs:{role:"tab"}},[e("h5",[e("span",{staticClass:"mb-0"},[e("i",{class:t.GetSelectedModuleItem.icon}),t._v(" "+t._s(t.$t(t.GetSelectedModuleItem.title))),e("i",{staticClass:"fa fa-angle-down rotate-icon float-right",attrs:{"aria-hidden":"true"}})])])])]),t.showMobileTabs?e("div",t._l(t.leftTabList,(function(a){return t.GetSelectedModuleItem.title!=a.title?e("a",{staticClass:"card mobile-tab-accordian",attrs:{href:"javascript:;",title:a.title},on:{click:function(e){t.SetCurrentTab(a.title),t.showMobileTabs=!1}}},[e("div",{staticClass:"card-header",attrs:{role:"tab"}},[e("h5",[e("span",{staticClass:"mb-0"},[e("em",{class:a.icon}),t._v(t._s(t.TruncateStr(a.title,25))),e("em",{staticClass:"fa fa-angle-down rotate-icon float-right",attrs:{"aria-hidden":"true"}})])])])]):t._e()})),0):t._e(),e("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix"},t._l(t.leftTabList,(function(a){return e("li",{directives:[{name:"show",rawName:"v-show",value:a.isVisible,expression:"list.isVisible"}],attrs:{title:a.title}},[e("router-link",{class:{"nav-link left-menu":!0,active:a.goTo===t.$route.path},staticStyle:{"align-items":"center"},attrs:{to:a.goTo}},[e("em",{staticClass:"mr-2",class:a.icon}),t._v(t._s(t.$t(t.TruncateStr(a.title,25)))+" ")])],1)})),0)])])],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"},[e("em",{staticClass:"fa fa-search"})])])}],o=a("9769"),n={name:"listing-status",props:{HeaderText:{type:String,required:!0}},data:function(){return{CompanyId:null,userId:null,isLoading:!1,MainSearchmodel:"",GetSelectedValue:"",Header:this.HeaderText,searchColumnfilter:[],moduleSearchElement:"",currentTab:"AnnouncementMessage",Header:this.HeaderText,showMobileTabs:!0,defaultTabs:["AnnouncementMessage","Department","Designation","EmailTemplate","CompanyHoliday","CurrencyManagement","UserTitle","CompanyNotification","Greeting","LoginAuthorization","Shift","Status"],leftTabList:[{title:"AnnouncementMessage",icon:"fa fa-bullhorn",goTo:"/AnnouncementMessage/Index",isShow:!1},{title:"Break",icon:"fa fa-clock-o",goTo:"/Break/Index",isShow:!1},{title:"Category",icon:"fa fa-tasks",goTo:"/Category/Index",isShow:!1},{title:"Channel",icon:"fa fa-television",goTo:"/Channel/Index",isShow:!1},{title:"CompanyHoliday",icon:"fa fa-calendar",goTo:"/CompanyHoliday/Index",isShow:!1},{title:"CompanyNotification",icon:"fa fa-bell",goTo:"/CompanyNotification/Index",isShow:!1},{title:"ContactType",icon:"fa fa-list-alt",goTo:"/ContactType/Index",isShow:!1},{title:"CurrencyManagement",icon:"fa fa-money",goTo:"/CurrencyManagement/Index",isShow:!1},{title:"Department",icon:"fa fa-users",goTo:"/Department/Index",isShow:!1},{title:"Designation",icon:"fa fa-address-card",goTo:"/Designation/Index",isShow:!1},{title:"Discounts",icon:"fa fa-usd",goTo:"/ClientBill/CreateDeductions",isShow:!1},{title:"EmailTemplate",icon:"fa fa-file-text-o",goTo:"/EmailTemplate/Index",isShow:!1},{title:"Feedback",icon:"fa fa-quote-left",goTo:"/Feedback/Index",isShow:!1},{title:"Greeting",icon:"fa fa-thumbs-o-up",goTo:"/Greeting/Index",isShow:!1},{title:"IndustryType",icon:"fa fa-building-o",goTo:"/IndustryType/Index",isShow:!1},{title:"Immigration",icon:"fa fa-address-card",goTo:"/Immigration/Index",isShow:!1},{title:"Location",icon:"fa fa-map-marker",goTo:"/Location/Index",isShow:!1},{title:"LoginAuthorization",icon:"fa fa-lock",goTo:"/LoginAuthorization/Index",isShow:!1},{title:"Priority",icon:"fa fa-check-square-o",goTo:"/Priority/Index",isShow:!1},{title:"PaymentGateway",icon:"fa fa-credit-card",goTo:"/PaymentGateway/Index",isShow:!1},{title:"ProvisionalRight",icon:"fa fa-check",goTo:"/ProvisionalRight/Index",isShow:!1},{title:"ReviewTemplate",icon:"fa fa-file-text-o",goTo:"/ReviewTemplate/Index",isShow:!1},{title:"Service",icon:"fa fa-newspaper-o",goTo:"/Service/Index",isShow:!1},{title:"Shift",icon:"fa fa-clock-o",goTo:"/Shift/Index",isShow:!1},{title:"Skill",icon:"fa fa-star",goTo:"/Skill/Index",isShow:!1},{title:"Status",icon:"fa fa-bar-chart",goTo:"/Status/Index",isShow:!1},{title:"UserTitle",icon:"fa fa-address-card-o",goTo:"/UserTitle/Index",isShow:!1},{title:"CheckList",icon:"fa fa-address-card-o",goTo:"/Company/CheckList",isShow:!1},{title:"TrainingFeedback",icon:"fa fa-wpforms",goTo:"/feedbackoption/Index",isShow:!1}]}},created:function(){var t=this;t.CompanyId=t.GetUserInfo.CompanyId,t.userId=t.GetUserInfo.ID;var e=`companyId=${t.CompanyId}&userId=${t.userId}`;this.getCompanySetupModulePrivilege(e)},computed:{GetSelectedModuleItem(){var t=this,e=t.leftTabList.filter(e=>e.title.toLowerCase()==t.currentTab.toLowerCase());return e[0]}},methods:{SetCurrentTab:function(t){this.currentTab=t.toLowerCase()},getCompanySetupModulePrivilege:async function(t){let e=this;e.isLoading=!0;try{const a=await o["a"].getCompanySetupModulePrivilege(t);if(null!=a&&null!=a.data&&a.data.length>0){e.isLoading=!1;a.data;e.leftTabList.forEach((function(t){t.title.toLowerCase().includes(e.moduleSearchElement.toLowerCase())?t.isVisible=!0:t.isVisible=!1}))}}catch(a){console.error("Error fetching company setup module privilege:",a),e.isLoading=!1,e.showErrorMessage("An error occurred while fetching company setup module privilege. Please try again later.")}},SelectAllSearch(){var t=this;t.GetSelectedValue=window.getSelection().toString()},ListFiltering:function(){var t=this;""!=t.moduleSearchElement?t.leftTabList.forEach((function(e){e.title.toLowerCase().includes(t.moduleSearchElement.toLowerCase())?e.isVisible=!0:e.isVisible=!1})):t.leftTabList.forEach((function(t){t.isVisible=!0}))}}},l=n,r=(a("41ef"),a("2877")),c=Object(r["a"])(l,i,s,!1,null,"79923adf",null);e["a"]=c.exports},c09d:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[t.isActive?e("LeftColumn"):t._e(),e("div",{staticClass:"right-content"},[e("div",{staticClass:"tab-content"},[t._m(0),"CheckList"===t.subModuleCode?e("CheckList"):"ManageTax"===t.subModuleCode?e("Tax"):"ManageFeedback"===t.subModuleCode?e("TrainingFeedback"):"ManageDiscount"===t.subModuleCode?e("Discount"):e("RightContent",{attrs:{moduleCode:t.moduleCode,subModuleCode:t.subModuleCode,primaryKeyforModule:t.primaryKeyforModule,addAPIUrl:t.addAPIUrl,ActionColunName:t.ActionColunName,addUserGuide:t.addUserGuide}})],1)])],1)])],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"expand-list"},[e("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[e("i",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])}],o=(a("88a7"),a("271a"),a("5494"),a("aae2")),n=function(){var t=this,e=t._self._c;return e("div",[e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!0,ModuleName:t.moduleCode,SubModuleCode:t.subModuleCode,IdentityColumn:t.primaryKeyforModule,ListData:t.ListingData,HeaderData:t.Headers,HeaderButtons:t.Buttons,TotalRecords:t.TotalRecords,IsSearchFieldsOnTop:!1,RenderRowActionMethod:t.renderActions,SearchPosition:"top",SearchFields:t.topsearchField,ListDataCallBackFunction:t.FetchData,IsFilterApplied:!!t.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["status_name"==a.column.COLUMN_NAME?[a.row.company_id>0?e("span",[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.clickEventOfColumn(a.row,a.column)}}},[e("i",{attrs:{"aria-hidden":"true"}}),t._v(t._s(a.row.status_name)+" ")])]):e("span",[t._v(" "+t._s(a.row.status_name)+" ")])]:t._e(),"s"==a.column.COLUMN_NAME?[null!=a.row.s.Name?[e("div",[t._v(t._s(a.row.s.Name))])]:[e("div",[t._v("--")])]]:t._e(),"start_time"==a.column.COLUMN_NAME?[null!=a.row.start_time?[e("div",[t._v(t._s(t.formatTime(a.row.start_time)))])]:[e("div",[t._v("--")])]]:t._e(),"end_time"==a.column.COLUMN_NAME?[null!=a.row.end_time?[e("div",[t._v(t._s(t.formatTime(a.row.end_time)))])]:[e("div",[t._v("--")])]]:t._e(),"shift_type"==a.column.COLUMN_NAME?[1==a.row.shift_type?[e("div",[t._v("Flexible")])]:t._e(),0==a.row.shift_type?[e("div",[t._v("Fixed")])]:t._e()]:t._e(),"break_types"==a.column.COLUMN_NAME?[1==a.row.break_types?[e("div",[t._v("Paid")])]:t._e(),0==a.row.break_types?[e("div",[t._v("UnPaid")])]:t._e()]:t._e(),"no_of_times"==a.column.COLUMN_NAME?[[e("div",[t._v(t._s(null==a.row.no_of_times?0:a.row.no_of_times))])]]:t._e(),"description"==a.column.COLUMN_NAME?[null!=a.row.description?[e("div",[t._v(t._s(a.row.description))])]:[e("div",[t._v("--")])]]:t._e(),"from_user_id"==a.column.COLUMN_NAME?[null!=a.row.from_user_id.Name?[e("div",[t._v(t._s(a.row.from_user_id.Name))])]:[e("div",[t._v("--")])]]:t._e(),"to_user_id"==a.column.COLUMN_NAME?[null!=a.row.to_user_id.Name?[e("div",[t._v(t._s(a.row.to_user_id.Name))])]:[e("div",[t._v("--")])]]:t._e(),"is_skill_enable"==a.column.COLUMN_NAME?[1==a.row.is_skill_enable?[e("div",{staticClass:"fa fa-check text-success"})]:[e("div",{staticClass:"fa fa-check text-secondary"})]]:t._e(),"is_goal_enable"==a.column.COLUMN_NAME?[1==a.row.is_goal_enable?[e("div",{staticClass:"fa fa-check text-success"})]:[e("div",{staticClass:"fa fa-check text-secondary"})]]:t._e(),"is_feedback_enable"==a.column.COLUMN_NAME?[1==a.row.is_feedback_enable?[e("div",{staticClass:"fa fa-check text-success"})]:[e("div",{staticClass:"fa fa-check text-secondary"})]]:t._e(),"is_note_enable"==a.column.COLUMN_NAME?[1==a.row.is_note_enable?[e("div",{staticClass:"fa fa-check text-success"})]:[e("div",{staticClass:"fa fa-check text-secondary"})]]:t._e(),"is_training_feedback_enabled"==a.column.COLUMN_NAME?[1==a.row.is_training_feedback_enabled?[e("div",{staticClass:"fa fa-check text-success"})]:[e("div",{staticClass:"fa fa-check text-secondary"})]]:t._e(),"AddChild"==a.column.COLUMN_NAME?[[e("div",{staticClass:"round-icon-small btn-success-light d-block float-none m-auto",staticStyle:{"line-height":"33px"},attrs:{dataid:a.row[t.primaryKeyforModule],module:t.moduleCode,subModule:t.subModuleCode,item:a.row[t.primaryKeyforModule]},on:{click:function(e){return t.AddChildLocation(a.row.company_location_id)}}},[e("i",{staticClass:"fa fa-plus"})])]]:t._e(),"status_id"==a.column.COLUMN_NAME?[t.isCRMShowStausDrop(a.row.status_id,"COMPANYSETUP_UPDATE")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"COMPANYSETUP_UPDATE",dataid:a.row[t.primaryKeyforModule],dataController:"COMPANYSETUP_UPDATE",statuslist:t.StatusListForListing,item:a.row[t.primaryKeyforModule],"data-action":"index",module:t.moduleCode,subModule:t.subModuleCode,dataselected:"1001"==t.getStatus(a.row.status_id)?"Active":"Inactive",title:"1001"==t.getStatus(a.row.status_id)?"Active":"Inactive",callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e()]:t._e(),"is_active"==a.column.COLUMN_NAME&&"Status"!=t.subModuleCode?[t.isCRMShowStausDrop(a.row.is_active,"COMPANYSETUP_UPDATE")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"COMPANYSETUP_UPDATE",dataid:a.row[t.primaryKeyforModule],dataController:"COMPANYSETUP_UPDATE",statuslist:t.StatusListForListing,item:a.row[t.primaryKeyforModule],"data-action":"index",module:t.moduleCode,subModule:t.subModuleCode,dataselected:"ACTIVE"==a.row.is_active?"Active":"Inactive",title:"ACTIVE"==a.row.is_active?"Active":"Inactive",callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e()]:t._e(),"is_active"==a.column.COLUMN_NAME&&"Company"==t.moduleCode&&"Status"==t.subModuleCode?[t.isCRMShowStausDrop(a.row.is_active,"COMPANYSETUP_UPDATE")&&a.row.company_id>0?e("listing-status",{ref:"updatestatus",attrs:{isfor:"COMPANYSETUP_UPDATE",dataid:a.row[t.primaryKeyforModule],dataController:"COMPANYSETUP_UPDATE",statuslist:t.StatusListForListing,item:a.row[t.primaryKeyforModule],"data-action":"index",module:t.moduleCode,subModule:t.subModuleCode,dataselected:"ACTIVE"==a.row.is_active?"Active":"Inactive",title:"ACTIVE"==a.row.is_active?"Active":"Inactive",callbackfunction:t.FetchData,isselectedvaluestring:!0}}):e("span",{class:t.getStatusClassList(a.row.is_active,"is_active")},[t._v(" "+t._s("active"==a.row.is_active.toLowerCase()?"Active":"Inactive")+" ")])]:t._e()]}}])}),t.showAddPopup?e("AddCompanySetup",{attrs:{recordId:t.recordId,title:t.$t("Manage ")+t.$t(t.subModuleCode),refId:t.refId,moduleName:t.moduleCode,emitName:"addReloadData",addApiUrl:t.addAPIUrl,subModule:t.subModuleCode,addUserGuide:t.addUserGuide},on:{close:function(e){t.showAddPopup=!1,t.recordId=0},addReloadData:function(e){t.FetchData(),t.showAddPopup=!1,t.recordId=0}}}):t._e()],1)},l=[],r=(a("14d9"),a("9769")),c=a("8dd4"),d=a("2b0e"),u=a("c1df"),m=a.n(u),h={components:{AddCompanySetup:c["a"]},props:{sourcetype:{type:String,required:!0},moduleCode:{type:String,required:!0},subModuleCode:{type:String,required:!0},primaryKeyforModule:{type:String,required:!0},addAPIUrl:{type:String,required:!0},ActionColunName:{type:String,required:!0},addUserGuide:{type:String}},data(){return{recordId:0,showAddPopup:!1,noRecord:!1,isLoading:!1,CompanyId:null,ListingData:[],TotalRecords:0,ShowManageView:!1,ShowAddCustomReportView:!1,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,searchCondition:"",conditionForInstantSearch:"",SortBy:"",SortExp:"",showsharereportview:!1,showemailreportview:!1,showschedulereportview:!1,foldername:"",folderid:"",LeadStatusList:[],PrimaryKeyId:null,privilegeParams:null,sharetype:"",Headers:[],filteredHeaders:[],FormSchema:[],StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Buttons:[{title:this.$t("Add"),iconClass:"fa-plus",callbackfunction:"AddScreenPopup",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{id:"ActiveMultiple",title:this.$t("Active"),iconClass:"fa-check",callbackfunction:"ActiveMultipleListing",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0,isEnabledOnSelectedRow:!0},{id:"InactiveMultiple",title:this.$t("Inactive"),iconClass:"fa-close",callbackfunction:"InactiveMultipleListing",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0,isEnabledOnSelectedRow:!0},{id:"DeleteMultiple",title:this.$t("Delete"),iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],topsearchField:[{fieldName:"Search  ",fieldType:"text",fieldSearchConditionName:"",isSearch:!0,value:"",listOptions:[]}],refId:null}},async created(){var t=this;t.CompanyId=t.GetUserInfo.CompanyId,t.privilegeParams="controller=Break&action=",await t.FetchData(),t.getStatuslistForListing("Dynamic_Reporting","en")},computed:{filteredUserData(){return this.vueObj.UserData.map(t=>{const e={...t};return null!==e.USER_EMP_ID&&""!==e.USER_EMP_ID||(e.USER_EMP_ID="--"),e})}},mounted(){var t=this;t.topsearchField.forEach(t=>{t.value="",t.isSearch=!1})},updated(){const t=document.getElementsByClassName("theme-primary partition p-actions-expand");if(t[0]&&"p-name text-white"!=t[0].lastChild.className){const e=document.createElement("span");e.className="p-name text-white","PerformanceReview"===this.subModuleCode?e.textContent=this.$t("ReviewTemplate"):e.textContent=this.$t(this.subModuleCode),t[0].appendChild(e)}},methods:{getStatusClassList:function(t){var e="";switch(t=t.toLowerCase(),t){case"active":e="px-2 text-center text-white d-block bg-success";break;case"inactive":e="px-2 text-center text-white d-block bg-danger";break;default:e=""}return e},getStatus:function(t){try{const e=JSON.parse(t);return e.value}catch(e){return console.error("Error parsing status_id:",e),t}},formatTime(t){return t?m()(t).format("hh:mm A"):"--"},AddChildLocation:function(t){var e=this;e.moduleCode="Company",e.subModuleCode="Location",void 0==t&&(t=0),e.refId=t,e.showAddPopup=!0},renderActions:function(t){return console.log(t),[]},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"ActiveMultipleListing":console.log("Active"),this.UpdateStatus("Active");break;case"InactiveMultipleListing":console.log("Inactive"),this.UpdateStatus("Inactive");break;case"AddScreenPopup":this.showAddPopup=!0;break}},sortdata:async function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),await this.FetchData(),$("#th-"+t+"  span:first-child").attr("class",e)},pagerMethod:async function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,await this.FetchData()},leftCommonSearch:async function(t){var e=this;console.log(e.searchCondition),this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",await this.FetchData()},commonDeleteData:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?"Location"==this.subModuleCode&&"Company"==this.moduleCode?e.confirmR(e.$t("ConfirmDeleteLocation"),!0,e.$t("Delete")+"  "+e.$t("Report"),(function(){var t={IDS:a,moduleName:e.moduleCode,subModuleCode:e.subModuleCode,refCode:"COMPANYSETUP_DELETE"},i=JSON.stringify(t);r["a"].DeleteLocation(i).then((async function(t){"1"==t.data.code?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),e.ShowAlert(e.$t("DeletedSuccess",!0,[e.subModuleCode]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),await e.FetchData()):e.ShowAlert(e.$t("DeletedError",!0,[e.subModuleCode]),"failure",!0,e.$t("Alert"))}))})):e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Report"),(function(){var t={ids:a,moduleName:e.moduleCode,subModuleCode:e.subModuleCode,refCode:"COMPANYSETUP_DELETE"},i=JSON.stringify(t);r["a"].CommonDeleteData(i).then((async function(t){200==t.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),e.ShowAlert(e.$t("DeletedSuccess",!0,[e.subModuleCode]),"success",!0,e.$t("Alert")),e.PageNumber=parseInt(e.PageNumber)-1,e.PageNumber<=0&&(e.PageNumber=1),await e.FetchData()):e.ShowAlert(e.$t("DeletedError",!0,[e.subModuleCode]),"failure",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))},UpdateStatus:async function(t){var e=this;t="Active"==t?1001:1002;var a="";$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0&&(e.Buttons[1].isdisabled=!1,e.Buttons[2].isdisabled=!1,e.Buttons[3].isdisabled=!1,e.confirmR(e.$t("AreYouSureToUpdateStatus"),!0,e.$t("update")+"  "+e.$t("status"),(function(){var i={ID:a,StatusId:t,IsFor:"COMPANYSETUP_UPDATE",Module:e.moduleCode,Submodule:e.subModuleCode},s=JSON.stringify(i);r["a"].CommonUpdateStatus(s).then(t=>{200==t.status&&($(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),e.Buttons[1].isdisabled=!0,e.Buttons[2].isdisabled=!0,e.Buttons[3].isdisabled=!0,e.ShowAlert(e.$t("UpdatedSuccess",!0,[e.subModuleCode]),"success",!0,e.$t("Alert")),e.FetchData())})})))},getRequestParams:function(t,e,a,i,s,o){let n={};return t&&(n["pageNumber"]=t),o&&(n["searchcondition"]=o),s&&(n["is_paged"]=s),a&&(n["sortBy"]=a),i&&(n["sortExp"]=i),e&&(n["pageSize"]=e),n},clickEventOfColumn:function(t,e){var a=this;"Shift Name"==e.DISPLAY_NAME&&(a.moduleCode="Company"),"title"==e.COLUMN_NAME&&"AnnouncementMessage"==a.moduleCode?(this.recordId=t.id,this.showAddPopup=!0):"title"==e.COLUMN_NAME&&"Review"==a.moduleCode?(this.recordId=t.review_template_id,this.showAddPopup=!0):"title"==e.COLUMN_NAME&&"Question"==a.subModuleCode?(this.recordId=t.question_bank_id,this.showAddPopup=!0):"title"==e.COLUMN_NAME&&"Skill"==a.moduleCode?(this.recordId=t.skill_id,this.showAddPopup=!0):"stage_name"==e.COLUMN_NAME&&"Stage"==a.moduleCode?(this.recordId=t.stage_id,this.showAddPopup=!0):e.COLUMN_NAME==a.ActionColunName&&(this.recordId=t[a.primaryKeyforModule],this.showAddPopup=!0)},FetchData:async function(t,e,a){var i=this;this.isLoading=!0;var s=i.searchCondition;"Company"==i.moduleCode&&"Location"==i.subModuleCode&&(t?s="parent_location_id ="+t:""==s&&(s="parent_location_id IS NULL"));var o=`CompanyId=${i.CompanyId}&pageSize=${i.PageSize}&pageNum=${i.PageNumber}&sortBy=${i.SortBy}&sortExp=${i.SortExp}&searchQuery=${s.trim()}&module=${i.moduleCode}&submodule=${i.subModuleCode}`;let n=i.getServiceMethod(i.moduleCode,i.subModuleCode);await n(o).then((function(t){if(""!=t.data.Data&&null!=t.data.Data)if(t.data.Data.length>0){var s=t.data.Data;s.forEach((t,e)=>{"Company"==i.moduleCode&&"AnnouncementMessage"==i.subModuleCode&&(t.message=1!=i.isBlank(t.message)?t.message.replace(/<\/?[^>]+(>|$)/g,""):"--"),"Company"==i.moduleCode&&"Department"==i.subModuleCode?t.is_visibile_to_client=1==t.is_visibile_to_client?"Yes":"No":"Company"==i.moduleCode&&"Category"==i.subModuleCode?(t.category_description=1!=i.isBlank(t.category_description)?t.category_description.replace(/<\/?[^>]+(>|$)/g,""):"--",t.category_type_id=1!=i.isBlank(t.category_type_id)?JSON.parse(t.category_type_id).Name:"--"):"Company"==i.moduleCode&&"ContactType"==i.subModuleCode?t.type=0==JSON.parse(t.type).value?"Email":1==JSON.parse(t.type).value?"Url":3==JSON.parse(t.type).value?"Contact Number":2==JSON.parse(t.type).value?"None":"--":"Company"==i.moduleCode&&"PaymentGateway"==i.subModuleCode?t.payment_gateway_code=1!=i.isBlank(t.payment_gateway_code)?t.payment_gateway_code:"--":"Company"==i.moduleCode&&"ProvisionalRight"==i.subModuleCode?(t.from_user_id=1!=i.isBlank(t.from_user_id)?JSON.parse(t.from_user_id).Name:"--",t.to_user_id=1!=i.isBlank(t.to_user_id)?JSON.parse(t.to_user_id).Name:"--"):"Company"==i.moduleCode&&"Stage"==i.subModuleCode?t.phase_id=1!=i.isBlank(t.phase_id)?JSON.parse(t.phase_id).Name:"--":"Company"==i.moduleCode&&"Status"==i.subModuleCode?(t.status_type_id=1!=i.isBlank(t.status_type_id)?JSON.parse(t.status_type_id).Name:"--",t.status_code=1!=i.isBlank(t.status_code)?t.status_code:"--",d["default"].set(t,"isSelected",!1),t.company_id>0?d["default"].set(t,"isCheckBoxDisabled",!1):d["default"].set(t,"isCheckBoxDisabled",!0)):"Company"==i.moduleCode&&"Greeting"==i.subModuleCode?t.template_id=1!=i.isBlank(t.template_id)?JSON.parse(t.template_id).Name:"--":"Company"==i.moduleCode&&"UserTitle"==i.subModuleCode||"Company"==i.moduleCode&&"Question"==i.subModuleCode?t.modified_by=1!=i.isBlank(t.modified_by)?JSON.parse(t.modified_by).Name:"--":"Company"==i.moduleCode&&"Feedback"==i.subModuleCode?t.type_code=1!=i.isBlank(t.type_code)?JSON.parse(t.type_code).Name:"--":"Company"==i.moduleCode&&"Location"==i.subModuleCode&&(t.child={onExpandChild:i.onExpandChild,isShowChild:!1,isShowExpandButton:!0,data:[]},t.modified_by=1!=i.isBlank(t.modified_by)?JSON.parse(t.modified_by).Name:"--",t.location_country=1!=i.isBlank(t.location_country)?JSON.parse(t.location_country).Name:"--",t.location_state=1!=i.isBlank(t.location_state)?JSON.parse(t.location_state).Name:"--"),"Company"==i.moduleCode&&"Priority"==i.subModuleCode&&t.created_at&&(t.created_at=i.$options.filters.formatDate(t.created_at)),1!=i.isBlank(t.created_by)&&(t.created_by=1!=i.isBlank(t.created_by)?JSON.parse(t.created_by).Name:"--")}),"EXPAND_CHILD"==a?e.child.data=s:i.ListingData=s,i.TotalRecords=i.ListingData[0].total_records,i.TotalPages=Math.ceil(i.TotalRecords/i.PageSize),i.CurrentPage=i.PageNumber,i.Buttons[1].isdisabled=!0,i.Buttons[2].isdisabled=!0,i.Buttons[3].isdisabled=!0,i.noRecord=!1}else"EXPAND_CHILD"!=a&&(i.ListingData=[],i.noRecord=!0,i.TotalRecords=0);else"EXPAND_CHILD"!=a&&(i.noRecord=!0,i.ListingData=[],i.TotalRecords=0);i.Headers=t.data.FieldSchema,"Location"==i.subModuleCode&&i.Headers.push({COLUMN_NAME:"AddChild",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Add Child",DISPLAY_ORDER:10}),i.Headers.forEach(t=>{t.DISPLAY_NAME=i.$t(t.DISPLAY_NAME),"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),("Company"==i.moduleCode&&"start_time"==t.COLUMN_NAME||"is_active"==t.COLUMN_NAME)&&(t.settings={isInSlot:!0}),"Company"==i.moduleCode&&"end_time"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Company"==i.moduleCode&&"shift_type"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),("Company"==i.moduleCode&&"break_types"==t.COLUMN_NAME||"no_of_times"==t.COLUMN_NAME)&&(t.settings={isInSlot:!0}),"Review"==i.moduleCode&&"is_skill_enable"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Review"==i.moduleCode&&"is_goal_enable"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Review"==i.moduleCode&&"is_feedback_enable"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Review"==i.moduleCode&&"is_note_enable"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Review"==i.moduleCode&&"is_training_feedback_enabled"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),t.COLUMN_NAME==i.ActionColunName&&(i.topsearchField.map(e=>e.fieldSearchConditionName=[t.COLUMN_NAME]),"Status"!=i.subModuleCode&&(t.settings={clickEvent:i.clickEventOfColumn,formatter:i.columnDataFormatter})),"title"==t.COLUMN_NAME&&"Question"==i.subModuleCode&&(t.settings={clickEvent:i.clickEventOfColumn,formatter:i.columnDataFormatter}),t.COLUMN_NAME==i.primaryKeyforModule&&(t.VISIBLE=!1),"AddChild"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"Company"==i.moduleCode&&"Status"==i.subModuleCode&&"company_id"==t.COLUMN_NAME&&(t.VISIBLE=!1),"Company"==i.moduleCode&&"Status"==i.subModuleCode&&"status_name"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),setTimeout((function(){i.ResponsiveDataTable("tablelistingdata")}),500),i.isLoading=!1}))},onExpandChild:function(t){var e=this;e.FetchData(t.company_location_id,t,"EXPAND_CHILD")},closeModalSharePopup:function(){$("#modalshareview").modal("hide"),this.showsharereportview=!1},getStatuslistForListing:function(t,e){var a=this,i="langCode="+e+"&statusType="+t+"&hasglobal=true";r["a"].statusdropdown(i).then((function(t){if("Success"==t.data.status){var e=t.data.result;a.StatusListForListing=e.data}}))},isBlank:function(t){return!t||/^\s*$/.test(t)},getServiceMethod:function(t,e){return"Company"==t&&"AnnouncementMessage"==e?r["a"].AnnouncementMessageListing:"Company"==t&&"Priority"==e?r["a"].GetpriorityList:"Company"==t&&"Question"==e?r["a"].GetQuestionList:"Company"==t&&"Break"==e?r["a"].BreakListing:"Company"==t&&"Channel"==e?r["a"].ChannelListing:"Company"==t&&"Category"==e?r["a"].CategoryListing:"Company"==t&&"ContactType"==e?r["a"].ContactTypeListing:"Company"==t&&"Department"==e?r["a"].DepartmentListing:"Company"==t&&"Designation"==e?r["a"].DesignationListing:"Company"==t&&"Feedback"==e?r["a"].FeedbackListing:"Company"==t&&"Greeting"==e?r["a"].GreetingListing:"Configuration"==t&&"Passport"==e?r["a"].ImmigrationListing:"Company"==t&&"IndustryTypes"==e?r["a"].IndustryTypeListing:"Company"==t&&"Location"==e?r["a"].LocationListing:"Company"==t&&"LoginAuthorization"==e?r["a"].LoginAuthorizationListing:"Company"==t&&"PaymentGateway"==e?r["a"].PaymentGatewayListing:"Company"==t&&"ProvisionalRight"==e?r["a"].ProvisionalRightListing:"Review"==t&&"PerformanceReview"==e?r["a"].ReviewTemplateListing:"Company"==t&&"Shift"==e?r["a"].ShiftListing:"Company"==t&&"Skill"==e?r["a"].SkillListing:"Company"==t&&"Stage"==e?r["a"].StageListing:"Company"==t&&"UserTitle"==e?r["a"].UserTitleListing:"Company"==t&&"Status"==e?r["a"].StatusListing:"Appointment"==t&&"Service"==e?r["a"].ServiceListing:"Company"==t&&"CheckList"==e?r["a"].CheckListListing:void 0}}},p=h,C=a("2877"),f=Object(C["a"])(p,n,l,!1,null,null,null),S=f.exports,_=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!0,ModuleName:"Company",SubModuleCode:"CheckList",IdentityColumn:"checklist_id",HeaderText:t.$t("CheckList"),isShowHeaderText:!0,ListData:t.ListingData,HeaderData:t.Headers,widgets:[],HeaderButtons:t.Buttons,TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,IsSearchFieldsOnTop:!1,SearchPosition:"top",SearchFields:t.topsearchField,ListDataCallBackFunction:t.FetchCheckListing,SortExp:t.SortExp,SortBy:t.SortBy,LegendArray:[],NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,ActionButtonClick:t.actionButtonClick,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["status_id"==a.column.COLUMN_NAME?[e("listing-status",{ref:"updatestatus",attrs:{isfor:"CHECKLIST",dataid:a.row.checklist_id,"data-controller":"CHECKLIST",statuslist:t.StatusListForListing,item:a.status_id,"data-action":"index",dataselected:1001==a.row.status_id?"Active":"Inactive",callbackfunction:t.FetchCheckListing,isselectedvaluestring:!0}})]:t._e(),"checklist_name"==a.column.COLUMN_NAME?[e("a",{staticClass:"task-dec",staticStyle:{cursor:"pointer"},on:{click:function(e){return t.EditCheckList(a.row)}}},[t._v(t._s(a.row.checklist_name))])]:t._e()]}}])}),t.IsAddCheckList?e("AddCheckList",{attrs:{CheckListId:t.CheckListId}}):t._e(),t.IsCloneCheckList?e("CloneCheckList",{attrs:{CheckListId:t.CheckListId}}):t._e()],1)},v=[];let g=[{title:"Add",iconClass:"fa-plus",callbackfunction:"AddCheckList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0}],A=[{fieldName:"Search by CheckList Name",fieldType:"text",fieldSearchConditionName:["category_name"],isSearch:!0}],b=[{title:"Delete",callbackfunction:"commonDeleteData",icon:"text-danger fa fa-trash-o action-icon",additionalSpan:""},{title:"Clone Check List",callbackfunction:"CloneCheckList",href:"javascript:void(0)",icon:"fa fa-clone action-icon",additionalSpan:""}];var y={buttons:g,topsearchSchema:A,listActions:b},D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Add"))+" "+t._s(t.$t("CheckList"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseCheckList}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"Validateform"},[e("dynamic-form",{ref:"AssignTagForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.OnSubmit}})],1),e("div",{staticClass:"heading-border mb-3"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("Check_List_Item")))]),e("small",{staticClass:"float-right"},[e("a",{attrs:{href:"javascript:void(0)",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Add User"},on:{click:t.AddSection}},[e("em",{staticClass:"fa fa-plus pr-1"}),t._v(t._s(t.$t("AddSection"))+" ")])])])]),t._l(t.SectionData,(function(a,i){return e("div",{key:i,staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("SectionTitle"))+":"),e("span",{staticClass:"text-danger"},[t._v("* ")])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-10 col-sm-12 col-xl-10 float-left"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.SectionTitle,expression:"item.SectionTitle"}],staticClass:"form-control",class:{"is-invalid":1==a.IsCheckSection},attrs:{type:"text"},domProps:{value:a.SectionTitle},on:{input:[function(e){e.target.composing||t.$set(a,"SectionTitle",e.target.value)},function(e){return t.CheckSetion(a)}]}}),a.IsCheckSection?e("span",{staticClass:"invalid-feedback",attrs:{name:"Subject"}},[t._v(t._s(t.$t("SectionTitleRequired"))+".")]):t._e()]),e("div",{staticClass:"col-lg-2 col-sm-12 col-xl-2"},[e("a",{staticClass:"btn btn-info mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.addItem(a,i)}}},[e("em",{staticClass:"fa fa-plus mr-2"}),t._v(t._s(t.$t("AddItemn"))+" ")]),i>0?e("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteSection(i)}}},[e("em",{staticClass:"fa fa-trash"})]):t._e()])])])]),e("div",{staticClass:"col-lg-12"},t._l(a.ItemData,(function(i,s){return e("div",{key:s,staticClass:"col-lg-12 bg-light px-2 pt-2 border mb-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group mb-0"},[e("label",[t._v(t._s(t.$t("Title"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:i.Title,expression:"citem.Title"}],staticClass:"form-control",class:{"is-invalid":1==i.IsItemChcek},attrs:{type:"text"},domProps:{value:i.Title},on:{input:[function(e){e.target.composing||t.$set(i,"Title",e.target.value)},function(e){return t.CheckItemSetion(i)}]}}),i.IsItemChcek?e("span",{staticClass:"invalid-feedback",attrs:{name:"Subject"}},[t._v(t._s(t.$t("ItemTitleRequired"))+".")]):t._e()])]),e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("AnswerType"))+":"),e("span",{staticClass:"text-danger"},[t._v("* ")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:i.AnswerType,expression:"citem.AnswerType"}],staticClass:"form-control w-100",class:{"is-invalid":1==i.IsitemAsnwwr},attrs:{name:"Status"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(i,"AnswerType",e.target.multiple?a:a[0])},function(e){return t.onAnswerTypeChange(i)}]}},[e("option",{attrs:{value:"",selected:"selected"}},[t._v(t._s(t.$t("SelectAnswerType")))]),t._l(t.AnswerTypeData,(function(a,i){return e("option",{key:i,domProps:{value:a.value}},[t._v(t._s(a.name)+" ")])}))],2),i.IsitemAsnwwr?e("span",{staticClass:"invalid-feedback",attrs:{name:"Subject"}},[t._v(t._s(t.$t("AnswerTypeRequired"))+".")]):t._e()])]),e("div",{staticClass:"col-lg-5"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("AnswerOption")))]),""==i.AnswerType?e("div",[t._v("--")]):"StarRating"==i.AnswerType?e("div",[t._v(t._s(t.$t("WillShowRating"))+".")]):"MarkAsDone"==i.AnswerType?e("div",[t._v(t._s(t.$t("YouCanMark"))+".")]):"TextBox"==i.AnswerType?e("div",[t._v(t._s(t.$t("WillShowText"))+".")]):e("input",{directives:[{name:"model",rawName:"v-model",value:i.AnswerOption,expression:"citem.AnswerOption"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:i.AnswerOption},on:{input:function(e){e.target.composing||t.$set(i,"AnswerOption",e.target.value)}}})])]),e("div",{staticClass:"col-lg-1 p-0"},[e("div",{staticClass:"form-group mt-4 text-center"},[0==s?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.addChild(a,s)}}},[e("em",{staticClass:"round-icon-small fa fa-plus bg-success float-none"})]):t._e(),s>0?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteItem(a,s)}}},[e("em",{staticClass:"round-icon-small fa fa-trash bg-danger float-none"})]):t._e()])])])])})),0)])})),e("div",{staticClass:"row flex-row-reverse mt-3 mb-3"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-info mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:t.ShowCheckListPreview}},[e("i",{staticClass:"fa fa-eye pr-2"}),t._v(t._s(t.$t("Preview"))+" ")]),e("a",{staticClass:"btn btn-success save-btn mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:t.OnSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save")))]),e("a",{staticClass:"btn btn-danger mr-2",attrs:{href:"javascript:;",title:"Cancel"},on:{click:t.CloseCheckList}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Cancel"))+" ")])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("MandatoryString"))+".")])])])])],2)])])]),t.isCheckListPreview?e("CheckListPreview",{attrs:{SectionData:t.SectionData}}):t._e()],1)},T=[],L=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Preview"))+" "+t._s(t.$t("CheckList"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.HideCheckListPreview}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t._l(t.SectionData,(function(a,i){return e("div",{key:i,staticClass:"modal-body"},[e("div",{staticClass:"heading-border mb-3"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(a.SectionTitle))])])]),e("div",{staticClass:"row"},t._l(a.ItemData,(function(a,i){return e("div",{key:i,staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[t._v(" "+t._s(i+1)+". "+t._s(a.Title)+" "),e("div",{staticClass:"row"},[t._l(a.AnswerOption,(function(i,s){return e("div",{key:s,staticClass:"ml-3"},["CheckBox"==a.AnswerType?e("div",{staticClass:"col-lg-12 col-sm-12"},[e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{id:"checkbox-"+i,type:"checkbox"},domProps:{value:i}}),e("label",{staticClass:"custom-control-label pt-1 pl-1",attrs:{for:"checkbox-"+i}},[t._v(t._s(i))])])])]):t._e(),"Radio"==a.AnswerType?e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"custom-control custom-radio custom-control-inline"},[e("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"radio-"+i,name:"radio-"+i},domProps:{value:i}}),e("label",{staticClass:"custom-control-label",attrs:{for:"radio-"+i}},[t._v(t._s(i))])])]):t._e()])})),"TextBox"==a.AnswerType?e("div",{staticClass:"col-lg-12"},[e("input",{staticClass:"form-control",attrs:{type:"text"}})]):t._e(),"StarRating"==a.AnswerType?e("div",{staticClass:"col-lg-12"},[t._m(0,!0)]):t._e(),"MarkAsDone"==a.AnswerType?e("div",{staticClass:"col-lg-3"},[e("div",{staticClass:"col-lg-12 col-sm-12"},[e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{id:"checkboxtm",type:"checkbox",value:""}}),e("label",{staticClass:"custom-control-label pt-1 pl-1",attrs:{for:"checkboxtm"}},[t._v(t._s(t.$t("MarkAsDone")))])])])])]):t._e()],2)])])})),0)])})),e("div",{staticClass:"row flex-row-reverse mt-3 mb-3"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-danger mr-2",attrs:{href:"javascript:;",title:"Cancel"},on:{click:t.HideCheckListPreview}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v(t._s(t.$t("Close"))+" ")])])])],2)])])],1)},I=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-lg-12"},[e("a",{staticClass:"mr-2"},[e("i",{staticClass:"fa fa-star text-warning"})]),e("a",{staticClass:"mr-2"},[e("i",{staticClass:"fa fa-star text-warning"})]),e("a",{staticClass:"mr-2"},[e("i",{staticClass:"fa fa-star text-warning"})]),e("a",{staticClass:"mr-2"},[e("i",{staticClass:"fa fa-star text-warning"})]),e("a",{staticClass:"mr-2"},[e("i",{staticClass:"fa fa-star text-warning"})])])}],k={props:{SectionData:{type:Array,Required:!0}},data(){return{isLoading:!1}},created:async function(){var t=this;t.SectionData.forEach(t=>{t.ItemData.forEach(t=>{"string"===typeof t.AnswerOption&&""!==t.AnswerOption.trim()&&(t.AnswerOption=t.AnswerOption.split(","))})})},methods:{HideCheckListPreview(){this.$parent.isCheckListPreview=!1}}},E=k,w=Object(C["a"])(E,L,I,!1,null,null,null),N=w.exports,M={components:{CheckListPreview:N},props:{CheckListId:{type:Number,required:!0}},data(){return{isLoading:!1,buttons:[],FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:this.$t("CheckListTitle"),name:"Subject",value:"",placeholder:this.$t("Enter Check List Title"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("moduleName"),name:"IssueType",value:"",config:{options:[]},placeholder:this.$t("moduleName"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"1001",config:{options:[]},placeholder:this.$t("Select Status"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("IndustryType"),name:"IndustryType",value:"",config:{options:[]},placeholder:this.$t("Select Industry Type"),validationRules:{required:!0,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",validationRules:{required:!1,max:4e3},config:{rows:3}}]}],AnswerTypeData:[],SectionData:[{SectionTitle:"",IsShowItem:!1,IsCheckSection:!1,ItemData:[{Title:"",AnswerType:"",AnswerOption:"",IsItemChcek:!1,IsitemAsnwwr:!1}]}],IsAddSection:!1,isCheckListPreview:!1,CheckListId:0}},created:async function(){var t=this;await t.GetCheckListStatus(),await t.GetModuleName(),await t.GetAnswerType(),await t.GetIndustryType(),t.CheckListId>0&&(t.CheckListId=t.CheckListId,t.GetCheckListDeatils(t.CheckListId))},methods:{async GetIndustryType(){var t=this;r["a"].ChecklistGetTemplateList().then(e=>{e.data.result.DATA.length>0&&(e.data.result.DATA.forEach(e=>{let a={name:e.name,value:e.id};t.FormSchema[0].Data[3].config.options.push(a)}),t.$refs.AssignTagForm.UpdateKeyValue())})},async GetModuleName(){var t=this,e="id=&moduleName=&type=PHASE_TYPE&search=&refId=";await r["a"].GetDDLData(e).then(e=>{if(200==e.status&&(void 0!=e.data.DATA||null!=e.data.DATA)&&e.data.DATA.length>0){var a=e.data.DATA;a.forEach(e=>{let a={name:e.name,value:e.value};t.FormSchema[0].Data[1].config.options.push(a)}),t.$refs.AssignTagForm.UpdateKeyValue()}})},async GetCheckListStatus(){var t=this,e="id=&moduleName=&type=GLOBAL_STATUS&search=&refId=";await r["a"].GetDDLData(e).then(e=>{if(200==e.status&&(void 0!=e.data.DATA||null!=e.data.DATA)&&e.data.DATA.length>0){var a=e.data.DATA;a.forEach(e=>{let a={name:e.name,value:e.value};t.FormSchema[0].Data[2].config.options.push(a)}),t.$refs.AssignTagForm.UpdateKeyValue()}})},async GetAnswerType(){var t=this,e="id=&moduleName=&type=CHECK_LIST_ANSWER_TYPE&search=&refId=";await r["a"].GetDDLData(e).then(e=>{200==e.status&&(void 0==e.data.DATA&&null==e.data.DATA||e.data.DATA.length>0&&(t.AnswerTypeData=e.data.DATA))})},AddSection(){this.SectionData.push({SectionTitle:"",IsCheckSection:!1,ItemData:[{Title:"",AnswerType:"",AnswerOption:"",IsItemChcek:!1,IsitemAsnwwr:!1}]})},showChildItem(t,e){t.IsShowItem=!0},addItem(t,e){t.ItemData.push({Title:"",AnswerType:"",AnswerOption:"",IsItemChcek:!1,IsitemAsnwwr:!1})},deleteSection(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Section"),(function(){e.SectionData.splice(t,1)}))},deleteItem(t,e){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("Item"),(function(){t.ItemData.splice(e,1)}))},onAnswerTypeChange(t){t.IsitemAsnwwr=""==t.AnswerType},addChild(t,e){t.ItemData[e];t.ItemData.push({Title:"",AnswerType:"",AnswerOption:"",IsItemChcek:!1,IsitemAsnwwr:!1})},GetCheckListDeatils(t){var e=this,a="ChechListId="+t;r["a"].GetCheckListDeatils(a).then(t=>{if(null!=t.data.result){var a=t.data.result.CheckListData,i=t.data.result.CheckListDataItems;if(a.length>0&&(e.CheckListId=a[0].checklist_id,e.FormSchema[0].Data[0].value=a[0].checklist_name,e.FormSchema[0].Data[1].value=a[0].module_id,e.FormSchema[0].Data[2].value=a[0].status_id,e.FormSchema[0].Data[3].value=a[0].industry_type_id,e.FormSchema[1].Data[0].value=a[0].description),i.length>0){const t=[];i.forEach(e=>{let a=t.find(t=>t.SectionTitle===e.section_title);a||(a={SectionTitle:e.section_title,IsShowItem:!1,IsCheckSection:!1,ItemData:[]},t.push(a)),a.ItemData.push({Title:e.title,AnswerType:e.answer_type,AnswerOption:e.options,IsItemChcek:!1,IsitemAsnwwr:!1})}),e.SectionData=t}}})},CheckSetion(t){t.IsCheckSection=""==t.SectionTitle},CheckItemSetion(t){t.IsItemChcek=""==t.Title},async OnSubmit(){var t=this;t.$refs.Validateform.validate().then(e=>{if(e){t.isLoading=!0;var a=!1,i=!1;if(t.SectionData.forEach(e=>{if(""==e.SectionTitle)return e.IsCheckSection=!0,e.ItemData.forEach(t=>{""==t.Title&&(t.IsItemChcek=!0,a=!1),""==t.AnswerType&&(t.IsitemAsnwwr=!0,i=!1)}),t.isLoading=!1,!1;e.ItemData.forEach(t=>{""==t.Title?t.IsItemChcek=!0:(t.IsItemChcek=!1,a=!0),""==t.AnswerType?t.IsitemAsnwwr=!0:(t.IsitemAsnwwr=!1,i=!0)}),t.isLoading=!1}),i&&a){var s={checklist_id:t.CheckListId,checkListTitele:t.FormSchema[0].Data[0].value,ModuleId:t.FormSchema[0].Data[1].value,Status:t.FormSchema[0].Data[2].value,Description:t.FormSchema[1].Data[0].value,IndustryTypeId:t.FormSchema[0].Data[3].value,ChechListData:t.SectionData},o=JSON.stringify(s);r["a"].SaveCheckList(o).then((function(e){t.isLoading=!1,e.data.result.Data.length>0?"INSERT"==e.data.result.Data[0].valuess&&(t.CheckListId>0?t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("CheckList")]),"success",!0,t.$t("Alert")):t.ShowAlert(t.$t("AddedSuccess",[t.$t("CheckList")]),"success",!0,t.$t("Alert")),t.CloseCheckList(),t.$parent.FetchCheckListing()):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}))}}})},CloseCheckList(){this.$parent.IsAddCheckList=!1},ShowCheckListPreview(){this.isCheckListPreview=!0}}},x=M,P=Object(C["a"])(x,D,T,!1,null,null,null),O=P.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Clone"))+" "+t._s(t.$t("CheckList"))+" ")]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseCloneCheckList}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"Validateform"},[e("dynamic-form",{ref:"AssignTagForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.MandatoryString},on:{OnSubmit:t.OnSubmit}})],1)],1)])])])],1)},R=[],U={props:{CheckListId:{type:Number,required:!0}},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Clone Check List Name"),name:"Subject",value:"",placeholder:this.$t("Enter Clone Check List Name"),validationRules:{required:!0,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseCloneCheckList}],SectionData:[],ModuleId:0,Status:0,Description:""}},created:function(){var t=this;t.CheckListId>0&&(t.CheckListId=t.CheckListId,t.GetCheckListDeatils(t.CheckListId))},methods:{GetCheckListDeatils(t){var e=this,a="ChechListId="+t;r["a"].GetCheckListDeatils(a).then(t=>{if(null!=t.data.result){var a=t.data.result.CheckListData,i=t.data.result.CheckListDataItems;if(a.length>0&&(e.ModuleId=a[0].module_id,e.Status=a[0].status_id,e.Description=a[0].description),i.length>0){const t=[];i.forEach(e=>{let a=t.find(t=>t.SectionTitle===e.section_title);a||(a={SectionTitle:e.section_title,IsShowItem:!1,ItemData:[]},t.push(a)),a.ItemData.push({Title:e.title,AnswerType:e.answer_type,AnswerOption:e.options,IsItemChcek:!1})}),e.SectionData=t}}})},OnSubmit(){var t=this;t.$refs.Validateform.validate().then(e=>{if(e){t.isLoading=!0;var a={checklist_id:0,checkListTitele:t.FormSchema[0].Data[0].value,ModuleId:t.ModuleId,Status:t.Status,Description:t.Description,ChechListData:t.SectionData},i=JSON.stringify(a);r["a"].SaveCheckList(i).then((function(e){t.isLoading=!1,e.data.result.Data.length>0?"INSERT"==e.data.result.Data[0].valuess&&(t.CheckListId>0?t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Clone")]),"success",!0,t.$t("Alert")):t.ShowAlert(t.$t("AddedSuccess",[t.$t("Clone")]),"success",!0,t.$t("Alert")),t.CloseCloneCheckList(),t.$parent.FetchCheckListing()):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}))}})},CloseCloneCheckList(){this.$parent.IsCloneCheckList=!1}}},B=U,Y=Object(C["a"])(B,F,R,!1,null,null,null),V=Y.exports,G={components:{AddCheckList:O,CloneCheckList:V},data(){return{isLoading:!1,Buttons:y.buttons,searchCondition:"",listActions:y.listActions,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Headers:[{COLUMN_NAME:"checklist_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"ChecklistName",DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"industry_type_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Industry Type",DISPLAY_ORDER:2},{COLUMN_NAME:"module_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"moduleName",DISPLAY_ORDER:2},{COLUMN_NAME:"status_id",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3,settings:{isInSlot:!0}}],ListingData:[],PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],SortBy:"",SortExp:"",TotalRecords:0,topsearchField:[{fieldType:"text",fieldSearchConditionName:["TC.checklist_name"],paramName:"TC.checklist_name",isSearch:!0,value:"",listOptions:[]}],IsAddCheckList:!1,CheckListStatus:[],CheckListId:0,userId:null,companyId:null,IsCloneCheckList:!1}},created:function(){this.FetchCheckListing(),this.userId=this.GetUserInfo.ID,this.companyId=this.GetUserInfo.CompanyId},updated(){const t=document.getElementsByClassName("ticketsmallfix theme-primary partition p-actions-expand");if(t[0]&&"p-name text-white"!=t[0].lastChild.className){const e=document.createElement("span");e.className="p-name text-white",e.textContent=this.$t("CheckList"),t[0].appendChild(e)}},methods:{actionButtonClick:function(t,e){switch(t){case"commonDeleteData":this.commonDeleteData(e.checklist_id);break;case"CloneCheckList":this.CloneCheckList(e.checklist_id);break}},leftCommonSearch:function(t){if(this.PageNumber=t.PageNumber,this.isPaged=1,""!=t.searchConditionJson){let e=t.searchConditionJson,a=e.match(/=(.*)/);a?this.searchCondition=`TC.checklist_name like '%${a[1]}%'`:console.log("No match found")}else this.searchCondition="";this.FetchCheckListing()},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchCheckListing(),$("#"+t+"  span:first-child").attr("class",e)},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchCheckListing()},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Add":e.isVisible=!0;break;case"Clone Check List":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)}),a},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddCheckList":this.AddCheckList(t);break;case"commonDeleteData":this.commonDeleteData();break}},FetchCheckListing(){var t=this;if(""!=t.searchCondition)var e=`search=${t.searchCondition}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&ModuleName=`;else e=`search=&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&ModuleName=`;t.isLoading=!0,r["a"].CheckListListing(e).then(e=>{t.isLoading=!1,e.data.result.Data.length>0?(this.ListingData=e.data.result.Data,t.TotalRecords=e.data.result.Data[0].TotalRecord,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber):(t.ListingData=[],t.TotalRecords=0)})},AddCheckList(){this.CheckListId=0,this.IsAddCheckList=!0},EditCheckList(t){this.CheckListId=t.checklist_id,this.IsAddCheckList=!0},commonDeleteData:function(t){var e=this,a="";void 0!=t?a=t:$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("CheckList"),(function(){var t={ids:a,companyId:e.companyId,userId:e.userId,moduleName:"Project",refCode:"CHECKLIST"},i=JSON.stringify(t);r["a"].CommonCommonDelete(i).then(t=>{"Success"==t.data[0].Status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("CheckList")]),"Success",!0,e.$t("Alert")),e.FetchCheckListing()):e.ShowAlert(e.$t("DeletedError",[e.$t("CheckList")]),"failure",!0,e.$t("Alert"))})}))},CloneCheckList(t){var e=this;e.CheckListId=t,e.IsCloneCheckList=!0}}},H=G,j=Object(C["a"])(H,_,v,!1,null,null,null),q=j.exports,z=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{showCheckBox:!0,IsShowAction:!0,listType:["List"],ModuleName:"CompanySetup",SubModuleCode:"ManageTax",PageSize:t.PageSize,IdentityColumn:"tax_id",HeaderText:t.$t("ManageTax"),widgets:t.widgets,ListData:t.TaxList,HeaderData:t.Header,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecord,HeaderButtons:t.HeaderButtons,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata,ActionButtonClick:t.actionButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["tax_name"==a.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.OpenTaxPopUp(a.row)}}},[e("i",{attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(a.row.tax_name)+" ")])]:t._e()]}}])}),t.AddItem?e("AddItemPopup",{attrs:{TaxData:t.ItemData},on:{"fetch-data":t.FetchData}}):t._e()],1)},J=[],K=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddTaxProductCode")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{ref:"dynamicform",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},Z=[],Q={props:{TaxData:{type:Array,require:!1}},data(){return{isLoading:!1,SubCatData:[],CodeData:[],CountryData:[],StateData:[],DistrictData:[],ZipCodeData:[],FormSchema:[{layoutType:"single",Data:[{astype:"RadioField",label:this.$t("TaxFor"),name:"TaxFor",value:"",placeholder:"",visibility:!0,config:{options:[{value:2022,name:"Country"},{value:2023,name:"State"},{value:2024,name:"District"},{value:2025,name:"Zip Code"}],showAddIcon:!1,onChange:this.GetRadioValue},validationRules:""}]},{layoutType:"double",Data:[{astype:"TextField",label:this.$t("TaxName"),name:"TaxName",value:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("COUNTRY"),name:"Country",value:"",placeholder:"Country",validationRules:{required:!0},config:{options:[],onChange:this.OnChangeCountryList}},{astype:"SelectField",label:this.$t("State"),name:"State",value:"",placeholder:"State",config:{options:[],onChange:this.OnChangeStateList},visibility:!1},{astype:"SelectField",label:this.$t("District"),name:"District",value:"",placeholder:"District",config:{options:[],onChange:this.OnChangeDistrictList},visibility:!1},{astype:"SelectField",label:this.$t("ZipCode"),name:"ZipCode",value:"",validationRules:{required:!1},config:{options:[]},visibility:!1},{astype:"SelectField",label:this.$t("TaxType"),name:"TaxType",value:"",placeholder:"TaxType",config:{options:[{name:"percent",value:100},{name:"flat",value:200}]}},{astype:"NumericField",label:this.$t("TaxRate"),name:"TaxRate",value:"",placeholder:"Rate Type",validationRules:{required:!1},disabled:!1},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"Status",config:{options:[]},validationRules:{required:!0}},{astype:"NumericField",label:this.$t("Priority"),name:"Priority",value:"",placeholder:"Priority",validationRules:{required:!1},disabled:!1}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",config:{rows:3},placeholder:this.$t(""),validationRules:{required:!0,max:2e3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}]}},created:async function(){var t=this;await t.GetStatusList(),await t.GetCountryList(),t.FormSchema[0].Data[0].value=2022,t.TaxData.tax_id>0&&("zipcode"==t.TaxData.tax_for&&(t.FormSchema[0].Data[0].value=2025,t.FormSchema[1].Data[2].visibility=!0,t.FormSchema[1].Data[3].visibility=!0,t.FormSchema[1].Data[4].visibility=!0),"district"==t.TaxData.tax_for&&(t.FormSchema[0].Data[0].value=2024,t.FormSchema[1].Data[2].visibility=!0,t.FormSchema[1].Data[3].visibility=!0),"state"==t.TaxData.tax_for&&(t.FormSchema[0].Data[0].value=2023,t.FormSchema[1].Data[2].visibility=!0),t.FormSchema[1].Data[0].value=t.TaxData.tax_name,t.FormSchema[1].Data[1].value=t.TaxData.tax_country,t.OnChangeCountryList(t.TaxData.tax_country)(t.FormSchema)[1].Data[2].value=t.TaxData.tax_state,t.OnChangeStateList(t.TaxData.tax_state)(t.FormSchema)[1].Data[3].value=t.TaxData.tax_district,t.OnChangeDistrictList(t.TaxData.tax_district)(t.FormSchema)[1].Data[4].value=t.TaxData.tax_zipcode,t.FormSchema[1].Data[5].value="percent"==t.TaxData.tax_type?100:200,t.FormSchema[1].Data[6].value=t.TaxData.tax_rate,t.FormSchema[1].Data[7].value=t.TaxData.status_id,t.FormSchema[1].Data[8].value=t.TaxData.tax_rate.Priority,t.FormSchema[2].Data[1].value=t.TaxData.tax_desc)},methods:{Close:function(){this.$parent.AddItem=!1},GetRadioValue(t,e,a){var i=this;i.FormSchema[1].Data[3].visibility=!1,i.FormSchema[1].Data[4].visibility=!1,"2023"==e.value&&(i.FormSchema[1].Data[2].visibility=!0),"2024"==e.value&&(i.FormSchema[1].Data[2].visibility=!0,i.FormSchema[1].Data[3].visibility=!0),"2025"==e.value&&(i.FormSchema[1].Data[2].visibility=!0,i.FormSchema[1].Data[3].visibility=!0,i.FormSchema[1].Data[4].visibility=!0)},async GetStatusList(){var t=this;t.isLoading=!0,await r["a"].GetStatusList().then(e=>{null!=JSON.parse(e.data)&&(t.SubCatData=[],t.SubCatData=JSON.parse(e.data),t.SubCatData.forEach((e,a)=>{"Deleted"!=e.STATUS&&t.FormSchema[1].Data[7].config.options.push({name:e.STATUS,value:e.STATUS_ID})}),t.$refs.dynamicform.UpdateKeyValue(),t.isLoading=!1),t.isLoading=!1})},async GetCountryList(){var t=this;t.isLoading=!0,await r["a"].GetCountryList().then(e=>{null!=e.data&&(t.CountryData=[],t.CountryData=e.data,t.CountryData.forEach((e,a)=>{t.FormSchema[1].Data[1].config.options.push({name:e.countrY_FULL_NAME,value:e.id})}),t.$refs.dynamicform.UpdateKeyValue(),t.isLoading=!1),t.isLoading=!1})},OnChangeCountryList:async function(t){var e=this;if(e.FormSchema[1].Data[2].config.options=[],1==e.FormSchema[1].Data[2].visibility){e.isLoading=!0;var a="object"===typeof t?t.target.value:t,i="CountryId="+a;await r["a"].GetStateList(i).then(t=>{null!=t.data&&(e.StateData=[],e.StateData=t.data,e.StateData.forEach((t,a)=>{e.FormSchema[1].Data[2].config.options.push({name:t.stateName,value:t.stateId})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})}},OnChangeStateList:async function(t){var e=this;if(e.FormSchema[1].Data[3].config.options=[],1==e.FormSchema[1].Data[3].visibility){e.isLoading=!0;var a="object"===typeof t?t.target.value:t,i="StateId="+a;await r["a"].GetDistrictListByStateId(i).then(t=>{null!=t.data&&(e.DistrictData=[],e.DistrictData=t.data,e.DistrictData.forEach((t,a)=>{e.FormSchema[1].Data[3].config.options.push({name:t.districtName,value:t.districtId})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})}},OnChangeDistrictList:async function(t){var e=this;if(e.FormSchema[1].Data[4].config.options=[],1==e.FormSchema[1].Data[4].visibility){e.isLoading=!0;var a="object"===typeof t?t.target.value:t,i="moduleName=CRM&type=DISTRICT_ZIPCODE&refId="+a;await r["a"].GetDDLData(i).then(t=>{null!=t.data&&(e.ZipCodeData=[],t.data.DATA.length>0&&(e.ZipCodeData=t.data.DATA,e.ZipCodeData.forEach((t,a)=>{e.FormSchema[1].Data[4].config.options.push({name:t.name,value:t.value})}),e.$refs.dynamicform.UpdateKeyValue()),e.isLoading=!1),e.isLoading=!1})}},onSubmit(t,e){var a=this,i="country";"2023"==t.TaxFor&&(i="state"),"2024"==t.TaxFor&&(i="district"),"2025"==t.TaxFor&&(i="zipcode");var s={TaxName:t.TaxName,TaxFor:i,CountryId:t.Country,StateId:t.State,DistrictId:t.District,ZipCode:t.ZipCode,TaxType:100==t.TaxType?"percent":"flat",TaxRate:t.TaxRate,StatusId:t.Status,Priority:t.Priority},o=JSON.stringify(s);r["a"].SaveTaxCodes(o).then(t=>{"SUCCESS"==t.data.MSG?(a.ShowAlert(a.$t("AddedSuccess",[a.$t("Tax")]),"success",!0,a.$t("Alert")),a.Close(),a.$emit("fetch-data")):"Exist"==t.data.MSG?(a.ShowAlert(a.$t("AlreadyExists",[a.$t("Tax")]),"warning",!0,a.$t("Alert")),a.Close()):(a.ShowAlert(a.$t("AddedError",[a.$t("Tax")]),"failure",!0,a.$t("Alert")),a.Close())})}}},X=Q,W=Object(C["a"])(X,K,Z,!1,null,null,null),tt=W.exports,et={components:{AddItemPopup:tt},data(){return{isLoading:!1,TaxList:[],ItemData:[],leftSearchFields:"",listheaderbuttons:[],LegendArray:[],TotalRecord:5,PageSize:10,statusId:"",PageNumber:1,isPaged:1,TotalPages:0,widgets:[],SortBy:"",SortExp:"",AddItem:!1,Header:[{COLUMN_NAME:"tax_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxName"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"GST1",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("GSTCode"),DISPLAY_ORDER:2},{COLUMN_NAME:"COMMENT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("DESCRIPTION"),DISPLAY_ORDER:3},{COLUMN_NAME:"tax_for",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxFor"),DISPLAY_ORDER:4},{COLUMN_NAME:"country_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxCountry"),DISPLAY_ORDER:5},{COLUMN_NAME:"tax_state",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxState"),DISPLAY_ORDER:6},{COLUMN_NAME:"tax_district",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxDistrict"),DISPLAY_ORDER:7},{COLUMN_NAME:"tax_zipcode",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxZipcode"),DISPLAY_ORDER:8},{COLUMN_NAME:"tax_type",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxType"),DISPLAY_ORDER:9},{COLUMN_NAME:"tax_rate",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TaxRate"),DISPLAY_ORDER:10},{COLUMN_NAME:"status_id",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("StatusId"),DISPLAY_ORDER:11},{COLUMN_NAME:"created_by",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedBy"),DISPLAY_ORDER:12},{COLUMN_NAME:"created_at",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("CreatedAt"),DISPLAY_ORDER:13},{COLUMN_NAME:"modified_by",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ModifiedBy"),DISPLAY_ORDER:14},{COLUMN_NAME:"modified_at",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ModifiedAt"),DISPLAY_ORDER:15}],HeaderButtons:[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"AddTax",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddTax"},{title:"Remove",iconClass:"fa-trash-o",callbackfunction:"commonDelete",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],listActions:[{title:"Edit",href:"javascript:void(0)",callbackfunction:"EditTax",icon:"fa fa-pencil text-success action-icon",additionalSpan:""},{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"DeleteTax",additionalSpan:""},{title:"Share",callbackfunction:"sharereport",href:"javascript:void(0)",icon:"fa fa-share-alt text-success action-icon",additionalSpan:""}]}},created:async function(){var t=this;t.user_id=this.GetUserInfo.ID,t.companyId=this.GetUserInfo.CompanyId,t.FetchData()},methods:{FetchData(){var t=this;t.isLoading=!0,r["a"].GetTaxList().then((function(e){t.isLoading=!1,""!=e.data&&null!=e.data&&e.data.length>0&&(t.TaxList=JSON.parse(e.data)),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500)}))},AddTax:function(){var t=this;t.AddItem=!0,t.ItemData=[]},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddTax":this.AddTax();break;case"commonDelete":this.DeleteTax();break}},DeleteTax:function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Tax"),(function(){var t={ids:a,moduleName:"CompanySetup",refCode:"talygen_tax"},i=JSON.stringify(t);r["a"].CommonCommonDelete(i).then(t=>{200==t.status?(e.FetchData(),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Tax")]),"Success",!0,e.$t("Alert"))):e.ShowAlert(e.$t("DeletedError",[e.$t("Tax")]),"failure",!0,e.$t("Alert"))})})):e.ShowAlert(e.$t("Selectanyrecordtodelete",[e.$t("Tax")]),"failure",!0,e.$t("Alert"))},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Edit":e.isVisible=!0;break;case"Delete":e.isVisible=!0;break;case"Share":e.isVisible=!1;break;default:e.isVisible=!0}a.push(e)}),a},actionButtonClick:function(t,e,a,i){var s=this;switch(t){case"EditTax":s.OpenTaxPopUp(e);break;case"DeleteTax":s.Delete(e);break}},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchData()},OpenTaxPopUp(t){var e=this;e.AddItem=!0,e.ItemData=t}}},at=et,it=Object(C["a"])(at,z,J,!1,null,null,null),st=it.exports,ot=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"mt-2 theme-primary partition p-actions-expand",attrs:{id:"ReturnRequestHeading"}},[e("span",{staticClass:"p-name text-white"},[t._v(" "+t._s(t.$t("Manage Discounts"))+" ")])]),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[e("div",{staticClass:"tab-pane call-detail fade show active border pb-3 p-0",attrs:{id:"taxesAndDiscounts",role:"tabpanel","aria-labelledby":"taxesAndDiscounts-tab"}},[e("div",{staticClass:"container-fluid pt-2"},[e("dynamic-form",{ref:"dynamicform",attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.submitForm}})],1),e("div",{staticClass:"col-lg-12 mt-3 mb-2"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("Discount")))])])])]),e("div",{staticClass:"container-fluid pt-2",attrs:{id:"divShowlistingData"}},[e("div",{attrs:{id:"adjustmentList"}},[t.isDiscountList?e("DiscountList",{ref:"DiscountList",on:{"edit-discount":t.populateForm}}):t._e()],1)])])])])],1)},nt=[],lt=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,ModuleName:"Billing",listType:["List"],RenderRowActionMethod:t.renderActions,SubModuleCode:"Billing",IdentityColumn:"client_plan_mapping_id",ListData:t.DiscountList,HeaderData:t.Headers,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchData,LegendArray:[],SortExp:t.sortExp,SortBy:t.sortBy,NorecordfoundText:t.$t("NoRecordfound"),isShowHeaderText:!0,HeaderText:t.$t("RateSchedulede")},on:{LeftsearchButtonClick:function(t){},PagerButtonClick:t.pagerMethod,ActionButtonClick:t.actionButtonClick,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["adjustment_name"==a.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.Edit(a.row)}}},[e("i",{attrs:{"aria-hidden":"true"}}),t._v(t._s(a.row.adjustment_name)+" ")])]:t._e(),"discount_from"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.discount_from))+" ")])]:t._e(),"discount_to"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.discount_to))+" ")])]:t._e(),"created_at"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(a.row.created_at))+" ")])]:t._e(),"status_id"===a.column.COLUMN_NAME?[e("a",{staticClass:"inactive-disabled",attrs:{title:1001===a.row.status_id?"Active":"Inactive"}},[e("span",{class:{"btn d-inline-block text-center text-truncate":!0,"btn-success":1001===a.row.status_id,"btn-danger":1002===a.row.status_id}},[t._v(" "+t._s(1001===a.row.status_id?"Active":"Inactive")+" ")])])]:t._e()]}}])})],1)},rt=[],ct={data(){return{DiscountList:[],TotalRecords:0,pageSize:10,pageNum:1,sortBy:"",CurrentPage:1,TotalPages:0,sortExp:"",noRecords:!1,Headers:[{COLUMN_NAME:"adjustment_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Name",DISPLAY_ORDER:1},{COLUMN_NAME:"adjustment_code",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Code",DISPLAY_ORDER:2},{COLUMN_NAME:"discount",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Discount Type",DISPLAY_ORDER:3},{COLUMN_NAME:"adjustment_type",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!1,DISPLAY_NAME:"Type",DISPLAY_ORDER:4},{COLUMN_NAME:"adjustment_percentage",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Percentage",DISPLAY_ORDER:5},{COLUMN_NAME:"status_id",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:6},{COLUMN_NAME:"discount_from",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Discount From",DISPLAY_ORDER:7},{COLUMN_NAME:"discount_to",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Discount To",DISPLAY_ORDER:8},{COLUMN_NAME:"created_by_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created By",DISPLAY_ORDER:9},{COLUMN_NAME:"created_at",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created AT",DISPLAY_ORDER:10}],listActions:[]}},async created(){var t=this;await t.FetchData()},methods:{async FetchData(){var t=this;await r["a"].GetDiscountList().then((function(e){""!=e.data&&null!=e.data&&e.data.Result[0].length>0?(t.Headers.forEach(t=>{"status_id"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"adjustment_name"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"discount_from"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"discount_to"==t.COLUMN_NAME&&(t.settings={isInSlot:!0}),"created_at"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),t.DiscountList=JSON.parse(e.data.Result[0]),t.noRecord=!1):t.DiscountList=[]}))},actionButtonClick(t,e){},renderActions(t){},commonHeaderButtonClick(t){},sortdata(t){this.sortBy=t;var e="ASC";"ASC"==this.sortExp&&(e="DESC"),this.sortExp=e,this.sortBy=t,this.sortExp=e,this.pageNum=1,this.GroupStart=this.pageNum,this.GroupEnd=this.pageNum+2,this.FetchData()},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},getStatusClassList(t){let e="";switch(t){case"1002":e="btn btn-danger py-0 d-block font-14";break;case"1001":e="btn btn-success py-0 d-block font-14";break;default:e=""}return e},async Edit(t){this.$emit("edit-discount",t)}}},dt=ct,ut=Object(C["a"])(dt,lt,rt,!1,null,null,null),mt=ut.exports,ht=(a("7de8"),{components:{List:Rt,DiscountList:mt},data(){return{isLoading:!1,isDiscountList:!0,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Name"),name:"Name",value:"",placeholder:"Enter Discount Name",validationRules:{required:!0},disabled:!1},{astype:"TextField",label:this.$t("Code"),name:"Code",value:"",placeholder:"Enter Discount Code",validationRules:{required:!1}},{astype:"SelectField",label:this.$t("DiscoutType"),name:"DiscoutType",value:"",placeholder:"",config:{options:[{value:"1",name:"Fixed Amount"},{value:"0",name:"Percentage"}],onChange:this.changename},validationRules:{required:!0}},{astype:"TextField",label:this.$t("Percentage"),name:"Percentage",value:"",placeholder:"",validationRules:{required:!0},settings:{isInSlot:!0}},{astype:"DateField",label:this.$t("FromDate"),name:"FromDate",value:new Date,placeholder:"",validationRules:{required:!1},config:{mode:"date",minDate:new Date,format:"M/D/YYYY",onChange:this.setTimerDate,maxDate:!1}},{astype:"DateField",label:this.$t("FromTime"),name:"FromTime",value:new Date,placeholder:"",validationRules:{required:!1},config:{mode:"time",format:"hh:mm A"}},{astype:"DateField",label:this.$t("ToDate"),name:"ToDate",value:new Date,placeholder:"",validationRules:{required:!1},config:{mode:"date",format:"M/D/YYYY",maxDate:!1}},{astype:"DateField",label:this.$t("ToTime"),name:"ToTime",value:new Date,placeholder:"",validationRules:{required:!1},config:{mode:"time",format:"hh:mm A"}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"Status",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"Inactive"}]},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Update",isVisible:!1},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Cancel}],adjustmentID:0}},methods:{async Cancel(){this.resetForm()},async submitForm(){var t=this,e={AdjustmentID:t.adjustmentID,AdjOperator:0,adjustment_type:"Discounts",DiscountType:t.$refs.dynamicform.getPropertyValue("DiscoutType","value"),AdjName:t.$refs.dynamicform.getPropertyValue("Name","value"),AdjNameCode:t.$refs.dynamicform.getPropertyValue("Code","value"),AdjPercentage:t.$refs.dynamicform.getPropertyValue("Percentage","value"),FromDate:t.$refs.dynamicform.getPropertyValue("FromDate","value"),FromTime:t.$options.filters.formatTime(t.$refs.dynamicform.getPropertyValue("FromTime","value")),ToDate:t.$refs.dynamicform.getPropertyValue("ToDate","value"),ToTime:t.$options.filters.formatTime(t.$refs.dynamicform.getPropertyValue("ToTime","value")),StatusId:t.$refs.dynamicform.getPropertyValue("Status","value")};let a=JSON.stringify(e);await r["a"].AddUpdateDiscounts(a).then((function(e){if(""!=e.data&&null!=e.data)if(e.data.Result.length>0){let a=JSON.parse(e.data.Result);1==a[0].status?(t.resetForm(),t.ShowAlert(t.$t("RecordSavedSuccessfully"),"success",t.$t("Alert"))):2==a[0].status?(t.resetForm(),t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",t.$t("Alert"))):t.ShowAlert(t.$t("AlreadyExists",["discount"]),"warning",t.$t("Alert")),t.$refs.DiscountList.FetchData()}else t.ShowAlert(t.$t("UnknownError"),"failure",t.$t("Alert"))}))},populateForm(t){this.adjustmentID=t.adjustment_id;const e=new Date(t.from_date),a=new Date(t.to_date),[i,s,o]=t.from_time.split(":").map(Number),[n,l,r]=t.to_time.split(":").map(Number),c=new Date(e.getFullYear(),e.getMonth(),e.getDate(),i,s,o),d=new Date(a.getFullYear(),a.getMonth(),a.getDate(),n,l,r);console.log("Dynamic fromTime:",c),console.log("Dynamic toTime:",d),console.log("edit from time",c),this.$refs.dynamicform.updateProperty("DiscoutType","value",t.discount_type),this.$refs.dynamicform.updateProperty("Name","value",t.adjustment_name),this.$refs.dynamicform.updateProperty("Code","value",t.adjustment_code),this.$refs.dynamicform.updateProperty("Percentage","value",t.adjustment_percentage),this.$refs.dynamicform.updateProperty("FromDate","value",this.formatDateToYYYYMMDD(t.from_date)),this.$refs.dynamicform.updateProperty("FromTime","value",c),this.$refs.dynamicform.updateProperty("ToDate","value",this.formatDateToYYYYMMDD(t.to_date)),this.$refs.dynamicform.updateProperty("ToTime","value",d),this.$refs.dynamicform.updateProperty("Status","value",t.status_id),this.$refs.dynamicform.UpdateKeyValue(),this.changename(),this.buttons[0].isVisible=!1,this.buttons[1].isVisible=!0},formatDateToYYYYMMDD(t){const e=new Date(t),a=e.getFullYear(),i=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0");return`${a}-${i}-${s}`},formatTime(t){const e=t.split(":");var a=parseInt(e[0],10),i=parseInt(e[1],10),s=(parseInt(e[2],10),a>=12?"PM":"AM");return a%=12,a=a||12,{hours:a,minutes:i,ampm:s}},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})}),t.$refs.dynamicform.updateProperty("FromDate","value",new Date),t.$refs.dynamicform.updateProperty("FromTime","value",new Date),t.$refs.dynamicform.updateProperty("ToDate","value",new Date),t.$refs.dynamicform.updateProperty("ToTime","value",new Date),t.$refs.dynamicform.UpdateKeyValue(),t.buttons[0].isVisible=!0,t.buttons[1].isVisible=!1},changename(){1==this.$refs.dynamicform.getPropertyValue("DiscoutType","value")?this.$refs.dynamicform.updateProperty("Percentage","label","Amount"):this.$refs.dynamicform.updateProperty("Percentage","label","Percentage")},setTimerDate:function(t,e,a){var i=this;"FromDate"==e.name&&(i.$refs.dynamicform.updateProperty("ToDate","config.minDate",t),i.$refs.dynamicform.UpdateKeyValue())}}}),pt=ht,Ct=Object(C["a"])(pt,ot,nt,!1,null,null,null),ft=Ct.exports,St=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{showCheckBox:!0,IsShowAction:!1,listType:["List"],ModuleName:"CompanySetup",SubModuleCode:"ManageFeedback",PageSize:t.PageSize,IdentityColumn:"FEEDBACK_COMPANY_OPTIONID",HeaderText:t.$t("FeedbackOption"),widgets:t.widgets,ListData:t.ListData,HeaderData:t.Header,callbackfunction:t.FetchData,LegendArray:t.LegendArray,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"true",SearchPosition:"top",SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NorecordfoundText"),TotalRecords:t.TotalRecords,HeaderButtons:t.HeaderButtons,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,LeftsearchButtonClick:t.leftCommonSearch,SortdataButtonClick:t.sortdata,ActionButtonClick:t.actionButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[t.isCRMShowStausDrop(a.row.STATUS_ID,"Training")?e("listing-status",{ref:"updatestatus",attrs:{isfor:"Training_Feedback",dataid:a.row.FEEDBACK_COMPANY_OPTIONID,"data-controller":"Crm",statuslist:t.StatusListForListing,item:a.STATUS_ID,"data-action":"index",dataselected:1001==a.row.STATUS_ID?"Active":"Inactive",callbackfunction:t.FetchData,isselectedvaluestring:!0}}):t._e(),t.isCRMShowStausDrop(a.row.STATUS_ID,"Training")?t._e():e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(a.row.STATUS_ID,"STATUS_ID")},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")])])]:t._e(),"COMPANY_OPTION_TITLE"==a.column.COLUMN_NAME?[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openEditFeedback(a.row)}}},[t._v(t._s(a.row.COMPANY_OPTION_TITLE))])]:t._e()]}}])}),t.AddItem?e("AddFeedbackOption",{attrs:{OptionId:t.OptionId}}):t._e(),t.EditFeedback?e("ManageFeedback",{attrs:{OptionId:t.OptionId}}):t._e()],1)},_t=[],vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Manage"))+" "+t._s(t.$t("TrainingFeedback")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("Form",{ref:"ManageFeedback"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive",attrs:{id:"divGlobalTaskList"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"tableGlobalTaskList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("label",[t._v(t._s(t.$t("Title"))),e("span",{staticClass:"text-danger"},[t._v("*")])])]),e("th",[e("span",[t._v(t._s(t.$t("DESCRIPTION")))])]),e("th",{staticClass:"text-center"},[e("span",{staticClass:"d-inline-block"},[e("a",{staticClass:"round-icon-small btn-success-light float-none",attrs:{href:"javascript:;"},on:{click:t.addMoreRow}},[e("em",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}})])])])])]),e("tbody",t._l(t.tableData,(function(a,i){return e("tr",{key:a.feedback_global_optionId,staticStyle:{"background-color":"#cccccc"},attrs:{id:"row_"+a.feedback_global_optionId}},[e("td",[e("Field",{attrs:{name:"Title",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:i}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.global_option_title,expression:"task.global_option_title"}],class:{"form-control tskname":!0,"is-invalid":i[0]},attrs:{type:"text"},domProps:{value:a.global_option_title},on:{keypress:t.specialCharNotAllowed,input:function(e){e.target.composing||t.$set(a,"global_option_title",e.target.value)}}}),i[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Title"}},[t._v(t._s(i[0]))]):t._e()]}}],null,!0)})],1),e("td",[a.created_by>0?e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.global_option_description,expression:"task.global_option_description"}],staticClass:"form-control",staticStyle:{"min-height":"60px",width:"97%"},attrs:{rows:"5",cols:"50"},domProps:{value:a.global_option_description},on:{keypress:t.specialCharNotAllowed,input:function(e){e.target.composing||t.$set(a,"global_option_description",e.target.value)}}}):e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.global_option_description,expression:"task.global_option_description"}],staticClass:"form-control",staticStyle:{"min-height":"25px",width:"97%",height:"46px"},attrs:{rows:"1",cols:"15"},domProps:{value:a.global_option_description},on:{keypress:t.specialCharNotAllowed,input:function(e){e.target.composing||t.$set(a,"global_option_description",e.target.value)}}})]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"chkItems getdata round-icon-small btn-danger-light mr-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteRow(a,i)}}},[e("em",{staticClass:"fa fa-trash"})])])])})),0)])]),e("div",{staticClass:"col-12 mt-3 p-0"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("span",{staticClass:"d-inline-block"},[e("a",{staticClass:"btn btn-success formbtn text-white",attrs:{id:"btnSave"},on:{click:t.saveData}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("Save"))+" ")])])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2 text-danger"},[t._v(t._s(t.$t("Mandatory")))])])])])])])],1)])])])],1)},gt=[],At={props:{OptionId:{type:Number,required:!0}},data(){return{tableData:[],savedData:[],isLoading:!1,FeedbackLength:0}},created:async function(){await this.FetchData(),await this.addMoreRow()},methods:{async FetchData(){var t=this;try{this.isLoading=!0;const e=await r["a"].GetUnusedCompanyFeedbackOption("OptionId="+this.OptionId);e.data&&(t.tableData=e.data,t.FeedbackLength=e.data.length)}catch(e){console.error("Error fetching data:",e)}finally{this.isLoading=!1}},Close(){this.$parent.AddItem=!1},addMoreRow(){var t=this;t.$refs.ManageFeedback.validate().then(t=>{if(t){const t={feedback_global_optionId:0,global_option_title:"",global_option_description:""};this.tableData.push(t)}})},deleteRow(t,e){var a=this;t.created_by>0||a.tableData.splice(e,1)},saveData(){var t=this;t.$refs.ManageFeedback.validate().then(e=>{if(e)if(t.tableData.length<=t.FeedbackLength)t.ShowAlert(t.$t("EnterAtleastOneTask"),"warning",t.$t("Alert"));else{const t=this.generateXml();this.saveDataIntoDBbYxml(t)}})},generateXml(){var t=this;let e="<FeedbackEntries>\n",a=t.tableData.filter(t=>t.feedback_global_optionId<=0);return a.forEach(t=>{t.global_option_title&&(e+=`\n<OptionEntry>\n\t<GlobalOptionId>${t.feedback_global_optionId}</GlobalOptionId>\n\t<OptionTitle>${t.global_option_title}</OptionTitle>\n\t<Description>${t.global_option_description}</Description>\n</OptionEntry>\n`)}),e+="\n</FeedbackEntries>\n",e},saveDataIntoDBbYxml(t){var e=this,a={xml:t},i=JSON.stringify(a);r["a"].BulkFeedbackTemplateEntry(i).then(t=>{"Success"==t.data.Status?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("FeedbackOption")]),"success",!0,e.$t("Alert")),e.$parent.FetchData(),e.Close()):e.ShowAlert(e.$t("AddedError",[e.$t("FeedbackOption")]),"failure",!0,e.$t("Alert"))})},specialCharNotAllowed(t){/^[\d+]|[\w+]|[ ]$/.test(t.key)||t.preventDefault()}}},bt=At,yt=Object(C["a"])(bt,vt,gt,!1,null,null,null),Dt=yt.exports,Tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Manage"))+" "+t._s(t.$t("TrainingFeedback")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{ref:"form",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])],1)},Lt=[],It={props:{OptionId:{type:Number,required:!0}},data(){return{isLoading:!1,FeedbackData:[],FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Title"),name:"Title",value:"",validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("description"),name:"Description",value:"",validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}]}},created:async function(){this.FetchData()},methods:{FetchData:async function(){var t=this,e="OptionId="+t.OptionId;await r["a"].GetFeedBackDetails(e).then((async function(e){if(e.data){var a=e.data[0];t.$refs.form.updateProperty("Title","value",a.Title),t.$refs.form.updateProperty("Status","value",a.StatusId),t.$refs.form.updateProperty("Description","value",a.Description)}}))},Close:function(){this.$parent.EditFeedback=!1},onSubmit(t,e){var a=this,i={OptionId:null==a.OptionId?0:a.OptionId,Title:t.Title,Description:t.Description,StatusId:t.Status},s=JSON.stringify(i);r["a"].SaveFeedbackData(s).then(t=>{"Success"==t.data?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("TrainingFeedback")]),"success",!0,a.$t("Alert")),a.Close(),a.$parent.FetchData()):"Duplicate"==t.data?a.ShowAlert(a.$t("AlreadyExists",[a.$t("TrainingFeedback")]),"failure",!0,a.$t("Alert")):(a.ShowAlert(a.$t("AddedError",[a.$t("TrainingFeedback")]),"failure",!0,a.$t("Alert")),a.Close())})}}},kt=It,Et=Object(C["a"])(kt,Tt,Lt,!1,null,null,null),wt=Et.exports,Nt={components:{AddFeedbackOption:Dt,ManageFeedback:wt},data(){return{isLoading:!1,ListData:[],leftSearchFields:[{fieldName:"SearchBYTrainingFeedbackTitle",fieldType:"text",fieldSearchConditionName:[""],paramName:"search",isSearch:!0,value:"",listOptions:[]}],listheaderbuttons:[],TotalRecord:5,PageSize:10,searchCondition:"",searchQuery:"",PageNumber:1,TotalRecords:0,OptionId:0,isPaged:1,TotalPages:0,SortBy:"",SortExp:"",AddItem:!1,EditFeedback:!1,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],Header:[{COLUMN_NAME:"COMPANY_OPTION_TITLE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Title"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"COMPANY_OPTION_DESCRIPTION",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("DESCRIPTION"),DISPLAY_ORDER:2},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:3,settings:{isInSlot:!0}}],HeaderButtons:[{title:"Add",iconClass:"fa fa-plus",callbackfunction:"AddFeedback",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddFeedback"},{id:"ActiveMultiple",title:"Active",iconClass:"fa-check",callbackfunction:"ActiveMultipleListing",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0,isEnabledOnSelectedRow:!0},{id:"InactiveMultiple",title:"Inactive",iconClass:"fa-close",callbackfunction:"InactiveMultipleListing",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!0,isEnabledOnSelectedRow:!0},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDelete",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}]}},created:async function(){var t=this;t.user_id=this.GetUserInfo.ID,t.companyId=this.GetUserInfo.CompanyId,t.FetchData()},methods:{FetchData(){var t=this;t.isLoading=!0;var e=`search=${t.searchCondition}&searchQuery=${t.searchQuery}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;r["a"].GetFeedBackOptionListbyCompany(e).then((function(e){t.isLoading=!1,e.data&&(e.data?e.data.length>0?(t.ListData=e.data,t.noRecord=!1,t.TotalRecords=e.data[0].TOTALRECORDS,t.HeaderButtons[1].isdisabled=!0,t.HeaderButtons[2].isdisabled=!0,t.HeaderButtons[3].isdisabled=!0):(t.ListData=[],t.noRecord=!0,t.TotalRecords=0):(t.noRecord=!0,t.ListData=[],t.TotalRecords=0))}))},leftCommonSearch:function(t){if(this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition&&""!=t.searchConditionJson){let e=t.searchConditionJson,a=e.split("=")[1];this.searchCondition=a}else this.searchCondition="";this.FetchData()},AddFeedback:function(){var t=this;t.AddItem=!0},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddFeedback":this.AddFeedback();break;case"commonDelete":this.DeleteMultiple();break;case"ActiveMultipleListing":this.UpdateStatus(1001);break;case"InactiveMultipleListing":this.UpdateStatus(1002);break}},DeleteMultiple:function(t){var e=this,a="";e.isLoading=!0,null==t?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a=t,null!=a?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("TrainingFeedback"),(function(){var t=`ids=${a}&tablename=TALYGEN_trng_feedback_company_option&primaryKey=feedback_company_optionId`;r["a"].Delete(t).then((function(t){200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("TrainingFeedback")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("TrainingFeedback")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Edit":e.isVisible=!0;break;case"Delete":e.isVisible=!0;break;case"Share":e.isVisible=!1;break;default:e.isVisible=!0}a.push(e)}),a},actionButtonClick:function(t,e,a,i){},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},sortdata(t){var e="";e="COMPANY_OPTION_TITLE"==t?"NAME":"COMPANY_OPTION_DESCRIPTION"==t?"DESCRIPTION":"STATUS_ID"==t?"STATUS":t,this.SortBy=e;const a="ASC"===this.SortExp?"DESC":"ASC";this.SortExp=a,this.PageNumber=1,this.FetchData()},UpdateStatus:async function(t){var e=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0&&e.confirmR(e.$t("AreYouSureToUpdateStatus"),!0,e.$t("update")+"  "+e.$t("status"),(function(){var i={ID:a,StatusId:t,IsFor:"Training_Feedback",Module:"Company",Submodule:"ManageFeedback"},s=JSON.stringify(i);r["a"].CommonUpdateStatus(s).then(t=>{200==t.status&&(e.ShowAlert(e.$t("RecordUpdatedSuccessfully",[e.$t("Report")]),"success",!0,e.$t("Alert")),e.FetchData())})}))},openEditFeedback:function(t){var e=this;e.OptionId=t.FEEDBACK_COMPANY_OPTIONID,e.EditFeedback=!e.EditFeedback}}},Mt=Nt,xt=Object(C["a"])(Mt,St,_t,!1,null,null,null),Pt=xt.exports,Ot={components:{LeftColumn:o["a"],RightContent:S,CheckList:q,Tax:st,Discount:ft,TrainingFeedback:Pt},props:{moduleCode:{type:String,default:""},subModuleCode:{type:String,default:""},primaryKeyforModule:{type:String,default:""},addAPIUrl:{type:String,required:!0},ActionColunName:{type:String,required:!0},addUserGuide:{type:String,required:!0}},data(){return{isActive:!0,isLoading:!1}},created(){const t=new URLSearchParams(window.location.search),e=t.get("reqFrom")?t.get("reqFrom"):t.get("reqhFrom");"14"==e&&(this.isActive=!1,setTimeout(()=>{$(".right-content").addClass("right-content-expand")},200))}},$t=Ot,Ft=Object(C["a"])($t,i,s,!1,null,null,null),Rt=e["a"]=Ft.exports}}]);
//# sourceMappingURL=chunk-992b4b48.js.map