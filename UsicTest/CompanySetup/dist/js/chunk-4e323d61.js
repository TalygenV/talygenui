(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e323d61"],{"411b":function(t,e,a){"use strict";a("8d36")},"496b":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".transaction-list{max-height:500px;overflow-y:auto;margin-top:20px;padding-right:15px;border-top:1px solid #ececec}.transaction{display:flex;justify-content:space-between;align-items:center;padding:15px;border-bottom:1px solid #f1f1f1}.transaction .icon{width:40px;height:40px;border-radius:50%;display:flex;justify-content:center;align-items:center;color:#fff;font-size:22px;font-weight:700}.transaction .icon.green{background-color:#16a34a}.transaction .icon.red{background-color:#dc2626}.transaction .details{flex:1;padding-left:15px}.transaction .title{font-size:16px;font-weight:700}.transaction .description{font-size:14px;color:#777}.transaction .balance{font-size:14px;color:#666;margin-top:5px}.transaction .amount{font-size:16px;font-weight:700}.transaction .amount.recharge{color:#16a34a}.transaction.amount.deduction{color:#dc2626}",""]),t.exports=e},"85e0":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{ref:"tgList",attrs:{IsShowAction:!1,showCheckBox:!1,ModuleName:"Client",SubModuleCode:"Billing",IdentityColumn:"TICKET_ID",HeaderText:t.$t("Wallet History"),ListData:t.HistoryData,listType:["List"],HeaderData:t.Headers,NorecordfoundText:t.$t("NoRecordfound"),TotalRecords:t.TotalRecords,SearchFields:t.leftsearchSchema,RenderRowActionMethod:"() => { }",ListDataCallBackFunction:t.FetchHistoryRecords,LegendArray:t.LegendArray,HeaderButtons:t.listheaderbuttons,CurrentPageNumber:t.PageNumber,widgets:[]},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["CREATED_AT"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$options.filters.formatDateTime(t.toUserDateTime(a.row.CREATED_AT,a.row.TIMEZONE)))+" ")])]:t._e(),"AMOUNT"==a.column.COLUMN_NAME?[e("span",{class:"CREDIT"===a.row.TXN_TYPE?"text-success":"text-danger"},[t._v(" "+t._s("CREDIT"===a.row.TXN_TYPE?"+":"-")+t._s(t.$n(a.row.AMOUNT,"currency",t.$getLocaleByCurrency(t.Currency)))+" ")])]:t._e(),"AFTER_BALANCE"==a.column.COLUMN_NAME?[e("span",[t._v(" "+t._s(t.$n(a.row.AFTER_BALANCE,"currency",t.$getLocaleByCurrency(t.Currency)))+" ")])]:t._e()]}}])})],1)},o=[],n=(a("14d9"),a("9769"));let r=[{fieldName:"Transaction Reference No.",fieldType:"text",fieldIcon:"fa-hand-holding-usd",fieldSearchConditionName:["CAST(TBPR.TRANSACTION_REF_ID AS NVARCHAR(50))"],isSearch:!1,value:"",listOptions:[]},{fieldName:"CREATED_AT",fieldType:"date",fieldIcon:"fa-calendar",fieldSearchConditionName:["TCWT.CREATED_AT"],isSearch:!1,value:"",listOptions:[],datePickerConfig:{formate:"yyyy-mm-dd"}},{fieldName:"Transaction Type",fieldType:"ddl-check",fieldIcon:"fa fa-user-tie",fieldSearchConditionName:["TCWT.TXN_TYPE"],isSearch:!1,value:"",listOptions:[]}];function s(t,e){var a=t,i="Type="+e;a.isLoading=!0,n["a"].TransactionListingFieldData(i).then(t=>{if(null!==t.data){var i=t.data;"Transaction_Type"==e&&(a.leftsearchSchema[2].listOptions=i.map(t=>{const e={};return e.name=t.name,e.value=t.id.toString(),e}))}})}var c={leftsearchSchema:r,bindleftCommonSearchdropdown:s},d={data(){return{isLoading:!1,Currency:"",TotalRecords:0,HistoryData:[],isHidden:!1,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,CurrentPage:1,TotalPages:0,Headers:[{COLUMN_NAME:"TRANSACTION_REFERENCE_NUMBER",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Transaction Reference No.",DISPLAY_ORDER:1},{COLUMN_NAME:"TXN_TYPE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Transaction Type",DISPLAY_ORDER:2},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"CREATED_AT",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"AMOUNT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Amount",DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"AFTER_BALANCE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Balance",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"Payment_Mode",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Payment Mode",DISPLAY_ORDER:6}],listheaderbuttons:[{title:"BacktoList",iconClass:"fa fa-angle-double-left",callbackfunction:"BackToList",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1}],leftsearchSchema:c.leftsearchSchema,searchCondition:""}},created(){this.Currency=this.GetUserInfo.Currency.replace(/[()]/g,""),this.FetchHistoryRecords(this.companyId),c.bindleftCommonSearchdropdown(this,"Transaction_Type"),this.client_id=this.$route.params.client_id,this.parentId=this.$route.params.parentId},methods:{leftCommonSearch:async function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=encodeURIComponent(t.searchCondition):this.searchCondition="",this.FetchHistoryRecords()},FetchHistoryRecords(){this.isLoading=!0;var t=this.$route.params.client_id?this.$route.params.client_id:this.GetUserInfo.ID;const e=`sortBy=${this.SortBy}&sortExp=${this.SortExp}&pageSize=${this.PageSize}&pageNum=${this.PageNumber}&client_id=${t}&type=ALL&ClientCompanyId=${this.$route.params.id}&reqFrom=clientWallet&search=${this.searchCondition}`;n["a"].GetCompanyWalletHistory(e).then(t=>{const e=JSON.parse(null===t||void 0===t?void 0:t.data[0].JSON_RESULT)||[],a=e.JSON_HISTORY;a.length>0?(this.HistoryData=a.map(t=>({...t,CREATED_AT:t.CREATED_AT?new Date(t.CREATED_AT):null})),this.TotalRecords=a[0].TOTAL_RECORDS,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.CurrentPage=this.PageNumber):(this.HistoryData=[],this.TotalRecords=0),this.isLoading=!1})},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchHistoryRecords()},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchHistoryRecords()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"BackToList":this.BackToList();break}},BackToList(){var t=this;t.client_id>0?this.$router.push({name:"UpdateClient",params:{id:t.client_id,parentId:t.parentId},query:{redirectFrom:"Wallet"}}):t.$router.push({name:"WalletRecharge"})}}},l=d,h=(a("411b"),a("2877")),u=Object(h["a"])(l,i,o,!1,null,null,null);e["default"]=u.exports},"8d36":function(t,e,a){var i=a("496b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=a("499e").default;o("28a729e1",i,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-4e323d61.js.map