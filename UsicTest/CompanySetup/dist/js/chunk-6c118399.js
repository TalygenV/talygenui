(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c118399","chunk-4d92d1ea"],{"0115":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".input-group-append,.input-group-prepend,label{display:flex}",""]),t.exports=e},"0221":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".listing-download-btn{float:left;width:100%;position:relative}.listing-download-btn a{background-color:#44ac61;color:#fff!important}.listing a:hover{background-color:#2d7e44;color:#fff!important}.imptpopup .impt_img{float:left;width:200px;margin-top:40px}.imptpopup .impt_img img{width:100%}.imptpopup .notice{float:left;width:calc(100% - 210px)}.imptpopup .notice h2{color:#000;font-size:28px}.imptpopup .notice h2 span{background:linear-gradient(129.25deg,#ff358a 15.07%,#fea587 89.65%);background-clip:border-box;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.imptpopup .notice .content{color:#333;font-size:18px;line-height:28px;font-weight:400}.imptpopup .notice ul{width:100%;padding:0;margin:15px 0}.imptpopup .notice ul li{position:relative;list-style-type:none;padding:7px 0;font-size:15px;line-height:24px;font-weight:400}",""]),t.exports=e},"0ad4":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,"#ProductTypeCode .form-group a{position:absolute;top:-24px;left:144px}.popup-overlay{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:9999;background-color:rgba(0,0,0,.5);width:100%;height:100%;display:flex;justify-content:center;align-items:center}.my-popups .modal{z-index:99999}",""]),t.exports=e},"0b98":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,'.gen-templateadded.i_setup,.gen-templateadded.i_setup:hover{background:#f1fff1}.gen-templateadded.i_setup .left-icon-m{background-color:#def3de}.short-menu-item:hover{cursor:pointer;background-color:#e0e0e0}.initialsetuptabsbase .choosepicture{float:left;max-width:250px!important;width:250px!important}.initialsetuptabsbase .fillupform{float:left;max-width:calc(100% - 260px)!important;width:calc(100% - 260px)!important}.initialsetuptabsbase .wiz-upimg,.initialsetuptabsbase .wiz-upimg .circle{border-radius:20px!important}.initialsetuptabsbase .wiz-upimg .circle img{margin-top:15px;background:#f2f2f2;padding:2px;border-radius:100%;height:110px;width:110px}.initialsetuptabsbase .wiz-upimg .p-image{color:#fff;background:#525252!important;text-align:center;padding:10px 0 20px 0}.initialsetuptabsbase .locationinfo{display:flex;border:1px solid #cec699;padding:10px 15px;font-size:16px;color:#454545;font-weight:500;width:100%;float:left;min-height:80px;background:#fff8d5}.initialsetuptabsbase .locationinfo em{color:#454545;font-size:25px}.initialsetuptabsbase .locationinfo1{display:flex;border:1px solid #cbcbcb;padding:20px 15px;color:#333335;font-weight:500;width:49%;float:left;min-height:80px;background:#fff;margin-right:1rem}.initialsetuptabsbase .locationinfo1 em{color:#cdcdcd;font-size:53px;margin-top:15px}.initialsetuptabsbase .locationinfo1.selected{border:1px solid #27a745;background:#f0fff3}.initialsetuptabsbase .locationinfo1.selected em{color:#28a745}.initialsetuptabsbase .locationinfo1:last-child{margin-right:0}.initialsetuptabsbase .locationinfo1 h2{font-size:24px}.initialsetuptabsbase .dynamiccontent_base h3.ownership{font-size:28px;font-weight:600}.initialsetuptabsbase .mainfooter_app{min-width:calc(100% - 395px);min-height:83px;background-color:#f1f1f1;position:fixed;bottom:0;right:0;z-index:99}.initialsetuptabsbase .mainfooter_app button.next{width:220px;height:50px;border:none;outline:none;color:#fff;cursor:pointer;position:relative;z-index:0;border-radius:10px}.initialsetuptabsbase .mainfooter_app button.next:before{content:"";background:linear-gradient(45deg,#ff358a,#363f4d,#fea088);position:absolute;top:-2px;left:-2px;background-size:400%;z-index:-1;width:calc(100% + 4px);height:calc(100% + 4px);animation:glowing 20s linear infinite;opacity:0;transition:opacity .3s ease-in-out;border-radius:10px}.initialsetuptabsbase .mainfooter_app button.next:active{color:#000}.initialsetuptabsbase .mainfooter_app button.next:active:after{background:transparent}.initialsetuptabsbase .mainfooter_app button.next:before{opacity:1}.initialsetuptabsbase .mainfooter_app button.next:hover:before{background:#1c94ec}.initialsetuptabsbase .mainfooter_app button.next:after{z-index:-1;content:"";position:absolute;width:100%;height:100%;left:0;top:0;border-radius:10px}@keyframes glowing{0%{background-position:0 0}50%{background-position:400% 0}to{background-position:0 0}}.initialsetuptabsbase .mainfooter_app button.next:hover{background:#1c94ec}.initialsetuptabsbase .mainfooter_app button.btn-warning,.initialsetuptabsbase .mainfooter_app button.skip-btn-clr{background-color:#fff;color:#0075ab;font-size:18px;border:1px solid #fff}.initialsetuptabsbase .mainfooter_app button{font-size:18px}.initialsetuptabsbase .mainfooter_app button:hover.btn-warning,.initialsetuptabsbase .mainfooter_app button:hover.skip-btn-clr{background-color:#e3e3e3}.newtabdes_buttonsbase .initialsetuptabsbase button.btn.btn-warning{color:#0075ab}.initialsetuptabsbase .shortcuts-menu.newaddprojects li{max-width:50%!important}.shortcuts-menu li.active{transform:scale(1.05)}',""]),t.exports=e},"123f":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".table th[data-v-55494cb8]{position:relative}.resizer[data-v-55494cb8]{position:absolute;top:0;right:0;width:5px;cursor:col-resize;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}",""]),t.exports=e},1411:function(t,e,a){"use strict";a("ba94")},"1b86":function(t,e,a){var i=a("9cfa");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("607e5018",i,!0,{sourceMap:!1,shadowMode:!1})},"1e99":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,'.scroll{width:140px;overflow-y:auto}.scroll:active::-webkit-scrollbar-thumb,.scroll:focus::-webkit-scrollbar-thumb,.scroll:hover::-webkit-scrollbar-thumb{visibility:visible}.scroll::-webkit-scrollbar-thumb{background-color:#a9a9a9;visibility:hidden}.scroll::-webkit-scrollbar{width:4px;height:4px}.initialsetuptabsbase .choosepicture{float:left;max-width:250px!important;width:250px!important}.initialsetuptabsbase .fillupform{float:left;max-width:calc(100% - 260px)!important;width:calc(100% - 260px)!important}.initialsetuptabsbase .wiz-upimg,.initialsetuptabsbase .wiz-upimg .circle{border-radius:20px!important}.initialsetuptabsbase .wiz-upimg .circle img{margin-top:15px;background:#f2f2f2;padding:2px;border-radius:100%;height:110px;width:110px}.initialsetuptabsbase .wiz-upimg .p-image{color:#fff;background:#525252!important;text-align:center;padding:10px 0 20px 0}.initialsetuptabsbase .locationinfo{display:flex;border:1px solid #cec699;padding:10px 15px;font-size:16px;color:#454545;font-weight:500;width:100%;float:left;min-height:80px;background:#fff8d5}.initialsetuptabsbase .locationinfo em{color:#454545;font-size:25px}.initialsetuptabsbase .locationinfo1{display:flex;border:1px solid #cbcbcb;padding:20px 15px;color:#333335;font-weight:500;width:49%;float:left;min-height:80px;background:#fff;margin-right:1rem}.initialsetuptabsbase .locationinfo1 em{color:#cdcdcd;font-size:53px;margin-top:15px}.initialsetuptabsbase .locationinfo1.selected{border:1px solid #27a745;background:#f0fff3}.initialsetuptabsbase .locationinfo1.selected em{color:#28a745}.initialsetuptabsbase .locationinfo1:last-child{margin-right:0}.initialsetuptabsbase .locationinfo1 h2{font-size:24px}.initialsetuptabsbase .dynamiccontent_base h3.ownership{font-size:28px;font-weight:600}.initialsetuptabsbase .mainfooter_app{min-width:calc(100% - 395px);min-height:83px;background-color:#f1f1f1;position:fixed;bottom:0;right:0;z-index:99}.initialsetuptabsbase .mainfooter_app button.next{width:220px;height:50px;border:none;outline:none;color:#fff;cursor:pointer;position:relative;z-index:0;border-radius:10px}.initialsetuptabsbase .mainfooter_app button.next:before{content:"";background:linear-gradient(45deg,#ff358a,#363f4d,#fea088);position:absolute;top:-2px;left:-2px;background-size:400%;z-index:-1;width:calc(100% + 4px);height:calc(100% + 4px);animation:glowing 20s linear infinite;opacity:0;transition:opacity .3s ease-in-out;border-radius:10px}.initialsetuptabsbase .mainfooter_app button.next:active{color:#000}.initialsetuptabsbase .mainfooter_app button.next:active:after{background:transparent}.initialsetuptabsbase .mainfooter_app button.next:before{opacity:1}.initialsetuptabsbase .mainfooter_app button.next:hover:before{background:#1c94ec}.initialsetuptabsbase .mainfooter_app button.next:after{z-index:-1;content:"";position:absolute;width:100%;height:100%;left:0;top:0;border-radius:10px}@keyframes glowing{0%{background-position:0 0}50%{background-position:400% 0}to{background-position:0 0}}.initialsetuptabsbase .mainfooter_app button.next:hover{background:#1c94ec}.initialsetuptabsbase .mainfooter_app button.btn-warning,.initialsetuptabsbase .mainfooter_app button.skip-btn-clr{background-color:#fff;color:#0075ab;font-size:18px;border:1px solid #fff}.initialsetuptabsbase .mainfooter_app button{font-size:18px}.initialsetuptabsbase .mainfooter_app button:hover.btn-warning,.initialsetuptabsbase .mainfooter_app button:hover.skip-btn-clr{background-color:#e3e3e3}',""]),t.exports=e},"1eb5":function(t,e,a){var i=a("380c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("71835cf0",i,!0,{sourceMap:!1,shadowMode:!1})},"1f57":function(t,e,a){"use strict";a("4e75")},2245:function(t,e,a){"use strict";a("3ab1")},2486:function(t,e,a){var i=a("0115");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("624539e8",i,!0,{sourceMap:!1,shadowMode:!1})},2793:function(t,e,a){"use strict";a("1b86")},3049:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("section",{staticClass:"page-action"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v(t._s(t.$t("ImportCategory")))]),e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white",attrs:{title:"BacktoList"},on:{click:t.BackTolist}},[e("em",{staticClass:"fa fa-angle-double-left pr-2"}),e("br"),e("span",[t._v(t._s(t.$t("BacktoList")))])])])])])])]),e("div",{staticClass:"user-guide-custom d-none"},[t._v(" "+t._s(t.$t("User_Guide_Import Category"))+" ")]),e("div",{staticClass:"border p-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("DownloadImportCategory"))+":")]),e("div",{staticClass:"input-group mb-3"},[e("div",{staticClass:"form-control"},[e("i",{staticClass:"fa fa-file-excel-o pr-1 text-success"}),t._v(t._s(t.$t("Import Category"))+".xls ")]),t._m(0)])])]),e("div",{staticClass:"col-lg-4"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("UploadFile"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group"},[e("div",{staticClass:"custom-file Import Category"},[e("input",{staticStyle:{position:"absolute",clip:"rect(0px, 0px, 0px, 0px)"},attrs:{type:"file",name:"FileSrc",id:"flAvatar",multiple:"true",tabindex:"-1"},on:{change:function(e){return t.setFile(e)}}}),e("div",{staticClass:"bootstrap-filestyle input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.attachmentName,expression:"attachmentName"}],staticClass:"form-control disabled",attrs:{type:"text",disabled:""},domProps:{value:t.attachmentName},on:{input:function(e){e.target.composing||(t.attachmentName=e.target.value)}}}),e("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"}},[e("span",{staticClass:"group-span-filestyle input-group-btn input-group-text bg-white",attrs:{tabindex:"0"}},[e("label",{staticClass:"mb-0 font-weight-normal",attrs:{title:"Click here to select a file.",for:"flAvatar"}},[t._v(t._s(t.$t("FileControlText")))])]),e("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[e("a",{staticClass:"round-icon-small btn-danger-light",attrs:{href:"javascript:;",title:"Clear"},on:{click:t.Clear}},[e("i",{staticClass:"fa fa-undo"})])])])])])])])])]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-info formbtn mr-1",attrs:{href:"javascript:void(0);",title:t.$t("ImportCategoryExcelFile")},on:{click:function(e){return t.UploadImportCategoryFile()}}},[e("i",{staticClass:"fa fa-download pr-2"}),t._v(t._s(t.$t("Import Category")))]),e("a",{staticClass:"btn btn-danger formbtn my-2",attrs:{title:"","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(e){return t.onCancel()}}},[e("i",{staticClass:"fa fa-close mr-2"}),t._v("Cancel")])])])]),0!=t.CategoryTypedata?e("div",{staticClass:"table-responsive mb-3 table-fix-header"},[e("Form",{ref:"formm"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblExpList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[e("span",{staticClass:"d-inline-block"},[t._v("Category"),e("span",{staticClass:"d-inline-block"})])]),e("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[e("span",{staticClass:"d-inline-block"},[t._v("Application/Website"),e("span",{staticClass:"d-inline-block"})])]),e("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[e("span",{staticClass:"d-inline-block"},[t._v("Color Code"),e("span",{staticClass:"d-inline-block"})])]),e("th",{staticStyle:{width:"156px","min-width":"120px","max-width":"156px"},attrs:{id:"th-PRODUCTTYPE"}},[e("span",{staticClass:"d-inline-block"},[t._v("Category Code"),e("span",{staticClass:"d-inline-block"})])])])]),t._l(t.CategoryTypedata,(function(a,i){return e("tbody",{key:i},["0"!=t.CategoryTypedata.length?e("tr",[e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.CategoryName,expression:"item.CategoryName"}],staticClass:"enlarged-textarea",attrs:{type:"text"},domProps:{value:a.CategoryName},on:{input:function(e){e.target.composing||t.$set(a,"CategoryName",e.target.value)}}})]),e("td",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:a.ApplicationWebsite,expression:"item.ApplicationWebsite"}],staticClass:"enlarged-textarea",domProps:{value:a.ApplicationWebsite},on:{input:function(e){e.target.composing||t.$set(a,"ApplicationWebsite",e.target.value)}}})]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Colocode,expression:"item.Colocode"}],staticStyle:{width:"90%"},attrs:{type:"text",disabled:!0},domProps:{value:a.Colocode},on:{input:function(e){e.target.composing||t.$set(a,"Colocode",e.target.value)}}}),e("div",{staticClass:"colorpick",staticStyle:{position:"absolute",top:"12px",right:"0","z-index":"1"}},[e("ColourPicker",{attrs:{color:a.colour,"no-input":"",value:a.colour,picker:"compact"},on:{input:function(e){return t.pickerColorChange(e,a)}},model:{value:a.colour,callback:function(e){t.$set(a,"colour",e)},expression:"item.colour"}})],1)]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.Categorycode,expression:"item.Categorycode"}],attrs:{type:"text"},domProps:{value:a.Categorycode},on:{input:function(e){e.target.composing||t.$set(a,"Categorycode",e.target.value)}}})])]):t._e()])}))],2),"0"==t.CategoryTypedata.length?e("div",{staticClass:"text-danger text-center no-record",attrs:{colspan:"10"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._e()]),e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("div",{staticClass:"search-btm-btn"},[e("a",{staticClass:"btn btn-success formbtn widthhalf",attrs:{id:"aSubmit",href:"javascript:;",tooltip:"Submit",title:"Submit"},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v("Submit")]),t._v("  "),e("a",{staticClass:"btn btn-danger formbtn my-2",attrs:{id:"aCancel",href:"javascript:;",tooltip:"Cancel",title:"Cancel"},on:{click:t.onCancel}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])])])])],1):t._e()],1)},s=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append downloadImport Category"},[e("span",{staticClass:"input-group-text",attrs:{id:"basic-addon2"}},[e("a",{attrs:{href:"https://cogniterblob.blob.core.windows.net/global/SampleFiles/category/sample-file-import-category.xls",download:""}},[e("i",{staticClass:"fa fa-download text-primary"})])])])}],o=(a("14d9"),a("2b0e")),n=a("9769"),l=a("fc8b"),r=a.n(l),c={components:{ColourPicker:r.a},data:function(){return{item:{Colocode:""},isLoading:!1,attachmentName:"",filepath:"",CategoryTypedata:[],applicationuser:[],ExcelListData:[],colour:""}},methods:{pickerColorChange(t,e){e.Colocode=t},setFile:function(t){this.attachmentName=t.target.files[0].name,this.file=t.target.files[0],this.excelFileName=t.target.files[0].name},Clear:function(){this.attachmentName=""},BackTolist:function(){var t=this;t.$router.push({name:"CategoryListing"})},onCancel:function(){var t=this;t.$router.push({name:"CategoryListing"})},UploadImportCategoryFile(){var t=this;if(t.$emit("ImportProduct"),""!=$("#flAvatar").val()){var e=$("#flAvatar").val().split("\\").pop(),a=".xls,.xlsx",i=e.replace(/^.*\./,"");a.includes(i)?t.confirmR(t.$t("bulkImportConfirmationMsg"),!0,t.$t("Delete")+"  "+t.$t("REPORT_ID"),(function(){const e=new FormData;e.append("file",t.file),t.isLoading=!0,n["a"].ImportCategorySamplePost(e).then((function(e){t.isLoading=!1;var a=e.data;0==a.Status?(t.filepath=a.Msg,t.ShowImportProduct=""!=t.filepath,t.ImportProductType()):t.ShowAlert(a.Msg,"warning",!0,t.$t("Alert"))})),t.isLoading=!1})):t.ShowAlert(t.$t("InvalidSampleFileUploadMsg",[e,a]),"warning",!0,t.$t("Alert"))}else t.ShowAlert(t.$t("PleaseUploadExcelFile"),"warning",!0,t.$t("Alert"))},ImportProductType:function(){var t=this;t.isLoading=!0;var e=`filepath=${t.filepath}&typeName='ProductType'`;n["a"].BulkUploadCategoryType(e).then(e=>{if(null!=e.data){t.CategoryTypedata=e.data,t.CategoryTypedata.forEach(t=>{t.colour="",null!=t.Colocode&&(t.colour=t.Colocode)});var a=[];for(let e=0;e<t.CategoryTypedata.length;e++)a.push(t.CategoryTypedata[e].ApplicationWebsite);t.applicationuser=a,console.log("ddsfguy",t.applicationuser),t.isLoading=!1}else t.ShowAlert(t.$t("InValidFileUpload"),"warning",t.$t("Alert"))}),t.isLoading=!1},SubmitData(){var t=this;t.isLoading=!0;const e=Object(o["ref"])([]);for(const i of t.CategoryTypedata){const t={CategoryName:i.CategoryName,ApplicationWebsite:i.ApplicationWebsite,Categorycode:i.Categorycode,Description:"",Colocode:i.Colocode,CompanyID:i.CompanyID,UserID:i.UserID,batchid:i.batchid};e.value.push(t)}var a=JSON.stringify(e.value);n["a"].CategoryTypeBulkUploadPost(a).then(e=>{if(1==e.data.status){var a=e.data.msg;t.ShowAlert(t.$t(a),"success",t.$t("Alert"))}else if(0==e.data.status){var i=e.data.category,s=e.data.apllication,o=t.$t("Category Name: ")+i+t.$t("Application Name: ")+s;t.ShowAlert(o+" - "+e.data.msg,t.$t("Alert"))}}),t.isLoading=!1}}},d=c,u=(a("f919"),a("2877")),p=Object(u["a"])(d,i,s,!1,null,null,null);e["default"]=p.exports},"315f":function(t,e,a){var i=a("e30d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("9fe66274",i,!0,{sourceMap:!1,shadowMode:!1})},3713:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),"Tax"!==t.LayoutType?e("section",[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("dynamic-form",{ref:"AddTaxCategoryForm",attrs:{lang:"en",buttons:!1,schema:t.FormSchema,mandatorytext:t.MandatoryString},on:{OnSubmit:t.OnSubmit},scopedSlots:t._u([{key:"tgslot-SlabRate",fn:function({data:a}){return[e("div",{staticClass:"container-fluid collapse show p-0",attrs:{id:"collapseOne1"}},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"Addresslist"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v(" # ")]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("AmountFrom"))+" ")]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("AmountTo"))+" ")]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("TaxRate"))+" ")]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("Actions"))+" ")])])]),e("tbody",[0===t.RateData.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"8"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._l(t.RateData,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[t._v(t._s(i+1))]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.AmountFrom,expression:"item.AmountFrom"}],staticClass:"form-control",attrs:{type:"text",disabled:1===t.RateData.length||0===i},domProps:{value:a.AmountFrom},on:{blur:function(e){return t.validateAmounts(i)},input:function(e){e.target.composing||t.$set(a,"AmountFrom",e.target.value)}}})]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.AmountTo,expression:"item.AmountTo"}],staticClass:"form-control",attrs:{type:"text",disabled:1===t.RateData.length||i===t.RateData.length-1},domProps:{value:a.AmountTo},on:{blur:function(e){return t.validateAmounts(i)},change:function(e){return t.updateNextAmountFrom(i)},input:function(e){e.target.composing||t.$set(a,"AmountTo",e.target.value)}}})]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.TaxRate,expression:"item.TaxRate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.TaxRate},on:{blur:function(e){return t.formatTaxRate(i)},input:function(e){e.target.composing||t.$set(a,"TaxRate",e.target.value)}}})]),e("td",{staticClass:"text-center"},[0==i?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.addChild()}}},[e("em",{staticClass:"round-icon-small fa fa-plus bg-success float-none"})]):t._e(),i>0?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteItem(i)}}},[e("em",{staticClass:"round-icon-small fa fa-trash bg-danger float-none"})]):t._e()])])}))],2)])])])])]}}],null,!1,3641843924)})],1),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Skip"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.OnSubmit("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e()])])])])]):e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Tax"))+" "+t._s(t.$t("Category")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseTaxCategory}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{ref:"AddTaxCategoryForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.MandatoryString},on:{OnSubmit:t.OnSubmit},scopedSlots:t._u([{key:"tgslot-SlabRate",fn:function({data:a}){return[e("div",{staticClass:"container-fluid collapse show p-0",attrs:{id:"collapseOne1"}},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"Addresslist"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",attrs:{width:"5%"}},[t._v(" # ")]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("AmountFrom"))+" ")]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("AmountTo"))+" ")]),e("th",{staticClass:"text-center"},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.isTaxRate,expression:"isTaxRate"}]},[t._v(t._s(t.$t("TaxRates")))]),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isTaxRate,expression:"!isTaxRate"}]},[t._v(t._s(t.$t("TaxRates"))+"(%)")])]),e("th",{staticClass:"text-center"},[t._v(" "+t._s(t.$t("Actions"))+" ")])])]),e("tbody",[0===t.RateData.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"8"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._l(t.RateData,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[t._v(t._s(i+1))]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.AmountFrom,expression:"item.AmountFrom"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.AmountFrom},on:{blur:function(e){return t.validateAmounts(i)},input:function(e){e.target.composing||t.$set(a,"AmountFrom",e.target.value)}}})]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.AmountTo,expression:"item.AmountTo"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.AmountTo},on:{blur:function(e){return t.validateAmounts(i)},change:function(e){return t.updateNextAmountFrom(i)},input:function(e){e.target.composing||t.$set(a,"AmountTo",e.target.value)}}})]),e("td",{staticClass:"text-center"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.TaxRate,expression:"item.TaxRate"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:a.TaxRate},on:{blur:function(e){return t.formatTaxRate(i)},input:function(e){e.target.composing||t.$set(a,"TaxRate",e.target.value)}}})]),e("td",{staticClass:"text-center"},[0==i?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.addChild()}}},[e("em",{staticClass:"round-icon-small fa fa-plus bg-success float-none"})]):t._e(),i>0?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.deleteItem(i)}}},[e("em",{staticClass:"round-icon-small fa fa-trash bg-danger float-none"})]):t._e()])])}))],2)])])])])]}}])})],1)])])])],1)},o=[],n=(a("14d9"),a("9769")),l={props:{TaxCategoryData:{type:Object,Required:!0},ClientId:{type:Number,required:!0},LayoutType:{type:String,required:!0},tabCount:0,currentTabIndex:0},data(){return{MandatoryString:"Fields marked with an asterisk (*) are mandatory.",isLoading:!1,TaxCategoryId:0,Type:"",isTaxRate:!0,RateData:[{TaxSlabId:0,AmountFrom:"1.00",AmountTo:"∞",TaxRate:"00.00"}],FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Tax Category Name"),name:"TaxCategoryName",value:"",disabled:!1,visibility:!0,placeholder:this.$t("Tax Category Name"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"1001",visibility:!0,config:{options:[{name:"Active",value:1001},{name:"InActive",value:1002}]},placeholder:this.$t("Select Status"),validationRules:{required:!0,max:100}},{astype:"DateField",label:this.$t("Effective From "),name:"EffectiveFrom ",value:new Date,visibility:!0,placeholder:this.$t("Effective From"),config:{format:"M/D/YYYY",minDate:new Date,onChange:this.ChangeEffectiveFrom}},{astype:"DateField",label:this.$t("Effective To "),name:"EffectiveTo",value:"",visibility:!0,placeholder:this.$t("Effective To"),config:{format:"M/D/YYYY",minDate:""}},{astype:"SelectField",label:this.$t("Rate Type"),name:"RateType",disabled:!1,value:"",visibility:!0,config:{options:[{name:"Flat",value:"F"},{name:"Percentage",value:"P"}],onChange:this.changeRateLabel},placeholder:this.$t("Select Status"),validationRules:{required:!0,max:100}},{astype:"toggleField",label:this.$t("Tax Slab"),name:"TaxSlab",value:"",disabled:!1,placeholder:"",visibility:!0,config:{onChange:this.ChangeSlabRate}},{astype:"NumericField",label:this.$t("Rate(%)"),name:"Rate",value:"",visibility:!0,placeholder:this.$t("Enter Rate"),validationRules:{required:!0,max:100},config:{onKeyUp:this.validateRatePercentage}}]},{layoutType:"single",Data:[{astype:"SlotField",name:"SlabRate",value:"",visibility:!1,validationRules:{required:!1,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",config:{rows:3},placeholder:this.$t("Enter Tax Description"),validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseTaxCategory}]}},created:async function(){var t=this;t.LayoutType,null!=t.TaxCategoryData&&null==t.ClientId&&(t.TaxCategoryId=this.TaxCategoryData,t.Type="Tax_Category",t.TaxCategoryDetails("Tax_Category")),null!=t.TaxCategoryData&&null!=t.ClientId&&(t.TaxCategoryId=this.TaxCategoryData,t.Type="Tax_Client",t.TaxCategoryDetails("Tax_Client"))},methods:{validateRatePercentage:function(t){var e=this,a=e.FormSchema[0].Data[4].value;if("P"==a){const e=t.target;let a=parseFloat(e.value);if(isNaN(a))return;a>100?e.value="":a<0&&(e.value="0")}},ChangeEffectiveFrom(t){var e=t;this.FormSchema[0].Data[3].config.minDate=e},ChangeSlabRate(){var t=this,e=t.FormSchema[0].Data[5].value;e?(t.FormSchema[0].Data[6].visibility=!1,t.FormSchema[1].Data[0].visibility=!0):(t.FormSchema[1].Data[0].visibility=!1,t.FormSchema[0].Data[6].visibility=!0)},addChild(){const t=this.RateData[this.RateData.length-1],e=parseFloat(t.TaxRate);if(isNaN(e)||e<=0)return this.ShowAlert(this.$t("CannotAddNew"),"warning",!0,this.$t("Alert")),!1;this.RateData.push({AmountFrom:"00.00",AmountTo:"∞",TaxRate:"00.00"})},formatTaxRate(t){var e=this,a=e.FormSchema[0].Data[4].value;if("P"==a){const t=event.target;let e=parseFloat(t.value);if(isNaN(e))return;e>100?t.value="":e<0&&(t.value="0")}},updateNextAmountFrom(t){if(t<this.RateData.length-1){const e=parseFloat(this.RateData[t].AmountTo);if(!isNaN(e)){const a=(e+.01).toFixed(2);this.$set(this.RateData[t],"AmountTo",e.toFixed(2)),this.$set(this.RateData[t+1],"AmountFrom",a)}}},validateAmounts(t){const e=this.RateData[t],a=parseFloat(e.AmountFrom),s=parseFloat(e.AmountTo);if(!isNaN(a)&&!isNaN(s)){if(a>s&&(this.ShowAlert(this.$t("AmountFromCannot"),"warning",!0,this.$t("Alert")),i<this.RateData.length-1)){const t=parseFloat(this.RateData[i].AmountTo);if(!isNaN(t)){const e=(t+.01).toFixed(2);this.$set(this.RateData[i+1],"AmountFrom",e)}}if(s<a&&(this.ShowAlert(this.$t("AmountToCannot"),"warning",!0,this.$t("Alert")),this.$set(this.RateData[t],"AmountTo","00.00")),t<this.RateData.length-1){const e=parseFloat(this.RateData[t].AmountTo);if(!isNaN(e)){const a=(e+.01).toFixed(2);this.$set(this.RateData[t],"AmountTo",e.toFixed(2)),this.$set(this.RateData[t+1],"AmountFrom",a)}}}},deleteItem(t){this.RateData.splice(t,1)},CloseTaxCategory:function(){var t=this;t.$emit("CloseTaxCategory")},ReloadTaxCategory(){var t=this;t.$emit("ReloadTaxCategory")},TaxCategoryDetails(t){var e=this;e.isLoading=!0;var a=`TaxCategoryId=${e.TaxCategoryData}&Type=${t}`;n["a"].GetTaxCategoryDetails(a).then((function(t){if(e.isLoading=!1,t.data.result.DATA.length>0){var a=t.data.result.DATA;e.FormSchema[0].Data[0].value=a[0].name,e.FormSchema[0].Data[1].value=a[0].status_id,e.FormSchema[0].Data[2].value=a[0].effective_from,e.FormSchema[0].Data[3].value=a[0].effective_to,e.FormSchema[0].Data[4].value=a[0].rate_type,e.FormSchema[0].Data[5].value=a[0].is_slab_rate,e.FormSchema[0].Data[6].value=a[0].rate,e.FormSchema[2].Data[0].value=a[0].description,a[0].is_slab_rate?(e.FormSchema[0].Data[6].visibility=!1,e.FormSchema[1].Data[0].visibility=!0):(e.FormSchema[1].Data[0].visibility=!1,e.FormSchema[0].Data[6].visibility=!0),"F"==a[0].rate_type?(e.FormSchema[0].Data[6].label=e.$t("Rate"),e.isTaxRate=!0):"P"==a[0].rate_type&&(e.FormSchema[0].Data[6].label=e.$t("Rate(%)"),e.isTaxRate=!1)}t.data.result.SLABDATA.length>0&&(e.RateData=t.data.result.SLABDATA,e.RateData.forEach(t=>{0==t.AmountTo?t.AmountTo="∞":(t.AmountFrom=t.AmountFrom.toFixed(2),t.AmountTo=t.AmountTo.toFixed(2),t.TaxRate=t.TaxRate.toFixed(2))}))}))},changeRateLabel:function(t,e,a){var i=this,s=i.FormSchema[0].Data[4].value;"P"!=s&&"F"!=s||i.RateData.forEach(t=>{t.TaxRate=""}),"F"==e.value?(i.FormSchema[0].Data[6].label=this.$t("Rate"),i.FormSchema[0].Data[6].value="",i.isTaxRate=!0):"P"==e.value&&(i.FormSchema[0].Data[6].label=this.$t("Rate(%)"),i.FormSchema[0].Data[6].value="",i.isTaxRate=!1)},OnSubmit(t){var e,a=this;a.isLoading=!0,a.FormSchema[0].Data[5].value||(a.RateData[0].AmountTo="00.00"),a.RateData.forEach(t=>{"∞"==t.AmountTo&&(t.AmountTo="00.00")});var i={Type:a.Type,TaxCategoryId:a.TaxCategoryId,TaxCategoryName:a.FormSchema[0].Data[0].value,StatusId:a.FormSchema[0].Data[1].value,EffectiveFrom:a.FormSchema[0].Data[2].value,EffectiveTo:a.FormSchema[0].Data[3].value,RateType:a.FormSchema[0].Data[4].value,TaxSlab:a.FormSchema[0].Data[5].value,TaxRate:""==a.FormSchema[0].Data[6].value?"00.00":(Number(null===(e=a.FormSchema)||void 0===e||null===(e=e[0])||void 0===e||null===(e=e.Data)||void 0===e||null===(e=e[6])||void 0===e?void 0:e.value)||0).toFixed(2),TaxSlabData:a.RateData,TaxCategoryDescription:a.FormSchema[2].Data[0].value},s=JSON.stringify(i);n["a"].SaveTaxCategory(s).then((function(e){a.isLoading=!1,e.data.result.DATA.length>0?"UPDATE"==e.data.result.DATA[0].VALUE?(a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("TaxCategory")]),"success",!0,a.$t("Alert")),a.CloseTaxCategory(),a.ReloadTaxCategory(),a.$parent.FetchTaxList()):"EXISTS"==e.data.result.DATA[0].VALUE?a.ShowAlert(a.$t("AlreadyExists",[a.$t("TaxCategory")]),"warning",!0,a.$t("Alert")):(a.ShowAlert(a.$t("AddedSuccess",[a.$t("TaxCategory")]),"success",!0,a.$t("Alert")),a.CloseTaxCategory(),a.ReloadTaxCategory(),"SaveAndNext"==t&&a.$emit("nextTab",!0)):a.ShowAlert(a.$t("UnknownErrorOccur"),"failure",!0,a.$t("Alert"))}))},PreviousButton:function(){var t=this;t.$emit("previousTab")},Skip:function(){var t=this;t.$emit("nextTab",!0)}}},r=l,c=a("2877"),d=Object(c["a"])(r,s,o,!1,null,null,null);e["a"]=d.exports},"380c":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".initialsetuptabsbase .feature-body li i{color:#00b050;position:absolute;left:7px;font-size:22px;top:50%;margin-top:-11px}.initialsetuptabsbase .feature-body li:nth-child(odd){background:rgba(48,48,48,.03529411764705882)}.initialsetuptabsbase .feature-body li{position:relative;padding:10px;padding-left:40px;font-size:18px;min-height:110px;vertical-align:middle;color:#303030;display:flex;align-items:center}.initialsetuptabsbase .feature-head{padding:50px 22px 22px 22px;text-align:center;min-height:285px;vertical-align:middle}.initialsetuptabsbase .feature-head h3{background:linear-gradient(129.25deg,#ff358a 15.07%,#fea587 89.65%);background-clip:border-box;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;font-size:38px}.initialsetuptabsbase .recomended{background:#00b050;border-radius:100%;color:#fff;position:absolute;top:-35px;width:70px;left:50%;margin-left:-35px;font-weight:600;font-size:28px;height:70px;line-height:70px}.initialsetuptabsbase .features.withTal{border:2px solid #d27d8c;border-radius:25px;position:relative;margin-top:50px}.initialsetuptabsbase .features.withTal.visibleapp{border:2px solid #3981c1}.initialsetuptabsbase .visibleapp .feature-head h3{background:linear-gradient(129.25deg,#1c94ec 15.07%,#65b9f7 89.65%);background-clip:border-box;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;font-size:38px}.initialsetuptabsbase .visibleapp .recomended{background:#2197ed}.initialsetuptabsbase .visibleapp .feature-body li i{color:#2197ed}.initialsetuptabsbase table.silenttable tbody tr td{font-weight:400;padding:0 30px 30px 30px;vertical-align:top}@media (max-width:1024px){.initialsetuptabsbase .feature-head img{width:100%}}",""]),t.exports=e},"3ab1":function(t,e,a){var i=a("805c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("ea6e05ba",i,!0,{sourceMap:!1,shadowMode:!1})},"3ede":function(t,e,a){"use strict";a("cda6")},4295:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".enlarged-textarea{width:500px;height:50px}.colorpick{position:absolute;right:19px;top:46%;width:auto!important;height:28px;z-index:1}",""]),t.exports=e},"46ce":function(t,e,a){"use strict";a("ca28")},"4a0c":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,"#modelAddProduct .modal-dialog{max-width:1200px!important}#Location .vue-treeselect__control .vue-treeselect__x-container{display:none}#Location .vue-treeselect{position:relative;text-align:left}#Location .vue-treeselect--single .vue-treeselect__input{width:100%;height:100%;box-sizing:border-box;border:none}.vue-treeselect.form-control .vue-treeselect__control{border:none!important;height:auto}.vue-treeselect.form-control .vue-treeselect__control .vue-treeselect__single-value{line-height:20px;padding-left:0}.no-spinner::-webkit-inner-spin-button,.no-spinner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.no-spinner{-moz-appearance:textfield}.custlocation>span{width:91%}.custlocation .vue-treeselect__placeholder.vue-treeselect-helper-zoom-effect-off{line-height:22px}.modal-backdrop{visibility:hidden}",""]),t.exports=e},"4dbf":function(t,e,a){var i=a("123f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("aea0d9a0",i,!0,{sourceMap:!1,shadowMode:!1})},"4e26":function(t,e,a){var i=a("d9f3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("002a1ec3",i,!0,{sourceMap:!1,shadowMode:!1})},"4e75":function(t,e,a){var i=a("89bf");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("0921c454",i,!0,{sourceMap:!1,shadowMode:!1})},5082:function(t,e,a){var i=a("9b5f");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("50aeaef4",i,!0,{sourceMap:!1,shadowMode:!1})},"50a0":function(t,e,a){"use strict";var i=a("c427");class s{async AddTicketPriority(t){return await i["a"].instanceTicketing.post("Common/AddTicketPriority?"+t)}async IsExtraMapFeature(){return await i["a"].instanceTicketing.get("/ServiceAppointment/IsExtraMapFeature")}async GetConfigNumberJsonData(t){return await i["a"].instanceCRM.get("/Form/GetConfigNumberJsonData?"+t)}async SaveConfiguringJsonData(t){return await i["a"].instanceCRM.post("/Form/SaveConfiguringJsonData",{postString:t})}async SaveConfiguringJsonData(t){return await i["a"].instanceCRM.post("/Form/SaveConfiguringJsonData",{postString:t})}async GetSkill(){return await i["a"].instanceTicketing.get("/Common/GetSkill")}async GetDepartment(){return await i["a"].instanceTicketing.get("/Common/GetDepartment")}async CheckPrivilege(t){return await i["a"].instanceCommon.get("/Common/HasPermission?"+t)}async GetResolveTicketUserListbydept(t){return await i["a"].instanceTicketing.get("/Ticketing/GetResolveTicketUserList?"+t)}async GetGroupTicketData(t){return await i["a"].instanceTicketing.get("/FSM/GetTicketGroup?"+t)}async AddTicketGroup(t){return await i["a"].instanceTicketing.post("/FSM/AddTicketGroup?"+t)}async GetTicketGroupsForDropdownList(){return await i["a"].instanceTicketing.get("/FSM/GetTicketGroupsForDropdownList")}async AddTicketServiceBoard(t){return await i["a"].instanceTicketing.post("/FSM/AddTicketServiceBoard?"+t)}GetCountryDDL(t){return i["a"].instanceCommon.get("/Common/GetDDLData?"+t)}async GetTagsByModuleId(t){return await i["a"].instanceAsset.get("/GetTagsByModuleId?"+t)}GetStateListwithIDByCountryId(t){return i["a"].instanceAsset.get("/GetStateListwithIDByCountryId?"+t)}async GetLocationByCompanyIdAsset(t){return await i["a"].instanceAsset.get("/GetLocationByCompanyId?"+t)}LocationExist(t){return i["a"].instanceAsset.post("/LocationExist?"+t)}SaveUpdateLocation(t){return i["a"].instanceAsset.post("/SaveUpdateLocation",{postString:t})}GetAllowFileType(){return i["a"].instanceAsset.get("/CheckAllowFileType")}DownloadAttachment(t){return i["a"].instanceAsset.get("/DownloadAttachment?"+t)}async GetAssetItemStatusList(){return await i["a"].instanceAsset.get("/GetAssetItemStatusList")}AddProductType(t){return i["a"].instanceAsset.post("/AddProductType/",t)}GetAssetTagsById(t){return i["a"].instanceAsset.get("/GetAssetTagsById?"+t)}AssetGetById(t){return i["a"].instanceAsset.get("/AssetGetById?"+t)}AssetCatalogueListing(t){return i["a"].instanceAsset.get("/AssetCatalogueListing?",{params:t})}IsDuplicateAssetCatalog(t){return i["a"].instanceAsset.post("/IsDuplicateAssetCatalog?",{postString:t})}async GetLocationByuserId(t){return await i["a"].instanceAsset.get("/AssetAssignment/GetLocationByuserId?"+t)}async EnableAssetManagement(t){return await i["a"].instanceAsset.get("/EnableAssetManagement?"+t)}async GetCountryData(){return await i["a"].instanceCommon.get("HelpAndGuide/GetCountryList")}async AddLead(t){return await i["a"].instanceCRM.post("/AddLead",{postString:t})}async GetDDLDataForAddGroup(t){return await i["a"].instanceCRM.get("/Form/GetDDLData?"+t)}async SaveConfigData(t){return await i["a"].instanceCRM.post("/SaveConfigData",{postString:t})}async AddApprovalChain(t){return await i["a"].instanceApproval.post("/ApprovalChain/AddApprovalChain?",{postString:t})}async GetApprovalGroupByCompanyId(){return await i["a"].instanceApproval.get("/ApprovalChain/GetApprovalGroupByCompanyId?")}async GetByChainId(t){return await i["a"].instanceApproval.get("/ApprovalChain/GetByChainId?"+t)}async CheckDuplicate(t){return await i["a"].instanceApproval.get("/ApprovalChain/CheckDuplicate?"+t)}async AddGroup(t){return await i["a"].instanceApproval.post("/ApprovalGroup/AddGroup?",{postString:t})}async LoadUsersByCompanyId(t){return await i["a"].instanceApproval.get("/ApprovalRule/LoadUsersByCompanyId?"+t)}async GetLocationByCompanyId(t){return await i["a"].instanceApproval.get("/ApprovalRule/GetLocationByCompanyId?"+t)}async AddRule(t){return await i["a"].instanceApproval.post("/ApprovalRule/AddRule?",{postString:t})}async GetRuleById(t){return await i["a"].instanceApproval.get("/ApprovalRule/GetRuleById?"+t)}async GetUsersByProjectId(t){return await i["a"].instanceApproval.get("/ApprovalRule/LoadUsersByProjectId?"+t)}async LoadClientByProjectId(t){return await i["a"].instanceApproval.get("/ApprovalRule/LoadClientByProjectId?"+t)}async GetProjectListing(t){return await i["a"].instanceApproval.get("/ApprovalRule/GetProjectList?"+t)}async GetApprovalChainsByCompanyId(){return await i["a"].instanceApproval.get("/ApprovalRule/GetApprovalChainsByCompanyId?")}async CheckDuplicateRule(t){return await i["a"].instanceApproval.get("/ApprovalRule/ApprovalRuleExist?"+t)}async SwapApproverOrder(t){return await i["a"].instanceApproval.get("/ApprovalChain/SwapApproverOrderofApprovalGroups?"+t)}async DeleteApprovalGroup(t){return await i["a"].instanceApproval.post("/ApprovalChain/DeleteApprovalGroupFromApprovalChain?"+t)}async ApprovalGroupListByApprovalCHainId(t){return await i["a"].instanceApproval.get("/ApprovalRule/GroupList?"+t)}async CheckDuplicateGroup(t){return await i["a"].instanceApproval.get("/ApprovalGroup/CheckDuplicateGroup?"+t)}GetConfigDataValue(t){return i["a"].instanceDocStorage.get("/GetConfigDataValue?"+t)}SaveDocStorageSourceConfigData(t){return i["a"].instanceDocStorage.post("/SaveDocStorageSourceConfigData?"+t)}TestCredential(t){return i["a"].instanceDocStorage.post("/TestCredential?"+t)}GetStorageSourceList(){return i["a"].instanceDocStorage.get("/GetStorageSourceList")}GetStorageRegionList(t){return i["a"].instanceDocStorage.get("/GetStorageRegionList?"+t)}GetStorageSetupStatusDetail(){return i["a"].instanceDocStorage.get("/GetStorageSetupStatusDetail")}GetStorageReport(){return i["a"].instanceDocStorage.get("/GetStorageReport")}GetCompanyStorageSourceConfig(){return i["a"].instanceDocStorage.get("/GetCompanyStorageSourceConfig")}GetCompanyContainerDetails(){return i["a"].instanceDocStorage.get("/GetCompanyContainerDetails?")}SaveContainerDetails(t){return i["a"].instanceDocStorage.post("/SaveContainerDetails?"+t)}async GetUserStorageDetail(t){return await i["a"].instanceDocStorage.get("/GetUserStorageDetail?"+t)}ManageDocUserStorageSettingData(t){return i["a"].instanceDocStorage.post("/ManageDocUserStorageSettingData",t)}GetAllowedPrivilege(){return i["a"].instanceCommon.get("/Common/GetAllowedPrivilege")}async SaveSkill(t){return await i["a"].instanceHiring.post("/Form/SaveSkill",{postString:t})}async GetIndustryIcons(t){return await i["a"].instanceHiring.get("/Candidate/GetIcons?"+t)}async SaveIndustry(t){return await i["a"].instanceHiring.post("/Form/SaveIndustry",{postString:t})}async SaveFunctionalArea(t){return await i["a"].instanceHiring.post("/Form/SaveFunctionalArea",{postString:t})}async Saveproducttype(t){return await i["a"].instanceHiring.post("/Form/Saveproducttype",{postString:t})}async UpdateUserSettingConfig(t){return await i["a"].instanceCommon.post("/Common/UpdateUserSettingConfig?"+t)}async GetDDLData(t){return await i["a"].instanceCommon.get("/Common/GetDDLData?"+t)}async AddInterviewStage(t){return await i["a"].instanceHiring.post("/Candidate/AddInterviewStage",{postString:t})}async GetStatusList(t){return await i["a"].instanceCommon.get("/Common/GetStatusList?"+t)}async GetModuleList(){return await i["a"].instanceHiring.get("/Candidate/GetModuleList")}async AddFeedback(t){return await i["a"].instanceHiring.post("/Candidate/AddFeedbackk",{postString:t})}async ManageGetIndustry(t){return await i["a"].instanceHiring.get("/Form/ManageIndustry?"+t)}async GetConfigurationValue(t){return await i["a"].instanceExpense.get("/GetConfigurationValue?"+t)}async ExpenseGetProjectListing(t){return await i["a"].instanceExpense.get("/GetProjectList/",{params:t})}async GettTripListingddl(){return await i["a"].instanceExpense.get("/GetTripName/")}async GetTaskListingddl(t){return await i["a"].instanceExpense.get("/GetTaskByProject?"+t)}async GetCurrencyNameddl(){return await i["a"].instanceExpense.get("/GetCurrencyName/")}async GetTagNameddl(){return await i["a"].instanceExpense.get("/GetTagsByModuleId/")}async SaveUpdateExpense(t){return i["a"].instanceExpense.post("/ExpenseSaveUpdateExpense",t)}async GettCategoryListingddl(){return await i["a"].instanceExpense.get("/GetCategoryName/")}async SaveUpdateTrip(t){return i["a"].instanceExpense.post("/SaveUpdateTrip/",{postString:t})}async GetDynamicForm(t){return await i["a"].instanceCommon.get("/FormLayout/GetForm?"+t)}async SaveDynamicForm(t){return i["a"].instanceCommon.post("/FormLayout/SaveDynamicForm",{postString:t})}async DepartmentAdd(t,e){return await i["a"].instanceModals.post(e,{postString:t})}async SaveAddTicketDelayReason(t){return await i["a"].instanceTicketing.post("/FSM/SaveAddTicketDelayReason",{postString:t})}async FetchGetTicketDelayReasonList(t){return await i["a"].instanceTicketing.get("/FSM/GetTicketDelayReason?"+t)}async saveCheckinCheckoutSettings(t){return await i["a"].instance.post("/Common/saveCheckinCheckoutSettings",{postString:t})}async getCheckinCheckoutSettingForEdit(t){return await i["a"].instance.get("/Common/getCheckinCheckoutSettingForEdit",t)}}e["a"]=new s},"52fc":function(t,e,a){"use strict";a("4e26")},"5db3":function(t,e,a){var i=a("6c77");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("7872d913",i,!0,{sourceMap:!1,shadowMode:!1})},"5e99":function(t,e,a){var i=a("7f4b");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("8eb83e60",i,!0,{sourceMap:!1,shadowMode:!1})},"629e":function(t,e,a){"use strict";a("1eb5")},"643c":function(t,e,a){"use strict";a("5db3")},6440:function(t,e,a){"use strict";a("ad6a")},"6c77":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".device-mapping-note-2 i.fa-info-circle,.device-mapping-note i.fa-info-circle{position:absolute;left:15px;top:15px;font-size:26px}.device-mapping-note{position:relative}.device-mapping-option{width:calc(100% - 85px);padding:15px 0 15px 0}.device-mapping-note,.device-mapping-note-2{position:relative;padding-left:60px;background:#e2f7e8;padding:10px 30px 10px 60px;font-size:13px}.device-mapping-note-2{padding:10px 30px 30px 60px}",""]),t.exports=e},7386:function(t,e,a){"use strict";a("2486")},"76ec":function(t,e,a){var i=a("d017");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("72e56f70",i,!0,{sourceMap:!1,shadowMode:!1})},"7cfa":function(t,e,a){"use strict";a("4dbf")},"7f4b":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".is-invalid[data-v-14b08fbd]{border-color:red}",""]),t.exports=e},"805c":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".single-action{font-size:20px}.text-center{text-align:center!important}",""]),t.exports=e},8163:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,'.custom-low-bar>td:first-child:after{width:3px;content:"";height:calc(100% - 6px);background:#c7d321;display:block;position:absolute;left:0;top:3px}.card-detail span.viewicon{width:auto;float:right;margin-left:5px}.card-detail span.viewicon em{float:none;padding-right:0;width:19px}.verticle-action .fsm-list{width:110px!important}.update a{color:#000!important}',""]),t.exports=e},"89bf":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,"#AdditionalFrequency{flex:0 0 100%;max-width:100%}",""]),t.exports=e},"98b7":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("div",[e(t.component,{tag:"component",attrs:{isCompleted:t.isCompleted,moduleCode:t.moduleCode,tabCount:t.tabCount,currentTabIndex:t.currentTabIndex,reqFrom:t.reqFrom},on:{nextTab:t.NextTab,updateProgress:t.UpdateProgress,previousTab:t.PreviousTab,close:t.Close}})],1)},s=[],n=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"validatepriority",attrs:{lang:"en",schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.onSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.onSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])],1)},l=[],r=a("50a0"),c={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Priority Name"),name:"PriorityName",value:"",placeholder:this.$t("Enter Priority Name"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]},{layoutType:"double",Data:[{astype:"ColorField",label:this.$t("ColorField"),name:"ColorField",value:"",placeholder:"",validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("Display Order"),name:"DisplayOrder",value:"",config:{options:[{value:"1",name:"1"},{value:"2",name:"2"},{value:"3",name:"3"},{value:"4",name:"4"},{value:"5",name:"5"},{value:"6",name:"6"},{value:"7",name:"7"},{value:"8",name:"8"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]}],ListData:[]}},methods:{onSubmit(t,e){var a=this,i=a.$refs.validatepriority.getPropertyValue("PriorityName","value"),s=a.$refs.validatepriority.getPropertyValue("Status","value"),o=a.$refs.validatepriority.getPropertyValue("ColorField","value"),n=a.$refs.validatepriority.getPropertyValue("DisplayOrder","value"),l=`priorityId=0&priorityName=${i}&statusId=${s}&displayOrder=${n}&priorityColor=${o}`;a.$refs.validatepriority.validateForm.validate().then(t=>{t&&r["a"].AddTicketPriority(l).then(t=>{"1"==t.data?(a.ShowAlert("Priority successfully added.","success"),a.tabCount>1&&(a.$emit("nextTab"),a.$emit("updateProgress",a.currentTabIndex,!0)),a.tabCount==a.currentTabIndex&&a.$emit("close"),a.$parent.GetStorageSetupStatusDetail()):"2"==t.data?a.ShowAlert("Priority already Exist.","failure"):a.ShowAlert(a.$t("AddedError"),"failure")})})},Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},d=c,u=a("2877"),p=Object(u["a"])(d,n,l,!1,null,null,null),m=p.exports,h=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddLead",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])])])])},v=[],f=(a("14d9"),{props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{LeadData:[],username:null,userid:null,isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("FirstName"),name:"FirstName",value:"",placeholder:this.$t("FirstName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("LastName"),name:"LastName",value:"",placeholder:this.$t("LastName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("LeadEmail"),name:"LeadEmail",value:"",placeholder:this.$t("LeadEmail"),validationRules:{required:!0,email:!0}},{astype:"SelectField",label:this.$t("LeadOwner"),name:"LeadOwner",value:"",placeholder:this.$t("LeadOwner"),config:{options:[],onChange:this.onChangeProfile},validationRules:{required:!0}},{astype:"DateField",label:this.$t("LeadDate"),name:"LeadDate",value:new Date,placeholder:this.$t("LeadDate"),validationRules:{required:!0},config:{mode:"date",format:"M/D/YYYY"}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"1001",placeholder:this.$t("Status"),config:{options:[{name:"Active",value:1001},{name:"InActive",value:"1002"}],onChange:this.onChangeProfile},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Country"),name:"Country",value:"",placeholder:this.$t("Country"),config:{options:[],onChange:this.onChangeProfile},validationRules:{required:!0}}]}]}},created:function(){this.username=this.GetUserInfo.Name,this.userid=this.GetUserInfo.ID,this.GetCountryData(),this.GetLeadOwner()},methods:{GetCountryData:function(){var t=this;r["a"].GetCountryData().then((function(e){var a=e.data;a.forEach(e=>{t.FormSchema[0].Data[6].config.options.push({name:e.countrY_FULL_NAME,value:e.id})}),t.$refs.AddLead.UpdateKeyValue()}))},GetLeadOwner:function(){var t=this;t.FormSchema[0].Data[3].config.options.push({name:t.username,value:t.userid})},SaveSubmit:function(){var t=this;t.isLoading=!0,t.$refs.AddLead.validateForm.validate().then(e=>{if(e){var a={first_name:t.FormSchema[0].Data[0].value,last_name:t.FormSchema[0].Data[1].value,email:t.FormSchema[0].Data[2].value,lead_owner:t.FormSchema[0].Data[3].value,lead_date:t.FormSchema[0].Data[4].value,status_id:t.FormSchema[0].Data[5].value,country:t.FormSchema[0].Data[6].value},i=a;r["a"].AddLead(i).then((function(e){t.isLoading=!1,null!=e&&"Success"==e.data[0].Status&&(t.ShowAlert(t.$t("RecordsSavedSuccessfully")),t.tabCount>1?t.$emit("nextTab"):t.clearFields())}))}}),t.isLoading=!1},clearFields:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.FormSchema[0].Data[4].value="",t.FormSchema[0].Data[5].value="",t.FormSchema[0].Data[6].value="",t.$refs.validatePriority.validateForm.reset()},Skip:function(){var t=this;t.$emit("nextTab",!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")}}}),g=f,b=Object(u["a"])(g,h,v,!1,null,null,null),S=b.exports,y=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddConfig",attrs:{lang:"en",buttons:!1,schema:t.FormSchema,mandatorytext:t.$t("MandatoryString")},on:{OnSubmit:t.onSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.onSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.onSubmit("Save")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.onSubmit("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])])])])],1)},C=[],_=a("9769"),A={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{UserData:[],FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("User"),name:"User",value:"",placeholder:this.$t("User"),config:{options:[],onChange:this.onChangeProfile},validationRules:{required:!0}},{astype:"ToggleField",label:this.$t("CanViewAllCrmRecord"),name:"CanViewAllCrmRecord",value:"Yes",placeholder:"",validationRules:{required:!1}}]}],isLoading:!1}},created:function(){var t=this;t.GetUser()},methods:{PreviousButton:function(){var t=this;t.$emit("previousTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})},onSubmit:function(t){var e=this;e.$refs.AddConfig.validateForm.validate().then(t=>{if(t){var a={User:e.FormSchema[0].Data[0].value,CanViewAllCrmRecord:e.FormSchema[0].Data[1].value},i=JSON.stringify(a);r["a"].SaveConfigData(i).then(t=>{"INSERT"==t.data.result?(e.Finish(),e.ShowAlert(e.$t("AddedSuccess",[e.$t("Configuration")]),"success",!0,e.$t("Alert"))):"UPDATE"==t.data.result?e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Configuration")]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedError",[e.$t("Configuration")]),"danger",!0,e.$t("Alert")),e.isLoading=!1})}})},GetUser:function(){var t=this,e="moduleName=CRM_USER&type=USERS";r["a"].GetDDLDataForAddGroup(e).then(e=>{t.UserData=e.data.DATA,t.UserData.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({name:e.name,value:e.value})}),t.$refs.AddConfig.UpdateKeyValue()})},Skip:function(){var t=this;t.$emit("nextTab",!0)}}},D=A,T=Object(u["a"])(D,y,C,!1,null,null,null),w=T.exports,x=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("Form",{ref:"AddlocationRef"},[e("dynamic-form",{ref:"AddlocationRefForm",attrs:{lang:"en",buttons:[],schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-parent_location_id",fn:function({data:a}){return[e("div",{staticClass:"input-group custlocation"},[e("tree-view",{class:{"form-control":!0},attrs:{options:t.options,placeholder:"Select Location","show-count":!0},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}}),a.fieldInfo.config.showAddIcon?e("div",{staticClass:"ml-2 mt-1"},[e("a",{staticClass:"round-icon-small btn-dark theme-primary",on:{click:t.AddLocation}},[e("i",{staticClass:"fa fa-plus text-white pt-7 font-18",attrs:{alt:"+"}})])]):t._e()],1)]}}])}),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4 mr-3"},[t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn skip-btn-clr formbtn widthhalf px-4 mr-2",attrs:{title:"skip"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Skip"))+" ")]):t._e(),e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{type:"button"},on:{click:function(e){return t.onSubmit("Save")}}},[t._v(" "+t._s(t.$t("SaveAndNext"))+" "),e("em",{staticClass:"fa fa-chevron-right pl-2"})])])])],1)],1)],1)},k=[],I=a("ca17"),F=a.n(I),L=(a("542c"),{props:{popupCondition:{type:Boolean,required:!0},tabCount:0,currentTabIndex:0},components:{"tree-view":F.a},data(){return{TreeValue:null,FormSchema:[],isLoading:!1,buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Next",name:"Save"}],myObj:[],LocationData:[],CountryData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],StateData:[],TagData:[],CreatedAt:"",CreatedBy:"",ModifiedAt:"",ModifiedBy:"",DataLoaded:0,UserId:"",SetupProgresText:"",FindalLocationArray:[]}},created:async function(){var t=this;t.getForm(),await t.GetLocationByCompanyId(),t.UserId=t.GetUserInfo.ID},methods:{getForm:function(t){var e=this;e.isLoading=!0;var a="recordId=0&moduleName=Company&subModuleCode=Location";_["a"].GetDynamicForm(a).then((function(t){null!=t&&null!=t.data&&(e.FormSchema=e.$refs.AddlocationRefForm.ConvertCustomFieldIntoDynamicFormObj(t.data.data),e.FormSchema.forEach((t,a)=>{t.Data.forEach((t,a)=>{e.FormSchema.length>0&&("emailid"==t.name&&(t.validationRules={required:t.validationRules.required,max:t.validationRules.max,email:!0}),"parent_location_id"==t.name&&(t.config.showAddIcon=!1,t.astype="SlotField",t.is_required=!1),"tag_id"==t.name&&(t.mode="tag",t.astype="MultiSelectField",t.is_required=!1,t.config.showAddIcon=!1),"location_country"==t.name&&(t.config.onChange=e.onChangeDropdown))})}),e.isLoading=!1)}))},Skip:function(){var t=this;t.$parent.NextTab(!0)},async AdvancedSetupFields(){var t=this;"setup"==t.popupCondition&&(t.FormSchema[0].Data[6].visibility=!1,t.FormSchema[0].Data[7].visibility=!1,t.FormSchema[0].Data[8].visibility=!1,t.FormSchema[0].Data[9].visibility=!1,t.FormSchema[0].Data[10].visibility=!1,t.FormSchema[0].Data[11].visibility=!1,t.FormSchema[0].Data[12].visibility=!1,t.buttons[0].isVisible=!0,t.buttons[1].isVisible=!1,t.buttons[2].isVisible=!0,t.buttons[3].isVisible=!1,t.buttons[4].isVisible=!1)},GetCountryDDL:function(){var t="moduleName=CRM&type=COUNTRIES";_["a"].GetCountryDDL(t).then(t=>{t.data.DATA.forEach(t=>{this.FormSchema[0].Data[5].config.options.push({name:""+t.name,value:""+t.value})})})},async GetTagsByModuleId(){var t=this,e="modulename=Asset";await r["a"].GetTagsByModuleId(e).then((function(e){t.TagData=JSON.parse(e.data),t.TagData.data.forEach((e,a)=>{t.FormSchema[0].Data[12].config.options.push({name:e.TAG_NAME,value:e.TAG_ID})}),console.log(" GetTagsByModuleId  call end")}))},onChangeDropdown(t){var e=this,a="countryId="+t.target.value;r["a"].GetStateListwithIDByCountryId(a).then((function(t){e.StateData=JSON.parse(t.data).data,e.StateData=e.StateData.map(t=>({name:t.name,value:t.state_id})),$.each(e.FormSchema,(function(t,a){$.each(a.Data,(function(t,a){"location_state"==a.name&&(a.value="",a.config.options=e.StateData)}))})),e.$refs.AddlocationRefForm.UpdateKeyValue()}))},async GetLocationByCompanyId(){var t=this;t.isLoading=!0;var e="reqForm=";await r["a"].GetLocationByCompanyIdAsset(e).then((function(e){t.FindalLocationArray=[],t.LocationData=JSON.parse(e.data).data,t.LocationData.forEach(a=>{var i=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==i.length&&null==a.PARENT_LOCATION_ID){let i=a.COMPANY_LOCATION_ID,s=t.getChildLocation(i,a,JSON.parse(e.data).data);t.FindalLocationArray.push(s)}}),t.options=t.FindalLocationArray}))},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=s;var n=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let l=[];return n.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=l.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var n=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=n&&n.length>0){let s=i.getChildLocation(e,t,a);l.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},l.push(s)}}),o.children=l,o},GetStatusDDL(){var t=this;t.StatusData.forEach((e,a)=>{t.FormSchema[0].Data[2].config.options.push({name:e.name,value:e.value})})},ClosePopup(){var t=this;t.$parent.CloseLocationPopup()},onSubmit:function(t){var e=this,a="";e.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{"location_name"==t.name&&(a=t.value)})});var i=`LocationName=${a}&LocationId=0`;r["a"].LocationExist(i).then((function(a){e.LocationId=a.data.result,a.data.result>0?e.ShowAlert(e.$t("CostCentreExists",[e.$t("Location")]),"warning",!0,e.$t("Alert")):e.$refs.AddlocationRef.validate().then(a=>{if(a){e.isLoading=!0;var i=e.$refs.AddlocationRefForm.ConvertDynamicFormObjToCustomFieldObj(e.FormSchema);i.forEach((t,a)=>{"parent_location_id"==t.field_name&&(t.field_value=e.TreeValue)});var s={data:i,moduleCode:"Company",subModuleCode:"Location"};_["a"].SaveDynamicForm(JSON.stringify(s)).then((function(a){null!=a&&null!=a.data&&"Success"==a.data[0].Status?"SaveAndNew"==t?(e.$emit("nextTab"),e.isLoading=!1):"Save"==t&&(e.ShowAlert(e.$t("LocationSaveSuccessfully",[e.$t("Location")]),"success",!0,e.$t("Alert")),e.$emit("nextTab")):(e.ShowAlert(e.$t("ErrorWhileSaving",[e.$t("Product")]),"danger",!0,e.$t("Alert")),e.isLoading=!1)}))}})}))},resetForm(){this.FormSchema[0].Data.forEach(t=>{"TreeSelectField"==t.astype?t.value=null:(t.value="",t.validationRules.required=!0)})}}}),E=L,P=Object(u["a"])(E,x,k,!1,null,null,null),N=P.exports,R=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("Form",{ref:"AddProduct"},[e("dynamic-form",{ref:"AddProductForm",attrs:{buttons:[],schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-unit_price",fn:function({data:a}){return[e("div",{staticClass:"input-group"},[e("span",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[t._v(t._s(t.Currency))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control no-spinner",attrs:{type:"number",name:"unitprice",min:"0",maxlength:5,step:"any",pattern:"\\d+\\.?\\d?(?!\\d)"},domProps:{value:a.fieldInfo.value},on:{input:[function(e){e.target.composing||t.$set(a.fieldInfo,"value",e.target.value)},t.limitLength],keyup:function(e){return t.GetAssetCost(e,a.fieldInfo.value)}}})])]}},{key:"tgslot-asset_cost",fn:function({data:a}){return[e("div",{staticClass:"input-group"},[e("span",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[t._v(t._s(t.Currency))])]),e("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control no-spinner",attrs:{type:"number",min:0},domProps:{value:a.fieldInfo.value},on:{keyup:function(e){return t.GetUnitPrice(a.fieldInfo.value)},input:function(e){e.target.composing||t.$set(a.fieldInfo,"value",e.target.value)}}})])]}},{key:"tgslot-location_id",fn:function({data:a}){return[e("div",{staticClass:"input-group custlocation"},[e("tree-view",{class:{"form-control":!0},attrs:{options:t.options,placeholder:"Select Location","show-count":!0},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}}),a.fieldInfo.config.showAddIcon?e("div",{staticClass:"ml-2 mt-1"},[e("a",{staticClass:"round-icon-small btn-dark theme-primary",on:{click:t.AddLocation}},[e("i",{staticClass:"fa fa-plus text-white pt-7 font-18",attrs:{alt:"+"}})])]):t._e()],1)]}}])}),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4 mr-3"},[this.currentTabIndex>0?e("button",{staticClass:"btn btn-warning float-left px-4",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("em",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),this.tabCount>this.currentTabIndex?e("button",{staticClass:"btn skip-btn-clr formbtn widthhalf px-4 mr-2",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Skip"))+" ")]):t._e(),"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{type:"button"},on:{click:function(e){return t.onSubmit("SaveAndClose")}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.onSubmit("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])],1)],1)],1)},O=[],U=(a("b7ef"),{props:{tabCount:0,currentTabIndex:0,reqFrom:"",FromPage:{type:String,required:!1},popupCondition:{type:String,required:!1}},components:{"tree-view":F.a},data(){return{options:[],TreeValue:null,isLoading:!1,AssetType:[],BarcodeType:[],userLoggedIn2:!1,IsDeployment:!1,IsTagNamePopup:!1,LocationData:[],ShowAddLocation:!1,ShowAddProductType:!1,FromAddProduct:!1,DeploymentType:"",IsEnableAssetManagement:!1,fileUploaded:"",tagData:[],isCheckDeployItem:"",DeployProductValue:!1,StaticObj:[{layoutType:"single",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",config:{options:[],showAddIcon:!0,onAddButtonClick:this.AddLocation},validationRules:{required:!0}}]}],FormSchema:[],buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>1,onClick:this.PreviousButton},{type:"submit",class:"btn btn-secondary",text:"<i class='fa fa-angle-double-left pr-2'></i>Back",onClick:this.BackButton,isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Close",name:"SaveAndClose",isVisible:!(this.tabCount>this.currentTabIndex),onClick:this.onSubmit}],DataLoaded:0,TagsArray:[],tags:[],file:[],CurrentTab:1,step:3,SetupProgress:0,count:0,PageSize:10,PageNumber:1,SortBy:"",SortExp:"",IsClientStoragesCopmleted:!1,UserType:"",fileMulitpleData:[],AllowedFileType:[],currency:"",SaveTags:[],acceptArray:[],ModelTitle:"Add Product"}},watch:{CurrentTab:{handler(t,e){3==t&&this.getForm()}}},async created(){var t=this;""!=t.FromPage&&null!=t.FromPage||(t.FromPage="AddProduct"),await t.GetAllowFileType(),t.AdvancedSetupFields(),await t.EnableAssetManagement(),t.Currency=this.GetUserInfo.Currency,await t.getForm(),await t.AssetCatalogueListing(),await t.GetProgress(),await t.GetLocationByCompanyId(),t.DataLoaded=1},mounted(){$("#modelAddProduct").modal({backdrop:"static",keyboard:!1})},methods:{closeSetupSetting(){this.$emit("CloseSetup")},async GetAllowFileType(){var t=this;await r["a"].GetAllowFileType().then(e=>{if(null!=e.data){const a=e.data.AllowedFileTypes.split(",");a.forEach(e=>{const a=e.trim().replace(/\./g,"");t.acceptArray.push({fileType:a,iconClass:"fa-file-image-o"})})}})},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})},getForm:async function(t){var e=this;e.isLoading=!0;var a="recordId=0&moduleName=Asset&subModuleCode=MANAGE_PRODUCT&usefor=Add";await _["a"].GetDynamicForm(a).then((function(t){if(null!=t&&null!=t.data&&""!=t.data){if("undefined"!=typeof t.data.configdata&&t.data.configdata.length>0){var a=t.data.configdata;a.forEach((function(t){"TicketDisallowedFileTypes"==t.CORE_CONFIG_KEY&&(e.AllowedFileType=t.CONFIG_DATA_VALUE)}))}t.data.data;e.FormSchema=e.$refs.AddProductForm.ConvertCustomFieldIntoDynamicFormObj(t.data.data),e.FormSchema.forEach((t,a)=>{t.Data.forEach((a,i)=>{"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!1,t.visibility=!1),"quantity"==a.name&&(a.is_required=!0,a.validationRules={required:!0,max:7}),"unit_price"==a.name&&(a.astype="SlotField",a.is_required=!1,a.validationRules={required:!1,max:5}),"asset_cost"==a.name&&(a.astype="SlotField"),"location_id"==a.name&&(a.config.showAddIcon=!1,a.config.onAddButtonClick=e.AddLocation,a.astype="SlotField",a.is_required=!1),"deployement_type"==a.name&&(a.value="1"),"type"==a.name&&(a.value=!1),"create_unique_name_list"==a.name&&(a.value=!1,e.ModelTitle=t.group_name),"asset_type_id"==a.name&&"AdvanceSettings"!=e.FromPage&&(a.config.showAddIcon=!1,a.config.onAddButtonClick=e.OpenAddProductTypePopup),"tag_id"==a.name&&(a.mode="tag",a.is_required=!1,a.config.showAddIcon=!1,a.config.onAddButtonClick=e.OpenAddTagPopup),"type"==a.name&&(a.value=!1,a.is_required=!0),"status_id"==a.name&&(a.visibility=!0),"attachment_path"==a.name&&(a.showLabel=!0,e.acceptArray.length>0&&(a.config={maxSize:5,onDeleteSelectedFiles:e.onDeleteSelectedFiles,accept:e.acceptArray,showAddIcon:!1,onAddButtonClick:"",multiple:!1})),a.config.onChange=e.onChangeEventForFields})}),e.isLoading=!1}}))},onChangeEventForFields:function(t,e,a){let i=this;"type"==e.name&&i.FormSchema.forEach((t,a)=>{t.Data.forEach((a,i)=>{e.value?"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!0,t.visibility=!0):"deployement_type"!=a.name&&"location_id"!=a.name&&"quantity"!=a.name&&"unit_price"!=a.name&&"asset_cost"!=a.name||(a.visibility=!1,t.visibility=!1)})}),"attachment_path"==e.name&&i.GetBase64String(e.value);parseFloat(""==i.FormSchema[2].Data[1].value?0:i.FormSchema[2].Data[1].value);var s=parseFloat(""==i.FormSchema[2].Data[2].value?0:i.FormSchema[2].Data[2].value);if("quantity"==e.name)if(parseFloat(e.value)>0&&s>0){var o=parseFloat(e.value)*parseFloat(s);i.FormSchema[2].Data[3].value=o.toFixed(3)}else i.FormSchema[2].Data[3].value="0.000"},GetBase64String:function(t){try{var e=this,a=t[0],i=new FileReader;let s={};i.onload=function(t){return function(t){var i=t.target.result,o=window.btoa(i),n=a.name;e.fileName=n;var l=n.lastIndexOf("."),r=n.substring(l+1,n.length);e.fileExt+="."+r;var c='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+r+'"}',d=a.size;e.fileSize=d,s.attachement_mime=c,s.fileName=n,s.base64String=o,s.fileSize=a.size,s.contentType=a.type,s.ModuleName="Asset",s.SubModuleCode="Manage_Products",e.fileMulitpleData.push(s)}}(),i.readAsBinaryString(a)}catch(s){}},onDeleteSelectedFiles:function(){this.$delete(this.FormSchema[4].Data[0].config,"showSelectedFiles")},OnDeplymentType(t,e){e.value=t.target.getAttribute("data-value"),console.log(t.target.getAttribute("data-value"))},async AssetCatalogueListing(){var t=this;t.isLoading=!0;var e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&${t.searchCondition}`;await r["a"].AssetCatalogueListing(e).then(e=>{e.data.length>0?(t.count=t.count+1,t.SetupProgresText="Completed"):t.SetupProgress=0,t.isLoading=!1})},GetProgress(){var t=this;1==t.count?t.SetupProgress=33.33:2==t.count?t.SetupProgress=66.66:3==t.count&&(t.SetupProgress=100)},BackButton(){var t=this;t.SkipTab(2)},SkipTab:function(t){var e=this;e.step=t,e.CurrentTab=t},Skip:function(){var t=this;t.$parent.NextTab(!0)},AdvancedSetupFields(){var t=this;"setup"==t.popupCondition&&(t.step=1,t.buttons[0].isVisible=!0,t.buttons[1].isVisible=!0,t.buttons[2].isVisible=!1,t.buttons[3].isVisible=!1,t.buttons[4].isVisible=!0)},async GetTagsByModuleI(){var t=this;await r["a"].GetTagsByModuleId("moduleName=Asset").then((function(e){t.TagsArray=JSON.parse(e.data).data,t.TagsArray.forEach((e,a)=>{t.FormSchema[0].Data[5].config.options.push({name:e.TAG_NAME,value:e.TAG_ID})})}))},HideShowDeployProductFields(t){var e=this;1==t?("setup"==e.popupCondition?(e.FormSchema[2].Data[0].visibility=!1,e.FormSchema[3].Data[0].visibility=!0):(e.FormSchema[2].Data[0].visibility=!0,e.FormSchema[3].Data[0].visibility=!1),e.FormSchema[4].Data[0].visibility=!0,e.FormSchema[4].Data[1].visibility=!0,e.FormSchema[4].Data[2].visibility=!0,e.FormSchema[4].Data[3].visibility=!0):(e.popupCondition,e.FormSchema[2].Data[0].visibility=!1,e.FormSchema[3].Data[0].visibility=!1,e.FormSchema[4].Data[0].visibility=!1,e.FormSchema[4].Data[1].visibility=!1,e.FormSchema[4].Data[2].visibility=!1,e.FormSchema[4].Data[3].visibility=!1)},onSubmit:function(t){var e=this;e.$refs.AddProduct.validate().then(a=>{if(a){e.isLoading=!0;var i=e.$refs.AddProductForm.ConvertDynamicFormObjToCustomFieldObj(e.FormSchema);i.forEach((t,a)=>{if("type"==t.field_name&&(1==t.field_value?t.field_value=1:t.field_value=2),"create_unique_name_list"==t.field_name&&(1==t.field_value?t.field_value=1:t.field_value=0),"location_id"==t.field_name&&(t.field_value=null==e.TreeValue?0:e.TreeValue),"unit_price"==t.field_name&&(e.FormSchema[2].Data[2].value>0?t.field_value=e.FormSchema[2].Data[2].value:t.field_value=0),"asset_cost"==t.field_name&&(t.field_value=e.FormSchema[2].Data[3].value),"tag_id"===t.field_name){const e=t.field_value;e.forEach(t=>{t.tagId=t.value});const a=e.map(t=>t.tagId).join(",");t.field_value=a}});var s={data:i,moduleCode:"Asset",subModuleCode:"Manage_Product",attachmentData:e.fileMulitpleData.length>0?e.fileMulitpleData:null};r["a"].IsDuplicateAssetCatalog(JSON.stringify(s)).then((function(a){if(a.data.isSave){let i={field_name:"item_code",field_value:a.data.itemCode};s.data.push(i),_["a"].SaveDynamicForm(JSON.stringify(s)).then((function(a){null!=a&&null!=a.data&&"Success"==a.data[0].Status?(e.ShowAlert(e.$t("Product has been Saved Successfully"),"success",e.$t("Alert")),"SaveAndFinish"==t&&e.Finish(),e.isLoading=!1,e.$emit("close")):(e.ShowAlert(e.$t("ErrorWhileSaving",[e.$t("Product")]),"danger",!0,e.$t("Alert")),e.isLoading=!1)}))}else e.ShowAlert(e.$t("AlreadyExistRec"),"danger",!0,e.$t("Alert")),e.isLoading=!1}))}})},setFile:function(t){var e=this;for(let a=0;a<t.target.files.length;a++){const i=t.target.files[a];e.file.push(i)}},isDeployProduct(){var t=this;t.FormSchema[3].Data[0].isVisible=!0},GetAssetCost(t,e){var a=this,i=parseFloat(""==a.FormSchema[2].Data[1].value?0:a.FormSchema[2].Data[1].value),s=parseFloat(e);if(e.length>5&&(a.FormSchema[2].Data[2].value=e.slice(0,5),a.ShowAlert(a.$t("The Unit Price field may not be greater than 5 characters"),"failure",a.$t("Alert"))),s>0&&i>0){var o=parseFloat(s)*parseFloat(i);a.FormSchema[2].Data[3].value=o.toFixed(3)}else a.FormSchema[2].Data[3].value="0.000"},GetUnitPrice(t){var e=this,a=parseFloat(""==e.FormSchema[2].Data[1].value?0:e.FormSchema[2].Data[1].value),i=parseFloat(""==e.FormSchema[2].Data[2].value?0:e.FormSchema[2].Data[2].value);if(a>0&&i>0){var s=parseFloat(i)*parseFloat(a);e.FormSchema[2].Data[3].value=s.toFixed(3)}else e.FormSchema[2].Data[3].value="0.000"},UploadFile(t){var e=this;e.fileUploaded=t.target.files[0]},removeTag:function(t){var e=this;e.confirmR(e.$t("ConfirmRemoveTag"),!0,e.$t("Delete"),(function(){var a=e.tagData.findIndex(e=>e.TAG_ID===t);a>-1&&e.tagData.splice(a,1)}))},AddLocation(){var t=this;t.IsDeployment=!0,t.ShowAddLocation=!0},GetLocationByCompanyId:async function(){var t=this;t.LocationData=[];var e="reqForm=assetassignment";await r["a"].GetLocationByCompanyIdAsset(e).then(e=>{t.FindalLocationArray=[],t.LocationData=JSON.parse(e.data).data,"undefined"==typeof t.$route.params.reqForm||"pendingRequest"==t.$route.params.reqForm&&""!=t.GetParentDetails&&null!=t.GetParentDetails?t.TreeValue=null:t.TreeValue=e.data.data[0].COMPANY_LOCATION_ID,t.LocationData.forEach(e=>{var a=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==e.COMPANY_LOCATION_ID}));if(0==a.length&&null==e.PARENT_LOCATION_ID){let a=e.COMPANY_LOCATION_ID,i=t.getChildLocation(a,e,t.LocationData);t.FindalLocationArray.push(i)}}),t.options=t.FindalLocationArray})},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=s;var n=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let l=[];return n.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=l.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var n=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=n&&n.length>0){let s=i.getChildLocation(e,t,a);l.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},l.push(s)}}),o.children=l,o},OpenAddTagPopup(){var t=this;t.ShowAddProduct=!0,$("#modelAddProduct").modal("show"),setTimeout((function(){$("#modelAddProduct").modal("show"),setTimeout((function(){t.SetBootstraptoolTip()}),200)}),1e3),t.FromAddProduct=!0,t.IsTagNamePopup=!0},close(){var t=this;"AdvanceSettings"!=t.FromPage&&("setup"==t.popupCondition?(t.$parent.showpopup=!1,t.$parent.GetProgresSetupStatusDetail()):($("#modelAddProduct").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),t.$parent.FetchData(),t.$parent.ShowAddProduct=!1))},closeAddProduct(){var t=this;"setup"==t.popupCondition?t.$parent.showpopup=!1:t.$parent.ShowAddProduct=!1},CloseTagPopup(){var t=this;t.getForm(),t.IsTagNamePopup=!1},async CloseLocationPopup(){var t=this;t.LocationData=[],t.FindalLocationArray=[],await t.GetLocationByCompanyId(),setTimeout((function(){t.HideShowDeployProductFields(!0)}),500),t.isLoading=!1,t.ShowAddLocation=!1},async EnableAssetManagement(){let t="moduleName=Asset&configkey=CanSeeAssetManagement";await r["a"].EnableAssetManagement(t).then(t=>{this.IsEnableAssetManagement=t.data})},OpenAddProductTypePopup(){var t=this;t.FromPage="AddProduct",t.ShowAddProductType=!0},ClosePopupProductType(){var t=this;t.ShowAddProductType=!1,t.getForm()},PreviousButton:function(){var t=this;t.$emit("previousTab")}}}),M=U,G=(a("1411"),Object(u["a"])(M,R,O,!1,null,null,null)),B=G.exports,V=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("Form",{ref:"updateValues"},[t.DataLoaded?e("dynamic-form",{ref:"updateValue",attrs:{buttons:[],schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-GracePeriod",fn:function({data:a}){return[e("div",{staticClass:"form-group"},[e("Field",{staticClass:"w-100",attrs:{rules:{required:!0},name:"Grace Period"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("div",{staticClass:"d-flex"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.GracePeriod,expression:"GracePeriod"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{type:"number",name:"GracePeriod"},domProps:{value:t.GracePeriod},on:{keyup:function(e){return t.handleChange(t.GracePeriod)},input:function(e){e.target.composing||(t.GracePeriod=e.target.value)}}}),e("span",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text",attrs:{id:"spnOutOF"}},[t._v("Days")])])]),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"GracePeriod"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]}},{key:"tgslot-ProductTypeCode",fn:function({data:a}){return[e("div",{staticClass:"form-group"},[e("div",{staticClass:"d-flex"},[e("a",{attrs:{href:"javascript:;","data-toggle":"tooltip","data-trigger":"click",title:"Please enter the product type code. Else four digit product type code will be generated by system."},on:{click:t.toggleTip}},[e("i",{staticClass:"fa fa-question-circle-o text-popover",staticStyle:{"font-size":"14px"}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.ProductTypeCode,expression:"ProductTypeCode"}],staticClass:"form-control",attrs:{type:"text",name:"ProductTypeCode",maxlength:4},domProps:{value:t.ProductTypeCode},on:{input:function(e){e.target.composing||(t.ProductTypeCode=e.target.value)}}})])])]}},{key:"tgslot-tblContainer",fn:function({data:a}){return[t.IsShowCompartments?e("div",{staticClass:"table-responsive"},[e("Form",{ref:"AddProductType"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 m-0",attrs:{id:"tblContainerList"}},[e("thead",{staticClass:"thead-bg",attrs:{id:"divgrid"}},[e("th",{staticStyle:{"min-width":"142px"}},[e("span",{staticClass:"float-left"},[t._v("Compartments")]),e("span",{staticClass:"text-danger float-left"},[t._v("*")])]),e("th",{staticClass:"text-center",staticStyle:{"min-width":"100px"}},[e("span",[t._v("Action")])])]),e("tbody",t._l(t.tableRows,(function(a,i){return e("tr",{key:i,attrs:{id:"datarow"}},[e("td",[e("Field",{attrs:{name:t.$t("CompartmentName"),rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.InputContainervalue,expression:"item.InputContainervalue"}],class:{"form-control":!0,"is-invalid":s[0]},attrs:{id:"container_name_"+i,type:"text",maxlength:"200",placeholder:"Fill the compartment name"},domProps:{value:a.InputContainervalue},on:{input:[function(e){e.target.composing||t.$set(a,"InputContainervalue",e.target.value)},function(e){return t.startValidationTimer(i)}]}}),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:t.$t("CompartmentName")}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1),e("td",[e("a",{staticClass:"round-icon-small btn-danger-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Delete"}},[e("em",{staticClass:"recyclebin fa fa-trash",on:{click:function(e){return t.RemoveContainerRow(i)}}})]),e("a",{staticClass:"add round-icon-small btn-success-light float-none d-inline-block",attrs:{href:"javascript:;",title:"Add"},on:{click:function(e){return t.AddContainerRow()}}},[e("em",{staticClass:"fa fa-plus"})])])])})),0)])])],1):t._e()]}}],null,!1,1528001692)}):t._e()],1),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4 mr-3"},[this.currentTabIndex>0?e("button",{staticClass:"btn btn-warning float-left px-4",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("em",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),this.tabCount>this.currentTabIndex?e("button",{staticClass:"btn skip-btn-clr formbtn widthhalf px-4 mr-2",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Skip"))+" ")]):t._e(),e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{type:"button"},on:{click:function(e){return t.onSubmit("Save")}}},[t._v(" "+t._s(t.$t("SaveAndNext"))+" "),e("em",{staticClass:"fa fa-chevron-right pl-2"})])])])],1)],1)},q=[],z={props:{popupCondition:{type:Boolean,required:!0},AseetTypeIde:{type:Number,required:!1},FromPage:{type:String,required:!1},tabCount:0,currentTabIndex:0},components:{},data(){return{isLoading:!1,FormSchema:[{layoutType:"triple",groupLayoutType:"single",group_name:"Product Type",group_display_name:this.$t("ItemType"),Data:[{astype:"TextField",label:this.$t("ItemNameType"),name:"ItemNameType",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"SlotField",label:this.$t("ProductTypeCode"),name:"ProductTypeCode",value:"",placeholder:"",validationRules:{max:4}},{astype:"toggleField",label:this.$t("Container"),name:"Container",value:"",placeholder:"",config:{onChange:this.ContainerDeleteConfirm}},{astype:"SlotField",showLabel:!1,label:this.$t("Container"),name:"tblContainer",value:"",placeholder:"",config:{options:[]},visibility:!0}]},{layoutType:"single",groupLayoutType:"single",Data:[{astype:"FileField",showLabel:!0,label:this.$t("AttachItemImage"),name:"AttachItemImage",value:"",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,accept:[],showSelectedFiles:[{attachmentId:"1",attachmentName:"",attachmentPath:""}],onClickSelectedFiles:this.onClickSelectedFile,onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.setFile1,showAddIcon:!1,onAddButtonClick:this.AddFileMore,multiple:!1}}]},{layoutType:"Single",groupLayoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]},{layoutType:"four",groupLayoutType:"single",group_name:"Product Categories",group_display_name:this.$t("ProductCategories"),Data:[{astype:"toggleField",label:this.$t("Asset_No"),name:"Asset_No",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Consumable"),name:"Consumable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("License"),name:"License",value:"",placeholder:""},{astype:"toggleField",label:this.$t("MaterialSpareParts"),name:"MaterialSpareParts",value:"",placeholder:""}]},{layoutType:"single",groupLayoutType:"single",Data:[{astype:"MultiSelectField",label:this.$t("Tags"),name:"Tags",value:"",mode:"tag",placeholder:this.$t("Select")+" "+this.$t("Tags"),config:{options:[],showAddIcon:!0,onAddButtonClick:this.OpenAddTagPopup}}]},{layoutType:"four",groupLayoutType:"single",group_name:"Hardware Integration Type",group_display_name:this.$t("HardwareIntegrationType"),Data:[{astype:"toggleField",label:this.$t("Time_n_Attendance"),name:"Time_n_Attendance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Camera"),name:"Camera",value:"",placeholder:""},{astype:"toggleField",label:this.$t("RFID"),name:"RFID",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPSTracking"),name:"GPSTracking",value:"",placeholder:""}]},{layoutType:"four",groupLayoutType:"single",group_name:"Action Based Properties",group_display_name:this.$t("ActionBasedProperties"),Data:[{astype:"toggleField",label:this.$t("IsTransferable"),name:"IsTransferable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("IsSelfCheckOut"),name:"IsSelfCheckOut",value:"",placeholder:"",config:{onChange:this.OnIsSelfCheckOut}},{astype:"toggleField",label:this.$t("SelfieEnable"),name:"SelfieEnable",value:"",placeholder:"",visibility:!1},{astype:"toggleField",label:this.$t("EmployeeAcceptance"),name:"EmployeeAcceptance",value:"",placeholder:""},{astype:"toggleField",label:this.$t("EnableTerms"),name:"EnableTerms",value:"",placeholder:""},{astype:"toggleField",label:this.$t("GPS_Enable"),name:"GPS_Enable",value:"",placeholder:""},{astype:"toggleField",label:this.$t("Fleet_Management"),name:"Fleet_Management",value:"",placeholder:""},{astype:"toggleField",label:this.$t("PenaltyOnStatus"),name:"PenaltyOnStatus",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnStatus}},{astype:"SelectField",label:this.$t("Status"),name:"AssetReplacementType",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]},visibility:!1},{astype:"toggleField",label:this.$t("PenaltyOnReturnOverdue"),name:"PenaltyOnReturnOverdue",value:"",placeholder:"",config:{onChange:this.OnPenaltyOnReturnOverdue}},{astype:"SlotField",label:this.$t("GracePeriod"),name:"GracePeriod",value:"",placeholder:"",config:{options:[]},visibility:!1,validationRules:{required:!0}}]},{layoutType:"four",groupLayoutType:"single",group_name:"Deployment Properties",group_display_name:this.$t("DeploymentProperties"),Data:[{astype:"ToggleField",label:this.$t("InsurancePolicy"),name:"InsurancePolicy",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("Calibration"),name:"Calibration",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("ItemCost"),name:"ItemCost",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("IsWarranty"),name:"IsWarranty",value:"",placeholder:""},{astype:"ToggleField",label:this.$t("Depreciable"),name:"Depreciable",value:"",placeholder:""}]}],buttons:[{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>0,onClick:this.PreviousButton},{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save And Next",value:"Save",name:"Save"},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & New",name:"SaveAndNew",isVisible:!1},{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save & Next",name:"SaveAndNext",isVisible:!1}],StatusDDL:[{label:"Active",value:1001},{label:"Inactive",value:1002}],AssetReplacementTypeDDL:[],IsTagNamePopup:!1,FromAddProduct:!1,IsShowCompartments:!1,lbl:!1,tableRows:[],currentInputIndex:0,AssetTypeCode:"",userId:null,companyId:null,DataLoaded:0,TagsArray:[],file:[],file1:[],ShowAddProduct:!1,CompartmentListData:[],Count:0,checkFieldsvalue:!1,TypeData:[],TagsSelectedArray:[],ProductTypeCode:"",validationTimer:null,AllContainerDeletePopup:!1,GracePeriod:""}},created:async function(){var t=this;t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.Name,await t.GetTagsByModuleI(),await t.BindStatus(),t.AseetTypeIde>0?(await t.GetAssetTagsById(),await t.FetchData()):delete t.FormSchema[1].Data[0].config.showSelectedFiles,await t.GetAllowFileType(),t.DataLoaded=1},methods:{PreviousButton:function(){var t=this;t.$emit("previousTab")},async GetAllowFileType(){await r["a"].GetAllowFileType().then(t=>{if(null!=t.data){const e=t.data.AllowedFileTypes.split(","),a=this.FormSchema[1].Data[0].config.accept;e.forEach(t=>{const e=t.trim().replace(/\./g,"");a.push({fileType:e,iconClass:"fa-file-image-o"})})}})},onDeleteSelectedFiles:function(t){this.$delete(this.FormSchema[1].Data[0].config,"showSelectedFiles")},onClickSelectedFile(t){var e=this;e.isLoading=!0;var a=e.TypeData[0].ATTACHMENT_PATH.split("/")[4]+"/"+e.TypeData[0].ATTACHMENT_PATH.split("/")[5]+"/"+e.TypeData[0].ATTACHMENT_PATH.split("/")[6]+"/"+e.TypeData[0].ATTACHMENT_PATH.split("/")[7],i=e.TypeData[0].ATTACHMENT_PATH.split(".")[5],s=e.TypeData[0].ATTACHMENT_NAME,o="filePath="+a;r["a"].DownloadAttachment(o).then(t=>{if(null!=t.data&&200===t.status){const o=t.data,n=`data:${i};base64,${o}`;var a=document.createElement("a");a.href=n,a.setAttribute("download",s),document.body.appendChild(a),a.click(),e.isLoading=!1}else e.isLoading=!1})},toggleTip(){$('[data-toggle="tooltip"]').tooltip({trigger:"click"}).on("shown.bs.tooltip",(function(){var t=$(this);setTimeout((function(){t.tooltip("hide")}),2e3)}))},onChangeContainer(t,e,a){var i=this;i.FormSchema[0].Data[4].value=a.target._value},handleChange(t){var e=this;if(""!==t.trim()){if(t=parseInt(t,10),isNaN(t))return e.ShowAlert(e.$t("EnterValidNumber"),"warning",e.$t("Alert")),void(e.GracePeriod="");t<1?e.GracePeriod=1:t>365&&(e.GracePeriod=365)}},async OnPenaltyOnStatus(t){var e=this;e.FormSchema[6].Data[8].config.options=[],e.FormSchema[6].Data[8].visibility=!0,1==t?await r["a"].GetAssetItemStatusList().then((function(t){e.AssetReplacementTypeDDL=t.data,e.AssetReplacementTypeDDL.forEach(t=>{e.FormSchema[6].Data[8].config.options.push({name:t.STATUS_NAME,value:t.STATUS_ID})}),e.$refs.updateValue.UpdateKeyValue()})):0==t&&(e.FormSchema[6].Data[8].value="",e.FormSchema[6].Data[8].visibility=!1)},OnIsSelfCheckOut(t){var e=this;1==t?e.FormSchema[6].Data[2].visibility=!0:0==t&&(e.FormSchema[6].Data[2].visibility=!1)},OnPenaltyOnReturnOverdue(t){var e=this;1==t?e.FormSchema[6].Data[10].visibility=!0:0==t&&(e.FormSchema[6].Data[10].visibility=!1)},Skip(){var t=this;t.$parent.NextTab(!0)},AdvancedSetupFields(){var t=this;"setup"==t.popupCondition&&(t.buttons[0].isVisible=!0,t.buttons[1].isVisible=!0,t.buttons[2].isVisible=!1,t.buttons[3].isVisible=!0,t.buttons[4].isVisible=!1)},OpenAddTagPopup(){var t=this;t.IsTagNamePopup=!0},setFile1:function(t){var e=this;for(let a=0;a<t.target.files.length;a++){const i=t.target.files[a];e.file1.push(i)}},BindStatus(){var t=this;t.StatusDDL.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.label,value:""+e.value})}),setTimeout(()=>{t.$refs.updateValue.UpdateKeyValue()},500)},onSubmit:function(t){var e=this;e.$refs.updateValues.validate().then(a=>{if(a)if(e.buttons[1].class+=" disabled",e.isLoading=!0,e.Count=0,0==e.FormSchema[3].Data[0].value&&0==e.FormSchema[3].Data[1].value&&0==e.FormSchema[3].Data[2].value&&0==e.FormSchema[3].Data[3].value?(e.ShowAlert(e.$t("At least one Product category must be selected!"),"failure",e.$t("Alert")),e.Count=1,e.buttons[1].class="btn btn-success"):1==e.IsShowCompartments&&e.tableRows.forEach((t,a)=>{""==t.InputContainervalue&&(e.checkFieldsvalue,e.Count=1)}),0==e.Count){let a={};e.tableRows.forEach((t,i)=>{a={container_Id:0,asset_type_id:e.AseetTypeIde>0?e.AseetTypeIde:0,container_name:t.InputContainervalue,status_id:1001,modified_by:e.userId},e.CompartmentListData.push(a)});let n={};e.AseetTypeIde>0?n.AssetTypeId=e.AseetTypeIde:n.AssetTypeId=0,n.AssetType=e.FormSchema[0].Data[0].value,n.status_id=""==e.FormSchema[0].Data[1].value?"":e.FormSchema[0].Data[1].value,n.Description=e.FormSchema[2].Data[0].value,n.created_at=null,n.modified_at=null,n.modified_by=e.userId,n.company_id=e.companyId,n.AssetTypeCategory=1==e.FormSchema[3].Data[0].value?1:0,n.IsContainer=1==e.FormSchema[0].Data[3].value?1:0,n.IsSelfCheckOut=1==e.FormSchema[6].Data[1].value?1:0,n.IsTransferable=1==e.FormSchema[6].Data[0].value?1:0,n.IsEnableTerms=1==e.FormSchema[6].Data[4].value?1:0,n.InsurancePolicy=1==e.FormSchema[7].Data[0].value?1:0,n.AssetTypeCode=e.ProductTypeCode,n.IsAsset=1==e.FormSchema[3].Data[0].value?1:0,n.IsConsumable=1==e.FormSchema[3].Data[1].value?1:0,n.IsLicense=1==e.FormSchema[3].Data[2].value?1:0,n.IsSpare=1==e.FormSchema[3].Data[3].value?1:0,n.IsItemCost=1==e.FormSchema[7].Data[2].value?1:0,n.IsDepreciable=1==e.FormSchema[7].Data[4].value?1:0,n.IsCalibration=1==e.FormSchema[7].Data[1].value?1:0,n.IsWarranty=1==e.FormSchema[7].Data[3].value?1:0,n.IsEmployeeAcceptance=1==e.FormSchema[6].Data[3].value?1:0,n.IsPenalty=1==e.FormSchema[6].Data[7].value?1:0;var i=1==e.FormSchema[6].Data[7].value?1:0;n.penalty_type=0==i?null:e.FormSchema[6].Data[8].value,n.IsPenaltyOnReturnOverdue=1==e.FormSchema[6].Data[9].value?1:0;var s=1==e.FormSchema[6].Data[9].value?1:0;n.GracePeriod=0==s?null:e.GracePeriod,n.IsGPSTracking=1==e.FormSchema[5].Data[3].value?1:0,n.IsFleetManagement=1==e.FormSchema[6].Data[6].value?1:0,n.IsTimeAttendance=1==e.FormSchema[5].Data[0].value?1:0,n.IsCamera=1==e.FormSchema[5].Data[1].value?1:0,n.IsRFID=1==e.FormSchema[5].Data[2].value?1:0,n.IsGPS=1==e.FormSchema[5].Data[3].value?1:0,n.IsSelfieEnable=1,n.IsSampleData=0,n.container_name="",n.BatchId="",n.isMeter=0,n.utilityTypeId=0,n.AssetTagIds=Array.prototype.map.call(e.FormSchema[4].Data[0].value,(function(t){return t.value})).join(","),n.CompartmentList=e.CompartmentListData;var o=new FormData;if(1==i&&(null==e.FormSchema[6].Data[8].value||""==e.FormSchema[6].Data[8].value))return e.buttons[1].class="btn btn-success",$('[name="AssetReplacementType"]').focus(),$(".btn-success").focus(),e.isLoading=!1,!1;o.append("postString",JSON.stringify(n)),o.append("Files",e.file1[0]),r["a"].AddProductType(o).then((function(a){e.isLoading=!1,"Save"==t&&("size_exceed"==a.data.msg||"FileSizeExceeded"==a.data.msg||"ExceedAllowedSize"==a.data.msg?e.ShowAlert(e.$t("FileSizeExceedMsg"),"warning",!0,e.$t("Alert")):"1"==a.data.status?(e.ShowAlert(e.$t("AddProductType"),"success",e.$t("Alert")),e.tabCount>1&&e.$emit("nextTab"),e.CancelButton(),"EditProduct"==e.FromPage&&e.$parent.FetchData()):"2"==a.data.status?(e.ShowAlert(e.$t("UpdatedProductType"),"success",e.$t("Alert")),e.$parent.ClosePopupProductType(),e.$parent.FetchData()):"3"==a.data.status?(e.ShowAlert(e.$t("ProductTypeExist"),"success",e.$t("Alert")),e.$parent.ClosePopupProductType(),e.$parent.FetchData()):"AlreadyExists"==a.data.status?(e.ShowAlert(e.$t("ProductTypeExist"),"warning",e.$t("Alert")),e.CancelButton()):"ValidFileUploadMsg"==a.data.msg?(e.ShowAlert(e.$t("NotAllowedFile"),"warning",e.$t("Alert")),e.CancelButton()):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.CancelButton()),e.buttons[1].class="btn btn-success",e.isLoading=!1)}))}else e.buttons[1].class="btn btn-success",e.isLoading=!1})},startValidationTimer(t){clearTimeout(this.validationTimer),this.validationTimer=setTimeout(()=>{this.validateDuplicate(t)},1e3)},validateDuplicate(t){const e=this.tableRows[t].InputContainervalue.trim().toLowerCase(),a=this.tableRows.some((a,i)=>i!==t&&a.InputContainervalue.trim().toLowerCase()===e);a&&(this.ShowAlert("Duplicate "+this.$t("CompartmentName")+" is not allowed","failure",this.$t("Alert")),this.tableRows[t].InputContainervalue="")},AddContainerRow(){var t=this;this.tableRows.length>=10?t.ShowAlert("Maximum number of "+this.$t("Compartments")+" reached. You cannot add more "+this.$t("Compartments")+".","failure",this.$t("Alert")):t.$refs.AddProductType.validate().then(t=>{t&&this.tableRows.push({InputContainervalue:""})})},RemoveContainerRow(t){var e=this;e.confirmR(e.$t("Are you sure you want to delete these record(s)?"),!0,!1,(function(a){1==e.tableRows.length?(e.lbl=!0,e.ShowCompartments(),e.FormSchema[0].Data[3].value=!1,e.tableRows=[]):e.tableRows.splice(t,1)}))},ContainerDeleteConfirm(t){let e=this;0==t&&e.tableRows.length>0?(e.confirmR(e.$t("Are you sure you want to Clear All Compartment record(s)?"),!0,!1,(function(t){e.tableRows=[],e.FormSchema[0].Data[3].value=!1,e.IsShowCompartments=!1})),e.FormSchema[0].Data[3].value=!0):e.ShowCompartments()},ShowCompartments(){var t=this;this.tableRows.length>0?t.lbl=!0:t.lbl=!1,0==t.lbl?(t.IsShowCompartments=!0,this.tableRows.push({InputContainervalue:""}),t.lbl=!0):1==t.lbl&&(t.IsShowCompartments=!1,t.tableRows=[],t.lbl=!1)},CancelButton(){var t=this;("EditProduct"==t.FromPage||"AddProduct"==t.FromPage)&&t.$parent.ClosePopupProductType()},divDialogAddTags(){var t=this;t.FromAddProduct=!1,t.IsTagNamePopup=!0},CloseTagPopup(){var t=this;t.IsTagNamePopup=!1},async GetTagsByModuleI(){var t=this;t.TagsArray=[],t.FormSchema[4].Data[0].config.options=[],await r["a"].GetTagsByModuleId("moduleName=Asset").then((function(e){t.TagsArray=JSON.parse(e.data).data,t.TagsArray.forEach((e,a)=>{t.FormSchema[4].Data[0].config.options.push({name:e.TAG_NAME,value:e.TAG_ID})})}))},async GetAssetTagsById(){var t=this,e=`id=${t.AseetTypeIde}&is_for=ASSET_TYPE`;await r["a"].GetAssetTagsById(e).then(e=>{t.tagsData=JSON.parse(e.data),t.tagsData.forEach((e,a)=>{t.TagsSelectedArray.push({label:e.TAG_NAME,value:e.TAG_ID})}),t.FormSchema[4].Data[0].value=t.TagsSelectedArray})},FetchData(){var t=this;t.isLoading=!0;var e="Id="+t.AseetTypeIde;r["a"].AssetGetById(e).then(e=>{if(null!=e.data)if(e.data.length>0){t.TypeData=e.data,t.FormSchema[0].Data[0].value=t.TypeData[0].ASSET_TYPE,t.FormSchema[0].Data[1].value=t.TypeData[0].STATUS_ID,t.ProductTypeCode=t.TypeData[0].TYPE_CODE,t.FormSchema[0].Data[3].value=1==t.TypeData[0].IS_CONTAINER,1==t.TypeData[0].IS_CONTAINER&&(t.IsShowCompartments=!0,t.TypeData.forEach((e,a)=>{t.tableRows.push({InputContainervalue:e.CONTAINER_NAME})})),null!=t.TypeData[0].ATTACHMENT_PATH&&""!=t.TypeData[0].ATTACHMENT_PATH?(t.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentPath=t.TypeData[0].ATTACHMENT_PATH,t.FormSchema[1].Data[0].config.showSelectedFiles[0].attachmentName=t.TypeData[0].ATTACHMENT_PATH.split("/")[7]):delete t.FormSchema[1].Data[0].config.showSelectedFiles,t.FormSchema[2].Data[0].value=t.TypeData[0].DESCRIPTION,t.FormSchema[3].Data[0].value=1==t.TypeData[0].IS_ASSET,t.FormSchema[3].Data[1].value=1==t.TypeData[0].IS_CONSUMABLE,t.FormSchema[3].Data[2].value=1==t.TypeData[0].IS_LICENSE,t.FormSchema[3].Data[3].value=1==t.TypeData[0].IS_SPARE,t.FormSchema[5].Data[0].value=1==t.TypeData[0].IS_TIME_N_ATTENDANCE,t.FormSchema[5].Data[1].value=1==t.TypeData[0].IS_CAMERA,t.FormSchema[5].Data[2].value=1==t.TypeData[0].IS_RFID,t.FormSchema[5].Data[3].value=1==t.TypeData[0].IS_GPS_TRACKING,t.FormSchema[6].Data[0].value=1==t.TypeData[0].IS_TRANSFERABLE,t.FormSchema[6].Data[1].value=1==t.TypeData[0].IS_SELF_CHECKOUT;var a=1==t.TypeData[0].IS_SELF_CHECKOUT;1==a?(t.FormSchema[6].Data[2].visibility=!0,t.FormSchema[6].Data[2].value=t.TypeData[0].is_selfie_enable):t.FormSchema[6].Data[2].visibility=!1,t.FormSchema[6].Data[3].value=1==t.TypeData[0].IS_EMPLOYEE_ACCEPTANCE,t.FormSchema[6].Data[4].value=1==t.TypeData[0].IS_ENABLE_TERMS,t.FormSchema[6].Data[5].value=1==t.TypeData[0].IS_GPS,t.FormSchema[6].Data[6].value=1==t.TypeData[0].IS_FLEET_MANAGEMENT,t.FormSchema[6].Data[7].value=1==t.TypeData[0].IS_PENALTY;var i=1==t.TypeData[0].IS_PENALTY;if(1==i){t.FormSchema[6].Data[8].visibility=!0,t.OnPenaltyOnStatus(!0);const e=""!==t.TypeData[0].PENALTY_TYPE&&null!==t.TypeData[0].PENALTY_TYPE?t.TypeData[0].PENALTY_TYPE.includes(",")?t.TypeData[0].PENALTY_TYPE.split(","):t.TypeData[0].PENALTY_TYPE:[],a=e.length>1?e:null;t.FormSchema[6].Data[8].value=a}else t.FormSchema[6].Data[8].visibility=!1;t.FormSchema[6].Data[9].value=1==t.TypeData[0].IS_PENALTY_ON_OVERDUE;var s=1==t.TypeData[0].IS_PENALTY_ON_OVERDUE;1==s?(t.FormSchema[6].Data[10].visibility=!0,t.GracePeriod=t.TypeData[0].GRACE_PERIOD):t.FormSchema[6].Data[10].visibility=!1,t.FormSchema[7].Data[0].value=1==t.TypeData[0].IS_INSURANCE_POLICY,t.FormSchema[7].Data[1].value=1==t.TypeData[0].IS_CALIBRATION,t.FormSchema[7].Data[2].value=1==t.TypeData[0].IS_ITEM_COST,t.FormSchema[7].Data[3].value=1==t.TypeData[0].IS_WARRANTY,t.FormSchema[7].Data[4].value=1==t.TypeData[0].IS_DEPRECIABLE,t.isLoading=!1}else t.TypeData=[],t.isLoading=!1;else t.isLoading=!1})}}},j=z,W=(a("46ce"),Object(u["a"])(j,V,q,!1,null,null,null)),Y=W.exports,H=function(){var t=this,e=t._self._c;return e("section",[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"validatechain",attrs:{lang:"en",buttons:!1,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row flex-row-reverse mt-3"},[e("div",{staticClass:"col-lg-12 text-right"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.SkipButton()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),e("button",{staticClass:"btn btn-success ml-3",attrs:{type:"submit",title:"Save"},on:{click:t.onSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("SaveAndNext")))])])])])])},J=[],K={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,DataLoaded:0,ApprovalChainId:0,groupList:[],TagsSelectedArray:[],FormSchema:[{layoutType:"Single",Data:[{astype:"TextField",label:this.$t("ApprovalChainName"),name:"ApprovalChainName",value:"",placeholder:"",config:{onChange:this.checkName},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,placeholder:"",validationRules:{required:!0},config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"Inactive"}]}},{astype:"MultiSelectField",label:this.$t("SelectApprovalGroup"),name:"ApprovalGroup",value:"",mode:"tag",placeholder:this.$t("Select"),validationRules:{required:!0},config:{options:[]}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:"",validationRules:{required:!1}}]}],buttons:[{type:"button",class:"btn skip-btn-clr",text:"Skip",onClick:this.Skip},{type:"submit",class:"btn btn-success btnSave",text:"<i class='fa fa-save pr-2'></i>Save & Next"}]}},created:async function(){await this.GetApprovalGroups(),null!=this.$route.params.id&&(this.ApprovalChainId=this.$route.params.id,await this.ManageChain()),this.DataLoaded=1},methods:{onSubmit:function(){var t=this,e={ApprovalChainId:t.ApprovalChainId,ApprovalChainName:t.$refs.validatechain.getPropertyValue("ApprovalChainName","value"),StatusId:t.$refs.validatechain.getPropertyValue("Status","value"),Groups:Array.prototype.map.call(t.$refs.validatechain.getPropertyValue("ApprovalGroup","value"),(function(t){return t.value})).join(","),Description:t.$refs.validatechain.getPropertyValue("Description","value")},a=JSON.stringify(e);r["a"].AddApprovalChain(a).then(e=>{"-1"==e.data||"-2"==e.data?(t.ShowAlert(t.$t("AlreadyExists",[t.$t("Chain")]),"warning",!0,t.$t("Alert")),t.onCancel()):"-3"==e.data?(t.ShowAlert(t.$t("SomethingWentWrong"),"failure",!0,t.$t("Alert")),t.onCancel()):(t.ShowAlert(t.$t("ApprovalChainSuccessfullyAdded"),"success",!0,t.$t("Alert")),t.tabCount>1?(t.$emit("nextTab"),t.$emit("updateProgress",t.currentTabIndex,!0)):t.clearFields())})},GetApprovalGroups:async function(){var t=this;r["a"].GetApprovalGroupByCompanyId().then(e=>{var a=e.data;null!=a&&a.forEach((function(e,a){t.FormSchema[0].Data[2].config.options.push({name:e.APPROVAL_GROUP_NAME,value:""+e.APPROVAL_GROUP_ID})}))})},ManageChain:async function(){var t=this;t.isLoading=!0;var e="id="+this.$route.params.id;await r["a"].GetByChainId(e).then(e=>{var a=JSON.parse(e.data);if(a.length>0){this.FormSchema[0].Data[0].value=a[0].approval_chain_name,this.FormSchema[0].Data[1].value=a[0].status_id,t.groupList=a[0].GROUPS.split(",");var i=[];for(let e=0;e<t.groupList.length-1;e++)i.push(t.groupList[e]);i.forEach(e=>{var a=t.FormSchema[0].Data[2].config.options.find(t=>t.value==e);void 0!=a&&t.TagsSelectedArray.push({label:a.name,value:a.value})}),this.FormSchema[0].Data[2].value=t.TagsSelectedArray,this.FormSchema[1].Data[0].value=a[0].description}}),t.isLoading=!1},onCancel:function(){this.$parent.$parent.$parent.IsshowConfiguration=!1},checkName(t,e){var a=this,i=e.value,s="ApprovalChainName="+i;r["a"].CheckDuplicate(s).then(t=>{1==t.data&&a.FormSchema[0].Data[0].value&&(a.FormSchema[0].Data[0].value="",a.ShowAlert(a.$t("ChainExist"),"warning",!0,a.$t("Alert")),a.FormSchema[0].Data[0].validationRules.required=!0)})},clearFields:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.$refs.validatechain.validateForm.reset()},SkipButton:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},Q=K,Z=Object(u["a"])(Q,H,J,!1,null,null,null),X=Z.exports,tt=function(){var t=this,e=t._self._c;return e("section",[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"validateGroup",attrs:{lang:"en",buttons:!1,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"col-mt-3"},[e("div",{staticClass:"row flex-row-reverse mt-3"},[e("div",{staticClass:"col-lg-12 text-right"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.SkipButton()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),e("button",{staticClass:"btn btn-success ml-3",attrs:{type:"submit",title:"Save"},on:{click:t.onSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("SaveAndNext")))])])])])])])},et=[],at={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,DataLoaded:0,ApprovalGroupId:0,UserList:[],TagsSelectedArray:[],FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("ApprovalGroupName"),name:"ApprovalGroupName",value:"",placeholder:"",config:{onChange:this.checkName},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,placeholder:"",validationRules:{required:!0},config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"Inactive"}]}},{astype:"MultiSelectField",label:this.$t("Users"),name:"Users",value:"",mode:"tag",placeholder:this.$t("Select"),validationRules:{required:!0},config:{options:[]}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:""}]}],buttons:[{type:"button",class:"btn skip-btn-clr",text:"Skip",onClick:this.Skip},{type:"submit",class:"btn btn-success btnSave",text:"<i class='fa fa-save pr-2'></i>Save & Next"}]}},created:async function(){await this.GetNotficationUsers(),null!=this.$route.params.id&&(this.ApprovalGroupId=this.$route.params.id,await this.ManageItemsGroup()),this.DataLoaded=1},methods:{onSubmit:function(){var t=this,e={ApprovalGroupId:t.ApprovalGroupId,ApprovalGroupName:t.$refs.validateGroup.getPropertyValue("ApprovalGroupName","value"),Description:t.$refs.validateGroup.getPropertyValue("Description","value"),Users:Array.prototype.map.call(t.$refs.validateGroup.getPropertyValue("Users","value"),(function(t){return t.value})).join(","),StatusId:t.$refs.validateGroup.getPropertyValue("Status","value")},a=JSON.stringify(e);t.$refs.validateGroup.validateForm.validate().then(e=>{e&&r["a"].AddGroup(a).then(e=>{"-1"==e.data||"-2"==e.data?t.ShowAlert(t.$t("AlreadyMapped"),"warning",!0,t.$t("Alert")):"-3"==e.data?t.ShowAlert(t.$t("SomethingWentWrong"),"failure",!0,t.$t("Alert")):(t.ShowAlert(t.$t("ApprovalGroupSuccessfullyAdded"),"success",!0,t.$t("Alert")),t.tabCount>1?(t.$emit("nextTab"),t.$emit("updateProgress",t.currentTabIndex,!0)):t.clearFields())})})},GetNotficationUsers:async function(){var t=this,e="isIncludeLoginUserId=1&approvalGroupIds=&approvalChainIds=&moduleName=APPROVALRULE&DepartmentIds";await r["a"].LoadUsersByCompanyId(e).then(e=>{var a=e.data;null!=a&&a.forEach((function(e,a){t.FormSchema[0].Data[2].config.options.push({name:""+e.USERNAME,value:""+e.USER_ID})}))}),t.FormSchema[0].Data[2].config.options},ManageItemsGroup:async function(){var t=this;t.isLoading=!0;var e="id="+this.$route.params.id;await r["a"].GetById(e).then(e=>{var a=JSON.parse(e.data);if(a.length>0){this.FormSchema[0].Data[0].value=a[0].approval_group_name,this.FormSchema[0].Data[1].value=a[0].status_id,t.UserList=a[0].USERS.split(",");var i=[];for(let e=0;e<t.UserList.length-1;e++)i.push(t.UserList[e]);i.forEach(e=>{var a=t.FormSchema[0].Data[2].config.options.find(t=>t.value==e);void 0!=a&&t.TagsSelectedArray.push({label:a.name,value:a.value})}),this.FormSchema[0].Data[2].value=t.TagsSelectedArray,this.FormSchema[1].Data[0].value=a[0].description}}),t.isLoading=!1},checkName(t,e){var a=this,i=e.value,s="ApprovalGroupName="+i;r["a"].CheckDuplicateGroup(s).then(t=>{1==t.data&&a.FormSchema[0].Data[0].value&&(a.FormSchema[0].Data[0].value="",a.ShowAlert(a.$t("NameExist",[a.$t("Group")]),"warning",!0,a.$t("Alert")),a.FormSchema[0].Data[0].validationRules.required=!0)})},clearFields:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.$refs.validateGroup.validateForm.reset()},SkipButton:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},it=at,st=Object(u["a"])(it,tt,et,!1,null,null,null),ot=st.exports,nt=function(){var t=this,e=t._self._c;return e("section",[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"validateRule",attrs:{lang:"en",buttons:!1,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-Approval",fn:function({data:a}){return[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],staticClass:"form-control",class:""!=a.error?"form-control is-invalid":"form-control",attrs:{maxlength:5,step:"any"},domProps:{value:t.inputValue},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a.fieldInfo,"value",e.target.multiple?i:i[0])}}},[e("option",{attrs:{disabled:""}},[t._v("Select Approval Chain")]),t._l(t.ApprovalChainList,(function(a){return e("option",{key:a.APPROVAL_CHAIN_ID,domProps:{value:a.APPROVAL_CHAIN_ID}},[t._v(t._s(a.APPROVAL_CHAIN_NAME))])}))],2),""!=a.error?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a.error))]):t._e()])]}},{key:"tgslot-LimitedDuration1",fn:function({data:a}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left mb-2"},[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:t.popover,name:t.fromDateValue,"minute-increment":5},scopedSlots:t._u([{key:"default",fn:function({inputValue:i,togglePopover:s}){return[e("input",{class:""!=a.error?"form-control is-invalid":"form-control",attrs:{id:"txtFromDate_"+t.pgaction,placeholder:"M/D/YYYY"},domProps:{value:i},on:{click:function(t){return s()}}})]}}],null,!0),model:{value:t.fromDateValue,callback:function(e){t.fromDateValue=e},expression:"fromDateValue"}})],1),""!=a.error?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a.error))]):t._e()]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e("div",{staticClass:"input-group"},[e("v-date-picker",{staticClass:"timedate input-group",attrs:{popover:t.popover,name:t.toDateValue,"minute-increment":5},scopedSlots:t._u([{key:"default",fn:function({inputValue:i,togglePopover:s}){return[e("input",{class:""!=a.error?"form-control is-invalid":"form-control",attrs:{id:"txtFromDate_"+t.pgaction,placeholder:"M/D/YYYY"},domProps:{value:i},on:{click:function(t){return s()}}})]}}],null,!0),model:{value:t.toDateValue,callback:function(e){t.toDateValue=e},expression:"toDateValue"}})],1),""!=a.error?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Location"}},[t._v(t._s(a.error))]):t._e()])])]}}])})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row flex-row-reverse mt-3"},[e("div",{staticClass:"col-lg-12 text-right"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.SkipButton()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),"InitialSetup"!=t.reqFrom?e("button",{staticClass:"btn btn-success ml-3",attrs:{type:"submit",title:"Save"},on:{click:function(e){return t.onSubmit("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(t._s(t.$t("SaveAndClose")))]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.onSubmit("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])]),t.IsShowGroup?e("ApprovalGroup",{attrs:{ApprovalchainId:t.ApprovalchainId,ApprovalchainName:t.ApprovalchainName}}):t._e()],1)},lt=[],rt=a("240d"),ct=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{"max-width":"900px !important"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("ApprovalChain"))+": "+t._s(this.ChainName)+" ")]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.ClosePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"listing OuterMainDiv"},[e("div",{staticClass:"row",staticStyle:{"max-height":"500px","overflow-y":"auto"}},[e("tg-list",{attrs:{IsShowAction:!1,listType:["List"],ModuleName:"Approval",SubModuleCode:"ApprovalRule",IdentityColumn:"APPROVALCHAINGROUPMAPID",ListData:t.GroupData,HeaderData:t.Headers,callbackfunction:t.FetchData,TotalRecords:t.TotalRecords,ListDataCallBackFunction:t.FetchData,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{PagerButtonClick:t.pagerMethod},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["GROUPNAME"==a.column.COLUMN_NAME?[t._v(" "+t._s(a.row.GROUPNAME)+" ")]:t._e(),"USERS"==a.column.COLUMN_NAME?[t._v(" "+t._s(a.row.USERS)+" ")]:t._e(),"APPROVERORDER"==a.column.COLUMN_NAME?[t._v(" "+t._s(a.row.APPROVERORDER)+" ")]:t._e(),"Action"==a.column.COLUMN_NAME?[e("td",{staticClass:"text-center single-action"},[e("div",{staticClass:"cstm-drop-btn"},[e("span",[e("a",{on:{click:function(e){return t.DeleteApprovalGroup(a.row)}}},[e("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])])])])])]:t._e(),"RankUp"==a.column.COLUMN_NAME&&t.GroupData.length>1?[a.row.APPROVERORDER>1?[e("span",[e("a",{on:{click:function(e){return t.RankUpDown(a.row.APPROVALCHAINGROUPMAPID,"RankUp")}}},[e("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fa fa-arrow-up text-primary action-icon down"})])])])]:t._e()]:t._e(),"RankDown"==a.column.COLUMN_NAME&&t.GroupData.length>1?[a.row.APPROVERORDER<t.GroupData.length?[e("span",[e("a",{on:{click:function(e){return t.RankUpDown(a.row.APPROVALCHAINGROUPMAPID,"RankDown")}}},[e("em",{staticClass:"text-primary",attrs:{"aria-hidden":"true"}},[e("i",{staticClass:"fa fa-arrow-down text-primary action-icon down"})])])])]:t._e()]:t._e()]}}])})],1)])])])])])])])])},dt=[],ut={props:{ApprovalchainId:{type:String},ApprovalchainName:{type:String}},data(){return{ChainName:"",leftSearchFields:[],TotalRecords:0,listheaderbuttons:[],GroupData:[],IsShowGroup:!1,Headers:[{COLUMN_NAME:"GROUPNAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ApprovalGroupName"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"USERS",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Users"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"RankUp",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("RankUp"),DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"RankDown",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("RankDown"),DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"APPROVERORDER",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Order",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"Action",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Action"),DISPLAY_ORDER:6,settings:{isInSlot:!0}}]}},created:function(){var t=this;t.ChainName=t.ApprovalchainName;t.ApprovalchainId;t.FetchData()},methods:{async FetchData(){var t=this,e="approvalChainId="+t.ApprovalchainId;r["a"].ApprovalGroupListByApprovalCHainId(e).then(e=>{null!=e.data?e.data.length>0?(t.GroupData=e.data,t.noRecord=!1):(t.GroupData=[],t.noRecord=!0,t.TotalRecords=0):(t.noRecord=!0,t.GroupData=[],t.TotalRecords=0)}),t.isLoading=!1},ClosePopup(){var t=this;t.$parent.CloseGroupPopup()},DeleteApprovalGroup(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  ",(function(){e.isLoading=!0;var a="id="+t.APPROVALCHAINGROUPMAPID;r["a"].DeleteApprovalGroup(a).then(t=>{"0"==t.data?e.ShowAlert(e.$t("DeletedSuccessfully"),"success",!0,e.$t("Alert")):"-1"==t.data&&e.ShowAlert(e.$t("Unable to delete,approval chain requires at least one group"),"warning",!0,e.$t("Alert")),e.isLoading=!1,e.FetchData()})}))},RankUpDown(t,e){var a=this;a.isLoading=!0;var i=a.ApprovalchainId,s=a.GroupData.findIndex(e=>e.APPROVALCHAINGROUPMAPID===t);if("RankUp"==e)var o=a.GroupData[s-1].APPROVALCHAINGROUPMAPID;else o=a.GroupData[s+1].APPROVALCHAINGROUPMAPID;a.confirmR(a.$t("VerifysequenceofApprovalGroup"),!0,!1,(function(e){var s=`approvalChainId=${i}&approvalChainApprovalGroupMapId1=${t}&approvalChainApprovalGroupMapId2=${o}`;r["a"].SwapApproverOrder(s).then(t=>{var e=[];e=JSON.parse(t.data),0==e[0].Status&&(a.ShowAlert(a.$t("ApprovalChainSuccess"),"success",!0,a.$t("Alert")),a.FetchData()),a.isLoading=!1})})),a.isLoading=!1},commonHeaderButtonClick(t){switch(t.callbackfunction){case"DeleteRule":this.DeleteRule();break;case"AddNewGroup":this.AddNewGroup();break}},actionButtonClick(t,e){},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},renderActions(t){}}},pt=ut,mt=Object(u["a"])(pt,ct,dt,!1,null,null,null),ht=mt.exports,vt={props:{tabCount:0,currentTabIndex:0,reqFrom:""},components:{ApprovalGroup:ht,TreeSelectField:rt["TreeSelectField"]},data(){return{Usersdata:[],ApprovalchainName:"",ApprovalChainList:[],FormSchema:[{layoutType:"double",Data:[{astype:"TreeSelectField",label:this.$t("Location"),name:"Location",value:null,placeholder:"Select Location",disabled:!0,visibility:!1,config:{options:[]},validationRules:{required:!0}},{astype:"TextField",label:this.$t("AuditRuleName"),name:"AuditRule",value:"",placeholder:"",config:{onChange:this.checkRuleName},validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Module"),name:"Module",value:2,placeholder:"",config:{options:[{value:2,name:"Expense"},{value:3,name:"Leave"},{value:4,name:"Timesheet"},{value:5,name:"Attendance"},{value:6,name:"Product"}],onChange:this.OnDeploymentType}},{astype:"SelectField",label:this.$t("Project"),name:"project_name",value:"",placeholder:"",visibility:!0,config:{options:[],onChange:this.GetUserbyProject},validationRules:{required:!0}},{astype:"MultiSelectField",label:"Users",name:"User",value:null,mode:"tag",placeholder:this.$t("Select"),config:{options:[]},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("LimitedDuration"),name:"Limited_Duration",value:0,placeholder:"",visibility:!0,validationRules:{required:!1},config:{options:[{value:1,name:"Yes"},{value:0,name:"No"}],onChange:this.ManageLimtedDuration}},{astype:"SlotField",label:this.$t("LimitedDuration"),name:"LimitedDuration1",value:"",placeholder:"",visibility:!1,validationRules:{required:!0}},{astype:"RadioField",label:this.$t("ApprovalType"),name:"Approvaltype",value:1,placeholder:"",config:{options:[{value:1,name:"Approval Chain"},{value:2,name:"Client "},{value:3,name:"Both"}],onChange:this.OnApprovalType},validationRules:{required:!1}},{astype:"SlotField",label:this.$t("SelectApproval"),name:"Approval",value:"",placeholder:"",validationRules:{required:!0},visibility:!0,config:{onKeyUp:this.GetAssetCost}},{astype:"MultiSelectField",label:this.$t("SelectClient"),name:"Client",value:null,mode:"tag",visibility:!1,placeholder:this.$t("Select"),config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:"Status",name:"Status_value",value:1001,config:{options:[{value:1001,name:"Active"},{value:1002,name:"Inactive"}]},validationRules:{required:!0}},{astype:"RadioField",label:this.$t("UseSequence"),name:"Sequence",value:0,placeholder:"",config:{options:[{value:1,name:"Yes"},{value:0,name:"No"}]},validationRules:{required:!1}}]},{layoutType:"One",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:null,placeholder:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}],myObj:[],LocationData:[],StatusData:[{name:"Active",value:1001},{name:"Inactive",value:1002}],projectdata:[],StateData:[],TagData:[],UserList:[],TagsSelectedArray:[],DataLoaded:0,UserId:"",IsShowGroup:!1,ApprovalchainId:null,ApprovalChainList:[],ApprovalID:0,ApprovalRuleId:0,isLoading:!1,ApprovaltypesId:0,ClientData:[],ClientSelectedArray:[],fromDateValue:null,toDateValue:null,Limiteduration:0}},async created(){var t=this;await t.GetLocation(),await t.GetProjectList(),await t.GetApprovalChain(),null!=t.$route.params.id&&(t.ApprovalRuleId=this.$route.params.id,await this.ManageRule(),await this.ManageLimtedDuration(t.Limiteduration),await this.OnDeploymentType(t.ApprovalID),null!=this.ApprovaltypesId&&await this.OnApprovalType(t.ApprovaltypesId))},methods:{onSubmit:function(t){var e=this;if(e.isLoading=!0,1==e.$refs.validateRule.getPropertyValue("Approvaltype","value"))var a="ApprovalChain";else if(2==e.$refs.validateRule.getPropertyValue("Approvaltype","value"))a="Client";else a="Both";var i={ApprovalRuleId:0!=e.ApprovalRuleId?e.ApprovalRuleId:0,RuleName:e.$refs.validateRule.getPropertyValue("AuditRule","value"),RuleDescription:e.$refs.validateRule.getPropertyValue("Description","value"),ApprovalTypeId:e.$refs.validateRule.getPropertyValue("Module","value"),IsLimitedDuration:e.$refs.validateRule.getPropertyValue("Limited_Duration","value"),dStart:0==e.$refs.validateRule.getPropertyValue("Limited_Duration","value")?null:e.$options.filters.formatDate(e.fromDateValue),dEnd:0==e.$refs.validateRule.getPropertyValue("Limited_Duration","value")?null:e.$options.filters.formatDate(e.toDateValue),ProjectId:null==e.$refs.validateRule.getPropertyValue("project_name","value")?null:e.$refs.validateRule.getPropertyValue("project_name","value"),Users:null==e.$refs.validateRule.getPropertyValue("User","value")?null:e.$refs.validateRule.getPropertyValue("User","value"),Tasks:null,Clients:null==e.$refs.validateRule.getPropertyValue("Client","value")||void 0==e.$refs.validateRule.getPropertyValue("Client","value")?null:e.$refs.validateRule.getPropertyValue("Description","value"),ClientApprovalType:null==e.$refs.validateRule.getPropertyValue("Approvaltype","value")?null:a,LocationId:null==e.$refs.validateRule.getPropertyValue("Location","value")?null:e.$refs.validateRule.getPropertyValue("Location","value"),ApprovalChainId:e.$refs.validateRule.getPropertyValue("Approval","value"),UseSequence:e.$refs.validateRule.getPropertyValue("Sequence","value"),StatusId:e.$refs.validateRule.getPropertyValue("Status_value","value"),Users:null==e.$refs.validateRule.getPropertyValue("User","value")?null:Array.prototype.map.call(e.$refs.validateRule.getPropertyValue("User","value"),(function(t){return t.value})).join(",")},s=JSON.stringify(i);e.$refs.validateRule.validateForm.validate().then(a=>{a&&r["a"].AddRule(s).then(a=>{"0"==a.data&&(e.ShowAlert(e.$t("SomethingWentWrong"),"failure",!0,e.$t("Alert")),e.onCancel()),"2"==a.data?(e.ShowAlert(e.$t("AlreadyExists",[e.$t("Rule")]),"warning",!0,e.$t("Alert")),e.onCancel()):("SaveAndFinish"==t&&e.Finish(),e.ShowAlert(e.$t("RuleSuccess"),"success",!0,e.$t("Alert")),e.$emit("updateProgress",e.currentTabIndex,!0),e.onCancel())})}),e.isLoading=!1},ManageRule:async function(){var t=this;t.isLoading=!0;var e="id="+this.$route.params.id;await r["a"].GetRuleById(e).then(async e=>{var a=JSON.parse(e.data);if(t.ApprovalID=a[0].APPROVAL_TYPE_ID,t.Limiteduration=a[0].IS_LIMITED_DURATION,t.ApprovaltypesId="ApprovalChain"==a[0].APPROVAL_TYPE?1:"Client"==a[0].APPROVAL_TYPE?2:"Both"==a[0].APPROVAL_TYPE?3:null,t.Approvaltype,a.length>0){if(this.FormSchema[0].Data[0].value=a[0].LOCATION_ID,this.FormSchema[0].Data[1].value=a[0].RULE_NAME,this.FormSchema[0].Data[2].value=a[0].APPROVAL_TYPE_ID,this.FormSchema[0].Data[3].value=a[0].PROJECT_ID,null!=a[0].PROJECT_ID&&0!=a[0].PROJECT_ID?await t.GetUserbyProject(a[0].PROJECT_ID):await t.GetUsers(),t.UserList=null!=a[0].USERS?a[0].USERS.split(","):a[0].USERS,null!=t.UserList){var i=[];for(let e=0;e<t.UserList.length-1;e++)i.push(t.UserList[e]);i.forEach(e=>{var a=t.projectdata.length>0?t.projectdata.find(t=>t.USER_ID==e):t.Usersdata.find(t=>t.USER_ID==e);void 0!=a&&(void 0!=a.USER_NAME?t.TagsSelectedArray.push({label:a.USER_NAME,value:a.USER_ID.toString()}):t.TagsSelectedArray.push({label:a.USERNAME,value:a.USER_ID.toString()}))}),this.FormSchema[0].Data[4].value=t.TagsSelectedArray}if(this.FormSchema[0].Data[5].value=a[0].IS_LIMITED_DURATION,this.fromDateValue=a[0].DURATION_START,this.toDateValue=a[0].DURATION_END,this.FormSchema[0].Data[7].value="ApprovalChain"==a[0].APPROVAL_TYPE?1:"Client"==a[0].APPROVAL_TYPE?2:"Both"==a[0].APPROVAL_TYPE?3:null,this.FormSchema[0].Data[8].value=a[0].APPROVAL_CHAIN_ID,null!=a[0].PROJECT_ID&&await t.GetClientbyProject(a[0].PROJECT_ID),this.FormSchema[0].Data[9].value=(a[0].CLIENTS,a[0].CLIENTS),t.ClienList=null!=a[0].CLIENTS?a[0].USERS.split(","):a[0].CLIENTS,null!=t.ClienList){var s=[];for(let e=0;e<t.ClientData.length;e++)s.push(t.ClientData[e]);s.forEach(e=>{var a=t.ClientData.find(t=>t.USER_ID==e.USER_ID);t.ClientSelectedArray.push({label:a.USERNAME,value:a.USER_ID})}),this.FormSchema[0].Data[9].value=t.ClientSelectedArray}this.FormSchema[0].Data[10].value=a[0].STATUS_ID,this.FormSchema[0].Data[11].value=a[0].USE_SEQUENCE,this.FormSchema[1].Data[0].value=a[0].RULE_DESCRIPTION}t.isLoading=!1})},GetProjectList:async function(){var t=this,e="userType=CA&IsEncrptedId='no'";r["a"].GetProjectListing(e).then(e=>{var a=e.data;null!=a&&(a.forEach((function(e,a){t.FormSchema[0].Data[3].config.options.push({name:""+e.ProjectName,value:""+e.ProjectId})})),t.$refs.validateRule.UpdateKeyValue())})},GetUserbyProject:async function(t,e){var a=this;if(a.FormSchema[0].Data[4].config.options=[],void 0==e)var i=`ProjectId=${t}&ModuleName=APPROVALRULE`;else i=`ProjectId=${e.value}&ModuleName=APPROVALRULE`;await r["a"].GetUsersByProjectId(i).then(i=>{a.projectdata=i.data,null!=a.projectdata&&(a.projectdata.forEach((function(t,e){a.FormSchema[0].Data[4].config.options.push({name:""+t.USER_NAME,value:""+t.USER_ID})})),a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1),void 0!=e&&this.GetClientbyProject(t,e)})},GetClientbyProject:async function(t,e){var a=this,i=void 0!=e?"ProjectId="+e.value:"ProjectId="+t;await r["a"].LoadClientByProjectId(i).then(t=>{a.ClientData=t.data,null!=a.ClientData&&a.ClientData.forEach((function(t,e){a.FormSchema[0].Data[9].config.options.push({name:""+t.USERNAME,value:""+t.USER_ID})}))})},GetUsers:async function(){var t=this;t.FormSchema[0].Data[4].config.options=[];var e="isIncludeLoginUserId=1&approvalGroupIds=&approvalChainIds=&moduleName=APPROVALRULE&DepartmentIds";await r["a"].LoadUsersByCompanyId(e).then(e=>{t.Usersdata=e.data,null!=t.Usersdata&&t.Usersdata.forEach((function(e,a){t.FormSchema[0].Data[4].config.options.push({name:""+e.USERNAME,value:""+e.USER_ID})}))})},GetApprovalChain:async function(){var t=this;r["a"].GetApprovalChainsByCompanyId().then(e=>{t.ApprovalChainList=e.data})},onCancel:function(){this.$parent.$parent.$emit("close")},ShowGroupPopup(t){const e=this.ApprovalChainList.find(e=>e.APPROVAL_CHAIN_ID===t);this.ApprovalchainId=e.APPROVAL_CHAIN_ID,this.ApprovalchainName=e.APPROVAL_CHAIN_NAME,this.IsShowGroup=!0},CloseGroupPopup(){var t=this;t.IsShowGroup=!1},async GetLocation(){var t=this,e="reqForm=";await r["a"].GetLocationByCompanyId(e).then(e=>{t.LocationData=e.data,t.FindalLocationArray=[],t.LocationData.forEach(a=>{var i=t.FindalLocationArray.filter((function(t){return t.COMPANY_LOCATION_ID==a.COMPANY_LOCATION_ID}));if(0==i.length&&null==a.PARENT_LOCATION_ID){let i=a.COMPANY_LOCATION_ID,s=t.getChildLocation(i,a,e.data);t.FindalLocationArray.push(s)}}),t.FormSchema[0].Data[0].config.options=t.FindalLocationArray})},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.COMPANY_LOCATION_ID,label:e.LOCATION_NAME};let o=s;var n=a.filter((function(e){return e.PARENT_LOCATION_ID==t}));let l=[];return n.forEach(t=>{let e=t.COMPANY_LOCATION_ID;var o=l.filter((function(e){return e.COMPANY_LOCATION_ID==t.COMPANY_LOCATION_ID}));if(0==o.length){var n=a.filter((function(t){return t.PARENT_LOCATION_ID==e}));if(null!=n&&n.length>0){let s=i.getChildLocation(e,t,a);l.push(s)}else s={id:""+t.COMPANY_LOCATION_ID,label:""+t.LOCATION_NAME},l.push(s)}}),o.children=l,o},async OnDeploymentType(t,e){var a=this;(void 0!=e?2==e.value:2==t)&&(a.FormSchema[0].Data[4].visibility=!0,a.FormSchema[0].Data[3].visibility=!0,a.FormSchema[0].Data[7].visibility=!0,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,null==this.$route.params.id&&(a.FormSchema[0].Data[4].config.options=[],a.FormSchema[0].Data[3].value="",a.FormSchema[0].Data[3].validationRules.required=!1,a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1)),(void 0!=e?3==e.value:3==t)&&(a.FormSchema[0].Data[4].visibility=!0,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,a.FormSchema[0].Data[9].value="",a.FormSchema[0].Data[3].visibility=!1,a.FormSchema[0].Data[0].value="",null==this.$route.params.id&&(a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1),a.FormSchema[0].Data[7].visibility=!1,await a.GetUsers()),(void 0!=e?4==e.value:4==t)&&(a.FormSchema[0].Data[4].visibility=!0,a.FormSchema[0].Data[3].visibility=!0,a.FormSchema[0].Data[7].visibility=!0,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,null==this.$route.params.id&&(a.FormSchema[0].Data[4].config.options=[],a.FormSchema[0].Data[3].value="",a.FormSchema[0].Data[3].validationRules.required=!1,a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1)),(void 0!=e?5==e.value:5==t)&&(a.FormSchema[0].Data[3].visibility=!1,a.FormSchema[0].Data[7].visibility=!1,a.FormSchema[0].Data[0].visibility=!1,a.FormSchema[0].Data[5].visibility=!0,a.FormSchema[0].Data[9].config.options=[],null==this.$route.params.id&&(a.FormSchema[0].Data[4].value="",a.FormSchema[0].Data[4].validationRules.required=!1),await a.GetUsers()),(void 0!=e?6==e.value:6==t)&&(a.FormSchema[0].Data[3].visibility=!1,a.FormSchema[0].Data[4].visibility=!1,a.FormSchema[0].Data[7].visibility=!0,a.FormSchema[0].Data[5].visibility=!1,a.FormSchema[0].Data[0].visibility=!0,a.FormSchema[0].Data[9].config.options=[]),a.FormSchema[0].Data[9].config.options=[]},OnApprovalType(t,e){var a=this;(void 0!=e?1==e.value:1==t)&&(a.FormSchema[0].Data[8].visibility=!0,a.FormSchema[0].Data[9].visibility=!1),(void 0!=e?2==e.value:2==t)&&(a.FormSchema[0].Data[8].visibility=!1,a.FormSchema[0].Data[9].visibility=!0),(void 0!=e?3==e.value:3==t)&&(this.FormSchema[0].Data[8].visibility=!0,this.FormSchema[0].Data[9].visibility=!0)},ManageLimtedDuration(t,e){(void 0!=e?1==e.value:1==t)&&(this.FormSchema[0].Data[6].visibility=!0),(void 0!=e?0==e.value:0==t)&&(this.FormSchema[0].Data[6].visibility=!1)},checkRuleName(t,e){var a=this,i=e.value,s="RuleName="+i;r["a"].CheckDuplicateRule(s).then(t=>{1==t.data&&a.FormSchema[0].Data[1].value&&(a.FormSchema[0].Data[1].value="",a.ShowAlert(a.$t("RuleExist"),"warning",!0,a.$t("Alert")),a.FormSchema[0].Data[1].validationRules.required=!0)})},SkipButton:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},ft=vt,gt=Object(u["a"])(ft,nt,lt,!1,null,null,null),bt=gt.exports,St=function(){var t=this,e=t._self._c;return e("section",[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("Form",{ref:"StorageSourceForm",staticClass:"col-12",scopedSlots:t._u([{key:"default",fn:function({valid:a,errors:i}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("AccountType"))+":"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.StorageSource,expression:"StorageSource"}],class:{"form-control":!0},attrs:{placeholder:"Select"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.StorageSource=e.target.multiple?a:a[0]},t.GetRegionList]}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select")]),t._l(t.StorageSourceList,(function(a,i){return e("option",{key:i,domProps:{value:a.Id}},[t._v(" "+t._s(a.Name)+" ")])}))],2)])]),"Azure"==t.StorageSourceName?e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("StorageAccount"))+":"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("Field",{attrs:{rules:{required:!0},name:"Storage Account"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.StorageAccount,expression:"StorageAccount"}],staticClass:"form-control",attrs:{type:"text",id:"StorageAccount"},domProps:{value:t.StorageAccount},on:{keyup:t.SaveBtnDisabled,input:function(e){e.target.composing||(t.StorageAccount=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageAccount",id:"StorageAccount"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]):t._e()]),e("div",{staticClass:"row"},[1!==t.StorageSource?e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},["AWS"==t.StorageSourceName?e("label",[t._v("Access Key:"),e("span",{staticClass:"mandatory"},[t._v("*")])]):e("label",[t._v("Storage Key:"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("Field",{attrs:{rules:{required:!0},name:"Storage Key"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.StorageKey,expression:"StorageKey"}],staticClass:"form-control",attrs:{type:"text",id:"StorageKey"},domProps:{value:t.StorageKey},on:{keyup:t.SaveBtnDisabled,input:function(e){e.target.composing||(t.StorageKey=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageKey",id:"StorageKey"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]):t._e(),1!==t.StorageSource?e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},["AWS"==t.StorageSourceName?e("label",[t._v("Bucket Name:")]):e("label",[t._v("Blob Link:"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("Field",{attrs:{rules:{required:!0},name:"Blob Link"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.BlobLink,expression:"BlobLink"}],staticClass:"form-control",attrs:{type:"text",id:"BlobLink"},domProps:{value:t.BlobLink},on:{keyup:t.SaveBtnDisabled,input:function(e){e.target.composing||(t.BlobLink=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"BlobLink",id:"BlobLink"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]):t._e()]),e("div",{staticClass:"row"},[1!==t.StorageSource?e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("StorageRegion"))+":")]),e("Field",{attrs:{rules:{required:!1},name:"Storage Region"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:t.StorageRegion,expression:"StorageRegion"}],class:{"form-control":!0},attrs:{placeholder:"Select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.StorageRegion=e.target.multiple?a:a[0]}}},[e("option",{attrs:{value:"",disabled:""}},[t._v("Select")]),t._l(t.StorageRegionList,(function(a,i){return e("option",{key:i,domProps:{value:a.display_name}},[t._v(" "+t._s(a.display_name)+" ")])}))],2),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageRegion",id:"StorageRegion"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]):t._e(),1!==t.StorageSource?e("div",{staticClass:"col-sm-12 col-md-12 float-left col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},["AWS"==t.StorageSourceName?e("label",[t._v(t._s(t.$t("SecretKey"))+":"),e("span",{staticClass:"mandatory"},[t._v("*")])]):e("label",[t._v("Storage Secondary Key:"),e("span",{staticClass:"mandatory"},[t._v("*")])]),e("Field",{attrs:{rules:{required:!0},name:"Storage Secondary Key"},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.StorageSecondaryKey,expression:"StorageSecondaryKey"}],staticClass:"form-control",attrs:{type:"text",id:"StorageSecondaryKey"},domProps:{value:t.StorageSecondaryKey},on:{keyup:t.SaveBtnDisabled,input:function(e){e.target.composing||(t.StorageSecondaryKey=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"StorageSecondaryKey",id:"StorageSecondaryKey"}},[t._v(t._s(a[0]))]):t._e()]}}],null,!0)})],1)]):t._e()])]}}])})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"col-12 mt-3"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-12 text-right"},[2==t.StorageSource?e("button",{staticClass:"popupgreenbtn btn btn-warning formbtn widthhalf pr-2",attrs:{title:"Save"},on:{click:function(e){return t.TestCredential()}}},[e("em",{staticClass:"fa fa-key pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("TestCredential")))]):t._e(),t._v("   "),e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.SkipButton()}}},[t._v("Skip")]),t._v("   "),1==t.StorageSource?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",attrs:{title:"Save"},on:{click:function(e){return t.saveStorageSourceconfig()}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e(),1!==t.StorageSource?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",class:{disabled:void 0==t.StorageKey},attrs:{title:"Save",id:"btnSave"},on:{click:function(e){return t.saveStorageSourceconfig()}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e()])])])])])},yt=[],Ct={props:{reqFrom:""},data(){return{SizeDocStorage:null,RetentionValue:null,FileTypeVaule:"",SizeConfigDataId:null,RetentionConfigDataId:null,FileCongfigDataId:null,StorageAccount:null,BlobLink:null,StorageKey:null,StorageRegion:null,StorageRegionList:[],StorageSecondaryKey:null,StorageSourceList:[],StorageSource:null,StorageSourceName:"",SelectedValue:[],FileTypeValues:"",Options:[],FileTypeData:[{label:"jpg",value:"image/jpg"},{label:"jpeg",value:"image/jpeg"},{label:"png",value:"image/png"},{label:"pdf",value:"application/pdf"},{label:"text",value:"text/plain"},{label:"xls",value:"application/vnd.ms-excel"},{label:"xlsx",value:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{label:"doc",value:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{label:"docx",value:"application/docx"},{label:"msword",value:"application/msword"}],SetupProgress:0,IsStorageManagementsCopmleted:!1,IsUserStoragesCopmleted:!1,IsClientStoragesCopmleted:!1,IsStorageSoucesCopmleted:!1,IsClientAutoActivated:null,StorageAllocatedPerUser:null,StorageAllocatedPerClient:null,containerName:null,tempStorageKey:null,tempStorageSecondaryKey:null,tempStorageSecondaryAccount:null}},created:function(){this.getfileTypes(),this.GetSourceList(),this.BindFileTypeDDL(),this.GetStorageSetupStatusDetail(),this.getClientConfigValue(),this.containerName=this.GetUserInfo.ContainerName},watch:{StorageSource:function(t,e){var a=this;a.StorageSourceName=a.StorageSourceList.filter(e=>e.Id==t)[0].Name,null!==e&&(a.StorageSecondaryKey=null,a.BlobLink=null,a.StorageKey=null,a.StorageRegion=null,a.StorageAccount=null)}},methods:{getClientConfigValue:function(){var t=this,e="moduleName=Client&keyValue=SendNotificationsToClient";r["a"].GetConfigDataValue(e).then(e=>{t.IsClientAutoActivated=JSON.parse(e.data.ConfigValue)[0].CONFIG_DATA_VALUE})},BindFileTypeDDL:function(){var t=this;t.Options=[],t.FileTypeData.forEach((e,a)=>{t.Options.push({value:e.value,label:e.label})})},SkipButton:function(){var t=this;t.$emit("nextTab")},saveStorageSourceconfig:function(){var t=this;t.$refs.StorageSourceForm.validate().then(e=>{if(e){let e={ACCOUNT_TYPE:t.StorageSource,STORAGE_ACCOUNT:t.StorageAccount,STORAGE_KEY:encodeURIComponent(t.StorageKey),BLOB_LINK:t.BlobLink,STORAGE_REGION:t.StorageRegion,STORAGE_SOURCE_ID:t.StorageSource,STORAGE_SECONDARY_KEY:encodeURIComponent(t.StorageSecondaryKey),STORAGE_ALLOCATED_PER_USER:t.StorageAllocatedPerUser,STORAGE_ALLOCATED_PER_CLIENT:t.StorageAllocatedPerClient};var a=JSON.stringify(e),i="jsonData="+a;r["a"].SaveDocStorageSourceConfigData(i).then(e=>{1==e.data?(this.ShowAlert(this.$t("StorageConfigurationDataUpdatedSuccessfully")),t.GetStorageSetupStatusDetail(),this.$emit("nextTab")):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))})}else t.ShowAlert(t.$t("FillRequiredField"),"failure",!0,t.$t("Alert"))})},SaveBtnDisabled:function(){this.tempStorageKey==this.StorageKey&&this.tempStorageAccount==this.StorageAccount&&this.tempStorageSecondaryKey==this.StorageSecondaryKey?$("#btnSave").removeClass("disabled"):$("#btnSave").addClass("disabled")},TestCredential:function(){var t=this;t.$refs.StorageSourceForm.validate().then(e=>{if(e){var a=`AzureStorageAccount=${t.StorageAccount}&AzureStoragePrimaryKey=${encodeURIComponent(t.StorageKey)}&AzureBlobLink=${t.BlobLink}&container=${t.containerName}`;r["a"].TestCredential(a).then(e=>{"Success"==e.data?(this.ShowAlert(this.$t("CredentialValidateSuccesfully")),$("#btnSave").removeClass("disabled")):t.ShowAlert(t.$t("WrongCredential"),"failure",!0,t.$t("Alert"))})}else t.ShowAlert(t.$t("FillRequiredField"),"failure",!0,t.$t("Alert"))})},getfileTypes:function(){var t=this,e="moduleName=DocStorage&keyValue=SizePerDoc,RetentionDays,DocStorageAllowedFileTypes";r["a"].GetConfigDataValue(e).then(e=>{t.isLoading=!0,t.SizeDocStorage=JSON.parse(e.data.ConfigValue)[0].CONFIG_DATA_VALUE,t.SizeConfigDataId=JSON.parse(e.data.ConfigValue)[0].core_config_id,t.RetentionValue=JSON.parse(e.data.ConfigValue)[1].CONFIG_DATA_VALUE,t.RetentionConfigDataId=JSON.parse(e.data.ConfigValue)[1].core_config_id,t.FileTypeVaule=JSON.parse(e.data.ConfigValue)[2].CONFIG_DATA_VALUE,t.FileCongfigDataId=JSON.parse(e.data.ConfigValue)[2].core_config_id,t.SelectedValue=t.FileTypeVaule.replace(/\'/g,"").split(","),t.isLoading=!1})},GetSourceList:function(){var t=this;r["a"].GetStorageSourceList().then((function(e){if(null!=e.data){var a=JSON.parse(e.data);t.StorageSourceList=a.data,t.GetSourceConfig()}}))},GetRegionList:function(){var t=this,e="sourceType="+t.StorageSource;r["a"].GetStorageRegionList(e).then((function(e){if(null!=e.data){var a=JSON.parse(e.data);null!=a.DATA&&(t.StorageRegionList=a.DATA)}}))},GetSourceConfig:function(){var t=this;r["a"].GetCompanyStorageSourceConfig().then((function(e){if(null!=e.data){var a=JSON.parse(e.data);t.StorageSourceName=a.data[0].AccountType,t.StorageSource=a.data[0].STORAGE_SOURCE_ID,t.GetRegionList(),t.StorageAccount=a.data[0].STORAGE_ACCOUNT,t.tempStorageAccount=a.data[0].STORAGE_ACCOUNT,t.StorageKey=a.data[0].STORAGE_KEY,void 0==t.StorageKey&&$("#btnSave").addClass("disabled"),t.tempStorageKey=a.data[0].STORAGE_KEY,t.BlobLink=a.data[0].BLOB_LINK,t.StorageRegion=a.data[0].STORAGE_REGION,t.StorageSecondaryKey=a.data[0].STORAGE_SECONDARY_KEY,t.tempStorageSecondaryKey=a.data[0].STORAGE_SECONDARY_KEY,t.StorageAllocatedPerUser=a.data[0].STORAGE_ALLOCATED_PER_USER,t.StorageAllocatedPerClient=a.data[0].STORAGE_ALLOCATED_PER_CLIENT}}))},GetStorageSetupStatusDetail:function(){var t=this;r["a"].GetStorageSetupStatusDetail().then((function(e){if(null!=e.data){var a=JSON.parse(e.data);t.SetupProgress=parseInt(a.data[0].TOTAL_PROGRESS),t.$parent.SetupProgress=parseInt(a.data[0].TOTAL_PROGRESS),t.IsStorageManagementsCopmleted=100==parseInt(a.data[0].STORAGE_MANAGEMENT),t.IsUserStoragesCopmleted=100==parseInt(a.data[0].USER_STORAGE),t.IsClientStoragesCopmleted=100==parseInt(a.data[0].CLIENT_STORAGE),t.IsStorageSoucesCopmleted=100==parseInt(a.data[0].STORAGE_SOURCE)}}))}}},_t=Ct,At=Object(u["a"])(_t,St,yt,!1,null,null,null),Dt=At.exports,Tt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 managestorage p-0"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("StorageBar",{attrs:{type:"All"}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("ScreenshotAllocationSpace"))+":")])])])]),t._v("  "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[e("div",{staticClass:"form-group SliderSingle-screens green"},[e("div",{staticClass:"jslider-label jslider-label-to"},[e("span",[t._v(t._s(t.formatBytes(t.docStorageMaxLimit)))])]),e("VueSlider",{attrs:{min:t.minScreenSize,id:"txtStorage",max:t.maxScreenSize,"tooltip-formatter":e=>t.formatBytes(e)},on:{change:function(e){return t.OnSlide("storage")}},model:{value:t.storage,callback:function(e){t.storage=e},expression:"storage"}})],1)]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("FilesAllocationSpace"))+":")])])])]),t._v("  "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[e("div",{staticClass:"form-group SliderSingle-files yellow"},[e("div",{staticClass:"jslider-label jslider-label-to"},[e("span",[t._v(t._s(t.formatBytes(t.docStorageMaxLimit)))])]),e("VueSlider",{attrs:{min:t.minFileSize,id:"txtFilesAllocation",max:t.maxFileSize,"tooltip-formatter":e=>t.formatBytes(e)},on:{change:function(e){return t.OnSlide("files")}},model:{value:t.filesAllocation,callback:function(e){t.filesAllocation=e},expression:"filesAllocation"}})],1)]),e("div",{staticClass:"col-lg-12 mt-4 mb-2"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("DocStorageAllocationSpace"))+":")])])])]),t._v("  "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[e("div",{staticClass:"form-group SliderSingle-docstorage red"},[e("div",{staticClass:"jslider-label jslider-label-to"},[e("span",[t._v(t._s(t.formatBytes(t.docStorageMaxLimit)))])]),e("VueSlider",{attrs:{min:t.minDocStorage,id:"txtdocStorageAllocation",max:t.maxDocStorage,"tooltip-formatter":e=>t.formatBytes(e)},on:{change:function(e){return t.OnSlide("docstorage")}},model:{value:t.docStorageAllocation,callback:function(e){t.docStorageAllocation=e},expression:"docStorageAllocation"}})],1)]),e("div",{staticClass:"col-lg-12 mt-4 mb-2"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("TransactionSizeAllocationSpace"))+":")])])])]),t._v("  "),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 my-4 jslider"},[e("div",{staticClass:"form-group SliderSingle-transactionSize blue"},[e("div",{staticClass:"jslider-label jslider-label-to"},[e("span",[t._v(t._s(t.formatBytes(t.docStorageMaxLimit)))])]),e("VueSlider",{attrs:{min:t.minTransactionSize,id:"txtTransactionSize",max:t.maxTransactionSize,"tooltip-formatter":e=>t.formatBytes(e)},on:{change:function(e){return t.OnSlide("transactionSize")}},model:{value:t.transactionSize,callback:function(e){t.transactionSize=e},expression:"transactionSize"}})],1)])])],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row flex-row-reverse mt-3"},[e("div",{staticClass:"col-lg-12 text-right"},[e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" Previous")]),e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.SkipButton()}}},[t._v("Skip")]),e("button",{staticClass:"btn btn-success ml-3",attrs:{id:"update-details",href:"javascript:;",title:"Save"},on:{click:function(e){return t.SaveStorageManagement()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v("Save And Next")])])])])],1)},wt=[],xt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[e("div",[e("b-progress",{attrs:{height:"1.5rem",value:"All"==t.type?t.consumed:t.AllowedStorage,max:"All"==t.type?t.total:t.allocated}})],1),e("div",{staticClass:"level_info my-2 d-block float-left w-100",staticStyle:{height:"auto"}},[e("div",{staticClass:"d-flex bd-highlight"},["Doc"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[e("b",{attrs:{id:"divClientStorage pr-1"}},[e("span"),t._v(" "),e("span",{staticClass:"clr-1"},[t._v(" "+t._s(t.AllowedClientStoragePercentage)+"% ("+t._s(t.formatBytes(t.AllowedClientStorage))+")")])]),t._v(" "),e("span",[t._v(t._s(t.$t("AllocatedToClient")))])]):t._e(),"Doc"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[e("b",{attrs:{id:"divConsumendStorage pr-1"}},[e("span"),t._v(" "),e("span",{staticClass:"clr-2"},[t._v(" "+t._s(t.AllowedUserStoragePercentage)+"% ("+t._s(t.formatBytes(t.AllowedUserStorage))+")")])]),t._v(" "),e("span",[t._v(t._s(t.$t("AllocatedToUser")))])]):t._e(),"All"==t.type?e("div",{staticClass:"p-2 bd-highlight font-12"},[t._m(0),e("span",{staticClass:"clr-1 pr-1"},[t._v(t._s(t.ConsumedPercentage)+"% ("+t._s(t.formatBytes(t.consumed))+") ")]),e("span",[t._v(t._s(t.$t("ContainerActualSize")))])]):t._e(),e("div",{staticClass:"p-2 bd-highlight font-12"},[t._m(1),e("span",{staticClass:"clr-3 pr-1"},[t._v(t._s(t.AvailablePercentage)+"% ("+t._s(t.formatBytes(t.AvailableSpace))+") ")]),e("span",[t._v(t._s(t.$t("Available_Storage")))])]),e("div",{staticClass:"ml-auto p-2 bd-highlight font-12"},[t._m(2),e("span",{staticClass:"font-weight-bold pr-1"},[t._v(t._s(t.formatBytes("All"==t.type?t.total:t.allocated))+" ")]),t._v(" "),e("span",[t._v(t._s(t.$t("ContainerMaxLimit")))])])])])])},kt=[function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])},function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])},function(){var t=this,e=t._self._c;return e("b",{attrs:{id:"divFreeStorage"}},[e("span")])}],It={props:{type:{type:String,required:!0}},data(){return{total:null,consumed:null,allocated:null,AllowedClientStorage:null,AllowedUserStorage:null}},created:function(){var t=this;t.GetStoragedata()},computed:{ConsumedPercentage:{get:function(){return parseFloat(100*this.consumed/this.total).toFixed(0)},set:function(t){}},AllocatedPercentage(){return parseFloat(100*this.allocated/this.total).toFixed(0)},AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AvailablePercentage(){if("All"==this.type){var t=this.total>=this.consumed?this.total-this.consumed:0;return parseFloat(100*t/this.total).toFixed(0)}t=this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0;return parseFloat(100*t/this.allocated).toFixed(0)},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t},AllowedStoragePercentage(){var t=parseFloat(100*(this.AllowedClientStorage+this.AllowedUserStorage)/this.allocated).toFixed(0);return t},AllowedClientStoragePercentage(){var t=parseFloat(100*this.AllowedClientStorage/this.allocated).toFixed(0);return t},AllowedUserStoragePercentage(){var t=parseFloat(100*this.AllowedUserStorage/this.allocated).toFixed(0);return t}},watch:{consumed:function(t){this.ConsumedPercentage=parseFloat(100*this.consumed/this.total).toFixed(0)}},methods:{GetStoragedata:function(){var t=this;if(r["a"].GetStorageReport().then((function(e){t.total=null==e.data[0].CONTAINER_LIMIT||null==e.data[0].CONTAINER_LIMIT?0:e.data[0].CONTAINER_LIMIT,t.consumed=null==e.data[0].CONTAINER_SIZE||void 0==e.data[0].CONTAINER_SIZE?0:e.data[0].CONTAINER_SIZE,t.allocated=null==e.data[0].DOC_STORAGE_MAXLIMIT||void 0==e.data[0].DOC_STORAGE_MAXLIMIT?o:e.data[0].DOC_STORAGE_MAXLIMIT})),"Doc"==t.type){var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";r["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{null==e.ALLOWED_STORAGE||void 0==e.ALLOWED_STORAGE?(e.ALLOWED_STORAGE=0,t.AllowedClientStorage+=e.ALLOWED_STORAGE):t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";r["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{"1002"!=e.STATUS_ID&&(null==e.ALLOWED_STORAGE||void 0==e.ALLOWED_STORAGE?(e.ALLOWED_STORAGE=0,t.AllowedUserStorage+=e.ALLOWED_STORAGE):t.AllowedUserStorage+=e.ALLOWED_STORAGE)})}))}t.total=isNaN(t.total)?0:t.total,t.consumed=isNaN(t.consumed)?0:t.consumed,t.allocated=isNaN(t.allocated)?0:t.allocated,t.AllowedClientStorage=isNaN(t.AllowedClientStorage)?0:t.AllowedClientStorage,t.AllowedUserStorage=isNaN(t.AllowedUserStorage)?0:t.AllowedUserStorage},formatBytes:function(t,e=!1,a=2){if(!+t)return"0 Bytes";const i=1024,s=a<0?0:a,o=["MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(i));return e?parseFloat((t/Math.pow(i,n)).toFixed(s)):`${parseFloat((t/Math.pow(i,n)).toFixed(s))} ${o[n]}`}}},Ft=It,$t=Object(u["a"])(Ft,xt,kt,!1,null,null,null),Lt=$t.exports,Et={props:{reqFrom:""},components:{StorageBar:Lt},data(){return{isLoading:!1,storage:null,filesAllocation:null,filesMaxLimit:null,docStorageAllocation:null,transactionSize:null,docStorageMaxLimit:null,screenshotSize:null,screenshotCount:null,fileSize:null,fileCount:null,docStorageAssigned:null,docStorageUsed:null,transactionTotalSize:null,containerSize:null,screenCount:null,progressBarMinValue:20,progressBarMaxValue:100,ContainerPercentage:null,storageData:null,filesAllocationData:null,docStorageAllocationData:null,transactionSizeData:null,availableSpace:null,containerdata:[],minScreenSize:0,minFileSize:0,minDocStorage:0,minTransactionSize:0,CurrentScreenSize:0,CurrentFileSize:0,CurrentDocStorageSize:0,CurrentTransactionSize:0,maxScreenSize:0,maxFileSize:0,maxDocStorage:0,maxTransactionSize:0}},created:function(){var t=this;t.GetCompanyContainerDetails()},watch:{containerSize:function(t){this.ContainerPercentage=parseFloat(100*t/this.docStorageMaxLimit).toFixed(0)},docStorageMaxLimit:function(t){var e=this;e.maxScreenSize=t-e.minFileSize-e.minDocStorage-e.minTransactionSize,e.maxFileSize=t-e.minScreenSize-e.minDocStorage-e.minTransactionSize,e.maxDocStorage=t-e.minFileSize-e.minScreenSize-e.minTransactionSize,e.maxTransactionSize=t-e.minFileSize-e.minDocStorage-e.minScreenSize}},methods:{GetCompanyContainerDetails:function(){var t=this;t.isLoading=!0,r["a"].GetCompanyContainerDetails().then((function(e){null!=e.data.data&&(t.containerdata=e.data.data[0],t.minScreenSize=Math.round(parseFloat(t.containerdata.SCREENSHOT_SIZE)),t.minFileSize=Math.round(parseFloat(t.containerdata.FILE_SIZE)),t.minDocStorage=Math.round(parseFloat(t.containerdata.DOC_STORAGE_ASSIGED)),t.minTransactionSize=Math.round(parseFloat(t.containerdata.TRANSACTION_TOTAL_SIZE)),t.GetStoragedata(),t.isLoading=!1)}))},AllocateSpaceSlider:function(t){var e=this;e.minScreenSize=Math.round(parseFloat(e.containerdata.SCREENSHOT_SIZE)),e.minFileSize=Math.round(parseFloat(e.containerdata.FILE_SIZE)),e.minDocStorage=Math.round(parseFloat(e.containerdata.DOC_STORAGE_ASSIGED)),e.minTransactionSize=Math.round(parseFloat(e.containerdata.TRANSACTION_TOTAL_SIZE)),e.CurrentScreenSize=Math.round(parseFloat(e.containerdata.SCREEN_MAXLIMIT)),e.CurrentFileSize=Math.round(parseFloat(e.containerdata.FILE_MAXLIMIT)),e.CurrentDocStorageSize=Math.round(parseFloat(e.containerdata.DOC_STORAGE_MAXLIMIT)),e.CurrentTransactionSize=Math.round(parseFloat(e.containerdata.TRANSACTION_SIZE_LIMIT));var a=$("#txtStorage")[0].innerText,i=$("#txtFilesAllocation")[0].innerText,s=$("#txtdocStorageAllocation")[0].innerText,o=$("#txtTransactionSize")[0].innerText;if("storage"==t){e.availableSpace=e.docStorageMaxLimit-a,e.availableSpace<parseInt(e.minFileSize)+parseInt(e.minDocStorage)+parseInt(e.minTransactionSize)&&(e.availableSpace=parseInt(e.minFileSize)+parseInt(e.minDocStorage)+parseInt(e.minTransactionSize),a=Math.abs(e.docStorageMaxLimit-e.availableSpace));var n=e.CurrentScreenSize;if(n<e.StorageValues)for(var l=1;l<=e.StorageValues-n;l++)i>e.minFileSize&&i>=0?i-=1:s>e.minDocStorage&&s>0?s-=1:o-=1;else{var r=e.availableSpace-(parseInt(i)+parseInt(s)+parseInt(o)),c=Math.round(r/100*30);i=parseInt(i)+parseInt(c),s=parseInt(s)+parseInt(c),o=parseInt(o)+(r-2*parseInt(c))}e.filesAllocation=i,e.docStorageAllocation=s,e.transactionSize=o}else if("files"==t){e.availableSpace=e.docStorageMaxLimit-i,e.availableSpace<parseInt(e.minScreenSize)+parseInt(e.minDocStorage)+parseInt(e.minTransactionSize)&&(e.availableSpace=parseInt(e.minScreenSize)+parseInt(e.minDocStorage)+parseInt(e.minTransactionSize),e.docStorageMaxLimit=Math.abs(e.docStorageMaxLimit-e.availableSpace));var d=e.CurrentFileSize;if(d<i)for(l=1;l<=i-d;l++)s>e.minDocStorage&&s>=0?s-=1:o>e.minTransactionSize&&o>0?o-=1:a-=1;else{var u=e.availableSpace-(parseInt(a)+parseInt(s)+parseInt(o));c=Math.round(u/100*30);a=parseInt(a)+parseInt(c),s=parseInt(s)+parseInt(c),o=parseInt(o)+(u-2*parseInt(c))}e.storage=a,e.docStorageAllocation=s,e.transactionSize=o}else if("docstorage"==t){e.availableSpace=e.docStorageMaxLimit-s,e.availableSpace<parseInt(e.minScreenSize)+parseInt(e.minFileSize)+parseInt(e.minTransactionSize)&&(e.availableSpace=parseInt(e.minScreenSize)+parseInt(e.minFileSize)+parseInt(e.minTransactionSize),e.docStorageMaxLimit=Math.abs(e.docStorageMaxLimit-e.availableSpace));var p=e.CurrentDocStorageSize;if(p<s)for(l=1;l<=s-p;l++)o>e.minTransactionSize&&o>=0?o-=1:a>e.minScreenSize&&a>0?a-=1:i-=1;else{var m=e.availableSpace-(parseInt(a)+parseInt(i)+parseInt(o));c=Math.round(m/100*30);a=parseInt(a)+parseInt(c),i=parseInt(i)+parseInt(c),o=parseInt(o)+(m-2*parseInt(c))}e.storage=a,e.filesAllocation=i,e.transactionSize=o}else if("transactionSize"==t){e.availableSpace=e.docStorageMaxLimit-o,e.availableSpace<parseInt(e.minScreenSize)+parseInt(e.minFileSize)+parseInt(e.minDocStorage)&&(e.availableSpace=parseInt(e.minScreenSize)+parseInt(e.minFileSize)+parseInt(e.minDocStorage),e.docStorageMaxLimit=Math.abs(e.docStorageMaxLimit-e.availableSpace));var h=e.CurrentTransactionSize;if(h<o)for(l=1;l<=o-h;l++)a>e.minScreenSize&&a>=0?a-=1:i>e.minFileSize&&i>0?i-=1:s-=1;else{var v=e.availableSpace-(parseInt(a)+parseInt(i)+parseInt(s));c=Math.round(v/100*30);a=parseInt(a)+parseInt(c),i=parseInt(i)+parseInt(c),s=parseInt(s)+(v-2*parseInt(c))}e.storage=a,e.filesAllocation=i,e.docStorageAllocation=s}},OnSlide:function(t){var e=this;e.minScreenSize=Math.round(parseFloat(e.containerdata.SCREENSHOT_SIZE)),e.minFileSize=Math.round(parseFloat(e.containerdata.FILE_SIZE)),e.minDocStorage=Math.round(parseFloat(e.containerdata.DOC_STORAGE_ASSIGED)),e.minTransactionSize=Math.round(parseFloat(e.containerdata.TRANSACTION_TOTAL_SIZE)),e.CurrentScreenSize=Math.round(parseFloat(e.storage)),e.CurrentFileSize=Math.round(parseFloat(e.filesAllocation)),e.CurrentDocStorageSize=Math.round(parseFloat(e.docStorageAllocation)),e.CurrentTransactionSize=Math.round(parseFloat(e.transactionSize));var a=e.CurrentScreenSize-e.minScreenSize,i=e.CurrentFileSize-e.minFileSize,s=e.CurrentDocStorageSize-e.minDocStorage,o=e.CurrentTransactionSize-e.minTransactionSize,n=0;"storage"==t?(e.CurrentScreenSize>e.docStorageMaxLimit-e.minFileSize-e.minDocStorage-e.minTransactionSize&&(e.storage=e.docStorageMaxLimit-e.minFileSize-e.minDocStorage-e.minTransactionSize,e.CurrentScreenSize=Math.round(parseFloat(e.storage))),e.docStorageMaxLimit-e.storage-e.filesAllocation-e.docStorageAllocation-e.transactionSize<0&&(n=e.storage+e.filesAllocation+e.docStorageAllocation+e.transactionSize-e.docStorageMaxLimit),n>i?(n-=i,e.filesAllocation=e.filesAllocation-i):(e.filesAllocation=e.filesAllocation-n,n=0),n>0&&(n>s?(n-=s,e.docStorageAllocation=e.docStorageAllocation-s):(e.docStorageAllocation=e.docStorageAllocation-n,n=0),n>0&&(n>o?(n-=o,e.vm.transactionSize=e.transactionSize-o):(e.transactionSize=e.transactionSize-n,n=0))),e.storage=e.docStorageMaxLimit-e.filesAllocation-e.docStorageAllocation-e.transactionSize-n):"files"==t?(e.CurrentFileSize>e.docStorageMaxLimit-e.minScreenSize-e.minDocStorage-e.minTransactionSize&&(e.filesAllocation=e.docStorageMaxLimit-e.minScreenSize-e.minDocStorage-e.minTransactionSize,e.CurrentFileSize=Math.round(parseFloat(e.filesAllocation))),e.docStorageMaxLimit-e.storage-e.filesAllocation-e.docStorageAllocation-e.transactionSize<0&&(n=e.storage+e.filesAllocation+e.docStorageAllocation+e.transactionSize-e.docStorageMaxLimit),n>a?(n-=a,e.storage=e.storage-a):(e.storage=e.storage-n,n=0),n>0&&(n>s?(n-=s,e.docStorageAllocation=e.docStorageAllocation-s):(e.docStorageAllocation=e.docStorageAllocation-n,n=0),n>0&&(n>o?(n-=o,e.transactionSize=e.transactionSize-o):(e.transactionSize=e.transactionSize-n,n=0))),e.filesAllocation=e.docStorageMaxLimit-e.storage-e.docStorageAllocation-e.transactionSize-n):"docstorage"==t?(e.CurrentDocStorageSize>e.docStorageMaxLimit-e.minScreenSize-e.minFileSize-e.minTransactionSize&&(e.docStorageAllocation=e.docStorageMaxLimit-e.minScreenSize-e.minFileSize-e.minTransactionSize,e.CurrentDocStorageSize=Math.round(parseFloat(e.docStorageAllocation))),e.docStorageMaxLimit-e.storage-e.filesAllocation-e.docStorageAllocation-e.transactionSize<0&&(n=e.storage+e.filesAllocation+e.docStorageAllocation+e.transactionSize-e.docStorageMaxLimit),n>a?(n-=a,e.storage=e.storage-a):(e.storage=e.storage-n,n=0),n>0&&(n>i?(n-=i,e.filesAllocation=e.filesAllocation-i):(e.filesAllocation=e.filesAllocation-n,n=0),n>0&&(n>o?(n-=o,e.vm.transactionSize=e.transactionSize-o):(e.transactionSize=e.transactionSize-n,n=0))),e.docStorageAllocation=e.docStorageMaxLimit-e.storage-e.filesAllocation-e.transactionSize-n):"transactionSize"==t&&(e.CurrentTransactionSize>e.docStorageMaxLimit-e.minScreenSize-e.minDocStorage-e.minFileSize&&(e.transactionSize=e.docStorageMaxLimit-e.minScreenSize-e.minFileSize-e.minDocStorage,e.CurrentTransactionSize=Math.round(parseFloat(e.transactionSize))),e.docStorageMaxLimit-e.storage-e.filesAllocation-e.docStorageAllocation-e.transactionSize<0&&(n=e.storage+e.filesAllocation+e.docStorageAllocation+e.transactionSize-e.docStorageMaxLimit),n>a?(n-=a,e.storage=e.storage-a):(e.storage=e.storage-n,n=0),n>0&&(n>i?(n-=i,e.filesAllocation=e.filesAllocation-i):(e.filesAllocation=e.filesAllocation-n,n=0),n>0&&(n>s?(n-=s,e.docStorageAllocation=e.docStorageAllocation-s):(e.docStorageAllocation=e.docStorageAllocation-n,n=0))),e.transactionSize=e.docStorageMaxLimit-e.storage-e.filesAllocation-e.docStorageAllocation-n)},GetStoragedata:function(){var t=this;r["a"].GetStorageReport().then((function(e){t.isLoading=!0,t.storage=e.data[0].SCREEN_MAXLIMIT,t.filesAllocation=e.data[0].FILE_MAXLIMIT,t.GetScreenCount(t.filesAllocation),t.docStorageAllocation=e.data[0].DOC_STORAGE_MAXLIMIT,t.transactionSize=e.data[0].TRANSACTION_SIZE_LIMIT,t.docStorageMaxLimit=e.data[0].CONTAINER_LIMIT,t.screenshotSize=e.data[0].SCREENSHOT_SIZE,t.screenshotCount=e.data[0].SCREENSHOT_COUNT,t.fileSize=e.data[0].FILE_SIZE,t.fileCount=e.data[0].FILE_COUNT,t.docStorageAssigned=e.data[0].DOC_STORAGE_ASSIGED,t.docStorageUsed=e.data[0].DOC_STORAGE_USED,t.transactionTotalSize=e.data[0].TRANSACTION_TOTAL_SIZE,t.containerSize=e.data[0].CONTAINER_SIZE,t.UsedScreenshotSpace=e.data[0].SCREENSHOT_COUNT,t.UsedFileSpace=e.data[0].FILE_SIZE,t.UsedDocStorageSpace=e.data[0].DOC_STORAGE_USED,t.UsedTransactionSpace=e.data[0].TRANSACTION_TOTAL_SIZE,t.minScreenSize=Math.round(parseFloat(t.containerdata.SCREENSHOT_SIZE)),t.minFileSize=Math.round(parseFloat(t.containerdata.FILE_SIZE)),t.minDocStorage=Math.round(parseFloat(t.containerdata.DOC_STORAGE_ASSIGED)),t.minTransactionSize=Math.round(parseFloat(t.containerdata.TRANSACTION_TOTAL_SIZE)),t.isLoading=!1}))},GetScreenCount:function(t){var e=this,a=parseFloat(70.5,10)+parseFloat(5.8,10);e.screenCount=Math.round(1024*t/a)},SkipButton:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},SaveStorageManagement:function(){var t=this,e=`maxFileSize=${t.filesAllocation}&maxScreenSize=${t.storage}&maxDocSize=${t.docStorageAllocation}&maxTransactionSize=${t.transactionSize}`;t.isLoading=!0,r["a"].SaveContainerDetails(e).then((function(e){0==e.data&&(t.ShowAlert("Storage has been saved succesfully","Success"),t.GetStoragedata(),t.$emit("nextTab"),t.isLoading=!1)}))},formatBytes:function(t,e=!1,a=2){if(!+t)return"0 Bytes";const i=1024,s=a<0?0:a,o=["MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(t)/Math.log(i));return e?parseFloat((t/Math.pow(i,n)).toFixed(s)):`${parseFloat((t/Math.pow(i,n)).toFixed(s))} ${o[n]}`}}},Pt=Et,Nt=(a("2793"),Object(u["a"])(Pt,Tt,wt,!1,null,null,null)),Rt=Nt.exports,Ot=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("StorageBar",{attrs:{type:"Doc"}}),e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),e("th",[e("span",[t._v(t._s(t.$t("ClientName")))])]),e("th",[e("span",[t._v(t._s(t.$t("Email")))])]),e("th",[e("span",[t._v(t._s(t.$t("Status")))])]),e("th",[e("span",[t._v(t._s(t.$t("ConsumedStoarage"))+" (MB)")])]),e("th",[e("span",[t._v(t._s(t.$t("AllocatedStorage"))+" (MB)")])]),e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v(t._s(t.$t("Action")))])])])]),e("tbody",[t._l(t.UserData,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{id:a.USER_ID,type:"checkbox"},domProps:{value:a.USER_ID},on:{change:function(e){return t.onChange(e)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:a.USER_ID,type:"checkbox"}})])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.USER_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.EMAIL_ID)+" ")])]),e("td",[e("a",{staticClass:"inactive-disabled"},["1001"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block text-center text-truncate btn-success w-80",attrs:{title:"Active"}},[t._v(" Active")]):t._e(),"1084"==a.STATUS_ID?e("span",{staticClass:"sent bg-secondary btn d-inline-block text-center text-truncate text-white w-80",attrs:{title:"Approved"}},[t._v(" Approved")]):t._e(),"Rejected"==a.STATUS_ID?e("span",{staticClass:"stop btn d-inline-block text-center text-truncate btn-danger w-80",attrs:{title:"Rejected"}},[t._v(" Rejected")]):t._e(),"1003"==a.STATUS_ID?e("span",{staticClass:"stop px-2 bg-primary btn d-inline-block text-center text-truncate w-80",attrs:{title:"Deleted"}},[t._v(" Deleted")]):t._e(),"1002"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block text-center text-truncate btn-danger w-80",attrs:{title:"Inactive"}},[t._v("Inactive")]):t._e(),"1005"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block text-center text-truncate btn-secondary w-80",attrs:{title:"Pending"}},[t._v(" Pending")]):t._e(),"ActivationAwaited"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block text-center text-truncate btn-warning w-80",attrs:{title:"ActivationAwaited"}},[t._v(" ActivationAwaited")]):t._e()])]),e("td",[e("span",{staticClass:"text-right text-overflow-dynamic-container"},[t._v(" "+t._s(a.CONSUMED_STROAGE)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.ALLOWED_STORAGE,expression:"item.ALLOWED_STORAGE"}],staticClass:"maxAllowedStorage form-control text-right",attrs:{type:"text","asp-for":"item.MaxStorage",id:"idMaxStorage"+a.USER_ID,step:"0.01",maxlength:"13",disabled:"disabled"},domProps:{value:a.ALLOWED_STORAGE},on:{input:function(e){e.target.composing||t.$set(a,"ALLOWED_STORAGE",e.target.value)}}})])]),e("td",{staticClass:"text-center single-action"},[t.hideEditIcon?e("a",{staticClass:"aEdit font-18",attrs:{title:"Edit",id:"idEdit"+a.USER_ID},on:{click:function(e){return t.editAllowedStorage(a.USER_ID)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})]):t._e(),e("div",{staticStyle:{display:"none"},attrs:{id:"divAction"+a.USER_ID}},[e("a",{staticClass:"aCancel mr-2 font-18",attrs:{id:"idCancel_"+a.USER_ID,value:a.USER_ID,title:"Cancel",href:"javascript:;"},on:{click:function(e){return t.CancelAction(a.USER_ID,a.ALLOWED_STORAGE)}}},[e("i",{staticClass:"fa fa-times-circle text-danger action-icon"})]),e("a",{staticClass:"aSave font-18",attrs:{title:"Save",value:a.USER_ID,id:"idSave_"+a.USER_ID,href:"javascript:;"},on:{click:function(e){return t.SaveData(a.USER_ID,a.ALLOWED_STORAGE,a.CONSUMED_STROAGE)}}},[e("i",{staticClass:"fa fa-save text-primary action-icon"})])])])])})),0==t.NoRecordLength?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")])]):t._e(),t.NoRecordLength>0?e("tr",[e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"2"}},[t._v("Total")]),e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"4"}},[t._v(t._s(t.totalConsumedStorage)+" MB ")]),e("td",{staticClass:"text-right fr font-weight-bold"},[t._v(t._s(t.totalAllowedStorage)+" MB")])]):t._e()],2)])])])],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"col-lg-12 text-right px-0 mt-3 float-right"},[e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" Previous")]),e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.SkipButton()}}},[t._v("Skip")]),e("button",{staticClass:"btn btn-success ml-3",attrs:{id:"update-details",href:"javascript:;",title:"Save"},on:{click:function(e){return t.SaveandNext()}}},[t._v("Save And Next "),e("i",{staticClass:"fa fa-angle-double-right pl-1",attrs:{"aria-hidden":"true"}})])])])],1)},Ut=[],Mt={props:{reqFrom:""},components:{StorageBar:Lt},data(){return{isLoading:!1,UserData:[],DepartmentData:[],designationData:[],userStorageDetailSummary:[],pageNo:1,searchCondition:null,sortExp:null,sortBy:null,pageSize:10,totalRecords:"",dropDivShow:!1,showByNameDiv:!1,showByConsumedDiv:!1,divDesignationShow:!1,hideEditIcon:!0,isAllocatedSpaceOpen:!1,UserStorageValue:null,UserId:null,saveStorage:null,StorageValue:null,jsonobj:[],JSONSearchData:[],departmentList:null,designationList:null,txtSearchUserName:"",txtConsumedStorage:"",userFilterData:[],CheckIfExist:[],jsonFilteredData:[],label:!1,totalConsumedStorage:0,totalAllowedStorage:0,NoRecordLength:0,containerSize:null,docStorageMaxLimit:null,AllowedClientStorage:null,AllowedUserStorage:null,total:null,consumed:null,allocated:null,jsonObjData:[]}},created(){this.FetchData(),this.GetStoragedata()},computed:{AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t},CalculateTotalAllowedStorage(){}},methods:{GetStoragedata:function(){var t=this;r["a"].GetStorageReport().then((function(e){t.total=e.data[0].CONTAINER_LIMIT,t.consumed=e.data[0].CONTAINER_SIZE,t.allocated=e.data[0].DOC_STORAGE_MAXLIMIT}));var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";r["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";r["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{t.AllowedUserStorage+=e.ALLOWED_STORAGE})}))},validate:function(){var t=this,e=t.AllowedClientStorage,a=(t.AllowedUserStorage,t.AvailableSpace),i=t.totalAllowedStorage,s=e+a;return!(s<i)},SkipButton:function(){var t=this;t.$emit("nextTab")},SaveandNext:function(){var t=this;t.jsonObjData=[];new FormData;if(0!=$("#tblFileList tr").length){var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=4`;r["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST;var a=!1;null!=t.UserData&&t.UserData.forEach((e,i)=>{isNaN(e.ALLOWED_STORAGE)&&(a=!0);let s={DataId:e.USER_ID,DataValue:e.ALLOWED_STORAGE};t.jsonObjData.push(s)});let i=[{refCode:"UserSetting",moduleName:"DocStorage"}];var s="configData",o="conditionData",n="[{"+JSON.stringify(s)+":"+JSON.stringify(t.jsonObjData)+", "+JSON.stringify(o)+":"+JSON.stringify(i)+"}]";if(1==t.validate()){if(a)return t.ShowAlert(t.$t("AllocateStorageMustNumeric"),"failure",!0,t.$t("Alert")),!1;r["a"].ManageDocUserStorageSettingData(JSON.stringify(n)).then(e=>{0==e.data?this.$emit("nextTab"):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))})}else t.ShowAlert(t.$t("YouCannotAssignSpaceMoreThanAvailableSpace"),"failure",!0,t.$t("Alert"))}))}else t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))},PreviousButton:function(){var t=this;t.$emit("previousTab")},SearchUserStorage:function(){var t=this;$(".chkItems:checked").each((function(){var e=$(this).val();t.CheckIfExist=t.UserData.filter(t=>t.DEPARTMENT_ID==e),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)})),$(".chkItems:checked").each((function(){0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData);var e=$(this).val();t.CheckIfExist=t.UserData.filter(t=>t.DESIGNATION_ID==e),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)})),""!=t.txtSearchUserName&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.UserData.filter(e=>e.USER_NAME.toLowerCase().includes(t.txtSearchUserName)),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),""!=t.txtConsumedStorage&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.jsonFilteredData.filter((function(e){return e.CONSUMED_STROAGE==t.txtConsumedStorage})),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),t.UserData=t.userFilterData,t.getTotalStorageData()},downArrowButton:function(){alert("arrow")},toggleExpandCollapseButton:function(){var t=this;0==t.label?(t.dropDivShow=!0,t.divDesignationShow=!0,t.showByNameDiv=!0,t.showByConsumedDiv=!0,t.label=!0):(t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,t.label=!1),t.txtSearchUserName="",t.txtConsumedStorage=""},getTotalStorageData:function(){var t=this;t.totalAllowedStorage=0,t.totalConsumedStorage=0,t.UserData.forEach(e=>{t.totalAllowedStorage+=e.ALLOWED_STORAGE,t.totalConsumedStorage+=e.CONSUMED_STROAGE})},AllocatedSpacePopup:function(){var t=this,e="",a="";$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){e=$(this).val(),a=$(this).closest("tr").find(".maxAllowedStorage").val();let i={Id:e,value:a};t.jsonobj.push(i)})),t.isAllocatedSpaceOpen=!0},closeAllocatedSpace:function(){var t=this;t.isAllocatedSpaceOpen=!1},SaveData:function(t,e,a){var i=this;i.isLoading=!0,i.jsonObjData=[],i.UserId=t,i.UserStorageValue=e;let s={DataId:i.UserId,DataValue:i.UserStorageValue};i.jsonObjData.push(s);let o=[{refCode:"UserSetting",moduleName:"DocStorage"}];var n="configData",l="conditionData",c="[{"+JSON.stringify(n)+":"+JSON.stringify(i.jsonObjData)+", "+JSON.stringify(l)+":"+JSON.stringify(o)+"}]";if(e>i.total)return i.ShowAlert(i.$t("AllocateStorageCannotMoreThanTotalStorage"),"failure",!0,i.$t("Alert")),i.isLoading=!1,!1;e<a?i.ShowAlert(i.$t("AllocateStorageCannotLessThanConsumedStorage"),"failure",!0,i.$t("Alert")):isNaN(e)?i.ShowAlert(i.$t("AllocateStorageMustNumeric"),"failure",!0,i.$t("Alert")):r["a"].ManageDocUserStorageSettingData(JSON.stringify(c)).then(e=>{0==e.data?(this.ShowAlert(i.$t("StorageConfigurationDataUpdatedSuccessfully"),"success"),$("#idMaxStorage"+t).attr("disabled","disabled"),$("#divAction"+t).hide(),$("#idEdit"+t).show(),i.FetchData(),i.$parent.GetStorageSetupStatusDetail()):i.ShowAlert(i.$t("UnknownErrorOccur"),"failure",!0,i.$t("Alert"))}),i.isLoading=!1},CancelAction:function(t){var e=this;$("#idMaxStorage"+t).attr("disabled","disabled"),$("#idEdit"+t).show(),$("#divAction"+t).hide(),e.FetchData()},editAllowedStorage:function(t){$("#idMaxStorage"+t).removeAttr("disabled"),$("#idEdit"+t).hide(),$("#divAction"+t).show()},onChange:function(){var t=$(".chkItems:checked").not("[id^='chkAll']").length;t>0?$("#btnStorageSpace").removeClass("disabled"):$("#btnStorageSpace").addClass("disabled")},GetDDLDepartmentData:function(){var t=this;var e="moduleName=DocStorage&type=DEPARTMENT";r["a"].GetDDLDatas(e).then(e=>{t.DepartmentData=e.data.DATA})},GetDDLDesignationData:function(){var t=this;var e="moduleName=DocStorage&type=HR_DESIG";r["a"].GetDDLDatas(e).then(e=>{t.designationData=e.data.DATA})},FetchData:function(){var t=this;t.isLoading=!0;var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=4`;r["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST,t.UserData.length>0&&(t.totalRecords=t.UserData[0].totalRecords,t.userStorageDetailSummary=JSON.parse(e.data).USERSTORAGEDETAILSUMMARY),t.getTotalStorageData(),t.isLoading=!1,null==t.UserData?t.NoRecordLength=0:t.NoRecordLength=t.UserData.length})),setTimeout((function(){t.ResponsiveDataTable("tblFileList")}),500),$("#btnStorageSpace").addClass("disabled")}}},Gt=Mt,Bt=Object(u["a"])(Gt,Ot,Ut,!1,null,null,null),Vt=Bt.exports,qt=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("StorageBar",{attrs:{type:"Doc"}}),e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[e("input",{staticClass:"chkitems",attrs:{id:"chkAll",value:"",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),e("th",[e("span",[t._v(t._s(t.$t("UserName")))])]),e("th",[e("span",[t._v(t._s(t.$t("Designation")))])]),e("th",[e("span",[t._v(t._s(t.$t("Department")))])]),e("th",[e("span",[t._v(t._s(t.$t("Status")))])]),e("th",[e("span",[t._v(t._s(t.$t("ConsumedStoarage"))+" (MB)")])]),e("th",[e("span",[t._v(t._s(t.$t("AllocatedStorage"))+" (MB)")])]),e("th",{staticClass:"text-center nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v(t._s(t.$t("Action")))])])])]),e("tbody",[t._l(t.UserData,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{id:a.USER_ID,type:"checkbox"},domProps:{value:a.USER_ID},on:{change:function(e){return t.onChange(e)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:a.USER_ID,type:"checkbox"}})])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.USER_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.DESIGNATION_NAME)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.DEPARTMENT_NAME)+" ")])]),e("td",[e("a",{staticClass:"inactive-disabled"},["1001"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-success",attrs:{title:"Active"}},[t._v(" Active")]):t._e(),"1084"==a.STATUS_ID?e("span",{staticClass:"sent bg-secondary btn d-inline-block w-80 text-center text-truncate text-white",attrs:{title:"Approved"}},[t._v(" Approved")]):t._e(),"Rejected"==a.STATUS_ID?e("span",{staticClass:"stop btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Rejected"}},[t._v(" Rejected")]):t._e(),"1003"==a.STATUS_ID?e("span",{staticClass:"stop px-2 bg-primary btn d-inline-block w-80 text-center text-truncate",attrs:{title:"Deleted"}},[t._v(" Deleted")]):t._e(),"1002"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-danger",attrs:{title:"Inactive"}},[t._v("Inactive")]):t._e(),"1005"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-secondary",attrs:{title:"Pending"}},[t._v(" Pending")]):t._e(),"ActivationAwaited"==a.STATUS_ID?e("span",{staticClass:"fullPaid btn d-inline-block w-80 text-center text-truncate btn-warning",attrs:{title:"ActivationAwaited"}},[t._v(" ActivationAwaited")]):t._e()])]),e("td",[e("span",{staticClass:"text-right text-overflow-dynamic-container"},[t._v(" "+t._s(a.USED_STORAGE)+" ")])]),e("td",["1002"!=a.STATUS_ID?e("span",{staticClass:"text-overflow-dynamic-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.ALLOWED_STORAGE,expression:"item.ALLOWED_STORAGE"}],staticClass:"maxAllowedStorage form-control text-right",attrs:{type:"text",id:"idMaxStorage"+a.USER_ID,step:"0.01",maxlength:"13",disabled:"disabled"},domProps:{value:a.ALLOWED_STORAGE},on:{keypress:function(e){return t.isNumber(e)},input:function(e){e.target.composing||t.$set(a,"ALLOWED_STORAGE",e.target.value)}}})]):t._e(),"1002"==a.STATUS_ID?e("span",{staticClass:"text-overflow-dynamic-container"},[e("input",{staticClass:"maxAllowedStorage form-control text-right disabled",attrs:{type:"text","asp-for":"item.MaxStorage",id:"idMaxStorage"+a.USER_ID,step:"0.01",maxlength:"13",value:"0"}})]):t._e()]),e("td",{staticClass:"text-center single-action"},[t.hideEditIcon?e("a",{staticClass:"aEdit",attrs:{title:"Edit",id:"idEdit"+a.USER_ID},on:{click:function(e){return t.editAllowedStorage(a.USER_ID)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})]):t._e(),e("div",{staticStyle:{display:"none"},attrs:{id:"divAction"+a.USER_ID}},[e("a",{staticClass:"aCancel mr-2",attrs:{id:"idCancel_"+a.USER_ID,value:a.USER_ID,title:"Cancel",href:"javascript:;"},on:{click:function(e){return t.CancelAction(a.USER_ID,a.ALLOWED_STORAGE)}}},[e("i",{staticClass:"fa fa-times-circle text-danger action-icon"})]),e("a",{staticClass:"aSave",attrs:{title:"Save",value:a.USER_ID,id:"idSave_"+a.USER_ID,href:"javascript:;"},on:{click:function(e){return t.SaveData(a.USER_ID,a.ALLOWED_STORAGE,a.CONSUMED_STROAGE)}}},[e("i",{staticClass:"fa fa-save text-primary action-icon"})])])])])})),0==t.NoRecordLength?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v("No Record Found")])]):t._e(),t.NoRecordLength>0?e("tr",[e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"2"}},[t._v("Total")]),e("td",{staticClass:"text-right fr font-weight-bold",attrs:{colspan:"4"}},[t._v(t._s(t.totalConsumedStorage)+" MB ")]),e("td",{staticClass:"text-right fr font-weight-bold"},[t._v(t._s(t.totalAllowedStorage)+" MB")])]):t._e()],2)])])])],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"col-lg-12 text-right mt-3 float-right p-0"},[e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" Previous")]),"InitialSetup"!=t.reqFrom?e("button",{staticClass:"btn btn-success",attrs:{title:"Save"},on:{click:function(e){return t.SaveButton("Save")}}},[e("em",{staticClass:"fa fa-save pr-2",attrs:{"aria-hidden":"true"}}),t._v(" Save")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.SaveButton("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])],1)},zt=[],jt={props:{reqFrom:""},components:{StorageBar:Lt},data(){return{isLoading:!1,UserData:[],DepartmentData:[],designationData:[],userStorageDetailSummary:[],pageNo:1,searchCondition:null,sortExp:null,sortBy:null,pageSize:10,totalRecords:"",dropDivShow:!1,showByNameDiv:!1,showByConsumedDiv:!1,divDesignationShow:!1,hideEditIcon:!0,isAllocatedSpaceOpen:!1,UserStorageValue:null,UserId:null,saveStorage:null,StorageValue:null,jsonobj:[],JSONSearchData:[],departmentList:null,designationList:null,txtSearchUserName:"",txtConsumedStorage:"",userFilterData:[],CheckIfExistDepartment:[],jsonFilteredData:[],label:!1,totalConsumedStorage:0,totalAllowedStorage:0,NoRecordLength:0,isDeptSearchOn:!1,isDesgSearchOn:!1,arrayDepartmentChecks:[],departmentSelectedArray:[],designationSelectedArray:[],arrayDesignationChecks:[],CheckIfExistDesignation:[],CheckIfExist:[],txtDepartmentName:[],tempArray:[],txtSearchDeptValue:"",containerSize:null,docStorageMaxLimit:null,AllowedClientStorage:null,AllowedUserStorage:null,total:null,consumed:null,allocated:null,jsonObjData:[]}},created(){var t=this;t.FetchData(),t.GetStoragedata()},computed:{AvailableSpace(){return"All"==this.type?this.total>=this.consumed?this.total-this.consumed:0:this.AllowedClientStorage+this.AllowedUserStorage<this.allocated?this.allocated-this.AllowedClientStorage-this.AllowedUserStorage:0},AllowedStorage(){var t=this.AllowedClientStorage+this.AllowedUserStorage;return t}},methods:{validate:function(){var t=this,e=(t.AllowedClientStorage,t.AllowedUserStorage),a=t.AvailableSpace,i=t.totalAllowedStorage,s=e+a;return!(s<i)||(t.ShowAlert(t.$t("YouCannotAssignSpaceMoreThanAvailableSpace"),"failure",!0,t.$t("Alert")),!1)},PreviousButton:function(){var t=this;t.$emit("previousTab")},searchDept:function(){var t=this;""!=t.txtSearchDeptValue&&(t.DepartmentData=t.DepartmentData.filter(e=>e.name.toLowerCase().includes(t.txtSearchDeptValue)))},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await r["a"].UpdateUserSettingConfig(e).then(t=>{})},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},ClearFilter:function(t,e,a){},enableDepartmentSearch:function(){var t=this;$(".DepartmentchkItems:checked").length>0?(t.isDeptSearchOn=!0,t.departmentSelectedArray=[],$(".DepartmentchkItems:checked").each((function(){var e=$(this).val();t.arrayDepartmentChecks=t.DepartmentData.filter(t=>t.value==e),t.departmentSelectedArray=t.departmentSelectedArray.concat(t.arrayDepartmentChecks)}))):t.isDeptSearchOn=!1},enableDesignationSearch:function(){var t=this;$(".DesignationchkItems:checked").length>0?(t.isDesgSearchOn=!0,t.designationSelectedArray=[],$(".DesignationchkItems:checked").each((function(){var e=$(this).val();t.arrayDesignationChecks=t.designationData.filter(t=>t.value==e),t.designationSelectedArray=t.designationSelectedArray.concat(t.arrayDesignationChecks)}))):t.isDesgSearchOn=!1},SkipButton:function(){var t=this;t.$parent.ShowNextTab(5)},SaveButton:function(t){var e=this;e.jsonObjData=[];new FormData;if(0!=$("#tblFileList tr").length){var a=`pageNo=${e.pageNo}&pageSize=${e.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;r["a"].GetUserStorageDetail(a).then((function(a){e.UserData=JSON.parse(a.data).USERSTORAGEDETAILLIST,null!=e.UserData&&e.UserData.forEach((t,a)=>{let i={DataId:t.USER_ID,DataValue:t.ALLOWED_STORAGE};e.jsonObjData.push(i)});let i=[{refCode:"UserSetting",moduleName:"DocStorage"}];var s="configData",o="conditionData",n="[{"+JSON.stringify(s)+":"+JSON.stringify(e.jsonObjData)+", "+JSON.stringify(o)+":"+JSON.stringify(i)+"}]";1==e.validate()?r["a"].ManageDocUserStorageSettingData(JSON.stringify(n)).then(a=>{0==a.data?("SaveAndFinish"==t&&e.Finish(),e.$parent.ShowNextTab(5)):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}):e.ShowAlert(e.$t("YouCannotAssignSpaceMoreThanAvailableSpace"),"failure",!0,e.$t("Alert"))}))}else e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))},disableDepartmentButton:function(){var t=this;t.isDeptSearchOn=!1},disableDisgnationButton:function(){var t=this;t.isDesgSearchOn=!1},SearchUserStorage:function(){var t=this;t.userFilterData=[],$(".DepartmentchkItems:checked").each((function(){var e=$(this).val();t.CheckIfExistDepartment=t.UserData.filter(t=>t.DEPARTMENT_ID==e),t.JSONSearchData=Array.from(t.CheckIfExistDepartment),t.userFilterData=t.userFilterData.concat(t.JSONSearchData),t.departmentSelectedArray.length>0?t.dropDivShow=!0:t.dropDivShow=!1})),$(".DesignationchkItems:checked").each((function(){0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData);var e=$(this).val();t.CheckIfExistDesignation=t.UserData.filter(t=>t.DESIGNATION_ID==e),t.JSONSearchData=Array.from(t.CheckIfExistDesignation),t.userFilterData=t.userFilterData.concat(t.JSONSearchData),t.designationSelectedArray.length>0?t.divDesignationShow=!0:t.divDesignationShow=!1})),""!=t.txtSearchUserName&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.UserData.filter(e=>e.USER_NAME.toLowerCase().includes(t.txtSearchUserName)),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),""!=t.txtConsumedStorage&&(0==t.userFilterData.length&&(t.jsonFilteredData=t.UserData),t.CheckIfExist=t.jsonFilteredData.filter((function(e){return e.CONSUMED_STROAGE==t.txtConsumedStorage})),t.JSONSearchData=Array.from(t.CheckIfExist),t.userFilterData=t.userFilterData.concat(t.JSONSearchData)),t.UserData=t.userFilterData,t.getTotalStorageData()},ResetButton:function(){var t=this;t.FetchData(),t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,$(".DepartmentchkItems").prop("checked",!1),$(".DesignationchkItems").prop("checked",!1),t.txtSearchUserName="",t.txtConsumedStorage="",t.toggleExpandCollapseButton(t.label=!0),t.userFilterData=[],t.designationSelectedArray=[],t.departmentSelectedArray=[]},toggleExpandCollapseButton:function(){var t=this;0==t.label?(t.dropDivShow=!0,t.divDesignationShow=!0,t.showByNameDiv=!0,t.showByConsumedDiv=!0,t.label=!0):(t.dropDivShow=!1,t.divDesignationShow=!1,t.showByNameDiv=!1,t.showByConsumedDiv=!1,t.label=!1,t.isDeptSearchOn=!1,t.isDesgSearchOn=!1),t.txtSearchUserName="",t.txtConsumedStorage=""},getTotalStorageData:function(){var t=this;t.totalAllowedStorage=0,t.totalConsumedStorage=0,t.UserData.forEach(e=>{"1002"!=e.STATUS_ID&&(t.totalAllowedStorage+=e.ALLOWED_STORAGE,t.totalConsumedStorage+=e.CONSUMED_STROAGE)})},AllocatedSpacePopup:function(){var t=this,e="",a="";$("#tblFileList .chkItems:checked").not("[id^='chkAll']").each((function(){a=$(this).closest("tr").find(".maxAllowedStorage").val(),e=$(this).val();let i={Id:e,value:a};t.jsonobj.push(i)})),t.isAllocatedSpaceOpen=!0},closeAllocatedSpace:function(){var t=this;t.isAllocatedSpaceOpen=!1},GetStoragedata:function(){var t=this;t=this;r["a"].GetStorageReport().then((function(e){t.total=e.data[0].CONTAINER_LIMIT,t.consumed=e.data[0].CONTAINER_SIZE,t.allocated=e.data[0].DOC_STORAGE_MAXLIMIT}));var e="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=4";r["a"].GetUserStorageDetail(e).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedClientStorage=0,a.forEach(e=>{t.AllowedClientStorage+=e.ALLOWED_STORAGE})}));var a="pageNo=1&pageSize=10&sortBy=&sortExp=&userTypeIds=1,2,3";r["a"].GetUserStorageDetail(a).then((function(e){var a=JSON.parse(e.data).USERSTORAGEDETAILLIST;t.AllowedUserStorage=0,a.forEach(e=>{t.AllowedUserStorage+=e.ALLOWED_STORAGE})}))},SaveData:function(t,e,a){var i=this;i.isLoading=!0,i.jsonObjData=[],i.UserId=t,i.UserStorageValue=e;let s={DataId:i.UserId,DataValue:i.UserStorageValue};i.jsonObjData.push(s);let o=[{refCode:"UserSetting",moduleName:"DocStorage"}];var n="configData",l="conditionData",c="[{"+JSON.stringify(n)+":"+JSON.stringify(i.jsonObjData)+", "+JSON.stringify(l)+":"+JSON.stringify(o)+"}]";if(e>i.total)return i.ShowAlert(i.$t("AllocateStorageCannotMoreThanTotalStorage"),"failure",!0,i.$t("Alert")),i.isLoading=!1,!1;e<a?i.ShowAlert(i.$t("AllocateStorageCannotLessThanConsumedStorage"),"failure",!0,i.$t("Alert")):isNaN(e)?i.ShowAlert(i.$t("AllocateStorageMustNumeric"),"failure",!0,i.$t("Alert")):r["a"].ManageDocUserStorageSettingData(JSON.stringify(c)).then(e=>{0==e.data?(this.ShowAlert(i.$t("StorageConfigurationDataUpdatedSuccessfully")),$("#idMaxStorage"+t).attr("disabled","disabled"),$("#divAction"+t).hide(),$("#idEdit"+t).show(),i.FetchData(),i.$parent.GetStorageSetupStatusDetail()):i.ShowAlert(i.$t("UnknownErrorOccur"),"failure",!0,i.$t("Alert"))}),i.isLoading=!1},CancelAction:function(t){var e=this;$("#idMaxStorage"+t).attr("disabled","disabled"),$("#idEdit"+t).show(),$("#divAction"+t).hide(),e.FetchData()},editAllowedStorage:function(t){$("#idMaxStorage"+t).removeAttr("disabled"),$("#idEdit"+t).hide(),$("#divAction"+t).show()},onChange:function(){var t=$(".chkItems:checked").not("[id^='chkAll']").length;t>0?$("#btnStorageSpace").removeClass("disabled"):$("#btnStorageSpace").addClass("disabled")},GetDDLDepartmentData:function(){var t=this;var e="moduleName=DocStorage&type=DEPARTMENT";r["a"].GetDDLDatas(e).then(e=>{t.DepartmentData=e.data.DATA})},GetDDLDesignationData:function(){var t=this;var e="moduleName=DocStorage&type=HR_DESIG";r["a"].GetDDLDatas(e).then(e=>{t.designationData=e.data.DATA})},FetchData:function(){var t=this;t.isLoading=!0;var e=`pageNo=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userTypeIds=1,2,3`;r["a"].GetUserStorageDetail(e).then((function(e){t.UserData=JSON.parse(e.data).USERSTORAGEDETAILLIST,t.totalRecords=t.UserData[0].totalRecords,t.userStorageDetailSummary=JSON.parse(e.data).USERSTORAGEDETAILSUMMARY,t.getTotalStorageData(),t.isLoading=!1,null==t.UserData?t.NoRecordLength=0:t.NoRecordLength=t.UserData.length})),setTimeout((function(){t.ResponsiveDataTable("tblFileList")}),500),setTimeout((function(){t.inittable()}),1500),$("#btnStorageSpace").addClass("disabled")}}},Wt=jt,Yt=(a("7cfa"),Object(u["a"])(Wt,qt,zt,!1,null,"55494cb8",null)),Ht=Yt.exports,Jt=function(){var t=this,e=t._self._c;return e("section",[e("div",{attrs:{id:"addGroupRecord"}},[e("div",{staticClass:"row"},[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("div",{staticClass:"col-lg-12 float-left"},[e("dynamic-form",{ref:"validateGroup",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{staticClass:"col-lg-12 mb-3 float-left",attrs:{id:"divtickettupelist"}},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",staticStyle:{"max-height":"244px"},attrs:{id:"divUserList"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 w-100",attrs:{id:"example"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("CAusername")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Department")))]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(t._s(t.$t("Action")))])])]),e("tbody",{attrs:{id:"UserListDiv"}},[t._l(t.UserList,(function(a){return e("tr",{key:a},[e("td",[t._v(t._s(a.userName))]),e("td",[t._v(t._s(a.departmentName))]),e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"ancAddUsers round-icon-small btn-success-light d-block float-none m-auto",attrs:{href:"javascript:;","data-id":a.userId,"data-name":a.UserName,"data-department":a.departmentName},on:{click:function(e){return t.AssignedUser(a.userId,a.userName,a.departmentName)}}},[e("i",{staticClass:"fa fa-plus",attrs:{alt:"Click to Add",title:"Add"}})])])])})),0==t.UserList.length?e("tr",{staticClass:"norecords",attrs:{id:"trNoRecordFond"}},[e("td",{staticClass:"text-danger text-center",attrs:{colspan:"5"}},[t._v(t._s(t.$t("NoRecordfound"))+" ")])]):t._e()],2)])])]),0==t.UserList.length?e("span",{staticClass:"text-danger",attrs:{id:"error_User"}},[t._v(t._s(t.$t("CheckAtleastOneUser")))]):t._e()]),e("div",{staticClass:"col-lg-12 float-left"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered",attrs:{id:"DefaultUserTable"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("CAusername")))]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("Department")))]),e("th",{attrs:{scope:"col",width:"200"}},[t._v(t._s(t.$t("MaxTicketAssign")))]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(t._s(t.$t("MarkAsDefault")))]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(t._s(t.$t("Action")))])])]),e("tbody",[t._l(t.AssignUserList,(function(a,i){return e("tr",{key:a},[e("td",[t._v(t._s(a.name))]),e("td",[t._v(t._s(a.departmentName))]),e("td",{staticClass:"text-center"},[e("input",{class:{"form-control":!0,"is-invalid":!t.isMaxTicketValid&&(!a.Id||a.Id!=t.defaultUser&&!t.MaxTicketAssign.trim())&&a.disabled},attrs:{type:"text",name:"maxticketassign-"+a.Id,disabled:a.Id!=t.defaultUser,maxlength:"4",tabindex:"6",oninput:"this.value = this.value.replace(/[^0-9]/g, '').slice(0, 4);"},domProps:{value:a.UserId==a.DefaultUser?t.MaxTicketAssign:""}})]),e("td",{staticClass:"text-center"},[e("div",{staticClass:"d-inline-block"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.defaultUser,expression:"defaultUser"}],attrs:{type:"radio",id:a.Id,name:"default",tabindex:"7"},domProps:{value:a.Id,checked:a.UserId!=a.DefaultUser,checked:t._q(t.defaultUser,a.Id)},on:{click:function(e){return t.SetValue(a.Id)},change:function(e){t.defaultUser=a.Id}}})])]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"aRemoveUser round-icon-small btn-danger-light d-block float-none m-auto",attrs:{href:"javascript:;"},on:{click:function(e){return t.DeleteUser(a.Id)}}},[e("i",{staticClass:"fa fa-trash",attrs:{title:"Add"}})])])])})),0==t.AssignUserList.length?e("tr",{staticClass:"norecords"},[e("td",{staticClass:"text-danger text-center",attrs:{colspan:"5"}},[t._v(t._s(t.$t("NoRecordfound"))+" ")])]):t._e()],2)])])]),t.CheckAssignedUser&&0==t.AssignUserList.length||t.checkOneUserSelected?e("span",{staticClass:"text-danger",attrs:{id:"error_DefaultUser"}},[t._v("Check Atleast One Default User")]):t._e()]),e("div",{staticClass:"col-lg-12 mt-3 float-left"},[e("Field",{attrs:{name:"Description",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:a}){return[e("label",[t._v("Description :"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.Description,expression:"Description"}],class:{"form-control":!0,"is-invalid":a[0]},attrs:{tabindex:"8",maxlength:"500"},domProps:{value:t.Description},on:{input:function(e){e.target.composing||(t.Description=e.target.value)}}}),a[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Description"}},[t._v(t._s(a[0]))]):t._e()])]}}])})],1)]),e("div",{staticClass:"col-lg-12 p-0",class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SubmitData(t.values)}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SubmitData(t.values)}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])])])},Kt=[],Qt={props:{tabCount:0,currentTabIndex:0,reqFrom:""},created:async function(){var t=this;await t.GetPrivilegeData(),t.GetDepartment(),t.GetResolveTicketUserList(),t.GetGroupTicketData(0)},data(){return{UserList:[],AssignUserList:[],Description:"",defaultUser:"",GroupType:"",DepartmentList:[],SkillList:[],MaxTicketAssign:"",isMaxTicketValid:!0,CheckAssignedUser:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:"Ticket Group Name",name:"TicketGroupName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"SelectField",label:this.$t("Skill"),name:"SkillId",value:"",placeholder:"",visibility:!0,config:{options:[],showAddIcon:!1,onChange:this.GetResolveTicketUserList},validationRules:""}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Department"),name:"DepartmentId",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.GetResolveTicketUserListIs},validationRules:""},{astype:"RadioField",label:this.$t("GroupType"),name:"GroupType",value:"Escalate",placeholder:"",config:{options:[{name:"Call",value:"Call"},{name:"Routing",value:"Escalate"}],showAddIcon:!1,onChange:this.onChangeRadio},validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-warning",text:"<i class='fa fa-save pr-2'></i>Save Of Draft",isVisible:!1}]}},methods:{Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},GetPrivilegeData:async function(){var t=this,e="controller=Review&action=Index";await r["a"].CheckPrivilege(e).then((function(e){e.data?(t.$refs.validateGroup.updateProperty("SkillId","visibility",!0),t.GetSkill()):t.$refs.validateGroup.updateProperty("SkillId","visibility",!1),t.$refs.validateGroup.UpdateKeyValue()}))},GetSkill:function(){var t=this;r["a"].GetSkill().then(e=>{e.data.forEach((e,a)=>{t.SkillList.push({value:e.skill_id,name:e.title}),t.$refs.validateGroup.updateProperty("SkillId","config.options",t.SkillList)}),t.$refs.validateGroup.UpdateKeyValue()})},GetGroupTicketData:function(t){var e=this,a="ticketGroupId="+t;r["a"].GetGroupTicketData(a).then(t=>{if(t.data){var a=t.data;null!=a&&t.data.Data.length>0&&t.data.Data.forEach((t,a)=>{e.AssignUserList.push({Id:t.user_id,name:t.username,departmentName:t.department_name,UserId:t.user_id,DefaultUser:t.default_user_id})})}})},GetDepartment:function(){var t=this;r["a"].GetDepartment().then(e=>{e.data.forEach((e,a)=>{t.DepartmentList.push({value:e.department_id,name:e.department_name}),t.$refs.validateGroup.updateProperty("DepartmentId","config.options",t.DepartmentList)}),t.$refs.validateGroup.UpdateKeyValue()})},GetResolveTicketUserList:function(t,e){var a=this;if(void 0!=e)var i="departmentId=&skillId="+e.value;else i="departmentId=&skillId=";r["a"].GetResolveTicketUserListbydept(i).then(t=>{a.UserList=t.data})},GetResolveTicketUserListIs:function(t,e){var a=this,i=`departmentId=${e.value}&skillId=`;r["a"].GetResolveTicketUserListbydept(i).then(t=>{a.UserList=t.data})},AssignedUser:function(t,e,a){var i=this;i.AssignUserList.some(e=>e.Id===t)?i.ShowAlert(e+" "+i.$t("AlreadyExist"),"warning"):i.AssignUserList.push({Id:t,name:e,departmentName:a,UserId:t})},DeleteUser:function(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Group"),(function(){e.AssignUserList=jQuery.grep(e.AssignUserList,(function(e){return e.Id!=t}))}))},SubmitData:function(){var t=this,e="";t.AssignUserList.forEach((t,a)=>{e+=""==e?t.Id:","+t.Id}),t.AssignUserList.forEach(e=>{const a=document.querySelector(`input[name="maxticketassign-${e.Id}"]`);if(a&&!a.disabled){const e=a.value.trim();if(!e)return t.isMaxTicketValid=!1,t.MaxTicketAssign="",a.classList.add("is-invalid"),!1;t.isMaxTicketValid=!0,t.MaxTicketAssign=e,a.classList.remove("is-invalid")}}),t.$refs.validateGroup.validateForm.validate().then(a=>{if(0==t.AssignUserList.length||t.isBlank(t.defaultUser))return t.CheckAssignedUser=!0,t.ShowAlert(t.$t("CorrectHighlightedErrors"),"warning"),t.checkOneUserSelected=!0,!1;if(a){var i=t.$refs.validateGroup.getPropertyValue("TicketGroupName","value"),s=t.$refs.validateGroup.getPropertyValue("DepartmentId","value"),o=t.$refs.validateGroup.getPropertyValue("GroupType","value"),n=`groupTicketId=0&groupName=${i}&description=${t.Description}&departmentId=${""==s?0:s}&groupType=${o}&maxTiacketAssign=${t.MaxTicketAssign}&userIds=${e}&defaultUser=${t.defaultUser}`;r["a"].AddTicketGroup(n).then(e=>{1==e.data?(t.ShowAlert(t.$t("GroupHasAdded"),"success"),t.tabCount>1&&(t.$emit("nextTab"),t.$emit("updateProgress",t.currentTabIndex,!0)),t.tabCount==t.currentTabIndex&&t.$emit("close")):t.ShowAlert(t.$t("AddedError"),"failure")})}})},isNumber:function(t){t=t||window.event;var e=t.which?t.which:t.keyCode;if(!(e>31&&(e<48||e>57)&&46!==e))return!0;t.preventDefault()},SetValue:function(t,e){var a=this;a.MaxTicketAssign="",a.defaultUser=t},onChangeRadio:function(t,e){var a=this;a.FormSchema[1].Data[1].value=t.target.dataset.value}}},Zt=Qt,Xt=(a("fe3e"),Object(u["a"])(Zt,Jt,Kt,!1,null,"14b08fbd",null)),te=Xt.exports,ee=function(){var t=this,e=t._self._c;return e("section",[e("div",{attrs:{id:"addChainRecord"}},[e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("dynamic-form",{ref:"validateServiceGroup",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"listing mt-3 px-3"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{id:"tbContainer"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v(t._s(t.$t("Level"))+":"),e("sup",{staticClass:"text-danger"},[t._v("*")])])]),e("th",[e("span",[t._v(t._s(t.$t("Group"))+":"),e("sup",{staticClass:"text-danger"},[t._v("*")])])]),e("th",{staticClass:"text-center single-action"},[e("a",{staticClass:"round-icon-small btn-success-light d-block float-none m-auto",staticStyle:{"line-height":"33px"},attrs:{href:"javascript:;",id:"btnAdd",title:"Add"},on:{click:t.AddRow}},[e("i",{staticClass:"fa fa-plus"})])])])]),e("tbody",t._l(t.Mainleveldiv,(function(a,i){return e("tr",{key:i,staticClass:"mainleveldiv"},[e("td",[e("Field",{attrs:{name:"Level",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"item.value"}],staticClass:"form-control level",class:{"form-control":!0,"is-invalid":s[0]},attrs:{name:a.name},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"value",e.target.multiple?i:i[0])},function(e){return t.AlreadyExist(e,i,a,"level")}]}},[e("option",{attrs:{value:""}},[t._v("Select Level")]),t._l(t.Level,(function(a){return e("option",{key:a,domProps:{value:a.value}},[t._v(" "+t._s(a.name))])}))],2),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Level"+i}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1),e("td",[e("Field",{attrs:{name:"Group",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("select",{directives:[{name:"model",rawName:"v-model",value:a.Group,expression:"item.Group"}],class:{"form-control":!0,"is-invalid":s[0]},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"Group",e.target.multiple?i:i[0])},function(e){return t.AlreadyExist(e,i,a,"group")}]}},[e("option",{attrs:{value:""}},[t._v("Select Ticket Group")]),t._l(t.GroupData,(function(a){return e("option",{key:a,domProps:{value:a.value}},[t._v(t._s(a.name))])}))],2),s[0]?e("span",{staticClass:"invalid-feedback d-block",attrs:{name:"Group"}},[t._v(t._s(s[0]))]):t._e()]}}],null,!0)})],1),0!=i?e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"round-icon-small btn-danger-light d-block float-none m-auto",attrs:{href:"javascript:;",id:"btnRemove",title:"Remove"},on:{click:function(e){return t.DeleteUser(i)}}},[e("i",{staticClass:"fa fa-trash"})])]):t._e()])})),0)])])])])]),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"text-right mt-3",attrs:{"data-v-754d96ea":""}},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.SaveData("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])])])},ae=[],ie={props:{tabCount:0,currentTabIndex:0,reqFrom:""},created:function(){var t=this;t.GetTicketGroupsForDropdownList()},data(){return{Mainleveldiv:[{value:"",Group:""}],GroupData:[],FormSchema:[{layoutType:"two",Data:[{astype:"TextField",label:"Ticket Service Board Name",name:"TicketChainName",value:"",placeholder:"",validationRules:{required:!0,max:250}},{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:this.$t("EnterDescription"),validationRules:{required:!0,max:1e3}}]}],Level:[{name:"Level 1",value:1},{name:"Level 2",value:2},{name:"Level 3",value:3},{name:"Level 4",value:4},{name:"Level 5",value:5},{name:"Level 6",value:6},{name:"Level 7",value:7},{name:"Level 8",value:8},{name:"Level 9",value:9},{name:"Level 10",value:10}],buttons:[{type:"submit",class:"btn btn-warning",text:"<i class='fa fa-save pr-2'></i>Save Of Draft",isVisible:!1}]}},methods:{Skip:function(){var t=this;t.$emit("nextTab")},AddRow:function(t){var e=this;e.Mainleveldiv.push({value:"",Group:""}),e.$nextTick(()=>{e.$refs.validateServiceGroup.validateForm().validate()})},PreviousButton:function(){var t=this;t.$emit("previousTab")},GetTicketGroupsForDropdownList:function(){var t=this;r["a"].GetTicketGroupsForDropdownList().then((function(e){e.data.forEach(e=>{t.GroupData.push({name:e.ticket_group_name,value:e.ticket_group_id})})}))},AlreadyExist:function(t,e,a,i){var s=this;s.Mainleveldiv.some(e=>e.value===t.target.value)?(s.Mainleveldiv[e].value="",s.ShowAlert("Already Selected","warning")):s.Mainleveldiv.some(e=>e.Group===t.target.value)?(s.Mainleveldiv[e].Group="",s.ShowAlert("Already Selected","warning")):"level"==i?s.Mainleveldiv[e].value=t.target.value:"group"==i&&(s.Mainleveldiv[e].Group=t.target.value)},DeleteUser:function(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Group"),(function(){e.Mainleveldiv.splice(t,1)}))},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await r["a"].UpdateUserSettingConfig(e).then(t=>{})},SaveData:function(t){var e=this;e.$refs.validateServiceGroup.validateForm.validate().then(a=>{if(a){var i=e.Mainleveldiv.some(t=>""===t.value||""===t.Group);if(i)e.ShowAlert("Please select both level and group for all rows","error");else{var s=e.$refs.validateServiceGroup.getPropertyValue("TicketChainName","value"),o=e.$refs.validateServiceGroup.getPropertyValue("Description","value"),n=`serviceBoardId=0&serviceBoardName=${s}&description=${o}&LevelIdsOrGroupIds=${JSON.stringify(e.Mainleveldiv)}`;r["a"].AddTicketServiceBoard(n).then(a=>{"3"==a.data?e.ShowAlert(e.$t("TicketServiceBoardAlreadyExists"),"failure"):"1"==a.data||"2"==a.data?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("TicketServiceBoard")]),"success",!0,e.$t("Alert")),"SaveAndFinish"==t?e.Finish():(e.tabCount>1&&(e.$emit("nextTab"),e.$emit("updateProgress",e.currentTabIndex,!0)),e.tabCount==e.currentTabIndex&&e.$emit("close"))):e.ShowAlert(e.$t("AddedError",[e.$t("TicketServiceBoard")]),"failure",!0,e.$t("Alert"))})}}})}}},se=ie,oe=Object(u["a"])(se,ee,ae,!1,null,null,null),ne=oe.exports,le=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddJobType",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.onSubmit("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.onSubmit("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])])],1)},re=[],ce={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("JobTypeName"),name:"JobTypeName",value:"",placeholder:this.$t("EnterJobTypeName"),validationRules:{required:!0},disabled:!1}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:this.$t("Enter Description"),validationRules:{required:!1}}]}],buttons:[],companyId:null,userId:null}},created:function(){var t=this;t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.CompanyId},methods:{PreviousButton:function(){var t=this;t.$emit("previousTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await r["a"].UpdateUserSettingConfig(e).then(t=>{})},onSubmit(t){var e=this;e.$refs.AddJobType.validateForm.validate().then(a=>{if(a){var i={userId:e.userId,companyId:e.companyId,name:e.FormSchema[0].Data[0].value,description:e.FormSchema[1].Data[0].value,JobTypeId:0},s=JSON.stringify(i);r["a"].Saveproducttype(s).then(a=>{"AlreadyExixts"==a.data.status&&e.ShowAlert(e.$t("AlreadyExists",[e.$t("JobType")]),"warning",!0,e.$t("Alert")),"Success"!=a.data.Status?e.ShowAlert(e.$t("AlreadyExists",[e.$t("JobType")]),"warning",!0,e.$t("Alert")):("SaveAndFinish"==t&&e.Finish(),e.ShowAlert(e.$t("AddedSuccess",[e.$t("AddJobType")]),"success",!0,e.$t("Alert")),e.$parent.NextTab())})}})}}},de=ce,ue=Object(u["a"])(de,le,re,!1,null,null,null),pe=ue.exports,me=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddSkill",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e()])])])],1)},he=[],ve={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",buttons:[],companyId:null,userId:null,FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Skill"),name:"Skill",value:"",placeholder:this.$t("Enter Skill "),validationRules:{required:!0},disabled:!1}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:this.$t("Enter Description"),validationRules:{required:!1}}]}]}},created:function(){var t=this;t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.CompanyId},methods:{SaveSubmit(){var t=this;t.isLoading=!0,t.$refs.AddSkill.validateForm.validate().then(e=>{if(e){var a={userId:t.userId,companyId:t.companyId,name:t.FormSchema[0].Data[0].value,description:t.FormSchema[1].Data[0].value,id:0},i=JSON.stringify(a);r["a"].SaveSkill(i).then(e=>{"Success"==e.data.Status&&(0==e.data.Code?t.ShowAlert(t.$t("JobTypeAlreadyExist",[t.$t("Skill")]),"warning",!0,t.$t("Alert")):(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Skill")]),"success",!0,t.$t("Alert")),t.$parent.NextTab()))})}}),t.isLoading=!1},Skip:function(){var t=this;t.$parent.NextTab(!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},fe=ve,ge=Object(u["a"])(fe,me,he,!1,null,null,null),be=ge.exports,Se=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddIndustry",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e()])])])],1)},ye=[],Ce={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Industry"),name:"Industry",value:"",placeholder:this.$t("Enter Industry"),validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Icon"),name:"Icon",value:"",placeholder:"",validationRules:{required:!1},config:{options:[]}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",placeholder:this.$t("Enter Description"),validationRules:{required:!1}}]}],buttons:[],companyId:null,userId:null}},created:function(){var t=this;t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.CompanyId,t.GetIndustryIcon()},methods:{GetIndustryIcon(){var t=this,e="id=";r["a"].GetIndustryIcons(e).then((function(e){t.IconData=e.data.DATA,t.IconData.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.icon_name,value:e.icon_value})}),t.$refs.AddIndustry.UpdateKeyValue()}))},SaveSubmit(){var t=this;t.$refs.AddIndustry.validateForm.validate().then(e=>{if(e){var a={userId:t.userId,companyId:t.companyId,name:t.FormSchema[0].Data[0].value,description:t.FormSchema[1].Data[0].value,icondata:t.FormSchema[0].Data[1].value,parentid:null,id:0},i=JSON.stringify(a);r["a"].SaveIndustry(i).then(e=>{"AlreadyExixts"==e.data.status&&t.ShowAlert(t.$t("AlreadyExists",[t.$t("Industry")]),"failure",!0,t.$t("Alert")),"Success"!=e.data.status?t.ShowAlert(t.$t("AlreadyExists",[t.$t("Industry")]),"failure",!0,t.$t("Alert")):(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Industry")]),"success",!0,t.$t("Alert")),t.$parent.NextTab())})}})},Skip:function(){var t=this;t.$parent.NextTab(!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},_e=Ce,Ae=Object(u["a"])(_e,Se,ye,!1,null,null,null),De=Ae.exports,Te=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"FunctionalArea",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e()])])])],1)},we=[],xe={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("Industry"),name:"Industry",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}},{astype:"TextField",label:this.$t("Functional Area"),name:"FunctionalArea",value:"",validationRules:{required:!0,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",validationRules:""}]}],buttons:[],companyId:null,userId:null}},created:function(){var t=this;t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.CompanyId,t.GetIndustry()},methods:{GetIndustry:function(){var t=this,e="industrytype=&pageSize=100&pageNumber=1";r["a"].ManageGetIndustry(e).then(e=>{e.data.DATA.length>0&&(e.data.DATA.forEach(e=>{var a={name:e.crm_lead_industry_type,value:e.crm_lead_industry_type_id};t.FormSchema[0].Data[0].config.options.push(a)}),t.$refs.FunctionalArea.UpdateKeyValue())})},SaveSubmit(){var t=this;t.$refs.FunctionalArea.validateForm.validate().then(e=>{if(e){var a={userId:t.userId,companyId:t.companyId,name:t.FormSchema[0].Data[1].value,description:t.FormSchema[1].Data[0].value,parentid:t.FormSchema[0].Data[0].value,id:0,subModuleCode:"HR_JOB",fileName:"",moduleName:"Hiring"},i=JSON.stringify(a);r["a"].SaveFunctionalArea(i).then(e=>{"AlreadyExixts"==e.data.status&&t.ShowAlert(t.$t("AlreadyExists",[t.$t("FunctionalArea")]),"warning",!0,t.$t("Alert")),"Success"!=e.data.status?t.ShowAlert(t.$t("AlreadyExists",[t.$t("FunctionalArea")]),"warning",!0,t.$t("Alert")):(t.ShowAlert(t.$t("AddedSuccess",[t.$t("FunctionalArea")]),"success",!0,t.$t("Alert")),t.$parent.NextTab())})}})},Skip:function(){var t=this;t.$parent.NextTab(!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},ke=xe,Ie=Object(u["a"])(ke,Te,we,!1,null,null,null),Fe=Ie.exports,$e=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddQuestionnaire",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}}),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left my-2"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("List of Question")))])])])])]),e("div",{staticClass:"row"},t._l(t.listQuestions,(function(a,i){return e("div",{key:i,staticClass:"col-12 float-left applyalternatebg"},[e("div",{staticClass:"row question-answer-list div_question_answer mb-3"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("label",[t._v(" "+t._s(t.$t("FeedbackQuestion"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("Field",{attrs:{name:"ListQuestions"+i+".QuestionText",rules:{required:!0}},scopedSlots:t._u([{key:"default",fn:function({errors:s}){return[e("input",{directives:[{name:"model",rawName:"v-model",value:a.QuestionText,expression:"question.QuestionText"}],class:{"form-control":!0,"is-invalid":a.error},attrs:{name:"ListQuestions"+i+".QuestionText",maxlength:"200",type:"text",placeholder:"Select Feedback Question"},domProps:{value:a.QuestionText},on:{input:function(e){e.target.composing||t.$set(a,"QuestionText",e.target.value)}}}),a.error?e("span",{staticClass:"invalid-feedback d-block",attrs:{":name":"ListQuestions"+i+".QuestionText"}},[t._v(t._s(t.$t("FeedbackQuestionRequired")))]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"col-12 p-0 float-left DivAnsweringType"},[e("label",[t._v(" "+t._s(t.$t("TicketFeedbackAnsweringType"))+":")]),e("Field",{attrs:{name:"ListQuestions"+i+".AnswerType",rules:{required:!1}}},[e("div",{staticClass:"input-group"},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.AnswerType,expression:"question.AnswerType"}],staticClass:"form-control",attrs:{placeholder:"Select Feedback Question"},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"AnswerType",e.target.multiple?i:i[0])},function(e){return t.answeringType(a.AnswerType,i)}]}},[e("option",{attrs:{selected:""}},[t._v(t._s(t.$t("SelectTicketFeedbackAnsweringType")))]),t._l(t.AnsweringType,(function(a,i){return e("option",{key:i,domProps:{value:a.value}},[t._v(" "+t._s(a.Name)+" ")])}))],2),e("div",{staticClass:"input-group-append"},[e("span",{staticClass:"input-group-text border-0 bg-transparent p-0 pl-2"},[0===i?e("a",{staticClass:"addquestionbox round-icon-small btn-success-light adinvc",attrs:{href:"javascript:void(0)",title:"Add More"},on:{click:function(e){return t.AddMore("approvarchain")}}},[e("i",{staticClass:"fa fa-plus pt-7 font-18"})]):t._e(),e("a",{staticClass:"round-icon-small btn-danger-light deletequestionbox",class:{"d-none":0===i},attrs:{href:"javascript:void(0)",title:"Delete"},on:{click:function(e){return t.deleteQuestion(i)}}},[e("i",{staticClass:"fa fa-trash"})])])])]),a.objectiveAnswers?e("div",{staticClass:"objectiveAnswers form-group w-100 mt-2"},[e("ul",{staticClass:"options liststylenone pl-0"},[e("li",[e("div",{staticClass:"custom-control custom-radio"},[e("input",{staticClass:"form-check-input OptionName",attrs:{type:"radio",id:"OptionName_"+i+"_TwoPointScale",name:"OptionName_"+i+"_TwoPointScale",value:"1",tabindex:"8"},domProps:{checked:"TwoPointScale"===a.OptionName}}),e("label",{staticClass:"mb-0",attrs:{for:"OptionName_"+i+"_TwoPointScale"}},[t._v("Two Point Scale")])])]),e("li",[e("div",{staticClass:"custom-control custom-radio"},[e("input",{staticClass:"form-check-input OptionName",attrs:{type:"radio",id:"OptionName_"+i+"_ThreePointScale",name:"OptionName_"+i+"_TwoPointScale",value:"2",tabindex:"8"},domProps:{checked:"ThreePointScale"===a.OptionName}}),e("label",{staticClass:"mb-0",attrs:{for:"OptionName_"+i+"_ThreePointScale"}},[t._v("Three Point Scale")])])]),e("li",[e("div",{staticClass:"custom-control custom-radio"},[e("input",{staticClass:"form-check-input OptionName",attrs:{type:"radio",id:"OptionName_"+i+"_FivePointScale",name:"OptionName_"+i+"_TwoPointScale",value:"3",tabindex:"8"},domProps:{checked:"FivePointScale"===a.OptionName}}),e("label",{staticClass:"mb-0",attrs:{for:"OptionName_"+i+"_FivePointScale"}},[t._v("Five Point Scale")])])])])]):t._e()])],1)])])])])})),0)],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e()])])])],1)},Le=[],Ee={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,listQuestions:[],MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("FeedbackName"),name:"FeedbackName",value:"",placeholder:this.$t("Enter Feedback Name"),validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:this.$t("Enter Status"),config:{options:[]},validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Type"),name:"Type",value:"",placeholder:this.$t("Enter Type"),config:{options:[]},validationRules:{required:!1},disabled:!1},{astype:"toggleField",label:this.$t("AdditionalComments"),name:"AdditionalComments",value:"",placeholder:"",config:{onChange:this.chkIsAdditionalComments}}]},{layoutType:"single",Data:[{astype:"TextAreaField",placeholder:this.$t("EnterCommentsHere"),name:"Description",value:"",visibility:!1,config:{rows:5,cols:7},validationRules:{required:!1},disabled:!1}]}],buttons:[],companyId:null,userId:null,AnsweringType:[{Name:"Comments",value:"Comments"},{Name:"Star Rating",value:"Star Rating"},{Name:"Objective",value:"Objective"}]}},created:function(){var t=this;t.GetStatusList(),t.GetModuleList(),t.userId=t.GetUserInfo.ID,t.companyId=t.GetUserInfo.CompanyId;var e={QuestionId:0,TicketFeedbackId:0,QuestionText:"",AnswerType:"",OptionName:"",OptionValue:"",objectiveAnswers:!1};t.listQuestions.push(e)},methods:{AddMore:function(){var t=this;const e={QuestionId:0,TicketFeedbackId:0,QuestionText:"",AnswerType:"",OptionName:"",OptionValue:"",objectiveAnswers:!1};t.listQuestions.push(e)},deleteQuestion(t){var e=this;0!==t&&e.listQuestions.splice(t,1)},Skip:function(){var t=this;t.$parent.NextTab()},PreviousButton:function(){var t=this;t.$emit("previousTab")},validateQuestions(){let t=!0;return this.listQuestions.forEach((e,a)=>{e.QuestionText?this.$set(e,"error",""):(t=!1,this.$set(e,"error","Feedback question is required"))}),t},SaveSubmit(){var t=this;t.isLoading=!0,t.$refs.AddQuestionnaire.validateForm.validate().then(e=>{if(e&&t.validateQuestions()){t.isLoading=!1;var a=[],i=[];t.listQuestions.forEach((function(e,s){var o={QuestionId:s+1,TicketFeedbackId:0,QuestionText:e.QuestionText,AnswerType:e.AnswerType,OptionName:e.OptionName,OptionValue:e.OptionValue};e.QuestionText,e.AnswerType,e.OptionName,e.OptionValue,t.FormSchema[0].Data[1].value;a.push(o),i.push(o)}));var s={TicketFeedbackId:0,FeedbackName:t.FormSchema[0].Data[0].value,CompanyId:t.companyId,IsAdditionalComments:t.FormSchema[0].Data[3].value,AdditionalComments:t.FormSchema[1].Data[0].value,StatusId:t.FormSchema[0].Data[1].value,TypeCode:t.FormSchema[0].Data[2].value,CreatedBy:t.userId,ListQuestions:a,ListAnswers:i},o=JSON.stringify(s);r["a"].AddFeedback(o).then(e=>{"0"==e.data.result?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Feedback")]),"success",!0,t.$t("Alert")),t.$parent.NextTab()):t.ShowAlert(t.$t("AddedError",[t.$t("Feedback")]),"failure",!0,t.$t("Alert"))})}t.isLoading=!1})},GetStatusList:function(){var t=this,e="statusType=Hiring&hasglobal=true&langCode=en";r["a"].GetStatusList(e).then(e=>{if(e.data.length>0){var a=e.data;a.forEach(e=>{var a={name:e.STATUS,value:e.STATUS_ID};t.FormSchema[0].Data[1].config.options.push(a)}),t.$refs.AddQuestionnaire.UpdateKeyValue()}})},GetModuleList:function(){var t=this;r["a"].GetModuleList().then(e=>{if(e.data.result.length>0){var a=e.data.result;a.forEach(e=>{var a={name:e.MODULE_NAME,value:e.MODULE_ID};t.FormSchema[0].Data[2].config.options.push(a)}),t.$refs.AddQuestionnaire.UpdateKeyValue()}})},chkIsAdditionalComments:function(t,e,a){var i=this;e.value?i.FormSchema[1].Data[0].visibility=!0:i.FormSchema[1].Data[0].visibility=!1},answeringType(t,e){var a=this;"Objective"==t?a.$set(a.listQuestions[e],"objectiveAnswers",!0):a.$set(a.listQuestions[e],"objectiveAnswers",!1)}}},Pe=Ee,Ne=(a("7386"),Object(u["a"])(Pe,$e,Le,!1,null,null,null)),Re=Ne.exports,Oe=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddStage",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e()])])])],1)},Ue=[],Me={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("StageName"),name:"StageName",value:"",validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("PhaseName"),name:"PhaseName",value:"",validationRules:{required:!1},config:{options:[]},disabled:!1}]},{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("StageType"),name:"StageType",value:"",placeholder:this.$t("Stage"),validationRules:{required:!1},config:{options:[]},disabled:!0},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]},placeholder:this.$t("SelectStatus"),validationRules:{required:!0,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",validationRules:""}]}]}},created:async function(){var t=this;await t.GetDdlRecords_Phase(),await t.GetDdlRecords_PhaseType()},methods:{Skip:function(){var t=this;t.$parent.NextTab(!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")},GetDdlRecords_Phase:async function(){var t=this;t.CountryData=[];var e="ids=&moduleName=&type=PHASE_NAME&search=&refId=";await r["a"].GetDDLData(e).then((function(e){e.data.DATA.length>0&&(t.FormSchema[0].Data[1].config.options=e.data.DATA),t.$refs.AddStage.UpdateKeyValue()}))},GetDdlRecords_PhaseType:async function(){var t=this;t.CountryData=[],t.FormSchema[1].Data[0].config.options=[];var e="ids=&moduleName=&type=PHASE_TYPE&search=&refId=";await r["a"].GetDDLData(e).then((function(e){e.data.DATA.length>0&&(t.FormSchema[1].Data[0].config.options=e.data.DATA,e.data.DATA.forEach((function(e){"Hiring"==e.name?t.moduleId=e.value:t.FormSchema[1].Data[0].value=""}))),t.$refs.AddStage.UpdateKeyValue(),t.FormSchema[1].Data[0].value=t.moduleId}))},SaveSubmit(){var t=this;t.isLoading=!0,t.$refs.AddStage.validateForm.validate().then(e=>{if(e){var a={StageId:0,StageName:t.FormSchema[0].Data[0].value,Description:t.FormSchema[2].Data[0].value,StatusId:t.FormSchema[1].Data[1].value,PhaseId:t.FormSchema[0].Data[1].value,StageType:t.FormSchema[1].Data[0].value},i=JSON.stringify(a);r["a"].AddInterviewStage(i).then(e=>{t.isLoading=!1,"Success"==e.data.status?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Stage")]),"success",!0,t.$t("Alert")),t.$parent.NextTab()):t.ShowAlert(t.$t("AddedError",[t.$t("Stage")]),"failure",!0,t.$t("Alert"))})}}),t.isLoading=!1}}},Ge=Me,Be=Object(u["a"])(Ge,Oe,Ue,!1,null,null,null),Ve=Be.exports,qe=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mb-3"},[t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e()])]),e("dynamic-form",{ref:"updateuserprofile",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-profile_image",fn:function({data:a}){return[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 prof_control float-left p-0 d-flex flex-wrap"},[e("div",{staticClass:"user-detail bg-light p-2 w-100 border position-relative float-left"},[e("div",{staticClass:"user-image",attrs:{title:"Profile Image"}},[""!=t.base64String&&null!=t.base64String||""!=t.profilePicture&&null!=t.profilePicture||"M"!=t.gender&&""!=t.gender&&null!=t.gender?t._e():e("img",{attrs:{id:"maleProfile",src:"https://talygenv.github.io/Vue-UI-Content/images/avatar-icon.jpg",alt:"Profile Image",loading:"lazy"}}),""!=t.base64String&&null!=t.base64String||""!=t.profilePicture&&null!=t.profilePicture||"F"!=t.gender?t._e():e("img",{attrs:{id:"femaleProfile",src:"https://talygenv.github.io/Vue-UI-Content/images/avatar-icon-girl.jpg",alt:"Profile Image",loading:"lazy"}}),""!=t.base64String&&null!=t.base64String||""==t.profilePicture||null==t.profilePicture?t._e():e("img",{attrs:{src:"https://cogniterblob.blob.core.windows.net/"+t.containerName+"/Upload/UserProfileImage/"+t.profilePicture,alt:"Profile Image",loading:"lazy"}}),""!=t.base64String?e("img",{attrs:{src:"data:image/gif;base64,"+t.base64String,loading:"lazy"}}):t._e()]),e("div",{staticClass:"user-name ml-4 mt-3"},[e("label",{staticClass:"float-left pb-2"},[t._v(" "+t._s(t.$t("UploadANewPhoto"))+" ")])]),e("div",{staticClass:"user-name ml-4 mt-0"},[e("div",{staticClass:"col-10 col-sm-10 col-lg-10 col-xl-10 float-left p-0"},[e("input",{key:t.fileInputKey,staticStyle:{position:"absolute",clip:"rect(0px, 0px, 0px, 0px)"},attrs:{type:"file",id:"flAvatar",size:"19",accept:".jpeg,.jpg,.jpe,.gif,.bmp,.dib,.ico,.png,.tif",name:"flAvatar",tabindex:"-1"},on:{change:function(e){return t.GetBase64String(e)}}}),e("div",{staticClass:"bootstrap-filestyle input-group"},[e("input",{staticClass:"form-control disabled",attrs:{type:"text",id:"aaaa",disabled:"disabled"},domProps:{value:t.attachmentName}}),e("div",{staticClass:"input-group-append",staticStyle:{cursor:"pointer"}},[e("span",{staticClass:"group-span-filestyle input-group-btn input-group-text bg-white",attrs:{tabindex:"0"}},[e("label",{staticClass:"mb-0 font-weight-normal",attrs:{title:"Click here to select a file.",for:"flAvatar"}},[t._v(" "+t._s(t.$t("FileControlText"))+" ")])])])])]),e("div",{staticClass:"col-2 col-sm-2 col-lg-2 col-xl-2 float-left pl-0"},[e("a",{staticClass:"actionicons float-left round-icon-small btn-danger-light ml-2",attrs:{id:"clearUserfile",href:"javascript:;",title:"Click here to clear attachment"},on:{click:function(e){return t.ResetProfileImage()}}},[e("i",{staticClass:"fa fa-undo"})])])])])])]}}])}),t._m(0)],1)])],1)},ze=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right"})])}],je={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,UserTitles:[],TimeZones:[],fileData:[],fileInputKey:0,profilePicture:"",gender:"",containerName:"",attachmentName:"",base64String:"",FormSchema:[{layoutType:"single",groupLayoutType:"single",Data:[{astype:"SlotField",name:"profile_image",value:"",placeholder:"",config:{options:[]}}]},{layoutType:"single",groupLayoutType:"double",group_name:"Setup Profile",group_display_name:this.$t("SetupProfile"),Data:[{astype:"SelectField",label:this.$t("Title"),name:"title",value:"",config:{options:[]}},{astype:"TextField",label:this.$t("FirstName"),name:"first_name",value:"",placeholder:this.$t("FirstName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("MiddleName"),name:"middle_name",value:"",placeholder:this.$t("MiddleName")},{astype:"TextField",label:this.$t("LastName"),name:"last_name",value:"",placeholder:this.$t("LastName"),validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Gender"),name:"gender",value:"",config:{options:[{name:"Male",value:"M"},{name:"Female",value:"F"}],onChange:this.onChangeGender}}]},{layoutType:"single",groupLayoutType:"double",group_name:"Contact Information",group_display_name:this.$t("ContactInformation"),Data:[{astype:"TextField",label:this.$t("Email"),name:"email_id",value:"",placeholder:this.$t("Email"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("PhoneNumber"),name:"phone_number",value:"",placeholder:this.$t("PhoneNumber")}]},{layoutType:"single",groupLayoutType:"double",group_name:"Setup Time Zone",group_display_name:this.$t("SetupTimeZone"),Data:[{astype:"SelectField",label:this.$t("TimeZone"),name:"timezone",value:"",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("TimeFormat"),name:"time_format",value:"",config:{options:[{name:this.$t("Format_12Hrs"),value:"12"},{name:this.$t("Format_24Hrs"),value:"24"}]}}]}],buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>1,onClick:this.PreviousButton},{type:"submit",class:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",text:"<i class='fa fa-save pr-2'></i>"+this.$t("SaveAndNextWizard"),name:"SaveAndNext",isVisible:this.tabCount>this.currentTabIndex,onClick:this.SaveSubmit}]}},async created(){var t=this;await t.GetUserTitlesDDL(),await t.GetTimezoneDDL(),await t.GetUserDetailByUserId()},methods:{Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},async SaveSubmit(t){var e=this;e.$refs.updateuserprofile.validateForm.validate().then(async t=>{if(t){e.isLoading=!0,await e.UploadProfilePicture();var a={user_title_id:e.FormSchema[1].Data[0].value,first_name:e.FormSchema[1].Data[1].value,middle_name:e.FormSchema[1].Data[2].value,last_name:e.FormSchema[1].Data[3].value,gender:e.FormSchema[1].Data[4].value,email_id:e.FormSchema[2].Data[0].value,phone_number:e.FormSchema[2].Data[1].value,time_zone_id:e.FormSchema[3].Data[0].value?e.FormSchema[3].Data[0].value:null,time_format:e.FormSchema[3].Data[1].value,profile_path:e.profilePicture},i=JSON.stringify(a);await _["a"].UpdateUserProfile(i).then((function(t){t.data&&"success"==t.data.toLowerCase()&&(e.ShowAlert(e.$t("UpdatedSuccess",!0,[e.$t("User")]),"success",!0,e.$t("Alert")),e.Skip())})),e.isLoading=!1}})},async UploadProfilePicture(){var t=this,e=JSON.stringify(t.fileData);await _["a"].UploadFile(e).then((function(e){if(e.data&&e.data.length>0&&e.data[0].Name.length>0){var a=e.data[0].Name.split("/")[e.data[0].Name.split("/").length-1];t.profilePicture=a}}))},async GetUserTitlesDDL(){var t=this;t.isLoading=!0;var e="moduleName=&type=USER_TITLE";await _["a"].GetDDLData(e).then(e=>{t.isLoading=!1,t.UserData=e.data.DATA,t.UserData.forEach((e,a)=>{t.FormSchema[1].Data[0].config.options.push({name:e.name,value:e.value})}),t.$refs.updateuserprofile.UpdateKeyValue()})},async GetTimezoneDDL(){var t=this;t.isLoading=!0;var e="moduleName=&type=TIMEZONE";await _["a"].GetDDLData(e).then(e=>{t.isLoading=!0,t.UserData=e.data.DATA,t.UserData.forEach((e,a)=>{t.FormSchema[3].Data[0].config.options.push({name:e.name,value:e.value})}),t.$refs.updateuserprofile.UpdateKeyValue()})},async GetUserDetailByUserId(){var t=this;t.isLoading=!0,await _["a"].GetUserDetailsByUserId().then(e=>{if(t.isLoading=!1,e.data&&e.data.length>0){var a=e.data[0];t.FormSchema[1].Data[0].value=a.USER_TITLE_ID?a.USER_TITLE_ID:"",t.FormSchema[1].Data[1].value=a.FIRST_NAME,t.FormSchema[1].Data[2].value=a.MIDDLE_NAME,t.FormSchema[1].Data[3].value=a.LAST_NAME,t.FormSchema[1].Data[4].value=a.GENDER?a.GENDER:"",t.gender=a.GENDER?a.GENDER:"",t.FormSchema[2].Data[0].value=a.Email,t.FormSchema[2].Data[1].value=a.USER_PHONE,t.FormSchema[3].Data[0].value=a.TIMEZONE_ID?a.TIMEZONE_ID:"",t.FormSchema[3].Data[1].value=a.TIME_FORMAT?a.TIME_FORMAT:"",t.profilePicture=a.AVATAR,t.containerName=a.CONTAINERNAME,t.attachmentName=a.ATTACHEMENT_NAME}})},GetBase64String:function(t){try{var e=this;e.fileData=[];var a=t.target.files;e.attachmentName=a[0].name;for(var i=0;i<a.length;i++){var s=a[i],o=new FileReader;o.onload=function(t){return function(t){var a=t.target.result,i=window.btoa(a);e.base64String=i;var o=s.name,n=o.lastIndexOf("."),l=o.substring(n+1,o.length),r='{"ContentType":"'+s.type+'","Size":"'+s.size+'","Extension":"'+l+'"}',c=(s.size,{attachement_mime:r,fileName:o,userId:e.GetUserInfo.ID,companyId:e.GetUserInfo.CompanyId,id:0,moduleName:"initialsetup",subModuleCode:"",containerName:e.GetUserInfo.ContainerName,base64String:i,attachement_path:""});e.fileData.push(c)}}(),o.readAsBinaryString(s)}}catch(n){}},ResetProfileImage(){var t=this;t.fileData=[],t.attachmentName="",t.base64String="",t.profilePicture="",t.fileInputKey+=1},onChangeGender(t){var e=this;e.gender=t.target.value}}},We=je,Ye=Object(u["a"])(We,qe,ze,!1,null,null,null),He=Ye.exports,Je=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mb-3 new_initialsetup_btnsbase"},[t.isShowAddMoreBtn?e("div",{staticClass:"locationinfo"},[e("i",{staticClass:"fa fa-info-circle mr-3 mt-3"}),e("span",[t._v(t._s(t.$t("LocationAddMoreContent")))])]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip"))+" ")]):t._e()])]),t.isShowAddMoreBtn&&t.LocationListData.length>0?e("div",{staticClass:"col-md-12 p-0 mb-3 float-left"},[e("div",{staticClass:"row"},t._l(t.LocationListData,(function(a){return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"locationaddress"},[e("h4",{staticClass:"w-100 mb-1"},[t._v(t._s(t.$t("Location"))+": "),e("a",{staticClass:"edit-btn",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-pencil text-red",on:{click:function(e){return t.getForm(a.company_location_id)}}})])]),e("span",{staticClass:"w-100"},[t._v(" "+t._s(a.location_name)+" "+t._s(a.location_address1)+" "+t._s(a.location_address2)+" "+t._s(a.location_country.length>0?JSON.parse(a.location_country).Name:"")+" "+t._s(a.location_state.length>0?JSON.parse(a.location_state).Name:"")+" "+t._s(a.location_city)+" "+t._s(a.location_pincode)+" ")])])])})),0)]):t._e(),t.isShowAddMoreBtn?e("div",{staticClass:"col-md-12 p-0 mb-3 float-left"},[e("a",{staticClass:"btn btn-primary formbtn",attrs:{href:"javascript:;"},on:{click:function(e){return t.AddMore()}}},[e("i",{staticClass:"fa fa-plus pl-2"}),t._v(" "+t._s(t.$t("AddMore"))+" ")])]):t._e(),t.isShowAddMoreBtn?t._e():e("dynamic-form",{ref:"setuplocation",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-parent_location_id",fn:function({data:a}){return[e("div",{staticClass:"input-group custlocation"},[e("tree-view",{class:{"form-control":!0},attrs:{options:t.parentChildOptions,placeholder:"Select Location","show-count":!0},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}})],1)]}}],null,!1,4083833989)})],1)])],1)},Ke=[],Qe={props:{tabCount:0,currentTabIndex:0},components:{"tree-view":F.a},data(){return{isLoading:!1,FormSchema:[],LocationListData:[],isShowAddMoreBtn:!0,TreeValue:null,parentChildOptions:[],buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>1,onClick:this.PreviousButton},{type:"submit",class:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",text:"<i class='fa fa-save pr-2'></i>"+this.$t("SaveAndNew"),name:"SaveAndNew",isVisible:this.tabCount>this.currentTabIndex,onClick:this.SaveSubmit},{type:"submit",class:"popupgreenbtn btn btn-primary formbtn widthhalf pr-2",text:this.$t("SaveAndNext")+" <i class='fa fa-chevron-right pr-2'></i>",name:"SaveAndNext",isVisible:this.tabCount>this.currentTabIndex,onClick:this.SaveSubmit}]}},async created(){var t=this;await t.GetLocationList()},methods:{getForm:async function(t){var e=this;e.isShowAddMoreBtn=!1,e.isLoading=!0;var a=`recordId=${t}&moduleName=Company&subModuleCode=Location`;await _["a"].GetDynamicForm(a).then((function(t){null!=t&&null!=t.data&&(e.FormSchema=e.$refs.setuplocation.ConvertCustomFieldIntoDynamicFormObj(t.data.data),e.FormSchema.forEach((t,a)=>{t.Data.forEach((t,a)=>{if(e.FormSchema.length>0){if("location_state"==t.name&&(t.value||(t.config.options=[])),"parent_location_id"==t.name){t.config.showAddIcon=!1,t.astype="SlotField",t.is_required=!1,e.TreeValue=t.value?t.value:null;var i=t.config.options;e.parentChildOptions=[],i.forEach(t=>{var a=e.parentChildOptions.filter((function(e){return e.value==t.value}));if(0==a.length&&null==t.first_value){let a=t.value,s=e.getChildLocation(a,t,i);e.parentChildOptions.push(s)}})}"location_country"==t.name&&(t.config.onChange=e.onChangeDropdown,t.value&&e.onChangeDropdown(t.value))}})}),e.isLoading=!1)}))},onChangeDropdown(t){var e=this,a="";a="object"==typeof t?t.target.value:t;var i="id=&moduleName=&type=STATE&search=&refId="+a;_["a"].GetDDLData(i).then(a=>{a.data.DATA&&e.FormSchema.forEach((e,i)=>{e.Data.forEach((e,i)=>{"location_state"==e.name&&(e.config.options=a.data.DATA,"object"==typeof t&&(e.value=""))})}),e.$refs.setuplocation.UpdateKeyValue()})},SaveSubmit(t){var e=this;e.$refs.setuplocation.validateForm.validate().then(a=>{if(a){e.isLoading=!0;var i=e.$refs.setuplocation.ConvertDynamicFormObjToCustomFieldObj(e.FormSchema);i.forEach((t,a)=>{"parent_location_id"==t.field_name&&(t.field_value=e.TreeValue)});var s={data:i,moduleCode:"Company",subModuleCode:"Location"};_["a"].SaveDynamicForm(JSON.stringify(s)).then((function(a){e.isLoading=!1,null!=a&&null!=a.data&&"success"==a.data[0].Status.toLowerCase()?(i.find(t=>"company_location_id"==t.field_name).field_value>0?e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Location")]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedSuccess",[e.$t("Location")]),"success",!0,e.$t("Alert")),"SaveAndNext"==t.name?e.Skip():"SaveAndNew"==t.name&&(e.resetForm(),e.GetLocations())):a.data&&"failure"==a.data[0].Value.MSG.toLowerCase()&&e.ShowAlert(e.$t("AddedError",[e.$t("Location")]),"failure",!0,e.$t("Alert"))}))}})},async GetLocationList(){var t=this;t.isLoading=!0;var e="moduleName=Company&subModuleCode=Location";await _["a"].GetCompanyShiftOrLocation(e).then(e=>{t.isLoading=!1,t.LocationListData=[],e.data&&e.data.result&&e.data.result.Data.length>0&&(t.LocationListData=e.data.result.Data)})},async GetLocations(){var t=this;t.isLoading=!0;var e="id=&moduleName=&type=COMPANY_PARENT_LOCATION&search=&refId=";await _["a"].GetDDLData(e).then(e=>{if(t.isLoading=!1,e.data.DATA){var a=e.data.DATA;a.length>0&&(t.parentChildOptions=[],a.forEach(e=>{var i=t.parentChildOptions.filter((function(t){return t.value==e.value}));if(0==i.length&&null==e.first_value){let i=e.value,s=t.getChildLocation(i,e,a);t.parentChildOptions.push(s)}}))}t.$refs.setuplocation.UpdateKeyValue()})},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.value,label:e.name};let o=s;var n=a.filter((function(e){return e.first_value==t}));let l=[];return n.forEach(t=>{let e=t.value;var o=l.filter((function(e){return e.value==t.value}));if(0==o.length){var n=a.filter((function(t){return t.first_value==e}));if(null!=n&&n.length>0){let s=i.getChildLocation(e,t,a);l.push(s)}else s={id:""+t.value,label:""+t.name},l.push(s)}}),o.children=l,o},async AddMore(){var t=this;await t.getForm(0)},Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},resetForm(){var t=this;t.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"parent_location_id"==e.name?(e.value=null,t.TreeValue=null):e.value=""})}),t.$refs.setuplocation.validateForm.reset(),t.$refs.setuplocation.validateForm={}}}},Ze=Qe,Xe=Object(u["a"])(Ze,Je,Ke,!1,null,null,null),ta=Xe.exports,ea=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mb-3 new_initialsetup_btnsbase"},[t.isShowAddMoreBtn?e("div",{staticClass:"locationinfo"},[e("i",{staticClass:"fa fa-info-circle mr-3 mt-3"}),e("span",[t._v(t._s(t.$t("ShiftAddMoreContent")))])]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip"))+" ")]):t._e()])]),t.isShowAddMoreBtn&&t.ShiftListData.length>0?e("div",{staticClass:"col-md-12 p-0 mb-3 float-left"},[e("div",{staticClass:"row"},t._l(t.ShiftListData,(function(a){return e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"locationaddress"},[e("h4",{staticClass:"w-100 mb-1"},[t._v(t._s(a.shift_name)+": "),e("a",{staticClass:"edit-btn",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-pencil text-red",on:{click:function(e){return t.getForm(a.shift_id)}}})])]),e("span",{staticClass:"w-100"},[t._v(" "+t._s(t.$t("ShiftTiming"))+" - "+t._s(t.convertTo12HourFormat(a.start_time))+" to "+t._s(t.convertTo12HourFormat(a.end_time))+" ")])])])})),0)]):t._e(),t.isShowAddMoreBtn?e("div",{staticClass:"col-md-12 p-0 mb-3 float-left"},[e("a",{staticClass:"btn btn-primary formbtn",attrs:{href:"javascript:;"},on:{click:function(e){return t.AddMore()}}},[e("i",{staticClass:"fa fa-plus pl-2"}),t._v(" "+t._s(t.$t("AddMore"))+" ")])]):t._e(),t.isShowAddMoreBtn?t._e():e("dynamic-form",{ref:"setupshift",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-company_location_id",fn:function({data:a}){return[e("div",{staticClass:"input-group custlocation"},[e("tree-view",{class:{"form-control":!0},attrs:{options:t.parentChildOptions,placeholder:"Select Location","show-count":!0},model:{value:t.TreeValue,callback:function(e){t.TreeValue=e},expression:"TreeValue"}})],1)]}}],null,!1,2337381150)})],1)])],1)},aa=[],ia={props:{tabCount:0,currentTabIndex:0},components:{"tree-view":F.a},data(){return{isLoading:!1,FormSchema:[],ShiftListData:[],isShowAddMoreBtn:!0,TreeValue:null,parentChildOptions:[],buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount>this.currentTabIndex,onClick:this.Skip},{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>1,onClick:this.PreviousButton},{type:"submit",class:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",text:"<i class='fa fa-save pr-2'></i>"+this.$t("SaveAndNew"),name:"SaveAndNew",isVisible:this.tabCount>this.currentTabIndex,onClick:this.SaveSubmit},{type:"submit",class:"popupgreenbtn btn btn-primary formbtn widthhalf pr-2",text:this.$t("SaveAndNext")+" <i class='fa fa-chevron-right pr-2'></i>",name:"SaveAndNext",isVisible:this.tabCount>this.currentTabIndex,onClick:this.SaveSubmit}]}},async created(){var t=this;await t.GetShiftList()},methods:{getForm:async function(t){var e=this;e.isShowAddMoreBtn=!1,e.isLoading=!0;var a=`recordId=${t}&moduleName=Company&subModuleCode=Shift`;await _["a"].GetDynamicForm(a).then((function(a){null!=a&&null!=a.data&&(e.FormSchema=e.$refs.setupshift.ConvertCustomFieldIntoDynamicFormObj(a.data.data),e.FormSchema.forEach((a,i)=>{a.Data.forEach((a,i)=>{if(e.FormSchema.length>0){if("company_location_id"==a.name){a.config.showAddIcon=!1,a.astype="SlotField",a.is_required=!1,e.TreeValue=a.value?a.value:null;var s=a.config.options;e.parentChildOptions=[],s.forEach(t=>{var a=e.parentChildOptions.filter((function(e){return e.value==t.value}));if(0==a.length&&null==t.first_value){let a=t.value,i=e.getChildLocation(a,t,s);e.parentChildOptions.push(i)}})}"start_time"!=a.name&&"end_time"!=a.name||(a.value=t>0?a.value:new Date,a.config.onChange=e.onChangeTime),"shift_hours"!=a.name&&"min_hours"!=a.name||(a.disabled=!0)}})}),e.isLoading=!1)}))},onChangeTime(t,e){var a,i,s=this;s.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{"start_time"==t.name&&(a=t.value),"end_time"==t.name&&(i=t.value)})});var o=s.GetTimeDifference(a,i);s.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{"shift_hours"!=t.name&&"min_hours"!=t.name||(t.value=o)})})},SaveSubmit(t){var e=this;e.$refs.setupshift.validateForm.validate().then(a=>{if(a){e.isLoading=!0;var i=e.$refs.setupshift.ConvertDynamicFormObjToCustomFieldObj(e.FormSchema);i.forEach((t,a)=>{"company_location_id"==t.field_name&&(t.field_value=e.TreeValue)});var s={data:i,moduleCode:"Company",subModuleCode:"Shift"};_["a"].SaveDynamicForm(JSON.stringify(s)).then((function(a){e.isLoading=!1,null!=a&&null!=a.data&&"success"==a.data[0].Status.toLowerCase()?(i.find(t=>"company_location_id"==t.field_name).field_value>0?e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Shift")]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedSuccess",[e.$t("Shift")]),"success",!0,e.$t("Alert")),"SaveAndNext"==t.name?e.Skip():"SaveAndNew"==t.name&&e.resetForm()):a.data&&"failure"==a.data[0].Value.MSG.toLowerCase()&&e.ShowAlert(e.$t("AddedError",[e.$t("Shift")]),"failure",!0,e.$t("Alert"))}))}})},GetTimeDifference(t,e){var a=Math.abs(e.getTime()-t.getTime()),i=Math.floor(a/36e5);return i},getChildLocation:function(t,e,a){let i=this,s={};s={id:e.value,label:e.name};let o=s;var n=a.filter((function(e){return e.first_value==t}));let l=[];return n.forEach(t=>{let e=t.value;var o=l.filter((function(e){return e.value==t.value}));if(0==o.length){var n=a.filter((function(t){return t.first_value==e}));if(null!=n&&n.length>0){let s=i.getChildLocation(e,t,a);l.push(s)}else s={id:""+t.value,label:""+t.name},l.push(s)}}),o.children=l,o},async GetShiftList(){var t=this;t.isLoading=!0;var e="moduleName=Company&subModuleCode=Shift";await _["a"].GetCompanyShiftOrLocation(e).then(e=>{t.isLoading=!1,t.ShiftListData=[],e.data&&e.data.result&&e.data.result.Data.length>0&&(t.ShiftListData=e.data.result.Data)})},async AddMore(){var t=this;await t.getForm(0)},Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},resetForm(){var t=this;t.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"company_location_id"==e.name?(e.value=null,t.TreeValue=null):e.value=""})}),t.$refs.setupshift.validateForm.reset(),t.$refs.setupshift.validateForm={}},convertTo12HourFormat(t){const e=new Date(t);let a=e.getHours();const i=e.getMinutes(),s=a>=12?"pm":"am";a%=12,a=a||12;const o=i<10?"0"+i:i,n=`${a}:${o} ${s}`;return n}}},sa=ia,oa=Object(u["a"])(sa,ea,aa,!1,null,null,null),na=oa.exports,la=function(){var t=this,e=t._self._c;return e("section",{staticClass:"main-content"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mb-3 new_initialsetup_btnsbase"},[t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip"))+" ")]):t._e()])]),e("div",{staticClass:"col-sm-12 text-center mt-0 px-2 mb-4"},[e("h3",{},[t._v(t._s(t.$t("AddUser")))]),e("div",{staticClass:"col-sm-12 text-center mt-0 px-2 mb-4 float-left"},[e("div",{staticClass:"user_type_choice mt-3 mb-3 inisetups"},[e("div",{staticClass:"btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"nonlabel"},[e("span",{staticClass:"UserType"},[t._v(t._s(t.$t("UserType"))+":-")])]),e("label",{staticClass:"btn btn_cstm active position-relative"},[e("div",{staticClass:"popover-arrowss"}),e("input",{staticClass:"cls_usertype",attrs:{autocomplete:"off",checked:"checked","data-val":"true",type:"radio",value:"3"},on:{click:function(e){return t.OnChangeUserType(3)}}}),t._m(0),e("span",{staticClass:"pt-1 pl-2"},[t._v(t._s(t.$t("NormalUser")))])]),e("label",{staticClass:"btn btn_cstm position-relative"},[e("div",{staticClass:"popover-arrowss"}),e("input",{staticClass:"cls_usertype",attrs:{autocomplete:"off",name:"user_type_id",type:"radio",value:"2"},on:{click:function(e){return t.OnChangeUserType(2)}}}),t._m(1),e("span",{staticClass:"pt-1 pl-2"},[t._v(t._s(t.$t("ProjectManager")))])]),e("label",{staticClass:"btn btn_cstm position-relative"},[e("div",{staticClass:"popover-arrowss"}),e("input",{staticClass:"cls_usertype",attrs:{autocomplete:"off",name:"user_type_id",type:"radio",value:"1"},on:{click:function(e){return t.OnChangeUserType(1)}}}),t._m(2),e("span",{staticClass:"pt-1 pl-2"},[t._v(t._s(t.$t("CompanyAdmin")))])])])]),e("p",{staticClass:"font-14 newdiff_bg"},[t._v(t._s(t.UserTypeData.content))])])]),e("dynamic-form",{ref:"addnewuser",attrs:{lang:"en",buttons:[],schema:t.FormSchema}}),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left initialsetupfolder mt-4 p-0"},[e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left",attrs:{id:"divtickettupelist"}},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("allLicenses")))]),e("a",{staticClass:"btn btn-primary",on:{click:function(e){return t.AssignLicense()}}},[t._v(t._s(t.$t("Assign")))])])]),e("div",{staticClass:"managefolder py-3 allLicense"},[e("div",{staticClass:"col-12 float-left border px-3 py-2 text-right bg-light"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"chkItems custom-control-input chkAll",staticStyle:{display:"none"},attrs:{type:"checkbox",value:"",name:"chkAllLicense",id:"chkAllLicense"},on:{change:function(e){return t.onChange(e,"allLicense")}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",staticStyle:{float:"right"},attrs:{for:"chkAllLicense"}})])]),e("ul",{staticClass:"list-group float-left w-100",staticStyle:{"max-height":"400px","min-height":"200px","overflow-y":"auto"}},[t._l(t.AllLicenses,(function(a){return e("li",{staticClass:"list-group-item single-action px-3"},[e("strong",[t._v(t._s(a.module_name+" ("+a.license_count+")"))]),e("div",{staticClass:"custom-control custom-checkbox float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedAllLicenses,expression:"checkedAllLicenses"}],staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",disabled:0==a.license_count||a.is_disabled,name:a.module_name,id:"chk_"+a.module_id},domProps:{value:a.module_id,checked:Array.isArray(t.checkedAllLicenses)?t._i(t.checkedAllLicenses,a.module_id)>-1:t.checkedAllLicenses},on:{click:function(e){return t.onSelectLicense(e,"allLicense")},change:function(e){var i=t.checkedAllLicenses,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=a.module_id,l=t._i(i,n);s.checked?l<0&&(t.checkedAllLicenses=i.concat([n])):l>-1&&(t.checkedAllLicenses=i.slice(0,l).concat(i.slice(l+1)))}else t.checkedAllLicenses=o}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+a.module_id}})])])})),0==t.AllLicenses.length?e("li",{staticClass:"text-danger text-center mt-2"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e()],2)])]),e("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left",attrs:{id:"divAssignedLicence"}},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("addedLicenses")))]),e("a",{staticClass:"btn btn-danger",on:{click:function(e){return t.RemoveLicense()}}},[t._v(t._s(t.$t("Remove")))])])]),e("div",{staticClass:"managefolder py-3 addedLicense"},[e("div",{staticClass:"col-12 float-left border px-3 py-2 text-right bg-light"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"chkItems custom-control-input chkAll",staticStyle:{display:"none"},attrs:{type:"checkbox",value:"",name:"chkAllAddedLicense",id:"chkAllAddedLicense"},on:{change:function(e){return t.onChange(e,"addedLicense")}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",staticStyle:{float:"right"},attrs:{for:"chkAllAddedLicense"}})])]),e("ul",{staticClass:"list-group float-left w-100",staticStyle:{"max-height":"400px","min-height":"200px","overflow-y":"auto"}},[t._l(t.AddedLicenses,(function(a){return e("li",{staticClass:"list-group-item list_username list_img single-action px-3"},[e("strong",[t._v(t._s(a.module_name))]),e("div",{staticClass:"custom-control custom-checkbox float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedAddedLicenses,expression:"checkedAddedLicenses"}],staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",name:"added_"+a.module_name,id:"added_"+a.module_id},domProps:{value:a.module_id,checked:Array.isArray(t.checkedAddedLicenses)?t._i(t.checkedAddedLicenses,a.module_id)>-1:t.checkedAddedLicenses},on:{click:function(e){return t.onSelectLicense(e,"addedLicense")},change:function(e){var i=t.checkedAddedLicenses,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=a.module_id,l=t._i(i,n);s.checked?l<0&&(t.checkedAddedLicenses=i.concat([n])):l>-1&&(t.checkedAddedLicenses=i.slice(0,l).concat(i.slice(l+1)))}else t.checkedAddedLicenses=o}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"added_"+a.module_id}})])])})),0==t.AddedLicenses.length?e("li",{staticClass:"text-danger text-center mt-2"},[t._v(t._s(t.$t("NoRecordfound")))]):t._e()],2)])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Skip"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){return t.SaveSubmit("SaveAndNew")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:function(e){return t.SaveSubmit("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])],1)])],1)},ra=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block"},[e("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block"},[e("i",{staticClass:"fa fa-user"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block"},[e("i",{staticClass:"fa fa-user"})])}],ca={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,userTypeId:1,UserTypeData:null,AllLicenses:[],AddedLicenses:[],fileData:[],checkedAllLicenses:[],checkedAddedLicenses:[],base64String:"",FormSchema:[{layoutType:"double",groupLayoutType:"single",group_name:"Account Settings",group_display_name:this.$t("AccountSettings"),Data:[{astype:"TextField",label:this.$t("FirstName"),name:"first_name",value:"",placeholder:this.$t("FirstName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("LastName"),name:"last_name",value:"",placeholder:this.$t("LastName"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("Email"),name:"email_id",value:"",placeholder:this.$t("Email"),validationRules:{required:!0}},{astype:"ToggleField",label:this.$t("EnableLogin"),name:"is_enable_login",value:"",validationRules:""},{astype:"TextField",label:this.$t("Password"),name:"password",value:"",placeholder:this.$t("Password"),validationRules:{required:!0}},{astype:"TextField",label:this.$t("ConfirmPassword"),name:"confirm_password",value:"",placeholder:this.$t("ConfirmPassword"),validationRules:{required:!0}}]}],buttons:[{type:"button",class:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",text:this.$t("Skip"),isVisible:this.tabCount==this.currentTabIndex,onClick:this.Skip},{type:"button",class:"btn btn-warning float-left px-4",text:'<i class="fa fa-chevron-left pr-2"></i> '+this.$t("Previous"),isVisible:this.currentTabIndex>1,onClick:this.PreviousButton},{type:"submit",class:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",text:"<i class='fa fa-save pr-2'></i>"+this.$t("SaveAndNew"),name:"SaveAndNew",isVisible:this.tabCount==this.currentTabIndex,onClick:this.SaveSubmit},{type:"submit",class:"popupgreenbtn btn btn-primary formbtn widthhalf pr-2",text:this.$t("SaveAndClose")+" <i class='fa fa-chevron-right pr-2'></i>",name:"SaveAndClose",isVisible:this.tabCount==this.currentTabIndex,onClick:this.SaveSubmit}]}},async created(){var t=this;await t.OnChangeUserType(3)},methods:{AssignLicense(){var t=this,e=[];if(t.checkedAllLicenses.length>0){if(t.checkedAllLicenses.forEach((a,i)=>{t.AllLicenses.forEach((i,s)=>{a==i.module_id&&(t.AddedLicenses.filter(t=>t.module_id==a).length>0?e.push(i.module_name):(i.license_count=i.license_count-1,t.AddedLicenses.push(i)))})}),t.checkedAllLicenses=[],e.length>0){var a=e.join(",");t.ShowAlert(t.$t("ModulesAlreadyAssigned",[a]),"warning",!0,t.$t("Alert"))}}else t.ShowAlert(t.$t("EmpSharingSaveValidationMsg"),"warning",!0,t.$t("Alert"))},RemoveLicense(){var t=this;t.checkedAddedLicenses.length>0?t.checkedAddedLicenses.forEach((e,a)=>{const i=t.AddedLicenses.findIndex(t=>t.module_id==e);-1!==i&&(t.AddedLicenses.splice(i,1),t.AllLicenses.filter(t=>t.module_id==e)[0].license_count+=1)}):t.ShowAlert(t.$t("AtLeastOneLicense"),"warning",!0,t.$t("Alert")),t.checkedAddedLicenses=[]},onChange(t,e){var a=this;if("allLicense"==e){a.checkedAllLicenses=[];const e=document.querySelectorAll(".allLicense .chkItems:not(:disabled)");e.forEach(e=>{e.checked=t.target.checked,e.value&&a.checkedAllLicenses.push(e.value)})}else{const e=document.querySelectorAll(".addedLicense .chkItems");e.forEach(e=>{e.checked=t.target.checked,e.value&&a.checkedAddedLicenses.push(e.value)})}},onSelectLicense(t,e){},Skip:function(){var t=this;t.$emit("close")},PreviousButton:function(){var t=this;t.$emit("previousTab")},SaveSubmit(t){var e=this;e.$refs.addnewuser.validateForm.validate().then(t=>{}),"SaveAndNew"==t?e.resetForm():"SaveAndClose"==t&&e.Skip()},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})}),t.$refs.addnewuser.validateForm.reset(),t.$refs.addnewuser.validateForm={}},async GetLicenseList(){var t=this;t.isLoading=!0;var e="userTypeId="+t.userTypeId;await _["a"].GetLicenseList(e).then(e=>{t.isLoading=!1,e.data.data&&(t.AllLicenses=[],t.AllLicenses=e.data.data)})},async OnChangeUserType(t){var e=this,a={};1==t?(a.userType=e.$t("CompanyAdmin"),a.class="CA",a.content=e.$t("CompanyAdminContent")):2==t?(a.userType=e.$t("ProjectManager"),a.class="PM",a.content=e.$t("ProjectManagerContent")):(a.userType=e.$t("NormalUser"),a.class="NU",a.content=e.$t("NormalUserContent")),e.AddedLicenses=[],e.userTypeId=t,e.UserTypeData=a,await e.GetLicenseList()}}},da=ca,ua=Object(u["a"])(da,la,ra,!1,null,null,null),pa=ua.exports,ma=function(){var t=this,e=t._self._c;return e("section",{staticClass:"download-silent-app"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("div",{staticClass:"container-fluid padding-t_10"},[e("div",{staticClass:"row"},[e("div",{staticClass:"mx-auto silentappmainbase"},[t._m(0),e("div",{staticClass:"col-md-5 silentapp_contentbase float-left p-0"},[t._m(1),e("h5",{staticClass:"subheading"},[t._v("The tracking app runs silently in the background without any visible indication to the user.")]),e("div",{staticClass:"dowload_cont"},[e("div",{staticClass:"app_download_box marginright"},[e("div",{staticClass:"app_name_large"},[t._v("For Windows")]),e("div",{staticClass:"app_name"},[t._v("Windows 64-bit")]),e("div",{staticClass:"copylink"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.copyLink(t.WindowSilentAppLinkForDownload,"isShowLink1Msg")}}},[e("em",{staticClass:"fa fa-copy mr-1"}),t._v(" Copy link ")]),t.isShowLink1Msg?e("a",{staticStyle:{"margin-left":"20px",color:"#04c920!important"},attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-check mr-1"}),t._v(" Copied! ")]):t._e()]),e("div",{staticClass:"app_download_button"},[e("a",{attrs:{href:"#"},on:{click:function(e){return t.UpdateLinkVisitedInformation(t.WindowSilentAppLinkForDownload,"isShowLink1Msg")}}},[t._v("Download App")])]),t._m(2)]),e("div",{staticClass:"app_download_box"},[e("div",{staticClass:"app_name_large"},[t._v("For Mac")]),e("div",{staticClass:"app_name"},[t._v("MacOS X")]),e("div",{staticClass:"copylink"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.copyLink(t.MacSilentAppLinkForDownload,"isShowLink2Msg")}}},[e("em",{staticClass:"fa fa-copy mr-1"}),t._v(" Copy link ")]),t.isShowLink2Msg?e("a",{staticStyle:{"margin-left":"20px",color:"#04c920!important"},attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-check mr-1"}),t._v(" Copied! ")]):t._e()]),e("div",{staticClass:"app_download_button"},[e("a",{attrs:{href:"#"},on:{click:function(e){return t.UpdateLinkVisitedInformation(t.MacSilentAppLinkForDownload,"isShowLink2Msg")}}},[t._v("Download App")])]),t._m(3)]),t._m(4)])]),e("div",{staticClass:"col-md-7 silentapp_contentbase visibleapp float-left p-0"},[t._m(5),e("h5",{staticClass:"subheading"},[t._v("The tracking app runs with a visible icon and is accessible to the user on their system.")]),e("div",{staticClass:"dowload_cont"},[e("div",{staticClass:"app_download_box marginright"},[e("div",{staticClass:"app_name_large"},[t._v("For Windows")]),e("div",{staticClass:"app_name"},[t._v("Windows 64-bit")]),e("div",{staticClass:"copylink"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.copyLink(t.WindowVisibleAppLinkForDownload,"isShowLink3Msg")}}},[e("em",{staticClass:"fa fa-copy mr-1"}),t._v(" Copy link ")]),t.isShowLink3Msg?e("a",{staticStyle:{"margin-left":"20px",color:"#04c920!important"},attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-check mr-1"}),t._v(" Copied! ")]):t._e()]),e("div",{staticClass:"app_download_button"},[e("a",{attrs:{href:t.WindowVisibleAppLinkForDownload}},[t._v("Download App")])]),t._m(6)]),e("div",{staticClass:"app_download_box marginright"},[e("div",{staticClass:"app_name_large"},[t._v("For Mac")]),e("div",{staticClass:"app_name"},[t._v("MacOS X")]),e("div",{staticClass:"copylink"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.copyLink(t.MacVisibleAppLinkForDownload,"isShowLink4Msg")}}},[e("em",{staticClass:"fa fa-copy mr-1"}),t._v(" Copy link ")]),t.isShowLink4Msg?e("a",{staticStyle:{"margin-left":"20px",color:"#04c920!important"},attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-check mr-1"}),t._v(" Copied! ")]):t._e()]),e("div",{staticClass:"app_download_button"},[e("a",{attrs:{href:t.MacVisibleAppLinkForDownload}},[t._v("Download App")])]),t._m(7)]),e("div",{staticClass:"app_download_box"},[e("div",{staticClass:"app_name_large"},[t._v("For Linux")]),e("div",{staticClass:"app_name"},[t._v("Linux")]),e("div",{staticClass:"copylink"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.copyLink(t.LinuxVisibleAppLinkForDownload,"isShowLink5Msg")}}},[e("em",{staticClass:"fa fa-copy mr-1"}),t._v(" Copy link ")]),t.isShowLink5Msg?e("a",{staticStyle:{"margin-left":"20px",color:"#04c920!important"},attrs:{href:"javascript:;"}},[e("em",{staticClass:"fa fa-check mr-1"}),t._v(" Copied! ")]):t._e()]),e("div",{staticClass:"app_download_button"},[e("a",{attrs:{href:t.LinuxVisibleAppLinkForDownload}},[t._v("Download App")])]),t._m(8)]),t._m(9)])])]),t.downloadInfo?e("DownloadInfoPopUp",{attrs:{DownloadLink:t.WindowSilentAppLinkForDownload}}):t._e(),e("div",{staticClass:"mx-auto silentappmainbase differences"},[e("div",{staticClass:"questionlink"},[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.openDifferncePopup()}}},[t._v("What is the difference between "),e("span",{staticClass:"sl_pinkfont"},[t._v("Invisible Mode")]),t._v(" and "),e("span",{staticClass:"sl_bluefont"},[t._v("Visible Mode")]),e("i",{staticClass:"fa fa-chevron-circle-right pl-3",attrs:{"aria-hidden":"true"}})])])]),t.differencePopUp?e("SilentAppDifferencePopUp"):t._e(),e("div",{staticClass:"mx-auto silentappmainbase faqssection"},[e("h2",{staticClass:"mb-3"},[t._v("FAQ - Answers to commonly asked questions.")]),e("p",{staticClass:"text-center"},[t._v("Whether you're a new customer looking to learn more about what we offer or a long-time user seeking clarification on specific topics, this page has clear and concise information about our products and services.")]),e("div",{staticClass:"row mt-5"},[e("div",{staticClass:"col-lg-7 mx-auto"},[e("div",{staticClass:"input-group searchbg"},[e("input",{staticClass:"form-control",attrs:{type:"text",id:"searchText",placeholder:"Search"},on:{input:t.SearchFAQ}}),t._m(10)])])]),t._m(11),e("div",{staticClass:"text-center text-danger py-3",staticStyle:{display:"none"},attrs:{id:"noRecordMessage"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])])],1)])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4 mr-3"},[t.tabCount>t.currentTabIndex&&t.isCompleted?e("button",{staticClass:"popupgreenbtn btn next formbtn float-right px-4",attrs:{type:"button"},on:{click:function(e){return t.Continue()}}},[t._v(" "+t._s(t.$t("Continue"))+" "),e("em",{staticClass:"fa fa-chevron-right pl-2"})]):t._e()])])],1)},ha=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 text-center"},[e("h2",{staticClass:"silenthead"},[t._v("Silent App is available in Two Modes:")])])},function(){var t=this,e=t._self._c;return e("h3",{staticClass:"silenthead"},[e("span",[t._v("Invisible Mode:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_blk_icon"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/sl_window_icon.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_blk_icon"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/sl_mac_icon.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"installationbase app_download_box mt-4"},[e("h3",[t._v("Download Installation Guides")]),e("div",{staticClass:"download_installation_links_base"},[e("div",{staticClass:"download_installation_links"},[e("div",[e("i",{staticClass:"fa fa-arrow-circle-down",attrs:{"aria-hidden":"true"}}),t._v(" "),e("a",{attrs:{href:"https://talygen.com/SilentApps/Windows/SilentAppWindowsInstallationGuide.pdf",target:"_blank"}},[t._v("For Windows")])])]),e("div",{staticClass:"download_installation_links"},[e("div",[e("i",{staticClass:"fa fa-arrow-circle-down",attrs:{"aria-hidden":"true"}}),t._v(" "),e("a",{attrs:{href:"https://talygen.com/SilentApps/MAC/SilentAppMacInstallationGuide.pdf",target:"_blank"}},[t._v("For Mac")])])]),e("div",{staticClass:"download_installation_links"},[e("div",[e("i",{staticClass:"fa fa-arrow-circle-down",attrs:{"aria-hidden":"true"}}),t._v(" "),e("a",{attrs:{href:"https://talygen.com/SilentApps/Windows/SilentAppUserManual.pdf",target:"_blank"}},[t._v("User Manual")])])])])])},function(){var t=this,e=t._self._c;return e("h3",{staticClass:"silenthead"},[e("span",[t._v("Visible Mode:")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_blk_icon"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/sl_window_icon.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_blk_icon"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/sl_mac_icon.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"app_blk_icon"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/sl_linux_icon.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"installationbase app_download_box float-left w-100 mt-4"},[e("h3",[t._v("Download Installation Guides")]),e("div",{staticClass:"download_installation_links_base"},[e("div",{staticClass:"download_installation_links"},[e("div",[e("i",{staticClass:"fa fa-arrow-circle-down",attrs:{"aria-hidden":"true"}}),t._v(" "),e("a",{attrs:{href:"https://talygen.com/DesktopApps/InstallationGuide/Windows/InsallationGuideWindows.pdf",target:"_blank"}},[t._v("For Windows")])])]),e("div",{staticClass:"download_installation_links"},[e("div",[e("i",{staticClass:"fa fa-arrow-circle-down",attrs:{"aria-hidden":"true"}}),t._v(" "),e("a",{attrs:{href:"https://talygen.com/DesktopApps/InstallationGuide/Mac/InsallationGuideMac.pdf",target:"_blank"}},[t._v("For Mac")])])]),e("div",{staticClass:"download_installation_links"},[e("div",[e("i",{staticClass:"fa fa-arrow-circle-down",attrs:{"aria-hidden":"true"}}),t._v(" "),e("a",{attrs:{href:"https://talygen.com/DesktopApps/InstallationGuide/Linux/InsallationGuideLinux.pdf",target:"_blank"}},[t._v("For Linux")])])])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button",id:"search"}},[e("em",{staticClass:"fa fa-search"})])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-5",attrs:{id:"accordion"}},[e("h4",{staticClass:"mt-4"},[t._v("Getting Started")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"false","aria-controls":"collapseOne"}},[t._v(" How do I set up my account (Sign up, download, launch)? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("When registering with Silent App, you will be able to set up your account and "),e("a",{attrs:{href:"https://app.talygen.com/Download/SilentApp?reqhFrom=40"}},[t._v("download")]),t._v(" the Silent App during the onboarding process. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}},[t._v(" How do you track time with the Silent App?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("With Silent App, as soon as the user starts their system, the application will run silently in the background.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"}},[t._v(" How do you start tracking your time?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree","aria-labelledby":"headingThree","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Silent App tracks time automatically once it is linked with the user profile. Automated tracking will start recording the applications and websites used by the user. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingfour"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsefour","aria-expanded":"false","aria-controls":"collapsefour"}},[t._v(" How to install Silent App on macOS?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsefour","aria-labelledby":"headingfour","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Use the Silent App download load page to download the app and install it on a Mac. For help, refer to the Mac Installation guide shown during the onboarding process. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingfive"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsefive","aria-expanded":"false","aria-controls":"collapsefive"}},[t._v(" What are the top things to do after creating your account?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsefive","aria-labelledby":"headingfive","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("If you created your account and made sure everyone has installed the Silent App application, it is time to set up your account to match your tracking needs. In your account, you can group employees into departments, such as Marketing, Management, etc. To create a Department, go to Company Setup → Department, and click the 'Add new Department button. Once a department has been made, you can add employees, enable their screenshots, and set up productivity levels.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingsix"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsesix","aria-expanded":"false","aria-controls":"collapsesix"}},[t._v(" How do you change the productivity level of an app/website?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsesix","aria-labelledby":"headingsix","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("There are two ways you can set the productivity status of an application: ")]),e("p",[e("b",[t._v("Department Level:")]),t._v(" You can go to the manage app and website screen and select the app productivity for the entire department. ")]),e("p",[e("b",[t._v("Individual User:")]),t._v(" You can go to the user productivity screen, select the user, and manage its productive app and website. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingseven"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseseven","aria-expanded":"false","aria-controls":"collapseseven"}},[t._v(" Is there any terminology I should know about?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseseven","aria-labelledby":"headingseven","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("These are a few terms you should know before you start using Silent App:")]),e("p",[e("b",[t._v("Productive time")]),t._v(" - Total time spent on productive apps. ")]),e("p",[e("b",[t._v("Time at work")]),t._v(" - Total time from when you arrived and logged in to when you left work.")]),e("p",[e("b",[t._v("Idle time")]),t._v(" - A time gap between two fractions of track time, which appears when there haven't been any actions on the computer for more than a set number of minutes. ")]),e("p",[e("b",[t._v("Productivity")]),t._v(" - Productive time, divided by the total time and expressed as a percentage.")]),e("p",[e("b",[t._v("Arrival Time")]),t._v(" – When the user logs in for the first time in a day.")]),e("p",[e("b",[t._v("Left Time")]),t._v(" – Once the user logs out of the machine.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingeight"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseeight","aria-expanded":"false","aria-controls":"collapseeight"}},[t._v(" What systems does Silent App support?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseeight","aria-labelledby":"headingeight","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Silent App is supported on Windows and Mac OS.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingnine"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsenine","aria-expanded":"false","aria-controls":"collapsenine"}},[t._v(" Which internet browsers are supported?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsenine","aria-labelledby":"headingnine","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Silent App Tracking supports all major HTML5-compliant browsers.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingten"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseten","aria-expanded":"false","aria-controls":"collapseten"}},[t._v(" What does a Free trial mean?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseten","aria-labelledby":"headingten","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Silent App offers a 7-day free trial, including all the features mentioned in the plan. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingeleven"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseeleven","aria-expanded":"false","aria-controls":"collapseten"}},[t._v(" How do you link users in an AD environment?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseeleven","aria-labelledby":"headingeleven","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Rest assured, linking users in an Active Directory environment is straightforward. Simply ensure that the users you wish to monitor have their Silent App registered email ID added to their User Account Profile. This will automatically link the Silent App tracking. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingtwelve"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsetwelve","aria-expanded":"false","aria-controls":"collapsetwelve"}},[t._v(" How do we link users in a non-AD environment?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsetwelve","aria-labelledby":"headingtwelve","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Install the Silent App on the user's machines where monitoring is needed. Once the app is installed, the user's system will be visible on the Device Mapping screen to Admin; select the user's registered silent app account and map it to its local system to ensure smooth tracking. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingtwelve12"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsetwelve12","aria-expanded":"false","aria-controls":"collapsetwelve12"}},[t._v(" How do I install the Silent App"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsetwelve12","aria-labelledby":"headingtwelve12","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Ensure the app is installed on the required devices, and it will automatically fetch, and sync enabled users to the Talygen system and during installation enter the company admin credentials of your Talygen account. For more details on the installation instructions please refer to the installation guide. ")])])])]),e("h4",{staticClass:"mt-6"},[t._v("General")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne1"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne1","aria-expanded":"false","aria-controls":"collapseOne1"}},[t._v(" What is Silent App? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne1","aria-labelledby":"headingOne1","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Silent App is a solution that operates discreetly on employees' devices and computers (laptops/desktops) without indicating that it is active. The application runs in the background without any icons. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo2"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo2","aria-expanded":"false","aria-controls":"collapseTwo2"}},[t._v(" How does the application work?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo2","aria-labelledby":"headingTwo2","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Once the Silent App is installed on employees’ machines, time will be tracked automatically as soon as the machine starts. The application will start along with your computer. You can see the gathered data for the day in the Dashboard section. The company owner and admins can group tracked applications into three sections - Productive apps (green), Unproductive apps (orange), and Neutral apps (grey). Optionally, along with time tracking, the automatic screenshots function can be enabled to reflect more detail about the activity on each computer.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree3"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree3","aria-expanded":"false","aria-controls":"collapseThree3"}},[t._v(" What does the Dashboard indicate?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree3","aria-labelledby":"headingThree3","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The Dashboard overviews the company's performance on the selected day. This section is available to Company Admin and PM-level users. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingfour4"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsefour4","aria-expanded":"false","aria-controls":"collapsefour4"}},[t._v(" What happens when the internet connection is gone?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsefour4","aria-labelledby":"headingfour4","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("If a user is logged in and the internet connection is lost while Silent App is running in the background, Silent App will store data collected locally on the computer until the internet connection is re-established. Afterward, tracked data will be sent back to the cloud. Please note that stored data will be lost if the user's computer is restarted during an offline period. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingfive5"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsefive5","aria-expanded":"false","aria-controls":"collapsefive5"}},[t._v(" Can I have employees in different time zones?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsefive5","aria-labelledby":"headingfive5","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("On the Silent App, each user can have a different time zone.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingsix6"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapsesix6","aria-expanded":"false","aria-controls":"collapsesix6"}},[t._v(" Can I delete tracked Screenshots & Videos?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapsesix6","aria-labelledby":"headingsix6","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can delete the screenshots and videos from the Work Diary section.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingseven7"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseseven7","aria-expanded":"false","aria-controls":"collapseseven7"}},[t._v(" Can I view employees live what they are doing?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseseven7","aria-labelledby":"headingseven7","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Yes, you can view the employee's screen live using the live tracking screen.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingseven7a"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseseven7a","aria-expanded":"false","aria-controls":"collapseseven7a"}},[t._v(" What are the key features of the Silent App? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseseven7a","aria-labelledby":"headingseven7a","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Key features include a dedicated admin dashboard, anonymous time tracking, department, and user-focused tracking, set period tracking, an employee insights dashboard, and data-driven statistics. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingseven7b"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseseven7b","aria-expanded":"false","aria-controls":"collapseseven7b"}},[t._v(" What is the Silent App Dashboard?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseseven7b","aria-labelledby":"headingseven7b","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The Silent App Dashboard provides a graphical representation of employee productivity levels and performance tables. It can be viewed by department or individual users. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingseven7b"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseseven7b","aria-expanded":"false","aria-controls":"collapseseven7b"}},[t._v(" How do I switch views on the Silent App Dashboard? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseseven7b","aria-labelledby":"headingseven7b","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Use the dropdown menu on the dashboard to switch between Department View and User View.")])])])]),e("h4",{staticClass:"mt-6"},[t._v("Settings")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne8"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne8","aria-expanded":"false","aria-controls":"collapseOne8"}},[t._v(" How to add new categories?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne8","aria-labelledby":"headingOne8","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The Categories section will help you to organize the lists of your used programs, websites, apps, etc. To add new categories, go to Silent App → Categories and press the Add New Category button. Enter the name of the category and choose a color for that. To delete a category or change the name, or color, click Edit. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo9"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo9","aria-expanded":"false","aria-controls":"collapseTwo9"}},[t._v(" What is the difference between app productivity levels?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo9","aria-labelledby":"headingTwo9","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("All of the tracked apps in Silent App are divided into three Productivity levels: productive apps (green), Unproductive apps (orange), and Neutral apps (grey). These Productivity levels can differ from Department to Department and User to User. For example, what counts as productive for social media managers won't probably work for programmers.")]),e("p",[e("b",[t._v("Productive")]),t._v(" - Apps/Websites that are important to a department's work;")]),e("p",[e("b",[t._v("Unproductive")]),t._v(" - Apps/Websites viewed during working hours distract from job tasks and are irrelevant to users' work.")]),e("p",[e("b",[t._v("Neutral")]),t._v(" — Apps/Websites are used daily but neither interfere with nor distract from work, nor are they directly involved in getting the job done. ")]),e("p",[t._v("Also, any app for which productivity is not set will be set to neutral by default.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree10"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree10","aria-expanded":"false","aria-controls":"collapseThree10"}},[t._v(" How do you delete/archive or restore employees?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree10","aria-labelledby":"headingThree10","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can go to Company SetupUsers and delete the employees. Once an employee is deleted, it cannot be restored. If you want to permanently delete an employee, you may mark it as inactive. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree100"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree100","aria-expanded":"false","aria-controls":"collapseThree100"}},[t._v(" How do I import a category?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree100","aria-labelledby":"headingThree100","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Go to Full Menu > Silent App > Manage Categories > Import. Download the Excel sheet to create an offline category, upload the file from your local device, and click the import button.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree101"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree101","aria-expanded":"false","aria-controls":"collapseThree101"}},[t._v(" How can I track individual user productivity?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree101","aria-labelledby":"headingThree101","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Navigate to Full Menu > Silent App > User Productivity. Select a user to view their assigned apps categorized as productive, unproductive, or neutral. You can transfer apps between categories using the dropdown menu. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree102"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree102","aria-expanded":"false","aria-controls":"collapseThree102"}},[t._v(" What data can I view in the User Productivity section? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree102","aria-labelledby":"headingThree102","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can view a user's productive apps, unproductive apps, and neutral apps. The productivity of each app can be changed and saved accordingly. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree103"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree103","aria-expanded":"false","aria-controls":"collapseThree103"}},[t._v(" How do I manage apps and websites?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree103","aria-labelledby":"headingThree103","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Go to Full Menu > Silent App > Manage Apps & Websites. You can assign specific apps and websites to users or departments, pin, edit, or delete them, and use search filters to locate specific apps/websites.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree104"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree104","aria-expanded":"false","aria-controls":"collapseThree104"}},[t._v(" How do I assign apps/websites to a department?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree104","aria-labelledby":"headingThree104","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Navigate to Full Menu > Silent App > Manage Apps & Websites > Assign Department. Select the apps/websites and choose the department to assign them.")])])])]),e("h4",{staticClass:"mt-6"},[t._v("Screenshots")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne11"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne11","aria-expanded":"false","aria-controls":"collapseOne11"}},[t._v(" How do you enable screen capture?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne11","aria-labelledby":"headingOne11","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("To enable screen capture for a company, go to Company Setup->Configuration->Work Diary.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo12"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo12","aria-expanded":"false","aria-controls":"collapseTwo12"}},[t._v(" How do auto screenshots work?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo12","aria-labelledby":"headingTwo12","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The Screenshots feature enables Silent App to capture users' computer screens at random time intervals. Managers can view their users’ activities throughout the day and gain a better understanding of how the users spend their time at work.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree13"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree13","aria-expanded":"false","aria-controls":"collapseThree13"}},[t._v(" Where can I find the taken screenshots?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree13","aria-labelledby":"headingThree13","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("All screenshots taken by the Silent App can be found in the 'Work Diary' section, accessed from the Full Menu. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree14"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree14","aria-expanded":"false","aria-controls":"collapseThree14"}},[t._v(" How do you change screenshot resolution and time intervals?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree14","aria-labelledby":"headingThree14","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You specify the time and resolution at which the screenshots will be captured. ")])])])]),e("h4",{staticClass:"mt-6"},[t._v("Video Recording")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne15"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne15","aria-expanded":"false","aria-controls":"collapseOne15"}},[t._v(" How to enable video capture?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne15","aria-labelledby":"headingOne15","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The user can enable video capture by going to Company Setup->Configuration->Work Diary and selecting the video recording module as Yes.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo16"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo16","aria-expanded":"false","aria-controls":"collapseTwo16"}},[t._v(" How does auto video capture work?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo16","aria-labelledby":"headingTwo16","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The video starts capturing at random intervals as soon as the user logs in to the system.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree17"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree17","aria-expanded":"false","aria-controls":"collapseThree17"}},[t._v(" Where can I find the recorded videos?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree17","aria-labelledby":"headingThree17","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("All the automated recorded videos are available in the Work Diary section, where you can view them. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree18"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree18","aria-expanded":"false","aria-controls":"collapseThree18"}},[t._v(" Can I change the video recording intervals?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree18","aria-labelledby":"headingThree18","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can set the video recording interval from 20 minutes to 120 minutes. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree19"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree19","aria-expanded":"false","aria-controls":"collapseThree19"}},[t._v(" Can I manually record videos?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree19","aria-labelledby":"headingThree19","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Can I manually record videos? ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree20"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree20","aria-expanded":"false","aria-controls":"collapseThree20"}},[t._v(" Where can I download the recorded videos from?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree20","aria-labelledby":"headingThree20","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("All the videos recorded manually can be downloaded directly from the live view popup. Once downloaded, they cannot be downloaded again; however, you can view them on the work diary screen.")])])])]),e("h4",{staticClass:"mt-6"},[t._v("Reports")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne21"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne21","aria-expanded":"false","aria-controls":"collapseOne21"}},[t._v(' What is the "Reports" section?'),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne21","aria-labelledby":"headingOne21","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Admins can see statistics for the entire company, but Managers can see statistics for the department they manage. You can apply filters for each report to choose the department, user, or period for which you wish to see data.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo22"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo22","aria-expanded":"false","aria-controls":"collapseTwo22"}},[t._v(" Can I download the reports?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo22","aria-labelledby":"headingTwo22","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can download the report in PDF, Excel, and Word format.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree23"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree23","aria-expanded":"false","aria-controls":"collapseThree23"}},[t._v(" Can I print the reports?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree23","aria-labelledby":"headingThree23","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Yes, you can print the reports directly from the web portal.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree230"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree230","aria-expanded":"false","aria-controls":"collapseThree230"}},[t._v(" What types of reports can I generate with the Silent App? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree230","aria-labelledby":"headingThree230","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can generate various reports including User Tracking Report, Exceeded Time Report, Late Employees Report, Slacking Report, Idle Time Report, App/Website Usage Report, and Category Report. ")])])])]),e("h4",{staticClass:"mt-6"},[t._v("Billing")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne24"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne24","aria-expanded":"false","aria-controls":"collapseOne24"}},[t._v(" How can I subscribe?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne24","aria-labelledby":"headingOne24","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Click on FREE TRIAL, select your required packages, and select the number of licenses you need. You can opt for a monthly plan or an annual plan, which gives you a 15% discount. Enter your information and card details, and you're good to go. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo25"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo25","aria-expanded":"false","aria-controls":"collapseTwo25"}},[t._v(" Why did my payment get declined?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo25","aria-labelledby":"headingTwo25","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v(" If your payment was declined, please check your bank account to see if such a transaction is supported. The most common reasons for payment decline are:"),e("br"),t._v(" Insufficient funds"),e("br"),t._v(" Expired Card"),e("br"),t._v(" Card Limit Exhausted"),e("br"),t._v(" Invalid transaction (not supported by the bank or type of card) . ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree26"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree26","aria-expanded":"false","aria-controls":"collapseThree26"}},[t._v(" How much does the Silent App cost?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree26","aria-labelledby":"headingThree26","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Silent App standard package starts from as low as $5 USD per user per month.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne27"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne27","aria-expanded":"false","aria-controls":"collapseOne27"}},[t._v(" How do I pay the invoice manually?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne27","aria-labelledby":"headingOne27","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("If your automatic payment method is not working, the support team will contact you to update your card. If you are unable to update the card for some reason, you can request a payment link as a temporary payment option. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo28"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo28","aria-expanded":"false","aria-controls":"collapseTwo28"}},[t._v(" What are the differences between the pricing plans?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo28","aria-labelledby":"headingTwo28","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("As of now, you can choose from three standard packages: silent Monitoring, Silent Monitoring with Project Management, and Employee Productivity Suite. All three packages come with a seven-day free trial.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree29"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree29","aria-expanded":"false","aria-controls":"collapseThree29"}},[t._v(" How do I change my pricing plan?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree29","aria-labelledby":"headingThree29","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can opt for a different plan or log into your Talygen account and click on Full Subscription & Billing.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne30"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne30","aria-expanded":"false","aria-controls":"collapseOne30"}},[t._v(" What is the difference between monthly and annual billing?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne30","aria-labelledby":"headingOne30","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("The monthly billing plan charges your payment every month from the date of purchase. (Actual Billing starts post-trial period) "),e("br"),t._v(" The annual billing plan is charged once a year on the date the plan was started, and a 15% discount is offered. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo31"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo31","aria-expanded":"false","aria-controls":"collapseTwo31"}},[t._v(" How do I add or remove employees from my subscription?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo31","aria-labelledby":"headingTwo31","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v('You can remove employees from a subscription by going to the Subscription & Billing module under Manage Subscription. Click on "Edit Subscription," reduce the number of licenses taken to the required amount, and update the billing. ')])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree32"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree32","aria-expanded":"false","aria-controls":"collapseThree32"}},[t._v(" What payment methods are available?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree32","aria-labelledby":"headingThree32","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You can pay using a Debit Card, Credit Card, Amex Card, or Discover Card.")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree33"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree33","aria-expanded":"false","aria-controls":"collapseThree33"}},[t._v(" How to apply a Promo code?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree33","aria-labelledby":"headingThree33","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("You do not need to apply any special code; as soon as you go to the check-out screen, the promo code is automatically applied.")])])])]),e("h4",{staticClass:"mt-6"},[t._v("User & Device Mapping ")]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingOne24udm"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseOne24udm","aria-expanded":"false","aria-controls":"collapseOne24udm"}},[t._v(" What is device mapping, and is it required?"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne24udm","aria-labelledby":"headingOne24udm","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Device mapping is required for non-AD users. After installation, the Silent App will fetch, and sync enabled users to Talygen. Manual mapping/unmapping is required to reflect changes. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingTwo25udm"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseTwo25udm","aria-expanded":"false","aria-controls":"collapseTwo25udm"}},[t._v(" Do I need to map users manually after installation? "),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseTwo25udm","aria-labelledby":"headingTwo25udm","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Yes, for non-AD users, you need to manually map/unmap users and edit mappings using the device "),e("a",{attrs:{href:"https://app.talygen.com/Timer/DeviceMapping?reqhFrom=40",target:"_blank"}},[t._v("mapping")]),t._v(" screen in the app. ")])])])]),e("div",{staticClass:"card"},[e("div",{staticClass:"card-header",attrs:{id:"headingThree26udm"}},[e("h5",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link collapsed",attrs:{"data-toggle":"collapse","data-target":"#collapseThree26udm","aria-expanded":"false","aria-controls":"collapseThree26udm"}},[t._v(" How do I map/unmap users"),e("i",{staticClass:"fa fa-plus"})])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseThree26udm","aria-labelledby":"headingThree26udm","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("p",[t._v("Navigate to the mapping screen in the app. You can Map/Unmap users and edit mappings using the available options. Ensure users sign out from the local system to reflect these changes. ")])])])])])}],va=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"mx-auto silentappmainbase my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle p-0"},[e("button",{staticClass:"close",on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t._m(0)])])])])],1)},fa=[function(){var t=this,e=t._self._c;return e("table",{staticClass:"silenttable"},[e("tbody",[e("tr",[e("td",[e("div",{staticClass:"features withTal"},[e("div",{staticClass:"feature-head"},[e("span",{staticClass:"recomended"},[e("i",{staticClass:"fa fa-check"})]),e("h3",[t._v("Silent Application")]),e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/with-talygen.png",alt:"banner"}})]),e("div",{staticClass:"feature-body"},[e("ul",[e("li",[e("i",{staticClass:"fa fa-check"}),t._v("The silent app tracks computer activities as soon as the system starts.")]),e("li",[e("i",{staticClass:"fa fa-check"}),t._v("The silent app has no user interface; therefore, silent app userscan't interact with it.")]),e("li",[e("i",{staticClass:"fa fa-check"}),t._v("Silent app tracks data for a default project which is managed by admin.")]),e("li",[e("i",{staticClass:"fa fa-check"}),t._v("This option is suitable when your users are in an office where their computers are used exclusively for work and you don't want the app to take up any of their time or focus.")])])])])]),e("td",[e("div",{staticClass:"features withTal visibleapp"},[e("div",{staticClass:"feature-head"},[e("span",{staticClass:"recomended"},[e("i",{staticClass:"fa fa-check"})]),e("h3",[t._v("Visible Application")]),e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/without-talygen.png",alt:"banner"}})]),e("div",{staticClass:"feature-body"},[e("ul",[e("li",[e("i",{staticClass:"fa fa-check"}),t._v("Visible app needs to be started by clicking on the desktop icon.")]),e("li",[e("i",{staticClass:"fa fa-check"}),t._v("The visible app has a user interface that allows users to control the app: start, pause, enter description.")]),e("li",[e("i",{staticClass:"fa fa-check"}),t._v("Visible app user has the option to switch between projects and tasks to track time if project management is purchased along with time tracking.")]),e("li",[e("i",{staticClass:"fa fa-check"}),t._v("Users can only track work with the interactive app. This option is more suitable when your users work remotely and/or are allowed to use their computers for personal activities.")])])])])])])])])}],ga={data(){return{}},created:async function(){},methods:{updateSelectedBrands(t){this.selectedBrands=t,console.log("sthiis",this.selectedBrands)},closePopup(){var t=this;t.$parent.differencePopUp=!1}}},ba=ga,Sa=(a("629e"),Object(u["a"])(ba,va,fa,!1,null,null,null)),ya=Sa.exports,Ca=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable",staticStyle:{"max-width":"800px"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle p-0"},[e("button",{staticClass:"close",on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3 imptpopup"},[t._m(0),t._m(1),e("div",{staticClass:"listing-download-btn mt-4 imptpopup text-center"},[e("a",{staticClass:"btn px-5 font-18",attrs:{href:t.DownloadLink}},[e("i",{staticClass:"fa fa-arrow-circle-down pr-2",staticStyle:{color:"white"},attrs:{"aria-hidden":"true"}}),t._v(" I Understood, Download App Now ")])])])])])])])],1)},_a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"impt_img"},[e("img",{attrs:{src:"https://talygenv.github.io/Vue-UI-Content/images/silentimportant.png"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"notice"},[e("h2",[e("span",[t._v("IMPORTANT")]),t._v(" INFO:")]),e("ul",[e("li",[t._v("Since SilentApp has no visible user interface, once installed, you will need to map the user's SilentApp account with the Desktop or laptop user account.")]),e("li",[t._v("Check out our FAQ section for more information, or see the tutorial.")]),e("li",[t._v("After the app is installed, it can take up to 5 minutes for the data to begin appearing in your account.")])])])}],Aa={props:{DownloadLink:{type:String,default:""}},data(){return{}},created:async function(){},methods:{closePopup(){var t=this;t.$parent.downloadInfo=!1}}},Da=Aa,Ta=(a("3ede"),Object(u["a"])(Da,Ca,_a,!1,null,null,null)),wa=Ta.exports,xa={props:{tabCount:0,currentTabIndex:0,isCompleted:!1},components:{SilentAppDifferencePopUp:ya,DownloadInfoPopUp:wa},data(){return{isLoading:!1,differencePopUp:!1,downloadInfo:!1,WindowSilentAppLinkForDownload:"https://sf.talygen.com/SilentApps/Windows/WindowsTgnHost.zip",MacSilentAppLinkForDownload:"https://sf.talygen.com/SilentApps/Mac/TalygenSilentApp.mpkg.zip",WindowVisibleAppLinkForDownload:"https://talygen.com/DesktopApps/Talygen_Windows(64).zip",MacVisibleAppLinkForDownload:"https://talygen.com/DesktopApps/Talygen_Mac.zip",LinuxVisibleAppLinkForDownload:"https://talygen.com/DesktopApps/Talygen_Linux.zip",isShowLink1Msg:!1,isShowLink2Msg:!1,isShowLink3Msg:!1,isShowLink4Msg:!1,isShowLink5Msg:!1,isHideTooltip:!1}},created(){},methods:{async UpdateLinkVisitedInformation(t,e){var a=this;"isShowLink1Msg"!=e&&"isShowLink2Msg"!=e||(a.downloadInfo=!0);let i="Link="+t;await _["a"].UpdateLinkVisitedInformation(i).then(t=>{var e=JSON.parse(t.data[0]);1==e.status&&a.$emit("updateProgress",a.currentTabIndex,!0)})},openDifferncePopup(){var t=this;t.differencePopUp=!0},copyLink(t,e){var a=this;const i=document.createElement("textarea");i.value=t,document.body.appendChild(i),i.select(),"isShowLink1Msg"==e?(a.downloadInfo=!1,a.isShowLink1Msg=!0,a.isShowLink2Msg=!1,a.isShowLink3Msg=!1,a.isShowLink4Msg=!1,a.isShowLink5Msg=!1):"isShowLink2Msg"==e?(a.downloadInfo=!1,a.isShowLink1Msg=!1,a.isShowLink2Msg=!0,a.isShowLink3Msg=!1,a.isShowLink4Msg=!1,a.isShowLink5Msg=!1):"isShowLink3Msg"==e?(a.isShowLink1Msg=!1,a.isShowLink2Msg=!1,a.isShowLink3Msg=!0,a.isShowLink4Msg=!1,a.isShowLink5Msg=!1):"isShowLink4Msg"==e?(a.isShowLink1Msg=!1,a.isShowLink2Msg=!1,a.isShowLink3Msg=!1,a.isShowLink4Msg=!0,a.isShowLink5Msg=!1):"isShowLink5Msg"==e&&(a.isShowLink1Msg=!1,a.isShowLink2Msg=!1,a.isShowLink3Msg=!1,a.isShowLink4Msg=!1,a.isShowLink5Msg=!0);try{document.execCommand("copy")}catch(s){console.error("Failed to copy text: ",s)}finally{document.body.removeChild(i)}},SearchFAQ(t){var e=t.target.value.trim().toLowerCase(),a=document.querySelectorAll("h4"),i=document.getElementById("noRecordMessage"),s=!1;a.forEach((function(t){var a=t.nextElementSibling,i=!1;while(a&&"H4"!==a.tagName){if(a.classList.contains("card")){for(var o=!1,n=!1,l=a.getElementsByClassName("card-body"),r=0;r<l.length;r++){var c=l[r].textContent.trim().toLowerCase();if(c.includes(e)){o=!0;break}}for(var d=a.getElementsByClassName("btn btn-link"),u=0;u<d.length;u++){var p=d[u].textContent.trim().toLowerCase();if(p.includes(e)){n=!0;break}}o||n||""===e?(a.style.display="",i=!0,s=!0):a.style.display="none"}a=a.nextElementSibling}t.style.display=i?"":"none"})),i&&(i.style.display=s?"none":"")},Continue:function(){var t=this;t.$emit("nextTab")},Close(){}}},ka=xa,Ia=(a("52fc"),Object(u["a"])(ka,ma,ha,!1,null,null,null)),Fa=Ia.exports,$a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"create-user initialsetuptabsbase"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"row"}),e("h4",{staticClass:"text-center py-2 d-none"},[t._v("Create Employee Account For Monitoring")]),e("div",{staticClass:"col-sm-12 text-center mt-0 px-2 mb-4 float-left d-none"},[e("div",{staticClass:"user_type_choice mt-3 mb-3 inisetups"},[e("div",{staticClass:"btn-group btn-group-toggle",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"btn btn_cstm active position-relative"},[e("div",{staticClass:"popover-arrowss"}),e("input",{staticClass:"cls_usertype",attrs:{autocomplete:"off",checked:"checked","data-val":"true",type:"radio",value:"3"},on:{click:function(e){return t.OnChangeUserType(3)}}}),t._m(0),e("span",{staticClass:"pt-1 pl-2"},[t._v(t._s(t.$t("NormalUser")))])]),e("label",{staticClass:"btn btn_cstm position-relative d-none"},[e("div",{staticClass:"popover-arrowss"}),e("input",{staticClass:"cls_usertype",attrs:{autocomplete:"off",name:"user_type_id",type:"radio",value:"2"},on:{click:function(e){return t.OnChangeUserType(2)}}}),t._m(1),e("span",{staticClass:"pt-1 pl-2"},[t._v(t._s(t.$t("ProjectManager")))])]),e("label",{staticClass:"btn btn_cstm position-relative d-none"},[e("div",{staticClass:"popover-arrowss"}),e("input",{staticClass:"cls_usertype",attrs:{autocomplete:"off",name:"user_type_id",type:"radio",value:"1"},on:{click:function(e){return t.OnChangeUserType(1)}}}),t._m(2),e("span",{staticClass:"pt-1 pl-2"},[t._v(t._s(t.$t("CompanyAdmin")))])])])]),e("p",{staticClass:"newdiff_bg"},[t._v(t._s(t.UserTypeData.content))])]),e("div",{staticClass:"col-sm-12 mt-0 px-2 float-left"},[t._m(3),e("dynamic-form",{ref:"addnewuser",attrs:{lang:"en",buttons:!1,schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-user_profile",fn:function({data:a}){return[e("div",{staticClass:"wiz-upimg initialsetup"},[e("div",{staticClass:"circle"},[""==t.base64String?e("img",{attrs:{id:"uImg",src:"/Content/images/DefaultImages/avatar-icon.jpg"}}):e("img",{attrs:{src:"data:image/gif;base64,"+t.base64String,loading:"lazy"}})]),e("div",{staticClass:"p-image"},[e("span",{staticClass:"wiz-button",on:{click:function(e){return t.OnChooseProfile()}}},[t._v(" "+t._s(t.GetLocalizedValue("ChoosePicture")))]),e("input",{ref:"fileInput",staticClass:"wizerd-upload",attrs:{type:"file",name:"flavatar",id:"flavatar",accept:".jpeg,.jpg,.jpe,.gif,.bmp,.dib,.ico,.png,.tif,.tiff"},on:{change:function(e){return t.GetBase64String(e)}}})])])]}}])})],1),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left initialsetupfolder mt-4 d-flex flex-wrap"},[e("div",{staticClass:"mover-panel-box leftpanel float-left d-none",attrs:{id:"divtickettupelist"}},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("allLicenses")))])])]),t.AllLicenses.length>0?e("div",{staticClass:"managefolder py-3 allLicense"},[e("div",{staticClass:"col-12 float-left border px-3 py-2 text-right bg-light"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input chkAll",staticStyle:{display:"none"},attrs:{type:"checkbox",value:"",name:"chkAllLicense",id:"chkAllLicense"},on:{change:function(e){return t.onChange(e,"allLicense")}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",staticStyle:{float:"right"},attrs:{for:"chkAllLicense"}})])]),e("ul",{staticClass:"list-group float-left w-100 scroll",staticStyle:{"max-height":"400px","min-height":"200px","overflow-y":"auto"}},t._l(t.AllLicenses,(function(a){return e("li",{staticClass:"list-group-item single-action px-3"},[e("strong",[t._v(t._s(a.module_name+" ("+a.license_count+")"))]),e("div",{staticClass:"custom-control custom-checkbox float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedAllLicenses,expression:"checkedAllLicenses"}],staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",disabled:0==a.license_count||a.is_disabled,name:a.module_name,id:"chk_"+a.module_id},domProps:{value:a.module_id,checked:Array.isArray(t.checkedAllLicenses)?t._i(t.checkedAllLicenses,a.module_id)>-1:t.checkedAllLicenses},on:{click:function(e){return t.onSelectLicense(a,"allLicense")},change:function(e){var i=t.checkedAllLicenses,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=a.module_id,l=t._i(i,n);s.checked?l<0&&(t.checkedAllLicenses=i.concat([n])):l>-1&&(t.checkedAllLicenses=i.slice(0,l).concat(i.slice(l+1)))}else t.checkedAllLicenses=o}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+a.module_id}})])])})),0)]):t._e(),0==t.AllLicenses.length?e("div",{staticClass:"text-danger text-center mt-2"},[t._v(" "+t._s(t.$t("NoRecordfound")))]):t._e()]),e("div",{staticClass:"mover-controls d-none"},[e("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:"Move Right"},on:{click:function(e){return t.AssignLicense()}}},[e("em",{staticClass:"fa fa-angle-double-down fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),e("em",{staticClass:"fa fa-angle-double-right fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})]),e("button",{attrs:{type:"button","data-toggle-tooltip":"tooltip",title:"Move Left"},on:{click:function(e){return t.RemoveLicense()}}},[e("em",{staticClass:"fa fa-angle-double-up fa-2x d-md-none d-none",attrs:{"aria-hidden":"true"}}),e("em",{staticClass:"fa fa fa-angle-double-left fa-2x d-none d-md-block d-block",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"mover-panel-box rightpanel float-left d-none",attrs:{id:"divAssignedLicence"}},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("addedLicenses")))])])]),t.AddedLicenses.length>0?e("div",{staticClass:"managefolder py-3 addedLicense"},[e("div",{staticClass:"col-12 float-left border px-3 py-2 text-right bg-light"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input chkAll",staticStyle:{display:"none"},attrs:{type:"checkbox",value:"",name:"chkAllAddedLicense",id:"chkAllAddedLicense"},on:{change:function(e){return t.onChange(e,"addedLicense")}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",staticStyle:{float:"right"},attrs:{for:"chkAllAddedLicense"}})])]),e("ul",{staticClass:"list-group float-left w-100 scroll",staticStyle:{"max-height":"400px","min-height":"200px","overflow-y":"auto"}},t._l(t.AddedLicenses,(function(a){return e("li",{staticClass:"list-group-item list_username list_img single-action px-3"},[e("strong",[t._v(t._s(a.module_name))]),e("div",{staticClass:"custom-control custom-checkbox float-right"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.checkedAddedLicenses,expression:"checkedAddedLicenses"}],staticClass:"chkItems custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",name:"added_"+a.module_name,id:"added_"+a.module_id},domProps:{value:a.module_id,checked:Array.isArray(t.checkedAddedLicenses)?t._i(t.checkedAddedLicenses,a.module_id)>-1:t.checkedAddedLicenses},on:{click:function(e){return t.onSelectLicense(a,"addedLicense")},change:function(e){var i=t.checkedAddedLicenses,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=a.module_id,l=t._i(i,n);s.checked?l<0&&(t.checkedAddedLicenses=i.concat([n])):l>-1&&(t.checkedAddedLicenses=i.slice(0,l).concat(i.slice(l+1)))}else t.checkedAddedLicenses=o}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"added_"+a.module_id}})])])})),0)]):t._e(),0==t.AddedLicenses.length?e("div",{staticClass:"text-danger text-center mt-2"},[t._v(" "+t._s(t.$t("NoRecordfound")))]):t._e()])])])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left px-4",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("em",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn skip-btn-clr formbtn px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Skip"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn btn-success formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.SaveSubmit("SaveAndNew")}}},[e("em",{staticClass:"fa fa-save pr-2 font-16"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn next formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.SaveSubmit("SaveAndNext")}}},[t._v(" "+t._s(t.$t("SaveAndNext"))+" "),e("em",{staticClass:"fa fa-chevron-right pl-2"})]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveSubmit("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.SaveSubmit("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])],1)},La=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block"},[e("em",{staticClass:"fa fa-user"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block"},[e("em",{staticClass:"fa fa-user"})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block"},[e("em",{staticClass:"fa fa-user"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 mb-3"},[e("div",{staticClass:"heading-border mt-2"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Create Employee Account For Monitoring")])])])])])}],Ea={props:{tabCount:0,currentTabIndex:0,isCompleted:!1},data(){return{isLoading:!1,userTypeId:3,profilePicture:"",license_ids:[],UserTypeData:null,AllLicenses:[],AddedLicenses:[],fileData:[],checkedAllLicenses:[],checkedAddedLicenses:[],base64String:"",FormSchema:[{layoutType:"single",groupLayoutType:"single",group_name:"",class:"choosepicture",Data:[{astype:"SlotField",label:"",name:"user_profile",value:""}]},{layoutType:"double",groupLayoutType:"single",class:"fillupform",Data:[{astype:"TextField",label:this.$t("FirstName"),name:"first_name",value:"",placeholder:this.$t("FirstName"),validationRules:{required:!0,max:100}},{astype:"TextField",label:this.$t("LastName"),name:"last_name",value:"",placeholder:this.$t("LastName"),validationRules:{required:!0,max:100}},{astype:"TextField",label:this.$t("Email"),name:"email_id",value:"",placeholder:this.$t("Email"),validationRules:{required:!0,email:!0}},{astype:"ToggleField",label:this.$t("enableLogin"),name:"is_enable_login",value:!0,validationRules:""},{astype:"PasswordField",label:this.$t("Password"),name:"password",value:"",placeholder:this.$t("Password"),validationRules:{required:!0},config:{onKeyUp:this.ValidateConfirmPassword}},{astype:"PasswordField",label:this.$t("ConfirmPassword"),name:"confirm_password",value:"",placeholder:this.$t("ConfirmPassword"),validationRules:{required:!0},config:{onKeyUp:this.ValidateConfirmPassword}}]}],buttons:[]}},async created(){var t=this;await t.OnChangeUserType(3),t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{"is_enable_login"!=t.name?t.value="":t.value=!0})})},methods:{ValidateConfirmPassword(){var t=this,e=void 0,a=void 0;t.FormSchema.forEach(t=>{t.Data.forEach(t=>{"password"==t.name?e=t:"confirm_password"==t.name&&(a=t)})}),e&&void 0!=a&&(e.value==a.value?a.validationRules={confirmed:!1,required:!0}:a.validationRules={confirmed:!0,required:!0})},AssignLicense(){var t=this,e=document.querySelector(".allLicense .chkAll"),a=[];let i=t.AllLicenses.every(t=>0===t.license_count);if(i)return t.ShowAlert(t.$t("DoNotRemainLicense"),"warning",!0,t.$t("Alert")),!1;if(t.checkedAllLicenses.length>0){if(t.checkedAllLicenses.forEach((e,i)=>{t.AllLicenses.forEach((i,s)=>{e==i.module_id&&(t.AddedLicenses.filter(t=>t.module_id==e).length>0?a.push(i.module_name):(i.license_count=i.license_count-1,t.AddedLicenses.push(i)))})}),t.AddedLicenses.sort((t,e)=>t.module_name.localeCompare(e.module_name)),t.checkedAllLicenses=[],e.checked=!1,a.length>0){var s=a.join(",");t.ShowAlert(t.$t("ModulesAlreadyAssigned",[s]),"warning",!0,t.$t("Alert"))}}else t.ShowAlert(t.$t("EmpSharingSaveValidationMsg"),"warning",!0,t.$t("Alert"))},RemoveLicense(){var t=this,e=document.querySelector(".addedLicense .chkAll");t.checkedAddedLicenses.length>0?t.checkedAddedLicenses.forEach((e,a)=>{const i=t.AddedLicenses.findIndex(t=>t.module_id==e);-1!==i&&(t.AddedLicenses.splice(i,1),t.AllLicenses.filter(t=>t.module_id==e)[0].license_count+=1)}):t.ShowAlert(t.$t("AtLeastOneLicense"),"warning",!0,t.$t("Alert")),t.checkedAddedLicenses=[],e.checked=!1},onChange(t,e){var a=this;if("allLicense"==e){a.checkedAllLicenses=[];const e=document.querySelectorAll(".allLicense .chkItems:not(:disabled)");e.forEach(e=>{e.checked=t.target.checked,e.checked&&e.value?a.checkedAllLicenses.push(e.value):a.checkedAllLicenses=[]})}else{const e=document.querySelectorAll(".addedLicense .chkItems");e.forEach(e=>{e.checked=t.target.checked,e.checked&&e.value?a.checkedAddedLicenses.push(e.value):a.checkedAddedLicenses=[]})}},onSelectLicense(t,e){if("allLicense"==e){var a=document.querySelector(".allLicense .chkAll");const t=document.querySelectorAll(".allLicense .chkItems:not(:disabled)"),e=Array.from(t).filter(t=>t.checked).length;t.length>e?a.checked=!1:a.checked=!0}else{a=document.querySelector(".addedLicense .chkAll");const t=document.querySelectorAll(".addedLicense .chkItems:not(:disabled)"),e=Array.from(t).filter(t=>t.checked).length;t.length>e?a.checked=!1:a.checked=!0}},Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},SaveSubmit(t){var e=this;e.isLoading=!0,e.$refs.addnewuser.validateForm.validate().then(async a=>{if(a){if(0==e.AddedLicenses.length)return e.ShowAlert(e.$t("EmpSharingSaveValidationMsg"),"warning",!0,e.$t("Alert")),e.isLoading=!1,!1;e.AddedLicenses.forEach(t=>{e.license_ids.push(t.module_id)}),await e.UploadProfilePicture();var i={first_name:e.FormSchema[1].Data[0].value,last_name:e.FormSchema[1].Data[1].value,email_id:e.FormSchema[1].Data[2].value,is_enable_login:e.FormSchema[1].Data[3].value,license_ids:e.license_ids.join(","),user_type_id:e.userTypeId,profile_picture:e.profilePicture,password:e.FormSchema[1].Data[4].value},s=JSON.stringify(i);_["a"].AddUserInitialSetup(s).then(async a=>{e.isLoading=!1,a.data&&"success"==a.data.toLowerCase()?(e.$emit("updateProgress",e.currentTabIndex,!0),e.ShowAlert(e.$t("AddedSuccess",[e.$t("User")]),"success",!0,e.$t("Alert")),"SaveAndNew"==t?(e.resetForm(),await e.GetLicenseList()):"SaveAndNext"==t?e.Skip():("SaveAndFinish"==t||"SaveAndClose"==t)&&e.Finish()):a.data&&"alreadyexists"==a.data.toLowerCase()?e.ShowAlert(e.$t("ThisEmailAlreadyExist"),"warning",!0,e.$t("Alert")):e.ShowAlert(e.$t("Something_Wrong"),"danger",!0,e.$t("Alert"))})}else e.isLoading=!1})},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{"is_enable_login"!=t.name?t.value="":t.value=!0})}),t.base64String="",t.profilePicture="",t.checkedAllLicenses=[],t.OnChangeUserType(t.userTypeId),t.$refs.addnewuser.validateForm.reset()},async GetLicenseList(){var t=this;t.isLoading=!0;var e="userTypeId="+t.userTypeId;await _["a"].GetLicenseList(e).then(async e=>{t.isLoading=!1,e.data.data&&(t.AllLicenses=[],t.AllLicenses=e.data.data),await t.AutoAsssignLicense()})},async AutoAsssignLicense(){var t=this;t.AllLicenses.length>0&&(t.AddedLicenses=[],t.AllLicenses.forEach(e=>{e.license_count>0&&(e.license_count=e.license_count-1,t.AddedLicenses.push(e))}))},async OnChangeUserType(t){var e=this,a={};1==t?(a.userType=e.$t("CompanyAdmin"),a.class="CA",a.content=e.$t("CompanyAdminContent")):2==t?(a.userType=e.$t("ProjectManager"),a.class="PM",a.content=e.$t("ProjectManagerContent")):(a.userType=e.$t("NormalUser"),a.class="NU",a.content=e.$t("NormalUserContent")),e.AddedLicenses=[],e.userTypeId=t,e.UserTypeData=a,await e.GetLicenseList()},OnChooseProfile(){var t=this;t.$refs.fileInput.click()},GetBase64String:function(t){try{var e=this;e.fileData=[];for(var a=t.target.files,i=0;i<a.length;i++){var s=a[i],o=new FileReader;o.onload=function(t){return function(t){var a=t.target.result,i=window.btoa(a);e.base64String=i;var o=s.name;e.fileName=o;var n=o.lastIndexOf("."),l=o.substring(n+1,o.length);e.fileExt+="."+l;var r='{"ContentType":"'+s.type+'","Size":"'+s.size+'","Extension":"'+l+'"}',c=s.size;e.fileSize=c;var d={attachement_mime:r,fileName:o,userId:e.GetUserInfo.ID,companyId:e.GetUserInfo.CompanyId,id:0,moduleName:"initialsetup",subModuleCode:"",containerName:e.GetUserInfo.ContainerName,base64String:i,attachement_path:""};e.fileData.push(d)}}(),o.readAsBinaryString(s)}}catch(n){}},async UploadProfilePicture(){var t=this;t.isLoading=!0;var e=JSON.stringify(t.fileData);t.fileData.length>0&&await _["a"].UploadFile(e).then(e=>{if(e.data&&e.data[0].Name.length>0){var a=e.data[0].Name.split("/")[e.data[0].Name.split("/").length-1];t.profilePicture=a}t.isLoading=!1})},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},Pa=Ea,Na=(a("e8b0"),Object(u["a"])(Pa,$a,La,!1,null,null,null)),Ra=Na.exports,Oa=function(){var t=this,e=t._self._c;return e("section",{staticClass:"device-mapping"},[e("div",{staticClass:"dynamiccontent_base"},[e("div",{staticClass:"col-lg-8 mx-auto mt-4"},[t._m(0),e("div",{staticClass:"col-12 float-left p-0 mb-4"},[e("div",{staticClass:"locationinfo1 col-6 selected p-0 flex-wrap",on:{click:t.ChangeClass}},[t.isCompany?e("em",{staticClass:"fa fa-check-circle mr-3 pl-3"}):e("em",{staticClass:"fa fa-circle-thin mr-3 pl-3"}),t._m(1),t._m(2)]),e("div",{staticClass:"locationinfo1 col-6 selected p-0 flex-wrap",on:{click:t.openDeviceMppingListing}},[t.isPersonal?e("em",{staticClass:"fa fa-circle-thin mr-3 pl-3"}):e("em",{staticClass:"fa fa-check-circle mr-3 pl-3"}),t._m(3),t._m(4)])])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left px-4",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("em",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.Finish()}}},[t._v(" "+t._s(t.$t("Finish"))+" ")]):t._e()])]),t.ShowDeviceMapping?e("DeviceMapping",{on:{closedialog:t.closedialog}}):t._e()],1)},Ua=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"col-12 float-left p-0 text-center mb-4"},[e("h3",{staticClass:"ownership"},[t._v("Ownership of Computers")]),e("div",{staticClass:"w-100 font-16 font-weight-medium"},[t._v("Please select the option that best describes the ownership of the computers used by your team members.")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-mapping-option"},[e("h2",[t._v("Company-Owned")]),t._v(" All team members work on computers provided by the company. ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-mapping-note"},[e("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),t._v(" Please ensure that the email used to create the SilentApp account matches the email used for the user's company account in Active Directory (AD).")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-mapping-option"},[e("h2",[t._v("Personal Computers")]),t._v(" Some or all team members use their own personal computers for work. ")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-mapping-note-2"},[e("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),t._v(" Choose this option if your team member are not part of companies active directory. ")])}],Ma=function(){var t=this,e=t._self._c;return e("section",{staticClass:"device-mapping-popup"},[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block container-fluid padding-t_10"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content col-md-12 p-0"},[e("div",{staticClass:"modal-header theme-primary partition p-actions-expand",staticStyle:{overflow:"visible"}},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Device Mapping")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.Close()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body listing mt-2"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"DeviceListing"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-capitalize"},[e("span",{staticClass:"sort",attrs:{href:"javascript:;",id:"MachineId"}},[t._v(" "+t._s(t.$t("UniqueId"))+" ")])]),e("th",{staticClass:"text-capitalize"},[e("span",{staticClass:"sort",attrs:{href:"javascript:;",id:"Name"}},[t._v(" "+t._s(t.$t("DeviceName"))+" ")])]),e("th",{staticClass:"text-capitalize"},[e("span",{attrs:{href:"javascript:;",id:"ProfileName"}},[t._v(" "+t._s(t.$t("LocalSystemProfileName"))+" - SilentApp User Name ")])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Action")))])])])]),e("tbody",[t._l(t.DeviceListing,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.UniqueId))]),e("td",[t._v(t._s(a.DeviceName))]),e("td",[t._v(" "+t._s(a.ProfileName)+" ")]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"aMapUsers single-action mr-4",attrs:{href:"javascript:;",machineId:"MachineId",typetitle:"Map",typefor:"Clone",title:"Map"},on:{click:function(e){return t.openModalUserMapping(a.MachineId)}}},[e("i",{staticClass:"fa fa-link text-success action-icon"})]),e("a",{staticClass:"aDeleteDevice single-action",attrs:{href:"javascript:void(0)",machineId:"MachineId",title:"Delete"},on:{click:function(e){return t.deleteDeviceMapping(a.MachineId)}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])])])})),0==t.DeviceListing.length?e("tr",[e("td",{staticClass:"text-center text-danger py-3",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("DeviceNotMappped"))+" ")])]):t._e()],2)])])])])])])]),t.isModalUserMapping?e("ModalUserMapping",{attrs:{machineId:t.machineId},on:{closedialog:t.closedialog}}):t._e()],1)},Ga=[],Ba=function(){var t=this,e=t._self._c;return e("section",{staticClass:"device-mapping-popup"},[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block container-fluid padding-t_10"},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content col-md-12 p-0"},[e("div",{staticClass:"modal-header theme-primary partition p-actions-expand",staticStyle:{overflow:"visible"}},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("User Mapping")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.Close()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body listing mt-2"},[e("dynamic-form",{ref:"validateUserMapping",attrs:{lang:"en",buttons:!1,schema:t.FormSchema}}),e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"DeviceListing"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-capitalize"},[e("span",{staticClass:"sort",attrs:{href:"javascript:;",id:"SystemProfileName"}},[t._v(" "+t._s(t.$t("LocalSystemProfileName"))+" ")])]),e("th",{staticClass:"text-capitalize"},[e("span",{staticClass:"sort",attrs:{href:"javascript:;",id:"TalygenUserName"}},[t._v(" "+t._s(t.$t("TalygenUserName"))+" ")])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Edit")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Delete")))])])])]),e("tbody",[t._l(t.ProfileListing,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(a.ProfileName))]),e("td",[t._v(t._s(a.UserName))]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"aMapUsers single-action",attrs:{href:"javascript:;",machineId:"MachineId",typetitle:"Edit",typefor:"Clone",title:"Edit"},on:{click:function(e){return t.editUserMapping(a)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})])]),e("td",{staticClass:"text-center"},[e("a",{staticClass:"aDeleteDevice single-action",attrs:{href:"javascript:void(0)",machineId:"MachineId",title:"Delete"},on:{click:function(e){return t.deleteUserMapping(a)}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])])])})),0==t.ProfileListing.length?e("tr",[e("td",{staticClass:"text-center text-danger py-3",attrs:{colspan:"3"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._e()],2)])]),e("div",{staticClass:"col-lg-12 mt-3 p-0"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success save-btn mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:function(e){return t.SaveData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v("Save")]),e("a",{staticClass:"btn btn-danger",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(e){return t.cancel()}}},[e("i",{staticClass:"fa fa-close pr-2"}),t._v("Cancel")])]),e("div",{staticClass:"col-lg-6"},[e("div",{staticClass:"py-2"},[e("small",[e("span",{staticClass:"mandatory"},[t._v(t._s(t.$t("Mandatory")))])])])])])])],1)])])])])])},Va=[],qa={props:{machineId:{type:Number}},data(){return{FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("LocalSystemProfileName"),name:"ProfileName",value:"",placeholder:"Select Value",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("TalygenUserName"),name:"TalygenUserName",value:"",placeholder:"Select Value",config:{options:[]},validationRules:{required:!0}}]}],pageSize:10,pageNumber:1,ProfileListing:[]}},created(){var t=this;t.GetDDLProfileData(),t.GetUsersByCompanyId(),t.GetProfileListByMachineId()},methods:{GetProfileListByMachineId:async function(){var t=this,e=`machineId=${t.machineId}&sortBy=&sortOrder=&pageSize=${t.pageSize}&pageNumber=${t.pageNumber}`;await _["a"].GetProfileListByMachineId(e).then((function(e){if(t.ProfileListing=[],e.data&&null!=e.data){var a=JSON.parse(e.data.result);t.ProfileListing=a.data}}))},GetDDLProfileData:function(){var t=this,e="ids=&moduleName=&type=PROFILE_LIST_BY_MACHINEID&search=&refId="+t.machineId;_["a"].GetDDLData(e).then(e=>{if(e.data){var a=e.data;null!=a&&(t.$refs.validateUserMapping.updateProperty("ProfileName","config.options",e.data.DATA),t.$refs.validateUserMapping.UpdateKeyValue())}})},GetUsersByCompanyId:function(){var t=this,e="moduleName=Timer";_["a"].GetUserListByCompanyId(e).then(e=>{if(JSON.parse(e.data.result).length>0){var a=JSON.parse(e.data.result);a.forEach(e=>{var a={name:e.USERNAME,value:e.USER_ID};t.FormSchema[0].Data[1].config.options.push(a),t.$refs.validateUserMapping.UpdateKeyValue()})}})},editUserMapping:function(t){var e=this;e.$refs.validateUserMapping.updateProperty("ProfileName","value",t.ProfileId),e.$refs.validateUserMapping.updateProperty("TalygenUserName","value",t.UserId),e.$refs.validateUserMapping.UpdateKeyValue()},deleteUserMapping:async function(t){var e=this,a=`profileId=${t.ProfileId}&userId=${t.UserId}`;await _["a"].UnMapUser(a).then((function(t){t.data?(e.ShowAlert(e.$t("RecordsDeleteSuccessfully"),"success"),e.GetProfileListByMachineId()):e.ShowAlert(e.$t("SomethingWentWrong"),"failure",!0,e.$t("Alert"))}))},async SaveData(){var t=this;const e=await t.$refs.validateUserMapping.validateForm.validate();if(e){var a=t.$refs.validateUserMapping.getPropertyValue("ProfileName","value"),i=t.$refs.validateUserMapping.getPropertyValue("TalygenUserName","value"),s=`profileId=${a}&talygenUserId=${i}`;await _["a"].MapUser(s).then(e=>{"True"==e.data.result?(t.ShowAlert(t.$t("AddedMapUser"),"success"),t.clearFields(),t.GetProfileListByMachineId(),t.isLoading=!1):"True"==e.data.result?(t.ShowAlert(t.$t("UpdatedMapUser"),"success"),t.clearFields(),t.GetProfileListByMachineId(),t.isLoading=!1):(t.ShowAlert(t.$t("UnknownError"),"failure",t.$t("Alert")),t.isLoading=!1)})}},cancel(){var t=this;t.clearFields()},clearFields:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.$refs.validateUserMapping.validateForm.reset()},Close:function(){var t=this;t.$parent.isModalUserMapping=!1}}},za=qa,ja=(a("2245"),Object(u["a"])(za,Ba,Va,!1,null,null,null)),Wa=ja.exports,Ya={components:{ModalUserMapping:Wa},data(){return{isLoading:!1,DeviceListing:[],SearchConditionByName:"",selected:[],pageSize:10,machineId:0,pageNumber:1,isModalUserMapping:!1}},created(){var t=this;t.GetDeviceListByCompanyId()},methods:{Close:function(){var t=this;t.$parent.ShowDeviceMapping=!1},GetDeviceListByCompanyId:async function(){var t=this;null!=t.SearchConditionByName&&t.SearchConditionByName;var e=`search=${t.SearchConditionByName}&deviceName=&profileName=&userids=&sortBy=&sortOrder=&pageSize=${t.pageSize}&pageNumber=${t.pageNumber}`;await _["a"].GetDeviceListByCompanyId(e).then((function(e){if(t.DeviceListing=[],e.data&&null!=e.data){var a=JSON.parse(e.data);t.DeviceListing=a.data}}))},openModalUserMapping:function(t){var e=this;e.machineId=t,e.isModalUserMapping=!0},deleteDeviceMapping:async function(t){var e=this,a="ids="+t;await _["a"].DeleteMachines(a).then((function(t){t.data?(e.ShowAlert(e.$t("RecordsDeleteSuccessfully"),"success"),e.GetDeviceListByCompanyId()):e.ShowAlert(e.$t("SomethingWentWrong"),"failure",!0,e.$t("Alert"))}))}}},Ha=Ya,Ja=(a("c380"),Object(u["a"])(Ha,Ma,Ga,!1,null,null,null)),Ka=Ja.exports,Qa={props:{tabCount:0,currentTabIndex:0},components:{DeviceMapping:Ka},data(){return{ShowDeviceMapping:!1,isPersonal:!0,isCompany:!0}},created(){},methods:{Continue:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},openDeviceMppingListing:function(){var t=this;t.isPersonal=!1,t.isCompany=!1,t.ShowDeviceMapping=!0},ChangeClass:function(){var t=this;t.isPersonal=!0,t.isCompany=!0},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},Za=Qa,Xa=(a("643c"),Object(u["a"])(Za,Oa,Ua,!1,null,null,null)),ti=Xa.exports,ei=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("tg-list",{attrs:{classes:"tableoverflowshow mt-3",IsShowAction:!0,showCheckBox:!0,listType:[t.DetailListType],ModuleName:"Timer",SubModuleCode:"Timer",IdentityColumn:"category_id",HeaderText:"Category",ListData:t.CategorytList,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.sortExp,SortBy:t.sortBy,IsFilterApplied:!!t.searchCondition,NorecordfoundText:t.$t("NoRecordfound")},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["status_name"==a.column.COLUMN_NAME?[e("a",{staticClass:"inactive-disabled"},[e("span",{class:{"btn d-inline-block text-center text-truncate btn-success":"Active"==a.row.status_name,"btn d-inline-block text-center text-truncate btn-danger":"Deleted"==a.row.status_name}},[t._v(" "+t._s(a.row[a.column.COLUMN_NAME])+" ")])])]:t._e(),"category_name"==a.column.COLUMN_NAME?[e("span",{staticClass:"current-color-list",style:{backgroundColor:a.row.color_code}}),t._v(" "+t._s(a.row.category_name)+" ")]:t._e(),"applicationWithIcon"==a.column.COLUMN_NAME?[e("div",{staticClass:"d-flex iconsWrapper align-items-center",attrs:{title:""}},[e("span",{attrs:{id:"RemoveSpan",title:""}}),e("div",{staticClass:"d-flex iconsWrapper align-items-center position-relative",attrs:{title:""}},[t._l(a.row.applicationFirstThree,(function(a,i){return e("div",{key:i,staticClass:"mr-2"},[e("span",{class:a.icon_class?"appicon "+a.icon_class:"appicon default",attrs:{title:a.application_display_name}}),e("em",{attrs:{title:a.application_display_name}},[t._v(" "+t._s(t.TruncateStr(a.application_display_name,20))+" ")])])})),1==a.row.isVisible?e("span",[e("em",{staticClass:"fa fa-globe text-dark",staticStyle:{"font-size":"20px !important"},attrs:{"aria-hidden":"true","data-toggle":"modal",title:"View More"},on:{click:function(e){return t.ShowMoreApps("myModal"+a.row.ROWNUMBER)}}})]):e("span",{attrs:{title:""}}),1==a.row.isVisible?e("div",{staticClass:"application_dtls",attrs:{title:"View More"}},[e("div",{staticClass:"mod_content d-none",attrs:{id:"myModal"+a.row.ROWNUMBER}},[e("div",{staticClass:"mod_header p-2 bg-grey",attrs:{title:""}},[e("h6",{staticClass:"modal-title"},[t._v("Apps/Websites")])]),e("div",{staticClass:"mod_body px-2 py-0",staticStyle:{"max-height":"165px","overflow-y":"auto"},attrs:{title:""}},[e("table",{staticClass:"w-100"},[e("tbody",{attrs:{title:""}},t._l(a.row.applicationWithIcon,(function(a,i){return e("tr",{key:i,staticClass:"d-flex iconsWrapper align-items-center"},[e("td",{class:a.icon_class?"appicon "+a.icon_class:"appicon default",attrs:{title:a.application_display_name}}),e("td",{attrs:{title:a.application_display_name}},[t._v(t._s(a.application_display_name))])])})),0)])])])]):t._e()],2)])]:t._e()]}}])})],1),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4 mr-3"},[t.currentTabIndex==t.tabCount?e("button",{staticClass:"btn btn-warning float-left px-4",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("em",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&t.isCompleted?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.Finish()}}},[t._v(" "+t._s(t.$t("Finish"))+" ")]):t._e()])]),t.IsAssignCategory?e("ManageCategory",{attrs:{isAddEdit:t.isAddEdit,CategorytList:t.CategorytList,AssignCat:t.AssignCat},on:{UpdateProgress:t.UpdateProgress}}):t._e()],1)},ai=[];let ii=[{title:"Import",iconClass:"fa fa-download",callbackfunction:"ViewImport",additionalClass:"",isdisabled:!1,id:"ImportCategoryID",isvisible:!1,checkPrivilege:!0},{title:"Add New",iconClass:"fa fa-plus",callbackfunction:"AssignCategoryClick",additionalClass:"",isdisabled:!1,id:"AddCategoryID",isvisible:!0,checkPrivilege:!1},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeleteData",additionalClass:"",isdisabled:!0,id:"DeleteCategoryID",isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0}],si=[{title:"Edit",callbackfunction:"Editdata",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Delete",icon:"fa fa-trash",callbackfunction:"DeleteData",additionalSpan:"",isVisible:!0}];var oi={buttons:ii,listActions:si},ni=a("3049"),li=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h4",{staticClass:"modal-title pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.isAddEdit?t.$t("EditTimerCategory"):t.$t("AddTimerCategory"))+" ")]),e("button",{staticClass:"close",on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[t.DataLoaded?e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-AppIds",fn:function({data:a}){return[e("div",[e("MultiselectDropdown",{attrs:{options:t.filteredOptions,value:t.selectedBrands,placeholder:"Select your App/Website",searchable:!0,searchPlaceholder:"Search App/Website",maxItems:3,selectAllEnabled:!0,allText:"Select All"},on:{input:t.updateSelectedBrands}})],1)]}}],null,!1,1387546117)}):t._e()],1)])])])])],1)},ri=[],ci=function(){var t=this,e=t._self._c;return e("div",{ref:"dropdown",staticClass:"tt_addcategory_ddl multiselect-dropdown",on:{click:t.toggleDropdown}},[0===t.selectedOptions.length?e("span",{staticClass:"placeholder"},[t._v(t._s(t.placeholder))]):e("span",[t._l(t.visibleSelectedOptions,(function(a,i){return e("span",{key:a.value,staticClass:"optext"},[t._v(" "+t._s(a.label)+" "),e("span",{staticClass:"optdel",on:{click:function(e){return e.stopPropagation(),t.removeOption(i)}}},[t._v("🗙")])])})),t.hiddenOptionsCount>0?e("span",{staticClass:"more-indicator text-primary",on:{click:t.toggleDropdown}},[t._v(" +"+t._s(t.hiddenOptionsCount)+" more ")]):t._e(),e("span",{staticClass:"ttddl_clearall bg-danger",on:{click:t.clearAll}},[e("i",{staticClass:"fa fa-refresh"})])],2),e("div",{staticClass:"multiselect-dropdown-list-wrapper"},[t.isVisibleSearchInput?e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],staticClass:"multiselect-dropdown-search",attrs:{type:"text",placeholder:t.searchPlaceholder},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}):t._e(),t.showDropdown?e("div",{staticClass:"multiselect-dropdown-list"},[t.selectAllEnabled&&t.filteredOptions.length>1?e("div",{staticClass:"multiselect-dropdown-all-selector",on:{click:t.toggleSelectAll}},[e("div",{staticClass:"form-check form-check-inline p-0"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{type:"checkbox"},domProps:{checked:t.isAllSelected}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"allCheck"}})])]),e("label",[t._v(t._s(t.allText))])]):t._e(),0===t.filteredOptions.length?e("div",{staticClass:"no-records-found text-danger"},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")]):t._l(t.filteredOptions,(function(a){return e("div",{key:a.value,staticClass:"multiselect-dropdown-single-selector",class:{checked:t.isSelected(a)},on:{click:function(e){return t.toggleOption(a)}}},[e("div",{staticClass:"form-check form-check-inline p-0"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"chkItems custom-control-input",attrs:{type:"checkbox"},domProps:{checked:t.isSelected(a)}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"allCheck"}})])]),e("label",{staticClass:"p-1"},[t._v(t._s(a.label))])])}))],2):t._e()])])},di=[],ui={name:"MultiselectDropdown",props:{options:{type:Array,required:!0},value:{type:Array,default:()=>[]},placeholder:{type:String,default:"Select"},searchable:{type:Boolean,default:!0},searchPlaceholder:{type:String,default:"Search"},maxItems:{type:Number,default:3},selectAllEnabled:{type:Boolean,default:!0},allText:{type:String,default:"Select All"}},data(){return{showDropdown:!1,searchQuery:"",selectedOptions:[...this.value],isVisibleSearchInput:!1}},computed:{visibleSelectedOptions(){return this.selectedOptions.slice(0,this.maxItems)},hiddenOptionsCount(){return this.selectedOptions.length-this.maxItems},filteredOptions(){const t=this.searchQuery.trim().toLowerCase();return this.options.filter(e=>e.label.toLowerCase().includes(t))},isAllSelected(){return this.filteredOptions.length>0&&this.filteredOptions.every(t=>this.selectedOptions.includes(t))}},methods:{toggleDropdown(){0==this.isVisibleSearchInput?(this.isVisibleSearchInput=!0,this.showDropdown=!0):1==this.showDropdown?this.showDropdown=!0:this.showDropdown=!1},toggleOption(t){const e=this.selectedOptions.findIndex(e=>e.value===t.value);e>-1?this.selectedOptions.splice(e,1):(this.showDropdown=!0,this.searchQuery="",this.isVisibleSearchInput=!0,this.selectedOptions.push(t)),this.$emit("input",this.selectedOptions)},removeOption(t){this.selectedOptions.splice(t,1),this.$emit("input",this.selectedOptions)},isSelected(t){return this.selectedOptions.some(e=>e.value===t.value)},toggleSelectAll(){if(this.isAllSelected)this.selectedOptions=[];else{const t=this.filteredOptions.filter(t=>!this.isSelected(t));this.selectedOptions=[...this.selectedOptions,...t]}this.$emit("input",this.selectedOptions)},closedropdown(){this.showDropdown=!1,this.isVisibleSearchInput=!1},clearAll(){this.selectedOptions=[],this.$emit("input",this.selectedOptions)},handleClickOutside(t){const e=this.$refs.dropdown;e&&!e.contains(t.target)&&this.closedropdown()}},watch:{value(t){this.selectedOptions=[...t]}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeDestroy(){document.removeEventListener("click",this.handleClickOutside)}},pi=ui,mi=(a("e6a7"),Object(u["a"])(pi,ci,di,!1,null,null,null)),hi=mi.exports,vi={components:{"tree-view":F.a,MultiselectDropdown:hi},props:{AssignCat:{type:Array,required:!0},CategorytList:{type:Array},isAddEdit:{type:Boolean}},data(){return{selectedBrands:[],value:[],isLoading:!1,color_code:"",dropdown:[],colour:"",dropdownArray:[],applicationList:[],NewArray:[],FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Title"),name:"title",value:"",placeholder:"Enter Title",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"ColorField",label:this.$t("Selectcolor"),name:"color_code",value:"",placeholder:"",validationRules:{required:!0},config:{options:[]}}]},{layoutType:"single",Data:[{astype:"SlotField",label:this.$t("AppWebsite"),name:"AppIds",value:"",mode:"tag",placeholder:"",config:{options:[]}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],DataLoaded:0,filteredOptions:[]}},created:async function(){void 0!=this.AssignCat?(this.GetDdlApplicationNotAssigned(this.AssignCat.category_id),await this.EditData(this.AssignCat)):this.GetDdlApplicationNotAssigned(),this.DataLoaded=1},methods:{updateSelectedBrands(t){this.selectedBrands=t,console.log("sthiis",this.selectedBrands)},async GetDdlApplicationNotAssigned(t){var e=this;e.isLoading=!0;var a="";a=void 0==t?0:t;var i="category_id="+a;await _["a"].GetDropdownlistApplicationNotAssigned(i).then(t=>{t.data.data&&t.data.data.map(t=>{let a={label:t.ApplicationName,value:t.ApplicationId};e.filteredOptions.push(a)}),setTimeout(()=>{e.isLoading=!1},500)}).catch(t=>{console.error(t)})},async EditData(t){var e=this;e.isLoading=!0;var a=t.category_id||0,i="categoryId="+a;try{const t=await _["a"].GetCategoryById(i);var s=JSON.parse(t.data);if(s.data.length>0){const t=s.data[0];e.color_code=t.color_code,e.FormSchema[0].Data[0].value=t.category_name,e.FormSchema[1].Data[0].value=t.color_code;t.applications_list.map(t=>{let a={label:t.application_display_name,value:t.application_id};e.filteredOptions.push(a),e.selectedBrands.push(a)})}}catch(o){}finally{setTimeout(()=>{e.isLoading=!1},500)}},async onSubmit(t,e){var a=this,i="";if(a.selectedBrands.forEach(t=>{i+=t.value+","}),null!=a.AssignCat||void 0!=a.AssignCat)var s=a.AssignCat.category_id;else s=0;var o={category_id:void 0==s?0:s,title:t.title,color_code:t.color_code,app_ids:i.length>0?i.substring(0,i.length-1):""};a.isLoading=!0;var n=new FormData;n.append("postString",JSON.stringify(o)),await _["a"].ManageCategory(o).then(t=>{if(a.isLoading=!1,1==t.data.status)a.$emit("UpdateProgress"),a.ShowAlert(a.$t("AddedSuccess",[a.$t("Category")]),"success",!0,a.$t("Alert"));else if(2==t.data.status)a.ShowAlert(a.$t("UpdatedSuccess",[a.$t("Category")]),"success",!0,a.$t("Alert"));else if(3==t.data.status)return a.ShowAlert(a.$t("CategoryAlreadyExists"),"warning",!0,a.$t("Alert"));a.$parent.FetchData(),a.closePopup()})},closePopup(){var t=this;t.$parent.CloseCategoryClick()}}},fi=vi,gi=(a("c922"),Object(u["a"])(fi,li,ri,!1,null,"2ebab8f1",null)),bi=gi.exports,Si={components:{ManageCategory:bi,ImportCategory:ni["default"]},props:{tabCount:0,currentTabIndex:0,isCompleted:!1},data(){return{searchCondition:"",CategorytList:[],listActions:oi.listActions,widgets:[],Headers:[{COLUMN_NAME:"category_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Category"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"applicationWithIcon",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ApplicationWebsite"),DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"user_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Createdby"),DISPLAY_ORDER:3},{COLUMN_NAME:"last_updated",DATA_TYPE:"datetime",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Lastupdated"),DISPLAY_ORDER:4},{COLUMN_NAME:"status_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Status"),DISPLAY_ORDER:5,settings:{isInSlot:!0}}],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,sortBy:"",sortExp:"",pageSize:10,pageNum:1,legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],LegendArray:[{class:"legend-pending colorboxsquare",text:this.$t("sampleData")}],PageSizeOption:null,listheaderbuttons:oi.buttons,isLoading:!1,DetailListType:"List",IsAssignCategory:!1,usericon:!1,user_ids:"",category_ids:"",department_ids:"",project_ids:"",application_id:"",isAddEdit:""}},created(){this.FetchData()},updated(){$('span[title="[object Object],[object Object],[object Object],[object Object],[object Object]"]').attr("title","")},methods:{ShowMoreApps(t){const e=document.querySelectorAll('[id*="myModal"]');e.forEach(e=>{e.id.includes("myModal")&&e.id!==t&&(e.classList.contains("d-none")||e.classList.add("d-none"))});const a=document.getElementById(t);a.classList.contains("d-none")?a.classList.remove("d-none"):a.classList.add("d-none")},Skip:function(){var t=this;t.$emit("nextTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})},PreviousButton:function(){var t=this;t.$emit("previousTab")},AssignCategoryClick(){var t=this;t.isAddEdit=!1,t.IsAssignCategory=!0},CloseCategoryClick(){var t=this;t.AssignCat=[],t.IsAssignCategory=!1},EditAssignCategoryClick:function(t){var e=this;e.AssignCat=t,e.isAddEdit=!0,e.IsAssignCategory=!0},async FetchData(){var t=this;t.isLoading=!0;var e=`${t.searchCondition}&pageSize=${t.pageSize}&pageNum=${t.pageNum}&sortBy=${t.sortBy}&sortExp=${t.sortExp}`;await _["a"].GetCategoryListing(e).then(e=>{t.CategorytList=JSON.parse(e.data).data,t.isLoading=!1,t.CategorytList.length>0?(t.TotalRecords=t.CategorytList[0].TotalRecords,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNum,t.noRecord=!1,t.isLoading=!1,t.CategorytList.forEach(t=>{null==t.applicationWithIcon?t.isVisible=!1:t.applicationWithIcon.length>3?t.isVisible=!0:t.isVisible=!1,t.isCheckBoxDisabled=!1,t.IsUsed>0&&(t.isCheckBoxDisabled=!0)}),t.CategorytList.forEach(t=>{t.additionalClass="",t.isCheckBoxDisabled=!1,1==t.is_sample_data&&(t.additionalClass="warning-bar",t.isCheckBoxDisabled=!0)})):(t.CategorytList=[],t.noRecord=!0,t.isLoading=!1)})},DeleteData:function(){var t=this,e="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),e.length>0&&t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("category_id"),(function(){let a=`ids=${e}&tableName=TALYGEN_category&primaryKey=category_id`;_["a"].Delete(a).then(e=>{e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),$("[id^='DeleteMultiple']").removeClass("enable").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccessfully"),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("val")]),"failure",!0,t.$t("Alert")),t.FetchData()})}))},SingleDeleteData:function(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("category_id"),(function(){let a=`ids=${t.category_id}&tableName=TALYGEN_category&primaryKey=category_id`;_["a"].Delete(a).then(t=>{"DeletedSuccess"==t.data?(e.ShowAlert(e.$t("DeletedSuccessfully"),"Success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("val")]),"failure",!0,e.$t("Alert"))})}))},actionButtonClick(t,e){var a=this;switch(t){case"Editdata":this.EditAssignCategoryClick(e);break;case"DeleteData":a.SingleDeleteData(e);break}},renderActions(t){var e=this;let a=[];return e.listActions.forEach(e=>{let i={...e};switch(i.title){case"Edit":i.isVisible=!0;break;case"Delete":i.isVisible=!0,t.IsUsed>0?(i.callbackfunction="",i.icon="fa fa-trash disabled"):(i.callbackfunction="DeleteData",i.icon="fa fa-trash"),i.isdisabled=t.IsUsed>0;break;default:i.isVisible=!0;break}a.push(i)}),a},pagerMethod:function(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,this.FetchData()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"AssignCategoryClick":this.AssignCategoryClick();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"Editdata":this.Editdata();break;case"DeleteData":this.DeleteData();break;case"ViewImport":this.ViewImport();break}},sortdata:function(t){var e="sort tb_headerSortDown";this.sortBy=t,t===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",e="sort tb_headerSortUp"):(this.sortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},ViewImport:function(){this.$router.push({name:"ImportCategory"})},UpdateProgress:function(){var t=this;t.$emit("updateProgress",t.currentTabIndex,!0)}}},yi=Si,Ci=(a("c510"),Object(u["a"])(yi,ei,ai,!1,null,null,null)),_i=Ci.exports,Ai=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"dynamiccontent_base"},[e("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!0,listType:["List","Card"],ModuleName:"Timer",SubModuleCode:"Timer",PageSize:t.pageSize,IdentityColumn:"ApplicationId",HeaderText:t.$t("AppsAndWebsites"),ListData:t.shortListed,HeaderData:t.Headers,widgets:t.widgets,callbackfunction:t.FetchData,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,LegendArray:t.LegendArray,SortExp:t.sortExp,SortBy:t.sortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["ProductivityForDepartment"==a.column.COLUMN_NAME?[e("div",[a.row.IsDisabled?e("em",{staticClass:"fa fa-eye text-primary",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.ShowProductivityDepartment(a)}}}):t._e(),a.row.IsDisabled?t._e():e("em",{staticClass:"fa fa-eye text-secondary",attrs:{"aria-hidden":"true"}})])]:t._e(),"ApplicationName"==a.column.COLUMN_NAME?[e("div",{staticClass:"pin pr-2 d-inline-block"},["Pin"==a.row.PinStatus?e("em",{staticClass:"fa fa-thumb-tack",staticStyle:{cursor:"pointer"},attrs:{title:"Unpin","aria-hidden":"true"},on:{click:function(e){return t.UnPinData(a.row)}}}):t._e()]),e("div",{class:a.row.icon_class?"appicon "+a.row.icon_class:"appicon default"}),e("a",{attrs:{href:"#",title:a.row.application_display_name}},[t._v(" "+t._s(t.TruncateStr(a.row.application_display_name,20))+" ")])]:t._e()]}},{key:"customcard",fn:function({data:a}){return[e("div",{staticClass:"card-box",style:{"border-color":a.row.color_code}},[e("div",{staticClass:"card-number"},[e("div",{class:{"custom-control custom-checkbox":!0,disabled:a.row.IsDisabled}},[e("input",{staticClass:"chkitems custom-control-input",staticStyle:{display:"none"},attrs:{id:"chkAll_"+a.row.ApplicationId,type:"checkbox",disabled:a.row.IsDisabled},domProps:{value:a.row.ApplicationId},on:{change:function(e){return t.handle(e,a.row)}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkAll_"+a.row.ApplicationId}})]),e("div",{class:a.row.icon_class?"appicon "+a.row.icon_class:"appicon default"}),"Pin"==a.row.PinStatus?e("em",{staticClass:"fa fa-thumb-tack",staticStyle:{cursor:"pointer"},attrs:{"aria-hidden":"true"},on:{click:function(e){return t.UnPinData(a.row)}}}):t._e(),t._v(" "+t._s(a.row.application_display_name)+" ")]),e("div",{staticClass:"card-detail-main filterscrollForCardView"},[e("div",{staticClass:"card-detail",attrs:{"data-isfsm":"locating"}},[e("em",{staticClass:"fa fa-newspaper-o"}),e("span",[t._v("Category - "+t._s(null==a.row.category_name?"N/A":a.row.category_name))]),e("span")]),e("div",{staticClass:"card-detail"},[e("em",{staticClass:"fa fa-pie-chart"}),e("span",[t._v("Productivity For Department - "),a.row.IsDisabled?e("span",{staticClass:"viewicon",on:{click:function(e){return t.ShowProductivityDepartment(a)}}},[e("em",{class:1==t.checkIsdesabled?"fa fa-eye text-primary":"fa fa-eye text-primary disabled"}),t._v(" View ")]):t._e(),a.row.IsDisabled?t._e():e("span",{staticClass:"viewicon"},[e("em",{class:"fa fa-eye text-secondary disabled"}),t._v(" View ")])])]),e("div",{staticClass:"card-detail"},[e("em",{staticClass:"fa fa-clock-o"}),e("span",[t._v("Usage Time - "+t._s(a.row.TimeDuration)+" ")])])]),e("div",{staticClass:"verticle-action"},[e("em",{staticClass:"fa fa-ellipsis-v action_icon",attrs:{"aria-hidden":"true"}}),e("span",{staticClass:"action-list-box",staticStyle:{width:"0px",display:"block",opacity:"0"}},[e("span",{staticClass:"list-actions fsm-list",staticStyle:{"padding-left":"0px"},attrs:{id:"action-list"}},[e("a",{staticClass:"update actions-onclick",staticStyle:{overflow:"unset"},attrs:{href:"javascript:;"}},["Pin"==a.row.PinStatus?e("span",[e("a",{staticClass:"actions-onclick",staticStyle:{overflow:"unset"},attrs:{typetitle:"Pin",typefor:"Pin",title:"Pin"},on:{click:function(e){return t.actionButtonClick("PinData",a.row)}}},[e("em",{staticClass:"fa fa-thumb-tack disabled"}),e("span",{staticClass:"text"},[t._v(" "+t._s(t.$t("Pin"))+" "),e("span")])])]):e("span",[e("a",{staticClass:"actions-onclick",staticStyle:{overflow:"unset"},attrs:{typetitle:"Pin",typefor:"Pin",title:"Pin"},on:{click:function(e){return t.actionButtonClick("PinData",a.row)}}},[e("em",{staticClass:"fa fa-thumb-tack"}),e("span",{staticClass:"text"},[t._v(" Pin "),e("span")])])]),a.row.IsDisabled?e("span",[e("a",{staticClass:"actions-onclick",staticStyle:{overflow:"unset"},attrs:{typetitle:"Edit",typefor:"Edit",value:"275",title:"Edit"},on:{click:function(e){return t.actionButtonClick("Editdata",a.row)}}},[e("em",{staticClass:"fa fa-pencil text-success action-icon"}),e("span",{staticClass:"text"},[t._v(" "+t._s(t.$t("Edit"))+" "),e("span")])])]):e("span",[e("a",{staticClass:"actions-onclick",staticStyle:{overflow:"unset"},attrs:{typetitle:"Edit",typefor:"Edit",value:"275",title:"Edit"}},[e("em",{staticClass:"fa fa-pencil disabled text-success action-icon"}),e("span",{staticClass:"text"},[t._v(t._s(t.$t("Edit"))),e("span")])])]),e("a",{staticClass:"actions-onclick",staticStyle:{overflow:"unset"},attrs:{typetitle:"Delete",typefor:"Delete",value:"275",title:"Delete"},on:{click:function(e){return t.actionButtonClick("DeleteData",a.row)}}},[e("em",{staticClass:"fa fa-trash"}),e("span",{staticClass:"text"},[t._v(" "+t._s(t.$t("Delete"))+" "),e("span")])]),e("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"}})])])])])])]}}])})],1),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4 mr-3"},[t.currentTabIndex==t.tabCount?e("button",{staticClass:"btn btn-warning float-left px-4",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("em",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.Skip()}}},[t._v(" "+t._s(t.$t("Finish"))+" ")]):t._e()])]),t.IsProductivityDepartment?e("ProductivityForDepartment",{attrs:{AssignDpt:t.AssignDpt}}):t._e(),t.IsAssignDepartment?e("AssignDepartment",{attrs:{selectedRecordValues:t.selectedRecordValues,AssignDpt:t.AssignDpt}}):t._e()],1)},Di=[];let Ti=[{title:"Assign Department",iconClass:"fa fa-server",callbackfunction:"AssignDepartmentClick",additionalClass:"",isdisabled:!0,id:"AssignDepartment",isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0},{title:"View History",iconClass:"fa fa-history",callbackfunction:"ViewHistory",additionalClass:"",isdisabled:!1,id:"ViewHistory",isvisible:!1,checkPrivilege:!1},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeleteData",additionalClass:"",isdisabled:!0,id:"DeleteHistory",isvisible:!0,checkPrivilege:!1,isEnabledOnSelectedRow:!0}],wi=[{title:"Un-Pin",icon:" fa fa-thumb-tack text-danger ",callbackfunction:"UnPinData",class:"text-danger",additionalSpan:"",isVisible:!0},{title:"Pin",icon:"fa fa-thumb-tack",callbackfunction:"PinData",additionalSpan:"",isVisible:!0},{title:"Edit",callbackfunction:"Editdata",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isVisible:!0},{title:"Delete",icon:"fa fa-trash",callbackfunction:"DeleteData",additionalSpan:"",isVisible:!0},{}];var xi={buttons:Ti,listActions:wi},ki=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("ProductivityForDepartment"))+" ")]),e("button",{staticClass:"close",on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[e("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListView"}},[e("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tblFileList"}},[t._m(0),e("tbody",[t._l(t.tagArrObj,(function(a){return e("tr",{key:a.department_name},[e("td",[e("span",{staticClass:"text-overflow-dynamic-container-text-center"},[t._v(" "+t._s(a.product_name_productive)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.product_name_unproductive)+" ")])]),e("td",[e("span",{staticClass:"text-overflow-dynamic-container"},[t._v(" "+t._s(a.product_name_neutral)+" ")])])])})),e("tr")],2)])])])])])])])},Ii=[function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[e("span",[t._v("Productive")])]),e("th",{staticClass:"nonresize"},[e("span",[t._v("Unproductive")])]),e("th",{staticClass:"nonresize",attrs:{"data-width":"5%"}},[e("span",[t._v("Neutral")])])])])}],Fi={props:{AssignDpt:{type:Array,required:!0}},data(){return{NoRecordLength:0,TagsSelectedArray:[],tagArrObj:[]}},created:function(){this.FetchData(this.AssignDpt)},methods:{FetchData:function(t){var e=this,a="applicationId="+t;_["a"].GetAssignDepartmentByApplicationId(a).then(t=>{e.TagsSelectedArray=t.data;var a=[],i=e.TagsSelectedArray.filter(t=>"Productive"==t.productive_type);a.push(i.length);var s=e.TagsSelectedArray.filter(t=>"UnProductive"==t.productive_type);a.push(s.length);var o=e.TagsSelectedArray.filter(t=>"Neutral"==t.productive_type);a.push(o.length);var n=a.sort((function(t,e){return t>e?1:t<e?-1:0})).slice(-1);for(r=0;r<n;r++){var l={product_name_productive:"",product_name_unproductive:"",product_name_neutral:""};e.tagArrObj.push(l)}for(var r=0;r<i.length;r++)e.tagArrObj[r].product_name_productive=i[r].department_name;for(r=0;r<s.length;r++)e.tagArrObj[r].product_name_unproductive=s[r].department_name;for(r=0;r<o.length;r++){l={};e.tagArrObj[r].product_name_neutral=o[r].department_name}})},closePopup(){var t=this;t.$parent.CloseProductivity()}}},$i=Fi,Li=Object(u["a"])($i,ki,Ii,!1,null,null,null),Ei=Li.exports,Pi=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle py-0"},[e("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[t._v(" "+t._s(t.$t("AssignDepartment"))+" ")]),e("button",{staticClass:"close",on:{click:t.closePopup}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"listing py-3 px-3"},[t.DataLoaded?e("dynamic-form",{ref:"refAssignDepartment",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}):t._e()],1)])])])])],1)},Ni=[],Ri={props:{selectedRecordValues:{type:Array,required:!0},AssignDpt:{type:Array,required:!0}},data(){return{FormSchema:[{layoutType:"triple",Data:[{astype:"CustomSelectField",label:this.$t("AppWebsite"),name:"AppWebsite",value:"",mode:"tag",placeholder:"",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Category"),name:"category_id",value:"",placeholder:"",config:{options:[]}},{astype:"NumericField",label:this.$t("MaxDuration"),name:"max_duration",value:"",placeholder:""}]},{layoutType:"triple",Data:[{astype:"MultiSelectField",label:this.$t("Productive"),name:"Productive",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.onChangeDepartment,onRemove:this.removeRecord},validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("UnProductive"),name:"UnProductive",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.onChangeDepartment,onRemove:this.removeRecord},validationRules:{required:!0}},{astype:"MultiSelectField",label:this.$t("Neutral"),name:"Neutral",value:"",mode:"tag",placeholder:"",config:{options:[],onChange:this.onChangeDepartment,onRemove:this.removeRecord},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],DataLoaded:0,TagsSelectedArray:[],departmentList:[],newDepartmentlist:[],ListData:[],TagsSelectedArray1:[],tagsData:[],TagsSelectedArray2:[],TagsSelectedArray3:[],MultiArray:[],obj:"",isLoading:!1}},created:async function(){await this.GetDepartmentName(),this.pushList(),await this.GetCategoryList(),this.FetchData(this.AssignDpt),this.DataLoaded=1},methods:{FetchData:function(t){var e=this;e.isLoading=!0;var a=void 0==t||void 0==t.ApplicationId?0:t.ApplicationId,i="applicationId="+a;_["a"].GetAssignDepartmentByApplicationId(i).then(a=>{if(void 0!=t&&void 0!=t.ApplicationId){var i={name:t.category_name,value:t.category_id};e.FormSchema[0].Data[1].value=i.value;var s=t.max_duration;e.FormSchema[0].Data[2].value=s;var o={label:t.application_display_name,value:t.ApplicationId};e.FormSchema[0].Data[0].value=o}e.tagsData=a.data,e.tagsData.forEach((t,a)=>{e.newDepartmentlist.forEach((a,i)=>{"Productive"==t.productive_type?t.department_id==a.value&&(e.newDepartmentlist[i].label=t.department_name,e.newDepartmentlist[i].value=t.department_id,e.newDepartmentlist[i].productive_type="Productive"):"UnProductive"==t.productive_type?t.department_id==a.value&&(e.newDepartmentlist[i].label=t.department_name,e.newDepartmentlist[i].value=t.department_id,e.newDepartmentlist[i].productive_type="UnProductive"):"Neutral"==t.productive_type&&t.department_id==a.value&&(e.newDepartmentlist[i].label=t.department_name,e.newDepartmentlist[i].value=t.department_id,e.newDepartmentlist[i].productive_type="Neutral")})}),this.FormSchema[1].Data[0].config.options=this.newDepartmentlist.filter(t=>null==t.productive_type||"Productive"==t.productive_type),this.FormSchema[1].Data[1].config.options=this.newDepartmentlist.filter(t=>null==t.productive_type||"UnProductive"==t.productive_type),this.FormSchema[1].Data[2].config.options=this.newDepartmentlist.filter(t=>null==t.productive_type||"Neutral"==t.productive_type),this.FormSchema[1].Data[0].value=this.newDepartmentlist.filter(t=>"Productive"==t.productive_type),this.FormSchema[1].Data[1].value=this.newDepartmentlist.filter(t=>"UnProductive"==t.productive_type),this.FormSchema[1].Data[2].value=this.newDepartmentlist.filter(t=>"Neutral"==t.productive_type),this.validateForm(),e.isLoading=!1})},onChangeDepartment(t,e){if("Productive"==e.name){let t=this.newDepartmentlist.map(t=>t.name).indexOf(event.target.textContent);this.newDepartmentlist[t].productive_type="Productive"}if("UnProductive"==e.name){let t=this.newDepartmentlist.map(t=>t.name).indexOf(event.target.textContent);this.newDepartmentlist[t].productive_type="UnProductive"}if("Neutral"==e.name){let t=this.newDepartmentlist.map(t=>t.name).indexOf(event.target.textContent);this.newDepartmentlist[t].productive_type="Neutral"}this.FormSchema[1].Data[0].config.options=this.newDepartmentlist.filter(t=>null==t.productive_type||"Productive"==t.productive_type),this.FormSchema[1].Data[1].config.options=this.newDepartmentlist.filter(t=>null==t.productive_type||"UnProductive"==t.productive_type),this.FormSchema[1].Data[2].config.options=this.newDepartmentlist.filter(t=>null==t.productive_type||"Neutral"==t.productive_type),this.validateForm()},removeRecord(t,e,a){var i=this;let s=i.newDepartmentlist.map(t=>t.value).indexOf(t.value);"Productive"==a.name&&(i.newDepartmentlist[s].productive_type=null),"UnProductive"==a.name&&(i.newDepartmentlist[s].productive_type=null),"Neutral"==a.name&&(i.newDepartmentlist[s].productive_type=null),i.FormSchema[1].Data[0].config.options=i.newDepartmentlist.filter(t=>null==t.productive_type||"Productive"==t.productive_type),i.FormSchema[1].Data[1].config.options=i.newDepartmentlist.filter(t=>null==t.productive_type||"UnProductive"==t.productive_type),i.FormSchema[1].Data[2].config.options=i.newDepartmentlist.filter(t=>null==t.productive_type||"Neutral"==t.productive_type),this.validateForm()},validateForm(){var t=this;t.newDepartmentlist.filter(t=>"Productive"==t.productive_type).length>0&&(this.FormSchema[1].Data[1].validationRules.required=!1,this.FormSchema[1].Data[2].validationRules.required=!1),t.newDepartmentlist.filter(t=>"UnProductive"==t.productive_type).length>0&&(this.FormSchema[1].Data[0].validationRules.required=!1,this.FormSchema[1].Data[2].validationRules.required=!1),t.newDepartmentlist.filter(t=>"Neutral"==t.productive_type).length>0&&(this.FormSchema[1].Data[0].validationRules.required=!1,this.FormSchema[1].Data[1].validationRules.required=!1),0==t.newDepartmentlist.filter(t=>"Productive"==t.productive_type).length&&0==t.newDepartmentlist.filter(t=>"UnProductive"==t.productive_type).length&&0==t.newDepartmentlist.filter(t=>"Neutral"==t.productive_type).length&&(this.FormSchema[1].Data[0].validationRules.required=!0,this.FormSchema[1].Data[1].validationRules.required=!0,this.FormSchema[1].Data[2].validationRules.required=!0)},async onSubmit(t,e){var a=this;if(a.isLoading=!0,null!=a.AssignDpt)var i=a.AssignDpt.ApplicationId;else i=0;var s=new FormData;t.Productive.forEach(t=>{let e={department_id:t.value,productive_type:"Productive"};a.MultiArray.push(e)}),t.UnProductive.forEach(t=>{let e={department_id:t.value,productive_type:"UnProductive"};a.MultiArray.push(e)}),t.Neutral.forEach(t=>{let e={department_id:t.value,productive_type:"Neutral"};a.MultiArray.push(e)});var o={};o=(t.category_id,{DepartmentAssignId:0,AppId:void 0==i?0:i,CategoryId:t.category_id,MaxDration:void 0==t.max_duration?0:t.max_duration,Websites:Array.prototype.map.call(t.AppWebsite,(function(t){return t.value})).join(","),Productivity:a.MultiArray}),s.append("postString",JSON.stringify(o)),await _["a"].SaveAssignDepartment(o).then(t=>{a.isLoading=!1,1==t.data.status?(a.ShowAlert(a.$t("Departmentsuccessfullyassigned"),"success",!1,a.$t("Alert")),a.$parent.FetchData(),a.closePopup()):2==t.data.status?(a.ShowAlert(a.$t("Departmentsuccessfullyupdated"),"success",!0,a.$t("Alert")),a.$parent.FetchData(),a.closePopup()):a.ShowAlert(a.$t("Failure"),"error",!0,a.$t("Alert"))})},async GetCategoryList(){var t=this;t.isLoading=!0;var e="pageSize=500&sortBy=category_name&sortExp=ASC";await _["a"].GetCategoryListing(e).then((function(e){JSON.parse(e.data).data.forEach(e=>{t.obj={name:e.category_name,value:e.category_id},t.FormSchema[0].Data[1].config.options.push(t.obj)}),t.isLoading=!1}))},async GetDepartmentName(){var t=this;t.isLoading=!0;await _["a"].GetDepartmentList().then(e=>{t.departmentList=e.data,t.departmentList.forEach(e=>{t.newDepartmentlist.push({name:e.text,value:e.value,productive_type:null})}),t.FormSchema[1].Data[0].config.options=t.newDepartmentlist.filter(t=>null==t.productive_type||"Productive"==t.productive_type),t.FormSchema[1].Data[1].config.options=t.newDepartmentlist.filter(t=>null==t.productive_type||"UnProductive"==t.productive_type),t.FormSchema[1].Data[2].config.options=t.newDepartmentlist.filter(t=>null==t.productive_type||"Neutral"==t.productive_type),t.isLoading=!1}).catch(t=>{console.error(t)})},closePopup(){var t=this;t.TagsSelectedArray=[],t.selectedRecordValues=[],t.$parent.CloseAssignDepartmentClick()},pushList(){var t=this;t.isLoading=!0;t.selectedRecordValues.forEach(e=>{t.TagsSelectedArray.push({label:e.application_display_name,value:e.ApplicationId}),t.FormSchema[0].Data[0].config.options.push({name:e.application_display_name,value:e.ApplicationId})}),t.FormSchema[0].Data[0].value=t.TagsSelectedArray,void 0==t.AssignDpt&&(t.selectedRecordValues.length>0?""==t.selectedRecordValues[0].category_id?t.FormSchema[0].Data[1].value="":t.FormSchema[0].Data[1].value=t.selectedRecordValues[0].category_id:""==t.selectedRecordValues[0].category_id?t.FormSchema[0].Data[1].value="":t.FormSchema[0].Data[1].value=t.selectedRecordValues.category_id),t.isLoading=!1}}},Oi=Ri,Ui=Object(u["a"])(Oi,Pi,Ni,!1,null,null,null),Mi=Ui.exports,Gi={components:{ProductivityForDepartment:Ei,AssignDepartment:Mi},data(){return{listActions:xi.listActions,shortListed:[],Headers:[{COLUMN_NAME:"ApplicationName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("ApplicationWebsite"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"category_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Category"),DISPLAY_ORDER:2},{COLUMN_NAME:"TimeDuration",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("UsageTime"),DISPLAY_ORDER:3},{COLUMN_NAME:"ProductivityForDepartment",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ProductivityForDepartment"),DISPLAY_ORDER:3,settings:{isInSlot:!0}}],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,sortBy:"",sortExp:"",pageSize:10,pageNum:1,applicationCode:"",legendProgress:[{class:"",backgroundColor:"#17a2b8",name:"Draft"},{class:"legend-Progress",backgroundColor:"",name:"Approved"},{class:"legend-pending",backgroundColor:"",name:"Pending"},{class:"",backgroundColor:"#fe6847",name:"SendForCorrection"},{class:"",backgroundColor:"#ee1313",name:"Rejected"}],LegendArray:[{class:"legend-pending colorboxsquare",text:this.$t("SampleData")}],PageSizeOption:null,listheaderbuttons:xi.buttons,UsedApplicationData:[],isLoading:!1,IsProductivityDepartment:!1,IsAssignDepartment:!1,isCategoryVisible:!1,DetailListType:"List",selectedRecordValues:[],checkIsdesabled:!1,colorCode:"",datepicker:!1,fromDate:"",ToDate:"",widgets:[],PinJson:[],UnPinJson:[]}},created(){this.FetchData()},methods:{Skip:function(){var t=this;t.$router.push("/User/Home")},PreviousButton:function(){var t=this;t.$emit("previousTab")},handle(t,e){var a=this;1==t.target.checked?(a.listheaderbuttons[0].isdisabled=!1,a.listheaderbuttons[2].isdisabled=!1,a.selectedRecordValues.push(e)):(a.listheaderbuttons[0].isdisabled=!0,a.listheaderbuttons[2].isdisabled=!0,a.selectedRecordValues=[])},async onDateChange(t){var e=this;e.fromDate=new Date(t),e.fromDate=e.ConvertDateFormat(e.fromDate),e.ToDate=e.fromDate+" 23:59:00",await e.GetAllAPiMethods()},AssignDepartmentClick(){var t=this;t.shortListed.length>0&&($(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.selectedRecordValues.push(t.shortListed.find(t=>t.ApplicationId==this.value))})),t.IsAssignDepartment=!0)},EditAssignDepartmentClick:function(t){var e=this;e.AssignDpt=t,e.IsAssignDepartment=!0},CloseAssignDepartmentClick(){var t=this;t.selectedRecordValues=[],t.AssignDpt=[],t.IsAssignDepartment=!1},ShowProductivityDepartment(t){var e=this;e.AssignDpt=t.row.ApplicationId,e.IsProductivityDepartment=!0},CloseProductivity(){var t=this;t.IsProductivityDepartment=!1},async FetchData(){var t=this;t.isLoading=!0;var e=`pageSize=${t.pageSize}&pageNum=${t.pageNum}&sortBy=${t.sortBy}&sortExp=${t.sortExp}&${t.searchCondition}`;await _["a"].GetScreenShotListing(e).then(e=>{t.shortListed=e.data,t.shortListed.length>0?(t.shortListed.forEach(e=>{e.additionalClass="",e.color_code&&(t.colorCode=e.color_code,e.CssStyle="border-left:2px solid "+t.colorCode+" !important"),e.isCheckBoxDisabled=!1,1==e.IsDisabled&&(e.isCheckBoxDisabled=!0,t.checkIsdesabled=!0),1==e.is_sample_data&&(e.additionalClass="sample-bar warning-bar",e.isCheckBoxDisabled=!0)}),t.isLoading=!1,t.TotalRecords=e.data[0].TotalRecords,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNum,t.noRecord=!1,t.isLoading=!1):(t.shortListed=[],t.noRecord=!0,t.isLoading=!1)})},DeleteData:function(){var t=this,e="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),e.length>0&&t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("ApplicationId"),(function(){let a=`ids=${e}&tableName=TALYGEN_screenshot_detail&primaryKey=track_application_id`;_["a"].Delete(a).then(e=>{e.data?($("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.listheaderbuttons[0].isdisabled=!0,t.listheaderbuttons[2].isdisabled=!0,t.ShowAlert(t.$t("DeletedSuccessfully"),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("val")]),"failure",!0,t.$t("Alert")),t.FetchData()})}))},SingleDeleteData:function(t){var e=this;e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("ApplicationId"),(function(){let a=`ids=${t.ApplicationId}&tableName=TALYGEN_screenshot_detail&primaryKey=track_application_id`;_["a"].Delete(a).then(t=>{"DeletedSuccess"==t.data?(e.ShowAlert(e.$t("DeletedSuccessfully"),"Success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("val")]),"failure",!0,e.$t("Alert"))})}))},actionButtonClick(t,e){var a=this;switch(t){case"Editdata":a.EditAssignDepartmentClick(e);break;case"DeleteData":a.SingleDeleteData(e);break;case"PinData":a.PinData(e);break;case"UnPinData":a.UnPinData(e);break}},PinData(t){var e=this;e.isLoading=!0;let a={Id:t.ApplicationId,ModuleName:"Timer_UsedApplication",ActionType:"Pin"};e.PinJson.push(a);let i=JSON.stringify(a);_["a"].ManagePin_UpPin(i).then(t=>{"Success"==t.data.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),e.isLoading=!1,e.FetchData(),e.ShowAlert(e.$t("PinSuccess"),"success",!0,e.$t("Alert"))):(e.ShowAlert(e.$t("PinUpinError","sdgf"),"warning",!0,e.$t("Alert")),e.isLoading=!1)})},UnPinData(t){var e=this;e.isLoading=!0;let a={Id:t.ApplicationId,ModuleName:"Timer_UsedApplication",ActionType:"UnPin"};e.PinJson.push(a);let i=JSON.stringify(a);_["a"].ManagePin_UpPin(i).then(t=>{"Success"==t.data.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),e.isLoading=!1,e.FetchData(),e.ShowAlert(e.$t("UnPinSuccess"),"success",!0,e.$t("Alert"))):(e.ShowAlert(e.$t("PinUpinError","sdgf"),"warning",!0,e.$t("Alert")),e.isLoading=!1)})},renderActions(t){var e=this;let a=[];return e.listActions.forEach(e=>{let i={...e};switch(i.title){case"Pin":"Pin"==t.PinStatus?i.isVisible=!1:(i.callbackfunction="PinData",i.isVisible=!0);break;case"Un-Pin":"UnPin"==t.PinStatus?i.isVisible=!1:(i.callbackfunction="UnPinData",i.isVisible=!0);break;case"Edit":i.isVisible=!0,t.IsDisabled?(i.callbackfunction="Editdata",i.icon="fa fa-pencil text-success action-icon"):(i.callbackfunction="",i.icon="fa fa-pencil disabled text-success action-icon");break;case"Delete":i.isVisible=!0;break;default:i.isVisible=!0;break}a.push(i)}),a},pagerMethod:async function(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,await this.FetchData()},commonHeaderButtonClick(t){switch(t.callbackfunction){case"CardView":this.CardViewListing();break;case"setTourGuideSteps":this.setTourGuideSteps(0);break;case"AssignDepartmentClick":this.AssignDepartmentClick();break;case"Editdata":this.Editdata();break;case"DeleteData":this.DeleteData();break;case"ViewHistory":this.ViewHistory();break}},ViewHistory:function(){this.$router.push({name:"HistoryListing"})},CardViewListing(){var t=this;t.DetailListType="Card"},sortdata:function(t){var e="sort tb_headerSortDown";this.sortBy=t,t===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",e="sort tb_headerSortUp"):(this.sortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)}}},Bi=Gi,Vi=(a("6440"),Object(u["a"])(Bi,Ai,Di,!1,null,null,null)),qi=Vi.exports,zi=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddTrip",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveSubmit("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e(),"InitialSetup"==t.reqFrom?e("button",{staticClass:"btn btn-danger formbtn widthhalf px-4",attrs:{title:"Finish"},on:{click:function(e){return t.SaveSubmit("SaveAndFinish")}}},[t._v(" "+t._s(t.$t("SaveAndFinish"))+" ")]):t._e()])])])],1)},ji=[],Wi={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("TripName"),name:"TripName",value:"",placeholder:"",validationRules:{required:!0}},{astype:"SelectField",label:this.$t("STATUS_ID"),name:"status",value:"1001",placeholder:"",config:{options:[{value:"1001",name:"Active"},{value:"1002",name:"InActive"}]}}]},{layoutType:"Single",Data:[{astype:"TextAreaField",label:this.$t("TripDescription"),name:"TripDescription",value:"",placeholder:"",validationRules:{required:!0},config:{rows:5}}]}],buttons:[],companyId:null,userId:null}},created:function(){},methods:{SaveSubmit(t){var e=this;e.isLoading=!0,e.$refs.AddTrip.validateForm.validate().then(a=>{if(a){var i={TripId:0,TripName:e.FormSchema[0].Data[0].value,StatusId:e.FormSchema[0].Data[1].value,TripDesc:e.FormSchema[1].Data[0].value},s=JSON.stringify(i);r["a"].SaveUpdateTrip(s).then(a=>{"Success"==a.data.Status?("SaveAndFinish"==t&&e.Finish(),e.ShowAlert(e.$t("AddedSuccess",[e.$t("Trip")]),"success",!0,e.$t("Alert"))):"Exists"==a.data.Status?e.ShowAlert(e.$t("AlreadyExists",[e.$t("Trip")]),"failure",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedError",[e.$t("Trip")]),"failure",!0,e.$t("Alert")),e.isLoading=!1,e.$parent.NextTab()})}})},Skip:function(){var t=this;t.$parent.NextTab()},PreviousButton:function(){var t=this;t.$emit("previousTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},Yi=Wi,Hi=Object(u["a"])(Yi,zi,ji,!1,null,null,null),Ji=Hi.exports,Ki=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{class:"InitialSetup"==t.reqFrom?"dynamiccontent_base":""},[e("dynamic-form",{ref:"AddCategory",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.SaveSubmit}})],1),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.SaveSubmit}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext")))]):t._e()])])])],1)},Qi=[],Zi={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[],buttons:[],companyId:null,userId:null}},created:function(){var t=this;t.getform()},methods:{getform:function(){var t=this,e="recordId=0&moduleName=Company&subModuleCode=Category";r["a"].GetDynamicForm(e).then((function(e){t.FormSchema=t.$refs.AddCategory.ConvertCustomFieldIntoDynamicFormObj(e.data.data),t.FormSchema[0].group_name=""}))},SaveSubmit(){var t=this;t.$refs.AddCategory.validateForm.validate().then(e=>{if(e){t.isLoading=!0;let e=t.$refs.AddCategory.ConvertDynamicFormObjToCustomFieldObj(this.FormSchema);r["a"].DepartmentAdd(e,"/Category/add").then(e=>{null!=e.data.Result&&e.data.Result.MAIN_ID>0&&"UPDATE"!=e.data.Result.CHK_OPERATION&&t.ShowAlert(t.$t("AddedSuccess",!0,[t.$t("Category")]),"success",!0,t.$t("Alert")),t.isLoading=!1,t.$parent.NextTab()})}})},Skip:function(){var t=this;t.$parent.NextTab(!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await CommonDataService.UpdateUserSettingConfig(e).then(t=>{})}}},Xi=Zi,ts=Object(u["a"])(Xi,Ki,Qi,!1,null,null,null),es=ts.exports,as=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowAddTicketReason,expression:"isShowAddTicketReason"}]},[e("dynamic-form",{ref:"AssignTagForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.MandatoryString},on:{OnSubmit:t.OnSubmit}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowAddTicketReason,expression:"!isShowAddTicketReason"}]},[e("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!1,ModuleName:"Ticketing",SubModuleCode:"Ticketing",IdentityColumn:"ID",ListData:t.ListingData,HeaderData:t.Headers,widgets:[],HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.GetTicketDelayReason,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{ActionButtonClick:t.actionButtonClick,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["status_name"==a.column.COLUMN_NAME?[1001==a.row.status_id?e("span",{staticClass:"px-2 text-center bg-success text-white d-block"},[t._v(t._s(a.row.status_name))]):e("span",{staticClass:"px-2 text-center bg-danger text-white d-block"},[t._v(t._s(a.row.status_name))])]:t._e()]}}])})],1)],1)},is=[],ss={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{isLoading:!1,isShowAddTicketReason:!1,TicketDelayReasonId:0,TotalRecords:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",CompanyId:null,Headers:[{COLUMN_NAME:"title",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:1},{COLUMN_NAME:"description",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2},{COLUMN_NAME:"status_name",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3,settings:{isInSlot:!0}}],listheaderbuttons:[{id:"Add",title:"Add",iconClass:"fa fa-plus",callbackfunction:"AddTicketDelayReason",isdisabled:!1,isvisible:!0}],listActions:[{title:"Edit",icon:"fa fa-pencil action-icon",additionalSpan:"",callbackfunction:"EditTicketDelay"},{title:"Delete",icon:"text-danger fa fa-trash-o action-icon",additionalSpan:"",callbackfunction:"commonDeleteData"}],MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("Title"),name:"Title",value:"",placeholder:this.$t("Enter Title"),validationRules:{required:!0,max:1e3}},{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",validationRules:{required:!1,max:4e3},config:{rows:3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseTicketDelay}]}},created:function(){var t=this;t.CompanyId=t.GetUserInfo.CompanyId,t.GetTicketDelayReason()},methods:{commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddTicketDelayReason":this.AddTicketDelayReason();break}},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.GetTicketDelayReason()},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(e=>{let i={...e};switch(i.title){case"Edit":i.isVisible=null!=t.company_id;break;case"Delete":i.isVisible=null!=t.company_id;break;default:i.isVisible=!0}a.push(i)}),a},actionButtonClick:function(t,e){switch(t){case"EditTicketDelay":this.EditTicketDelayResponse(e);break;case"commonDeleteData":this.commonDeleteData(e.ID);break}},AddTicketDelayReason(){var t=this;t.TicketDelayReasonId=0,t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",this.isShowAddTicketReason=!0},CloseTicketDelay(){this.isShowAddTicketReason=!1,this.GetTicketDelayReason()},async GetTicketDelayReason(){var t=this;t.isLoading=!0;var e=`CompanyId=${t.CompanyId}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}`;await r["a"].FetchGetTicketDelayReasonList(e).then(e=>{t.isLoading=!1,e.data.result.DATA.length>0?(t.ListingData=e.data.result.DATA,t.TotalRecords=e.data.result.DATA[0].total,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber):t.ListingData=[]})},commonDeleteData(t){var e=this;e.isLoading=!0,null!=t?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Ticket Delay Response"),(function(){var a={ids:t,moduleName:"Ticketing",subModuleCode:"Ticketing",refCode:"Ticket_Delay_Response"},i=JSON.stringify(a);_["a"].CommonCommonDelete(i).then((function(t){e.isLoading=!1,200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Ticket Delay Response")]),"success",!0,e.$t("Alert")),e.GetTicketDelayReason()):e.ShowAlert(e.$t("DeletedError",[e.$t("Ticket Delay Response")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1},EditTicketDelayResponse(t){var e=this;e.TicketDelayReasonId=t.ID,e.FormSchema[0].Data[0].value=t.title,e.FormSchema[0].Data[1].value=t.description,this.isShowAddTicketReason=!0},sortdata:function(){},OnSubmit(){var t=this;t.isLoading=!0;var e={TicketDelayReasonId:t.TicketDelayReasonId,Title:t.FormSchema[0].Data[0].value,Description:t.FormSchema[0].Data[1].value};r["a"].SaveAddTicketDelayReason(JSON.stringify(e)).then((function(e){t.isLoading=!1,e.data.result.DATA.length>0?("UPDATE"==e.data.result.DATA[0].VALUE?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Ticket Delay Reason")]),"success",!0,t.$t("Alert")),t.tabCount>1&&t.$emit("updateProgress",vm.currentTabIndex,!0),t.tabCount==t.currentTabIndex&&t.$emit("close")):"EXIST"==e.data.result.DATA[0].VALUE?t.ShowAlert(t.$t("AlreadyExists",[t.$t("Ticket Delay Reason")]),"warning",!0,t.$t("Alert")):(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Ticket Delay Reason")]),"success",!0,t.$t("Alert")),t.tabCount>1&&t.$emit("updateProgress",t.currentTabIndex,!0),t.tabCount==t.currentTabIndex&&t.$emit("close")),t.CloseTicketDelay(),t.GetTicketDelayReason()):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}))}}},os=ss,ns=Object(u["a"])(os,as,is,!1,null,null,null),ls=ns.exports,rs=function(){var t=this,e=t._self._c;return e("div",[e("dynamic-form",{ref:"validateSetupForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),e("div",{class:"InitialSetup"==t.reqFrom?"mainfooter_app":""},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SubmitData()}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])],1)},cs=[],ds={props:{tabCount:0,currentTabIndex:0,reqFrom:""},data(){return{buttons:[{type:"submit",class:"btn btn-warning",text:"<i class='fa fa-save pr-2'></i>Save Of Draft",isVisible:!1}],FormSchema:[{layoutType:"single",Data:[{astype:"RadioField",label:this.$t("IsCheckinEnable"),name:"IsCheckinEnable",value:"No",placeholder:"",config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"CustomSelectField",label:this.$t("CheckinType"),name:"CheckinType",mode:"tag",value:"",placeholder:"Select "+this.$t("CheckinType"),disabled:!0,config:{options:[{name:"Talygen",value:"Talygen"},{name:"Biometric",value:"Biometric"},{name:"Face Recognition",value:"FaceRecognition"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}}]},{layoutType:"triple",Data:[{astype:"RadioField",label:this.$t("EnableCheckinForMobile"),name:"EnableCheckinForMobile",value:"No",placeholder:"",disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("MobileCheckinType"),name:"MobileCheckinType",value:"",placeholder:"",disabled:!0,config:{options:[{name:"Auto",value:"Auto"},{name:"Manual",value:"Manual"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"RadioField",label:this.$t("Restricted With Location"),name:"RestrictedWithLocation",value:"Yes",placeholder:"",disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}}]},{layoutType:"triple",Data:[{astype:"RadioField",label:this.$t("EnableCheckinForWeb"),name:"EnableCheckinForWeb",value:"No",placeholder:"",disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("WebCheckinType"),name:"WebCheckinType",value:"",placeholder:"",disabled:!0,config:{options:[{name:"Auto",value:"Auto"},{name:"Manual",value:"Manual"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"RadioField",label:this.$t("RestrictedWithWhiteListedIp"),name:"RestrictedWithWhiteListedIpForWeb",value:"No",placeholder:"",disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("WhileListedIPforWeb"),name:"WhileListedIPforWeb",value:"",placeholder:"",disabled:!0,validationRules:{required:!1}}]},{layoutType:"triple",Data:[{astype:"RadioField",label:this.$t("EnableCheckinForDesktop"),name:"EnableCheckinForDesktop",value:"No",placeholder:"",disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("DesktopCheckinType"),name:"DektopCheckinType",value:"",placeholder:"",disabled:!0,config:{options:[{name:"Auto",value:"Auto"},{name:"Manual",value:"Manual"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}},{astype:"RadioField",label:this.$t("RestrictedWithWhiteListedIp"),name:"RestrictedWithWhiteListedIpForDesktop",value:"No",placeholder:"",disabled:!0,config:{options:[{name:"Yes",value:"Yes"},{name:"No",value:"No"}],showAddIcon:!1,onChange:this.onChangeMethod},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("WhileListedIPforDesktop"),name:"WhileListedIPforDesktop",value:"",disabled:!0,placeholder:"",validationRules:{required:!1}}]}]}},mounted:function(){this.getcheckinSettings()},methods:{Skip:function(){var t=this;t.$emit("nextTab")},PreviousButton:function(){var t=this;t.$emit("previousTab")},onChangeMethod:function(t,e){let a=this;"IsCheckinEnable"==e.name?"Yes"==e.value?(a.$refs.validateSetupForm.updateProperty("CheckinType","disabled",!1),a.$refs.validateSetupForm.updateProperty("EnableCheckinForMobile","disabled",!1),a.$refs.validateSetupForm.updateProperty("EnableCheckinForWeb","disabled",!1),a.$refs.validateSetupForm.updateProperty("EnableCheckinForDesktop","disabled",!1)):(a.$refs.validateSetupForm.updateProperty("CheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("EnableCheckinForMobile","disabled",!0),a.$refs.validateSetupForm.updateProperty("EnableCheckinForWeb","disabled",!0),a.$refs.validateSetupForm.updateProperty("EnableCheckinForDesktop","disabled",!0),a.$refs.validateSetupForm.updateProperty("MobileCheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("RestrictedWithLocation","disabled",!0),a.$refs.validateSetupForm.updateProperty("WebCheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForWeb","disabled",!0),a.$refs.validateSetupForm.updateProperty("DektopCheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForDesktop","disabled",!0),a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","disabled",!0),a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","disabled",!0),a.$refs.validateSetupForm.updateProperty("CheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("EnableCheckinForMobile","value","No"),a.$refs.validateSetupForm.updateProperty("EnableCheckinForWeb","value","No"),a.$refs.validateSetupForm.updateProperty("EnableCheckinForDesktop","value","No"),a.$refs.validateSetupForm.updateProperty("MobileCheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("RestrictedWithLocation","value","No"),a.$refs.validateSetupForm.updateProperty("WebCheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForWeb","value","No"),a.$refs.validateSetupForm.updateProperty("DektopCheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForDesktop","value","No"),a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","value",""),a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","value","")):"EnableCheckinForMobile"==e.name?"Yes"==e.value?(a.$refs.validateSetupForm.updateProperty("MobileCheckinType","disabled",!1),a.$refs.validateSetupForm.updateProperty("RestrictedWithLocation","disabled",!1)):(a.$refs.validateSetupForm.updateProperty("MobileCheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("RestrictedWithLocation","disabled",!0),a.$refs.validateSetupForm.updateProperty("MobileCheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("RestrictedWithLocation","value","No")):"EnableCheckinForWeb"==e.name?"Yes"==e.value?(a.$refs.validateSetupForm.updateProperty("WebCheckinType","disabled",!1),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForWeb","disabled",!1)):(a.$refs.validateSetupForm.updateProperty("WebCheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForWeb","disabled",!0),a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","disabled",!0),a.$refs.validateSetupForm.updateProperty("WebCheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForWeb","value","No"),a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","value","")):"EnableCheckinForDesktop"==e.name?"Yes"==e.value?(a.$refs.validateSetupForm.updateProperty("DektopCheckinType","disabled",!1),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForDesktop","disabled",!1)):(a.$refs.validateSetupForm.updateProperty("DektopCheckinType","disabled",!0),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForDesktop","disabled",!0),a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","disabled",!0),a.$refs.validateSetupForm.updateProperty("DektopCheckinType","value",[]),a.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForDesktop","value","No"),a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","value","")):"RestrictedWithWhiteListedIpForWeb"==e.name?"Yes"==e.value?a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","disabled",!1):(a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","disabled",!0),a.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","value","")):"RestrictedWithWhiteListedIpForDesktop"==e.name&&("Yes"==e.value?a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","disabled",!1):(a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","disabled",!0),a.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","value","")))},SubmitData:function(){let t=this;t.$refs.validateSetupForm.validateForm.validate().then(e=>{if(e){var a={IsCheckinEnable:"",CheckinType:"",EnableCheckinForMobile:"",MobileCheckinType:"",RestrictedWithLocation:"",EnableCheckinForWeb:"",WebCheckinType:"",RestrictedWithWhiteListedIpForWeb:"",WhileListedIPforWeb:"",EnableCheckinForDesktop:"",DektopCheckinType:"",RestrictedWithWhiteListedIpForDesktop:"",WhileListedIPforDesktop:""};Object.keys(a).forEach(e=>{if(console.log(e,a[e]),a[e]=t.$refs.validateSetupForm.getPropertyValue(e,"value"),"CheckinType"==e){var i=[];a[e].forEach(t=>{i.push(t.value)}),a[e]=i}}),r["a"].saveCheckinCheckoutSettings(a).then(e=>{null!=e&&null!=e.data&&"Success"==e.data.status&&t.ShowAlert(t.$t("OffHoursSuccess",[t.$t("CheckInCheckOutSettings")]),"success",!0,t.$t("Alert"))})}})},getcheckinSettings:function(){let t=this;r["a"].getCheckinCheckoutSettingForEdit().then(e=>{if(null!=e.data&&"Success"==e.data.status){var a=JSON.parse(e.data.result);if(a.length>0){var i=[],s=[],o=[],n=[],l=t.$refs.validateSetupForm.getPropertyValue("CheckinType","config.options");1==a[0].auto_entry_for_mobile&&i.push("Auto"),1==a[0].manual_entry_for_mobile&&i.push("Manual"),1==a[0].auto_entry_for_web&&s.push("Auto"),1==a[0].manual_entry_for_web&&s.push("Manual"),1==a[0].auto_entry_for_desktop&&o.push("Auto"),1==a[0].manual_entry_for_desktop&&o.push("Manual"),l.forEach(t=>{(1==a[0].enable_talygen&&"Talygen"==t.value||1==a[0].enable_biometric&&"Biometric"==t.value||1==a[0].enable_face_reco&&"FaceRecognition"==t.value)&&n.push({label:t.name,value:t.value})}),t.$refs.validateSetupForm.updateProperty("IsCheckinEnable","value",1==a[0].is_checkin_enable?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("EnableCheckinForMobile","value",1==a[0].enable_for_mobile?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("RestrictedWithLocation","value",1==a[0].restricted_for_mobile?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("EnableCheckinForWeb","value",1==a[0].enable_for_web?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForWeb","value",1==a[0].restricted_for_web?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("EnableCheckinForDesktop","value",1==a[0].enable_for_desktop?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("RestrictedWithWhiteListedIpForDesktop","value",1==a[0].restricted_for_desktop?"Yes":"No"),t.$refs.validateSetupForm.updateProperty("WhileListedIPforWeb","value",a[0].white_listed_ip_web),t.$refs.validateSetupForm.updateProperty("WhileListedIPforDesktop","value",a[0].white_listed_ip_desktop),t.$refs.validateSetupForm.updateProperty("MobileCheckinType","value",i),t.$refs.validateSetupForm.updateProperty("WebCheckinType","value",s),t.$refs.validateSetupForm.updateProperty("DektopCheckinType","value",o),t.$refs.validateSetupForm.updateProperty("CheckinType","value",n),t.FormSchema.forEach(e=>{e.Data.forEach(e=>{t.onChangeMethod(null,e)})})}}})}}},us=ds,ps=Object(u["a"])(us,rs,cs,!1,null,null,null),ms=ps.exports,hs=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("dynamic-form",{ref:"validateService",attrs:{lang:"en",buttons:!1,schema:t.FormSchema,mandatorytext:t.$t("MandatoryString")},on:{OnSubmit:t.SaveData}})],1),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn btn-success formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.SaveData("SaveAndNew")}}},[e("em",{staticClass:"fa fa-save pr-2 font-16"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e()])])])])],1)},vs=[],fs={props:{tabCount:0,currentTabIndex:0},data(){return{FormSchema:[{layoutType:"triple",Data:[{astype:"SelectField",label:this.$t("billingtype"),name:"BillingTypeOptions",value:"",visibility:!0,config:{options:[],onChange:this.onChangeOfBillingType},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("UtilityType"),name:"meterTypeId",visibility:!1,value:"",config:{options:[],onChange:this.onGetUnitByUtilityTypeId},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("ServiceType"),name:"ServiceType",value:"",config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"TextField",label:this.$t("name"),name:"Name",value:"",placeholder:"Enter Name",validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("UsageMeasurement"),name:"UsageMeasurement",visibility:!1,value:"",config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}}]},{layoutType:"triple",Data:[{astype:"SelectField",label:this.$t("WorkType"),name:"WorkType",value:"",visibility:!1,config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"TextField",label:this.$t("ClientDefinedIdentifier"),name:"ClientDefinedIdentifier",value:"",placeholder:"",visibility:!1,validationRules:{required:!1,max:100}},{astype:"RadioField",label:this.$t("BillingFrequency"),name:"BillingFrequency",visibility:!1,disabled:!1,value:"",config:{options:[{value:"1",name:"One Time"},{value:"2",name:"Recurring"}]}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:this.$t("Active")},{value:"1002",name:this.$t("Inactive")}]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"toggleField",label:this.$t("istaxble"),name:"IsTaxble",value:"",disabled:!1,config:{onChange:this.ChangeIsTaxble},validationRules:{required:!1,max:100}},{astype:"MultiSelectField",label:this.$t("SelectTaxType"),name:"SelectedTax",value:"",mode:"tag",placeholder:this.$t("SelectTaxType"),visibility:!1,config:{options:[]},validationRules:{required:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",placeholder:"",config:{rows:4},validationRules:{required:!1,max:2e3}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save"),onClick:this.SaveData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.ClosePopUp}],serviceDetail:[],isForService:!0,serviceId:0,paymentType:"",billingTypeOptions:[]}},created:async function(){var t=this;await t.GetExtraFeatures();let e=[];t.billingTypeOptions.length>1?(t.billingTypeOptions.forEach(t=>{e.push({value:t.FEATURE_CODE,name:t.FEATURE_NAME})}),t.FormSchema.forEach((function(t,a){t.Data.forEach((function(a,i){"BillingTypeOptions"==a.name&&(a.config.options=e,a.visibility=!0,t.layoutType="triple"),"BillingFrequency"==a.name&&(a.visibility=!1)}))}))):t.FormSchema.forEach((function(e,a){e.Data.forEach((function(a,i){"BillingTypeOptions"==a.name?(a.config.options.push({name:t.billingTypeOptions[0].FEATURE_NAME,value:t.billingTypeOptions[0].FEATURE_CODE}),a.value=t.billingTypeOptions[0].FEATURE_CODE,e.layoutType="double","UTILITY_BILLING"==a.value&&(t.FormSchema[0].Data[1].visibility=!0)):"CustomerType"==a.name&&"UTILITY_BILLING"==t.billingTypeOptions[0].FEATURE_CODE&&(a.visibility=!0,e.layoutType="triple"),"BillingFrequency"==a.name&&(a.visibility=!1)}))}));var a=this.billingTypeOptions.filter((function(t){t.FEATURE_CODE}));a.length>0&&t.FormSchema.forEach((function(t,e){t.Data.forEach((function(t,e){"ClientDefinedIdentifier"==t.name&&(t.visibility=!0)}))})),t.GetTaxCategory(),t.GetDDLServiceType(),t.GetDDLWorkType(),setTimeout(()=>{t.ChangeServiceFor(),this.bindBillingFrequency(t.paymentType)},500),t.serviceId>0&&setTimeout((function(){t.BindEditDetail(t.serviceId)}),1e3),t.getMeterTypes()},methods:{GetExtraFeatures:async function(){var t=this,e="featureCode=GET_EXTRA_FEATURE_BILLING&outputType=list";await _["a"].CheckExtraFeatures(e).then((function(e){var a=JSON.parse(e.data);t.billingTypeOptions=a}))},onGetUnitByUtilityTypeId:function(t,e,a){var i=this;if(""==e.value)i.$refs.validateService.updateProperty("UsageMeasurement","visibility",!1),i.$refs.validateService.UpdateKeyValue();else{var s="id=&moduleName=&type=UTILITY_UNIT_OF_MEASUREMENTS&search=&refId="+e.value;_["a"].GetDDLData(s).then(t=>{if(t.data){var e=t.data;null!=e&&(i.$refs.validateService.updateProperty("UsageMeasurement","visibility",!0),i.$refs.validateService.updateProperty("UsageMeasurement","config.options",t.data.DATA),i.$refs.validateService.UpdateKeyValue())}})}},async getMeterTypes(){const t=this;try{const e=await _["a"].GetMeterTypes();if(null!==e&&void 0!==e&&e.data){const a=JSON.parse(e.data.result).data;Array.isArray(a)&&a.length>0?(a.map(e=>{t.FormSchema[0].Data[1].config.options.push({value:e.meter_id,name:e.meter_name})}),t.$refs.validateService.UpdateKeyValue()):console.warn("No valid data found in the response")}else console.error("Invalid response structure:",e)}catch(e){console.error("Error fetching Meter types:",e)}},onChangeOfBillingType:function(t,e){let a=this;"UTILITY_BILLING"==e.value?a.FormSchema[0].Data[1].visibility=!0:a.FormSchema[0].Data[1].visibility=!1},bindBillingFrequency:function(t){var e=this;"One Time"==t?(e.$refs.validateService.updateProperty("BillingFrequency","value","1"),e.$refs.validateService.UpdateKeyValue()):(e.$refs.validateService.updateProperty("BillingFrequency","value","2"),e.$refs.validateService.UpdateKeyValue())},BindEditDetail:function(t){var e=this,a="serviceId="+t;_["a"].GetServiceListById(a).then(t=>{if("Success"==t.data.status&&JSON.parse(t.data.result).data.length>0)if(e.serviceDetail=JSON.parse(t.data.result).data,e.FormSchema[0].Data[0].value=e.serviceDetail[0].SERVICE_FOR.toUpperCase(),"UTILITY_BILLING"==e.serviceDetail[0].SERVICE_FOR?(e.FormSchema[0].Data[1].visibility=!0,e.FormSchema[0].Data[1].value=e.serviceDetail[0].METER_TYPE_ID):e.FormSchema[0].Data[1].visibility=!1,null!=e.serviceDetail[0].METER_TYPE_ID&&e.BindUnitByUtilityId(e.serviceDetail[0].METER_TYPE_ID,e.serviceDetail[0].USAGE_MEASUREMENT_ID),null!=e.serviceDetail.WORK_TYPE_ID&&(e.FormSchema[0].Data[5].value=e.serviceDetail[0].WORK_TYPE_ID),e.FormSchema[0].Data[2].value=e.serviceDetail[0].SERVICE_CODE_ID,e.FormSchema[0].Data[3].value=e.serviceDetail[0].SERVICE_NAME,e.FormSchema[0].Data[4].value=e.serviceDetail[0].USAGE_MEASUREMENT_ID,e.FormSchema[1].Data[1].value=e.serviceDetail[0].CLIENT_DEFINED_IDENTIFIER,"Recurring"==e.serviceDetail[0].SERVICE_TYPE_CODE||"Minimum Fee"==e.serviceDetail[0].SERVICE_TYPE_CODE||"Recurring Arrears"==e.serviceDetail[0].SERVICE_TYPE_CODE?e.FormSchema[1].Data[2].value="2":e.FormSchema[1].Data[2].value="1",e.FormSchema[1].Data[3].value=e.serviceDetail[0].STATUS_ID,e.FormSchema[2].Data[0].value=e.serviceDetail[0].DESCRIPTION,e.serviceDetail[0].is_taxable){e.FormSchema[1].Data[4].value=e.serviceDetail[0].is_taxable;var a=e.serviceDetail[0].TAX_IDS.split(","),i=e.TaxData.filter(t=>a.includes(t.value)),s=[];i.forEach(t=>{var e={value:t.value,label:t.name};s.push(e)}),e.FormSchema[1].Data[5].value=s,e.FormSchema[1].Data[5].visibility=!0}else e.FormSchema[1].Data[5].visibility=!1})},BindUnitByUtilityId:function(t,e){var a=this,i="id=&moduleName=&type=UTILITY_UNIT_OF_MEASUREMENTS&search=&refId="+t;_["a"].GetDDLData(i).then(t=>{if(t.data){var i=t.data;null!=i&&(a.$refs.validateService.updateProperty("UsageMeasurement","visibility",!0),a.$refs.validateService.updateProperty("UsageMeasurement","config.options",t.data.DATA),a.$refs.validateService.updateProperty("UsageMeasurement","value",e),a.$refs.validateService.UpdateKeyValue())}})},GetDDLServiceType:function(){var t=this;let e=[];t.billingTypeOptions.forEach((function(t,a){e.push(t.FEATURE_ID)}));var a="id=&moduleName=&type=TICKETING_SERVICE_TYPE&search=&refId="+e.join(",");_["a"].GetDDLData(a).then(e=>{if(e.data){var a="";a=e.data,"One Time"==t.paymentType&&null!=a?(a=a.DATA.filter(t=>"Order Based"!==t.name&&"Recurring"!==t.name&&"Recurring Arrears"!==t.name&&"Usage Based"!==t.name),t.$refs.validateService.updateProperty("ServiceType","config.options",a),t.$refs.validateService.UpdateKeyValue()):"One Time"!=t.paymentType&&null!=a&&(t.$refs.validateService.updateProperty("ServiceType","config.options",a.DATA),t.$refs.validateService.UpdateKeyValue())}})},GetDDLWorkType:function(){var t=this,e="id=&moduleName=TICKETING&type=FSM_WORKTYPE&search=&refId=";_["a"].GetDDLData(e).then(e=>{if(e.data){var a=e.data;null!=a&&t.FormSchema[1].Data[0].config.options.push(a)}})},ChangeServiceFor:function(){var t=this;("UTILITY_BILLING"==t.billingTypeOptions[0].FEATURE_CODE||"SUBSCRIPTION_BILLING"==t.billingTypeOptions[0].FEATURE_CODE)&&(t.$refs.validateService.updateProperty("WorkType","visibility",!1),t.$refs.validateService.UpdateKeyValue())},ClosePopUp:function(){var t=this;t.$parent.isCreateService=!1},async SaveData(t){var e=this;const a=await e.$refs.validateService.validateForm.validate();if(a){var i=e.$refs.validateService.getPropertyValue("BillingTypeOptions","value"),s=e.$refs.validateService.getPropertyValue("meterTypeId","value"),o=e.$refs.validateService.getPropertyValue("ServiceType","value"),n=e.$refs.validateService.getPropertyValue("Name","value"),l=e.$refs.validateService.getPropertyValue("UsageMeasurement","value"),r=e.$refs.validateService.getPropertyValue("WorkType","value"),c=e.$refs.validateService.getPropertyValue("ClientDefinedIdentifier","value"),d=e.$refs.validateService.getPropertyValue("Status","value"),u=e.$refs.validateService.getPropertyValue("Description","value"),p=e.$refs.validateService.getPropertyValue("IsTaxble","value"),m=e.$refs.validateService.getPropertyValue("SelectedTax","value");if(""!=m)var h=m.map(t=>t.value).join(",");var v={ID:e.serviceId,ServiceFor:i,MeterTypeId:s,ServiceType:o,Name:n,UsageMeasurement:l,WorkType:r,ClientDefinedIdentifier:c,Status:d,Description:u,Istaxable:p,SelectedTax:h},f=JSON.stringify(v),g="objData="+encodeURIComponent(f);await _["a"].CreateNewService(g).then(a=>{null!=a.data&&("Success"==a.data.Status&&"1"==a.data.Code?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Service")]),"Success",!0,e.$t("Alert")),e.ClosePopUp(),e.isForService,e.isLoading=!1):"Success"==a.data.Status&&"2"==a.data.Code?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Service")]),"Success",!0,e.$t("Alert")),e.ClosePopUp(),e.isForService,e.isLoading=!1):"Success"==a.data.Status&&"4"==a.data.Code?e.ShowAlert(e.$t("AlreadyExists",[e.$t("Service")]),"failure",!0,e.$t("Alert")):(e.ShowAlert(e.$t("ErrorWhileSaving",[e.$t("Service")]),"danger",!0,e.$t("Alert")),e.isLoading=!1),"SaveAndNew"==t?e.resetForm():"SaveAndNext"==t?e.Skip():("SaveAndFinish"==t||"SaveAndClose"==t)&&e.Finish())})}},ChangeIsTaxble(t,e){var a=this;t?a.FormSchema[1].Data[5].visibility=!0:(a.FormSchema[1].Data[5].visibility=!1,a.FormSchema[1].Data[5].value="")},GetTaxCategory(){var t=this,e="id=&moduleName=&type=TAX_CATEGORY&search=&refId=";t.FormSchema[1].Data[5].config.options=[],_["a"].GetDDLData(e).then(e=>{200==e.status&&(void 0==e.data.DATA&&null==e.data.DATA||e.data.DATA.length>0&&(t.TaxData=e.data.DATA,e.data.DATA.forEach(e=>{let a={value:e.value,name:e.name};t.FormSchema[1].Data[5].config.options.push(a)}),t.$refs.validateService.UpdateKeyValue()))})},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})})},PreviousButton:function(){var t=this;t.$emit("previousTab")},Skip:function(){var t=this;t.$emit("nextTab",!0)},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await DataService.UpdateUserSettingConfig(e).then(t=>{})}}},gs=fs,bs=Object(u["a"])(gs,hs,vs,!1,null,null,null),Ss=bs.exports,ys=a("3713"),Cs=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("dynamic-form",{ref:"validatePlan",attrs:{lang:"en",buttons:!1,schema:t.FormSchema},scopedSlots:t._u([{key:"tgslot-AdditionalFrequency",fn:function({data:a}){return[e("div",[e("label",[t._v(t._s(t.$t("AdditionalFrequency"))+":")])]),e("div",{staticClass:"row"},t._l(t.frequencyOptions,(function(a,i){return e("div",{key:i,staticClass:"col-sm-12 col-md-4 col-lg-4 col-xl-4 mb-3"},[e("div",{staticClass:"card-container border p-3"},[e("div",{staticClass:"form-group mb-1"}),e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{staticClass:"chkitems1 custom-control-input",attrs:{type:"checkbox",id:"frequency_"+i},domProps:{checked:a.checked},on:{change:function(e){return t.toggleFrequency(i,e)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:"frequency_"+i}}),e("span",{staticClass:"ml-1 font-weight-400"},[t._v(t._s(a.label))])]),e("div",{staticClass:"discount-container"},[e("label",[t._v("Discount Value (%):")]),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:a.discount,expression:"frequency.discount"}],staticClass:"form-control",attrs:{type:"text",disabled:a.disabled,placeholder:"Enter discount value"},domProps:{value:a.discount},on:{input:[function(e){e.target.composing||t.$set(a,"discount",e.target.value)},function(e){return t.validateDiscountValue(a)}]}})])])])})),0)]}}])})],1),e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header",staticStyle:{"max-height":"500px"}},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",{staticClass:"text-capitalize"},[e("th",{staticClass:"text-center",staticStyle:{width:"5%"}},[e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{staticClass:"chkitems1 custom-control-input",attrs:{type:"checkbox",id:"talygenServicesCheckAll",name:"selectedItems1"},domProps:{checked:t.selectAll},on:{change:t.selectAllItems}}),e("label",{staticClass:"custom-control-label",attrs:{for:"talygenServicesCheckAll"}})])])]),e("th",{attrs:{scope:"col"}},[t._v(t._s(t.$t("ServiceName")))]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(t._s(t.$t("ServiceType")))]),"SUBSCRIPTION_BILLING"!=t.planCode?e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v(t._s(t.$t("UsageMeasurement")))]):t._e()])]),e("tbody",[0===t.ServiceListing.length?e("tr",[e("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"4"}},[t._v(" "+t._s(t.$t("NoRecordfound"))+" ")])]):t._l(t.ServiceListing,(function(a,i){return e("tr",{key:i},[e("td",{staticClass:"text-center"},[e("label",{staticClass:"form-check form-check-inline"},[e("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedItems,expression:"selectedItems"}],staticClass:"chkitems custom-control-input",attrs:{type:"checkbox",id:"tabletablebordered"+i,name:"selectedItems",disabled:1002===a.status_id},domProps:{value:a.service_id,checked:Array.isArray(t.selectedItems)?t._i(t.selectedItems,a.service_id)>-1:t.selectedItems},on:{change:[function(e){var i=t.selectedItems,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=a.service_id,l=t._i(i,n);s.checked?l<0&&(t.selectedItems=i.concat([n])):l>-1&&(t.selectedItems=i.slice(0,l).concat(i.slice(l+1)))}else t.selectedItems=o},t.updateSelectAll]}}),e("label",{staticClass:"custom-control-label",attrs:{for:"tabletablebordered"+i}})])])]),e("td",[t._v(t._s(a.service_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(a.service_code))]),"SUBSCRIPTION_BILLING"!=t.planCode?e("td",{staticClass:"text-center"},[t._v(t._s(a.usage_measurement))]):t._e()])}))],2)])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn btn-success formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.SaveData("SaveAndNew")}}},[e("em",{staticClass:"fa fa-save pr-2 font-16"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])]),e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),t.isShowReport?e("div",{staticClass:"modal d-block dialog"},[e("div",{staticClass:"modal-dialog modal-lg"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("Email Template")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.CloseTemplate}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"listing"},[e("div",{staticStyle:{border:"1px solid #ddd",padding:"10px","margin-top":"10px","min-height":"50vh","overflow-y":"auto"},domProps:{innerHTML:t._s(t.Emailcontent)}})])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-danger",on:{click:t.CloseTemplate}},[e("em",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Cancel"))+" ")])])])])]):t._e()],1)])],1)},_s=[],As=(a("88a7"),a("271a"),a("5494"),{props:{tabCount:0,currentTabIndex:0},data(){return{isMonthly:!1,isWeekly:!1,isBiWeekly:!1,isQuarterly:!1,isFourMonth:!1,isSemiAnnually:!1,isYearly:!1,additionalFrequencyList:[],discountValue:0,discountValueWeekly:0,discountValuBiWeekly:0,discountValueQuarterly:0,discountValueMonthBasis:0,discountValueSemiAnnually:0,discountValueYearly:0,isLoading:!1,noOfDays:"",value:0,CustomName:"",FormSchema:[{layoutType:"triple",Data:[{astype:"SelectField",label:this.$t("billingtype"),name:"BillingTypeOptions",value:"",visibility:!0,config:{options:[],onChange:this.onChangeOfBillingType},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("MeterType"),name:"meterTypeId",visibility:!1,value:"",config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("CustomerType"),name:"CustomerType",value:"",visibility:!1,config:{options:[]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"RadioField",label:this.$t("PlanType"),name:"IsForPlan",visibility:!0,value:"2",config:{options:[{value:"1",name:"Prepaid"},{value:"2",name:"Postpaid"}],onChange:this.onChangePlanType},validationRules:{required:!0,max:100}},{astype:"TextField",label:this.$t("PlanName"),name:"PlanName",value:"",placeholder:"Enter Plan Name",validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("InvoiceTemplate"),name:"InvoiceTemplate",value:"",config:{options:[],showAddIcon:!0,addIconBackground:"btn-primary",addIcon:"fa fa-eye",onAddButtonClick:this.ShowInvoiceTemplate},placeholder:this.$t("SelectInvoiceTemplate"),validationRules:{required:!0,max:100}},{astype:"RadioField",label:this.$t("showonwebsite"),name:"isShowWebsite",value:"0",config:{options:[{value:"1",name:this.$t("Yes")},{value:"0",name:this.$t("No")}]},validationRules:{required:!1,max:100}},{astype:"RadioField",label:this.$t("showpricing"),name:"isShowPricing",value:"0",config:{options:[{value:"1",name:this.$t("Yes")},{value:"0",name:this.$t("No")}]},validationRules:{required:!1,max:100}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",config:{options:[{value:"1001",name:this.$t("Active")},{value:"1002",name:this.$t("Inactive")}]},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}}]},{layoutType:"double",Data:[{astype:"DateField",label:this.$t("EffectiveDate"),name:"EffectiveDate",value:"",placeholder:"",config:{format:"MM/DD/YYYY",minDate:new Date,onChange:this.setTimerDate,maxDate:!1},validationRules:{required:!0}},{astype:"DateField",label:this.$t("ExpirationDate"),name:"ExpirationDate",value:"",placeholder:"",config:{format:"MM/DD/YYYY",minDate:new Date,maxDate:!1},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("BillingFrequency"),name:"BillingFrequency",value:"",visibility:!0,config:{options:[],onChange:this.onBillingFrequencyChange},placeholder:this.$t("Select"),validationRules:{required:!0,max:100}},{astype:"RadioField",label:this.$t("NoOfDays"),name:"NoOfDays",value:0,visibility:!0,config:{options:[{value:0,name:"Fixed "},{value:1,name:"Custom "}],onChange:this.onNoOfDaysChange},validationRules:{max:200,required:!1}},{astype:"NumericField",label:this.$t("Custom Days "),name:"CustomDaysField",palceholder:"",value:"",validationRules:{required:!0},disabled:!1,visibility:!1,config:{onKeyUp:this.onCustomDaysChange}},{astype:"SlotField",label:"",name:"AdditionalFrequency",value:"",visibility:!1,placeholder:"",config:{options:[]},validationRules:""},{astype:"RadioField",label:this.$t("ProratedInvoice"),name:"proratedinvoice",visibility:!0,value:"0",config:{options:[{value:"1",name:this.$t("Yes")},{value:"0",name:this.$t("No")}]},validationRules:{required:!0,max:100}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",placeholder:"",config:{rows:3},validationRules:{required:!0,max:2e3}}]},{layoutType:"single",Data:[{astype:"FileField",label:this.$t("Image"),name:"Attachment",placeholder:"",validationRules:"",FieldIndex:0,config:{maxSize:5,showSelectedFiles:[],accept:[{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"}],onDeleteSelectedFiles:this.onDeleteSelectedFiles,onChange:this.GetBase64String,showAddIcon:!1,onAddButtonClick:"",multiple:!1}}]}],buttons:[{type:"submit",class:"btn btn-success save",value:"Y",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save"),onClick:this.SaveData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.Close}],plan_Id:0,frequencyOptions:[{label:"Quarterly",frequency:"Quarterly",checked:!1,discount:"",disabled:!0},{label:"4 Month Basis",frequency:"4 Month Basis",checked:!1,discount:"",disabled:!0},{label:"Semi Annually",frequency:"Semi-Annually",checked:!1,discount:"",disabled:!0},{label:"Yearly",frequency:"Yearly",checked:!1,discount:"",disabled:!0}],fileData:[],billingFrequencyMasterOptions:[{value:"One Time",name:this.$t("OneTime")},{value:"Monthly",name:this.$t("Recurring")+" ("+this.$t("Monthly")+")"}],showNoOfDays:!1,billingFrequencyOptions:[],Emailcontent:"",isShowReport:!1,template_id:"",Plane_id:0,GetIsForValue:2,isdiscountDisabled:!0,CompanyLogo:"",refCode:"",editDetail:[],IsForDetail:"",billingTypeOptions:[],ServiceListing:[],selectedItems:[],selectAll:!1,noRecord:!1,CurrentPage:1,TotalPages:0,TotalRecords:0,SortBy:"",SortExp:"",PageSize:"10",GroupStart:1,GroupEnd:3,PageNumber:"1",planCode:"UTILITY_BILLING",paymentType:"Monthly"}},created:async function(){let t=[],e=this;await e.GetExtraFeatures(),await e.GetServiceList(),this.CompanyLogo=e.GetUserInfo.CompanyLogo,await this.GetCompanyLogo(this.CompanyLogo),"Clone"!=e.refCode&&"Update"!=e.refCode||(e.Plane_id=e.editDetail[0].PLAN_ID,e.GetIsForValue=e.editDetail[0].IS_FOR_PLAN),"Update"!=e.refCode&&"Clone"!=e.refCode||e.editDetail.length>0&&setTimeout(()=>{this.BindEditDetail(e.editDetail),e.editDetail[0].CLIENT_COUNT},500),await e.GetDDLInvoiceTemplateData(),await e.GetDDLCustomerTypeData(),await e.getMeterTypes(),e.billingFrequencyOptions=[...e.billingFrequencyMasterOptions],e.updateBillingFrequencyOptions(e.GetIsForValue),e.billingTypeOptions.length>1?(e.billingTypeOptions.forEach((function(e,a){t.push({value:e.FEATURE_CODE,name:e.FEATURE_NAME})})),e.FormSchema.forEach((function(e,a){e.Data.forEach((function(a,i){"BillingTypeOptions"==a.name&&(a.config.options=t,a.visibility=!0,e.layoutType="triple"),a.name}))}))):e.FormSchema.forEach((function(t,a){t.Data.forEach((function(a,i){"BillingTypeOptions"==a.name?(a.config.options.push({name:e.billingTypeOptions[0].FEATURE_NAME,value:e.billingTypeOptions[0].FEATURE_CODE}),a.value=e.billingTypeOptions[0].FEATURE_CODE,t.layoutType="double"):"CustomerType"==a.name&&"UTILITY_BILLING"==e.billingTypeOptions[0].FEATURE_CODE&&(a.visibility=!0,t.layoutType="triple",e.FormSchema[0].Data[1].visibility=!0,e.FormSchema[0].Data[2].visibility=!0)}))})),void 0!=this.$route.params.id?e.plan_Id=parseInt(this.$route.params.id):e.plan_Id=e.editDetail[0].PLAN_ID},methods:{GetExtraFeatures:async function(){var t=this,e="featureCode=GET_EXTRA_FEATURE_BILLING&outputType=list";await _["a"].CheckExtraFeatures(e).then((function(e){var a=JSON.parse(e.data);t.billingTypeOptions=a}))},async GetCompanyLogo(t){var e=this,a="imagename="+t;await _["a"].GetCompanyLogo(a).then(t=>{e.CompanyLogo=t.data})},toggleFrequency(t,e){const a=this.frequencyOptions[t];a.checked=e.target.checked,a.disabled=!a.checked,a.checked||(a.discount=""),console.log("frequencyOptions updated:",this.frequencyOptions)},checkboxChange(t){console.log("Checkbox changed for:",t.frequency);this.frequencyOptions.filter(t=>t.checked)},validateDiscountValue(t){const e=Number(t.discount);isNaN(e)||e<0?t.discount="":e>100&&(t.discount=100)},onBillingFrequencyChange(t){let e=this.$refs.validatePlan.getPropertyValue("BillingFrequency","value");"One Time"===e?this.$refs.validatePlan.updateProperty("NoOfDays","visibility",!1):this.$refs.validatePlan.updateProperty("NoOfDays","visibility",!0),"One Time"===e?this.$refs.validatePlan.updateProperty("AdditionalFrequency","visibility",!1):this.$refs.validatePlan.updateProperty("AdditionalFrequency","visibility",!0)},onNoOfDaysChange(t){let e=this.$refs.validatePlan.getPropertyValue("NoOfDays","value");1==e?this.$refs.validatePlan.updateProperty("CustomDaysField","visibility",!0):0==e&&this.$refs.validatePlan.updateProperty("CustomDaysField","visibility",!1)},onCustomDaysChange(t){var e=this;const a=this.$refs.validatePlan.getPropertyValue("CustomDaysField","value");return a<1?(e.ShowAlert("Minimum allowed value is 1.","warning",!0,"Alert"),void this.$refs.validatePlan.updateProperty("CustomDaysField","value","")):a>366?(e.ShowAlert("Maximum allowed value is 366.","warning",!0,"Alert"),void this.$refs.validatePlan.updateProperty("CustomDaysField","value","")):void 0},async getMeterTypes(){const t=this;try{const e=await _["a"].GetMeterTypes();if(null!==e&&void 0!==e&&e.data){const a=JSON.parse(e.data.result).data;Array.isArray(a)&&a.length>0?(a.map(e=>{t.FormSchema[0].Data[1].config.options.push({value:e.meter_id,name:e.meter_name})}),t.$refs.validatePlan.UpdateKeyValue()):console.warn("No valid data found in the response")}else console.error("Invalid response structure:",e)}catch(e){console.error("Error fetching Meter types:",e)}},setTimerDate:function(t,e,a){var i=this;"EffectiveDate"==e.name&&(i.$refs.validatePlan.updateProperty("ExpirationDate","config.minDate",t),i.$refs.validatePlan.UpdateKeyValue())},onDeleteSelectedFiles:function(t){this.$delete(this.FormSchema[4].Data[0].config,"showSelectedFiles")},GetBase64String:function(t){try{var e=this;e.fileData=[];var a=t.target.files[0],i=new FileReader;i.onload=function(t){return function(t){var i=t.target.result,s=window.btoa(i),o=a.name;e.fileName=o;var n=o.lastIndexOf("."),l=o.substring(n+1,o.length);e.fileExt+="."+l;var r='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+l+'"}',c=a.size;e.fileSize=c;var d={attachement_mime:r,fileName:o,base64String:s,fileSize:a.size,contentType:a.type};e.fileData.push(d)}}(),i.readAsBinaryString(a)}catch(s){}},onChangeOfBillingType:function(t,e){let a=this;"UTILITY_BILLING"==e.value?(a.FormSchema[0].Data[1].visibility=!0,a.FormSchema[0].Data[2].visibility=!0):(a.FormSchema[0].Data[1].visibility=!1,a.FormSchema[0].Data[2].visibility=!1)},interpolateTemplate(t,e){return t.replace(/{{(.*?)}}/g,(t,a)=>{const i=e[a.trim()];return null!=i?i:"--"})},ShowInvoiceTemplate:async function(t,e){var a=this;let i={invoicetitle:"INVOICE",invoice:"invoice",watermarkclass:"watermark",watermarkname:"Sample Invoice",company_logo:a.CompanyLogo,clientname:"John Doe",invoicedate:"2025-07-30",duedate:"2025-08-15",invoicenumber:"INV-123456",companyname:"Acme Inc.",companyaddress:"123 Elm Street",companystate:"California",companyzipcode:"90001",companycountry:"USA",clientaddress:"456 Pine Ave",clientstate:"Nevada",clientzipcode:"89101",clientcountry:"USA",deliveraddress:"789 Maple Rd",deliverstate:"Texas",deliverzipcode:"73301",delivercountry:"USA",plan_name:"Premium Plan",plan_type:"Monthly",from_date:"2025-07-01",to_date:"2025-07-31",symbol:"$",items:'\n                <tr>\n                <td style="text-align:left;">Website Hosting</td>\n                <td>1</td>\n                <td>$100</td>\n                <td>$100</td>\n                </tr>\n            ',subtotal:"$100",discounttaxadjustments:"No Discount",nettotal:"$100",paymentterms:"<p>Please make payment within 15 days.</p>",status_name:"Paid",dueamount:"$30",afterduedate:"$33"},s=a.$refs.validatePlan.getPropertyValue("InvoiceTemplate","value");if(s>0){a=this;a.isLoading=!0;var o="emailcontentId="+s;await _["a"].GetEmailcontent(o).then(t=>{null==t.data&&""==t.data||(a.Emailcontent=a.interpolateTemplate(t.data[0].TEMPLATE_CONTENT,i))}),a.isShowReport=!0,a.isLoading=!1}else a.ShowAlert(a.$t("PleaseSelectTemplate"),"warning")},updateBillingFrequencyOptions(t="2"){const e=this;"2"==t?(e.billingFrequencyOptions=e.billingFrequencyMasterOptions.filter(t=>"One Time"!==t.value),e.$refs.validatePlan.updateProperty("proratedinvoice","visibility",!1)):(e.billingFrequencyOptions=[...e.billingFrequencyMasterOptions],e.$refs.validatePlan.updateProperty("proratedinvoice","visibility",!0)),e.$refs.validatePlan.updateProperty("BillingFrequency","config.options",e.billingFrequencyOptions),e.$refs.validatePlan.UpdateKeyValue()},onChangePlanType:function(t,e){this.updateBillingFrequencyOptions(e.value)},Close:function(){var t=this;"Update"==t.refCode||"Clone"==t.refCode?(t.$parent.isCheckEditPlan=!1,t.$parent.isEditPlan=!1,t.$parent.refCode):t.$parent.isEditPlan=!1},CloseTemplate:function(){var t=this;t.isShowReport=!1},BindEditDetail:function(t){var e=this;if(t[0].PLAN_IMAGE_URL){let i=new URL(t[0].PLAN_IMAGE_URL),s=i.pathname.startsWith("/")?i.pathname:"/"+i.pathname,o=s.replace(/^\/+/,""),n=o.split("/").pop();var a={attachmentName:n,attachmentPath:o};null!=o&&null!=n&&e.FormSchema[3].Data[0].config.showSelectedFiles.push(a)}if("UTILITY_BILLING"==t[0].PLAN_CODE?(e.FormSchema[0].Data[1].visibility=!0,e.FormSchema[0].Data[2].visibility=!0):(e.FormSchema[0].Data[1].visibility=!1,e.FormSchema[0].Data[2].visibility=!1),e.$refs.validatePlan.updateProperty("BillingTypeOptions","value",t[0].PLAN_CODE),e.$refs.validatePlan.updateProperty("meterTypeId","value",t[0].METER_TYPE_ID),e.$refs.validatePlan.updateProperty("IsForPlan","value",t[0].IS_FOR_PLAN),1==t[0].IS_FOR_PLAN?e.$refs.validatePlan.updateProperty("proratedinvoice","visibility",!1):e.$refs.validatePlan.updateProperty("proratedinvoice","visibility",!0),e.$refs.validatePlan.updateProperty("PlanName","value",t[0].PLAN_NAME),e.$refs.validatePlan.updateProperty("Status","value",t[0].STATUS_ID),e.$refs.validatePlan.updateProperty("InvoiceTemplate","value",t[0].INVOICE_TEMPLATE_ID),e.$refs.validatePlan.updateProperty("EffectiveDate","value",t[0].EFFECTIVE_DATE),e.$refs.validatePlan.updateProperty("ExpirationDate","value",t[0].EXPIRATION_DATE),e.$refs.validatePlan.updateProperty("CustomerType","value",t[0].CUSTOMER_SEGMENT_ID),e.$refs.validatePlan.updateProperty("Description","value",t[0].PLAN_DESCRIPTION),e.$refs.validatePlan.updateProperty("BillingFrequency","value",t[0].PAYMENT_TYPE),"One Time"===t[0].PAYMENT_TYPE?(e.$refs.validatePlan.updateProperty("NoOfDays","visibility",!1),e.$refs.validatePlan.updateProperty("AdditionalFrequency","visibility",!1)):(e.$refs.validatePlan.updateProperty("NoOfDays","visibility",!0),e.$refs.validatePlan.updateProperty("AdditionalFrequency","visibility",!0)),e.$refs.validatePlan.updateProperty("no_of_plan","value",t[0].no_of_plan),e.$refs.validatePlan.updateProperty("NoOfDays","value",t[0].NoOfDays),this.onNoOfDaysChange(t[0].NoOfDays),1==t[0].NoOfDays?(e.$refs.validatePlan.updateProperty("CustomDaysField","visibility",!0),e.$refs.validatePlan.updateProperty("CustomDaysField","value",t[0].no_of_plan)):e.$refs.validatePlan.updateProperty("CustomDaysField","visibility",!1),e.$refs.validatePlan.updateProperty("isShowWebsite","value",1==t[0].IS_SHOW_ON_WEBSITE?"1":"0"),e.$refs.validatePlan.updateProperty("isShowPricing","value",1==t[0].IS_SHOW_ON_PRICING?"1":"0"),e.$refs.validatePlan.updateProperty("proratedinvoice","value",1==t[0].IS_PRORATED_INVOICE?"1":"0"),t[0].ADDITIONAL_FREQUENCY){const a=JSON.parse(`[${t[0].ADDITIONAL_FREQUENCY}]`);e.frequencyOptions=e.frequencyOptions.map(t=>{const e=a.find(e=>e.frequency===t.frequency);return e?{...t,discount:e.discount||"",checked:!!e.frequency,disabled:!e.frequency}:{...t,discount:"",selected:!1,disabled:!0}})}e.$refs.validatePlan.UpdateKeyValue()},GetDDLCustomerTypeData:function(){var t=this,e="id=&moduleName=&type=CUSTOMER_TYPE&search=";_["a"].GetDDLData(e).then(e=>{if(e.data){var a=e.data;null!=a&&(t.$refs.validatePlan.updateProperty("CustomerType","config.options",e.data.DATA),t.$refs.validatePlan.UpdateKeyValue())}})},GetDDLInvoiceTemplateData:function(){var t=this,e="id=&moduleName=&type=PLAN_BILL_TEMPLATE&search=";_["a"].GetDDLData(e).then(e=>{if(e.data){var a=e.data;null!=a&&(t.$refs.validatePlan.updateProperty("InvoiceTemplate","config.options",e.data.DATA),t.$refs.validatePlan.UpdateKeyValue())}})},async SaveData(t){const e=this,a=await e.$refs.validatePlan.validateForm.validate();if(!a)return;let i=0,s="1"==e.$refs.validatePlan.getPropertyValue("isShowWebsite","value"),o="1"==e.$refs.validatePlan.getPropertyValue("isShowPricing","value"),n=e.$refs.validatePlan.getPropertyValue("IsForPlan","value"),l=e.$refs.validatePlan.getPropertyValue("PlanName","value"),r=e.$refs.validatePlan.getPropertyValue("Status","value"),c=e.$refs.validatePlan.getPropertyValue("InvoiceTemplate","value"),d=e.$refs.validatePlan.getPropertyValue("CustomerType","value"),u=e.$refs.validatePlan.getPropertyValue("EffectiveDate","value"),p=e.$refs.validatePlan.getPropertyValue("ExpirationDate","value"),m=e.$refs.validatePlan.getPropertyValue("Description","value"),h=e.$refs.validatePlan.getPropertyValue("BillingTypeOptions","value"),v=e.$refs.validatePlan.getPropertyValue("BillingFrequency","value"),f="1"==e.$refs.validatePlan.getPropertyValue("proratedinvoice","value"),g=Number(e.$refs.validatePlan.getPropertyValue("NoOfDays","value")),b=null;1===g&&(b=e.$refs.validatePlan.getPropertyValue("CustomDaysField","value"));let S=[];"one time"!==(v||"").toLowerCase()&&(S=e.frequencyOptions.filter(t=>t.checked).map(t=>({plan_additional_frequency_id:t.id||0,plan_id:e.plan_Id||0,frequency:t.frequency,discount:t.discount||0,status_id:1})));const y=0===e.plan_Id||null===e.plan_Id||void 0===e.plan_Id,C={id:y?0:e.plan_Id,meterTypeId:i,isShowWebsite:s,isShowPricing:o,isForPlan:n,planName:l,planCode:h,status:r,invoiceTemplate:c,effectiveDate:u,expirationDate:p,customerType:d||"0",description:m,billingFrequency:v,isproratedinvoice:f,attachment:JSON.stringify(e.fileData),NoOfPlan:b,NoOfDays:g,planAdditionalFrequencies:S};let A="Clone"===e.refCode?_["a"].ClonePlan(C):_["a"].AddUpdatePlan(C);await A.then(a=>{if(a.data&&"Success"===a.data.Status){a.data.Result,e.billingTypeOptions[0].FEATURE_CODE;if("1"===a.data.Code)e.ShowAlert(e.$t("AddedPlan"),"success");else if("2"===a.data.Code)e.ShowAlert(e.$t("UpdatedPlan"),"success");else if("4"===a.data.Code)return void e.ShowAlert(e.$t("AlreadyExists",[e.$t("Plan")]),"failure",!0,e.$t("Alert"));e.isLoading=!1,e.IsForDetail,e.SaveServiceData(),"SaveAndNew"==t?e.resetForm():"SaveAndNext"==t?e.Skip():("SaveAndFinish"==t||"SaveAndClose"==t)&&e.Finish()}else e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert"))})},PreviousButton:function(){var t=this;t.$emit("previousTab")},Skip:function(){var t=this;t.$emit("nextTab",!0)},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})})},async GetServiceList(){var t=this;t.isLoading=!0;const e=`pagesize=${t.PageSize}&pagenumber=${t.PageNumber}&plan_id=&sortBy=${t.SortBy}&sortExp=${t.SortExp}&planCode=${t.planCode}&search=`;await _["a"].GetServiceListing(e).then(e=>{"Success"===e.data.status&&(""!=e.data&&null!=e.data?(e.data.result.data.length>0?(t.ServiceListing=e.data.result.data,"One Time"==t.paymentType&&(t.ServiceListing=t.ServiceListing.filter(t=>"Order Based"!==t.service_code&&"Recurring"!==t.service_code&&"Recurring Arrears"!==t.service_code&&"Usage Based"!==t.service_code)),t.TotalRecords=e.data.result.data[0].TOTALRECORDS,t.noRecord=!1):(t.noRecord=!0,t.TotalRecords=0,t.ServiceListing=[]),t.isLoading=!1):(t.noRecord=!0,t.TotalRecords=0,t.ServiceListing=[],t.isLoading=!1))})},selectAllItems(){var t=this;this.selectAll=!this.selectAll,this.selectAll?this.ServiceListing.forEach((function(e){t.selectedItems.push(e.service_id)})):this.selectedItems=[]},updateSelectAll(){var t=this;const e=this.ServiceListing.length,a=this.selectedItems.length;t.selectAll=e>0&&a===e},async SaveServiceData(){var t=this;const e=t.ServiceListing.filter(t=>this.selectedItems.includes(t.service_id)),a=JSON.stringify(e);var i={objData:a,planId:t.PlanId};await _["a"].AddSelectedService(i).then(e=>{null!=e.data&&("Success"==e.data.Status&&"1"==e.data.Code?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Service")]),"Success",!0,t.$t("Alert")),t.isLoading=!1):(t.ShowAlert(t.$t("ErrorWhileSaving",[t.$t("Service")]),"danger",!0,t.$t("Alert")),t.isLoading=!1),t.selectedItems=[],t.selectAll=!1)})}}}),Ds=As,Ts=(a("1f57"),Object(u["a"])(Ds,Cs,_s,!1,null,null,null)),ws=Ts.exports,xs=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("div",{staticClass:"border p-3"},[e("Form",{ref:"LeadForm"},[e("dynamic-form",{ref:"ManageClientForm",attrs:{buttons:!1,schema:t.FormSchema}})],1)],1)]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:t.saveForm}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e()])])])])],1)},ks=[],Is={props:{tabCount:0,currentTabIndex:0},data(){return{IsShow:!0,FormSchema:[],fileMulitpleData:[],buttons:[{type:"submit",class:"btn btn-success AddLeadDetail_a",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel,isVisible:!0}]}},created(){var t=this;t.getForm()},methods:{onCancel:function(){var t=this;t.$router.push({name:"ClientListing"})},getForm(){var t=this;t.isLoading=!0;var e="recordId=0&moduleName=Company&subModuleCode=Client&langCode=en";_["a"].GetDynamicForm(e).then((function(e){null!=e&&null!=e.data&&(t.FormSchema=t.$refs.ManageClientForm.ConvertCustomFieldIntoDynamicFormObj(e.data.data),t.FormSchema.forEach((e,a)=>{e.Data.forEach(async(e,a)=>{if("is_existing_account"==e.name&&""==e.value&&(e.value="1"),"account_name"==e.name&&(e.visibility=!0),"parent_id"==e.name&&(e.visibility=!1),"user_type_id"==e.name&&""==e.value&&(e.value=4),"email_id"==e.name&&(e.value=e.value),"status_id"==e.name&&(e.value=1001),"client_type"==e.name&&""==e.value&&(e.value="individual"),"avatar"==e.name){e.showLabel=!1,e.config={maxSize:5,accept:[{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"}],multiple:!1,showSelectedFiles:[],onDeleteSelectedFiles:t.onDeleteSelectedFiles,onClickSelectedFiles:t.onClickSelectedFiles};var i=[];if(""!=e.value){var s={attachmentId:0,attachmentName:JSON.parse(e.value)[0].AttchmentName,attachmentPath:JSON.parse(e.value)[0].AttachmentPath,attachmentDesc:JSON.parse(e.value)[0].AttachmentDesc};i.push(s),i.length>0&&e.config.showSelectedFiles.push(...i)}}e.config.onChange=t.onChangeEventForFields})}),t.isLoading=!1)}))},onDeleteSelectedFiles:function(){var t=this;t.FormSchema.forEach((e,a)=>{e.Data.forEach(async(e,a)=>{"avatar"==e.name&&(t.$delete(e.config,"showSelectedFiles"),t.fileMulitpleData=[])})})},onChangeEventForFields(t,e,a){"avatar"==e.name&&this.GetBase64String(e.value),"is_existing_account"==e.name&&("1"==e.value?(this.$refs.ManageClientForm.updateProperty("parent_id","visibility",!1),this.$refs.ManageClientForm.updateProperty("account_name","visibility",!0)):(this.$refs.ManageClientForm.updateProperty("parent_id","visibility",!0),this.$refs.ManageClientForm.updateProperty("account_name","visibility",!1)))},GetBase64String(t){try{var e=this,a=t[0],i=new FileReader;let s={};i.onload=function(t){return function(t){var i=t.target.result,o=window.btoa(i),n=a.name;e.fileName=n;var l=n.lastIndexOf("."),r=n.substring(l+1,n.length);e.fileExt+="."+r;var c='{"ContentType":"'+a.type+'","Size":"'+a.size+'","Extension":"'+r+'"}',d=a.size;e.fileSize=d,s.attachement_mime=c,s.fileName=n,s.base64String=o,s.fileSize=a.size,s.contentType=a.type,s.ModuleName="Company",s.SubModuleCode="Client",e.fileMulitpleData.push(s)}}(),i.readAsBinaryString(a)}catch(s){}},saveForm(){var t=this;t.isLoading=!0,t.$refs.ManageClientForm.validateForm.validate().then(e=>{if(e){t.isLoading=!0;var a=t.$refs.ManageClientForm.ConvertDynamicFormObjToCustomFieldObj(t.FormSchema);a.forEach(t=>{"last_name"===t.field_name&&(t.field_value&&""!==t.field_value.trim()||(t.field_value="."))});var i={data:a,moduleCode:"Company",subModuleCode:"Client",attachmentData:t.fileMulitpleData.length>0?t.fileMulitpleData:null};_["a"].SaveDynamicForm(JSON.stringify(i)).then((function(e){if(null!=e&&null!=e.data&&"Success"==e.data[0].Status)if(t.isLoading=!1,t.$route.params.id>0)t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("Client")]),"success",!0,t.$t("Alert")),t.$emit("nextTab");else if("DUPLICATE"==e.data[0].Value.MSG)t.ShowAlert(t.$t("AlreadyExists",[t.$t("Email")]),"warning",!0,t.$t("Alert"));else{t.ShowAlert(t.$t("AddedSuccess",[t.$t("Client")]),"success",!0,t.$t("Alert"));var a="User_Id="+e.data[0].Value.MAIN_ID;_["a"].SendEmailClient(a).then(t=>{}),t.$emit("nextTab")}})),t.isLoading=!1}})},Skip:function(){var t=this;t.$emit("nextTab",!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")}}},Fs=Is,$s=Object(u["a"])(Fs,xs,ks,!1,null,null,null),Ls=$s.exports,Es=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0 initialsetuptabsbase"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("div",{staticClass:"col-lg-12 mb-0 float-left p-0"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",{staticClass:"spngropuname"},[t._v(" "+t._s(t.$t("ChooseIndustryType"))+" ")])])]),e("div",{staticClass:"row"},[e("ul",{staticClass:"shortcuts-menu pb-3 connectedSortable advancedsetup newaddprojects"},t._l(t.IndustryTypeTemplate,(function(a,i){return e("li",{key:i,staticClass:"position-relative clients",on:{click:function(e){return t.selectItem(a)},mousedown:function(t){t.preventDefault()}}},[e("a",{staticClass:"short-menu-item",class:{"gen-templateadded i_setup":a.clicked}},[e("span",{staticClass:"left-icon-m"},[e("em",{class:a.icon})]),e("span",{staticClass:"short-item-name"},[t._v(t._s(a.name))])])])})),0)])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.AddIndustryType("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])])],1)},Ps=[],Ns={props:{tabCount:0,currentTabIndex:0},data(){return{IndustryTypeTemplate:[],selectedItemId:null}},created:async function(){var t=this;t.GetIndustryType()},methods:{GetIndustryType:function(){_["a"].GetTemplateList().then(t=>{t.data.result.DATA.length>0&&(this.IndustryTypeTemplate=t.data.result.DATA.map(t=>({...t,clicked:!1})))})},selectItem(t){this.IndustryTypeTemplate.forEach(t=>{this.$set(t,"clicked",!1)}),this.$set(t,"clicked",!0),this.selectedItemId=t.id},AddIndustryType:async function(){var t=this,e="";e="IndustryTypeId="+t.selectedItemId,await _["a"].AddIndustryType(e).then((function(e){e&&null!=e.data?(t.ShowAlert(t.$t("DataSavedSuccessfully"),"success"),t.Finish()):t.Finish()}))},Skip:function(){var t=this;t.$emit("nextTab",!0)},PreviousButton:function(){var t=this;t.$emit("previousTab")},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},Rs=Ns,Os=(a("fa15"),Object(u["a"])(Rs,Es,Ps,!1,null,null,null)),Us=Os.exports,Ms=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("div",[e("div",[e("div",[e("div",{staticClass:"modal-body"},[e("dynamic-form",{ref:"validatePlan",attrs:{lang:"en",buttons:!1,schema:t.FormSchema}})],1)])])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn btn-success formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.SaveData("SaveAndNew")}}},[e("em",{staticClass:"fa fa-save pr-2 font-16"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])])],1)},Gs=[],Bs={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,category_Id:0,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("RateCodeCategory"),name:"category",value:"",placeholder:this.$t("RateCodeCategory"),validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:this.$t("Select"),config:{options:[{value:"1001",name:this.$t("Active")},{value:"1002",name:this.$t("Inactive")}]},validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",placeholder:this.$t("DESCRIPTION"),validationRules:{required:!0,max:6e3}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save"),onClick:this.SaveData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.CloseCategory}]}},methods:{async SaveData(t){var e=this;e.isLoading=!0;const a=await e.$refs.validatePlan.validateForm.validate();if(!a)return void(this.isLoading=!1);const i=e.$refs.validatePlan.getPropertyValue("category","value"),s=e.$refs.validatePlan.getPropertyValue("Status","value"),o=e.$refs.validatePlan.getPropertyValue("Description","value");var n={id:e.category_Id,category_name:i,category_description:o,status:s},l=JSON.stringify(n),r="name="+i;if(!e.category_Id){var c=await _["a"].IsExistCategory(r);if("Exist"===c.data.message)return e.isLoading=!1,void this.ShowAlert(this.$t("AlreadyExists",[this.$t("Category")]),"failure",!0,this.$t("Alert"))}await _["a"].CreateWorkCodeCategory(l).then(async a=>{1==a.data?this.ShowAlert(this.$t("AddedSuccess",[this.$t("Category")]),"Success",!0,this.$t("Alert")):this.ShowAlert(this.$t("UpdatedSuccess",[this.$t("Category")]),"Success",!0,this.$t("Alert")),e.isLoading=!1,"SaveAndNew"==t?e.resetForm():"SaveAndNext"==t?e.Skip():("SaveAndFinish"==t||"SaveAndClose"==t)&&e.Finish()})},PreviousButton:function(){var t=this;t.$emit("previousTab")},Skip:function(){var t=this;t.$emit("nextTab",!0)},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})})},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},Vs=Bs,qs=Object(u["a"])(Vs,Ms,Gs,!1,null,null,null),zs=qs.exports,js=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("div",[e("div",[e("div",[e("div",{staticClass:"modal-body"},[e("dynamic-form",{ref:"validatePlan",attrs:{lang:"en",buttons:!1,schema:t.FormSchema}})],1)])])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn btn-success formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.SaveData("SaveAndNew")}}},[e("em",{staticClass:"fa fa-save pr-2 font-16"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex&&"InitialSetup"!=t.reqFrom?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.SaveData("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])])],1)},Ws=[],Ys={props:{tabCount:0,currentTabIndex:0},data(){return{isLoading:!1,isEditWorkCode:!0,Id:0,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("RateCode"),name:"RateCode",value:"",placeholder:this.$t("RateCode"),validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:this.$t("Status"),config:{options:[{value:"1001",name:this.$t("Active")},{value:"1002",name:this.$t("Inactive")}]},validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("DESCRIPTION"),name:"Description",value:"",placeholder:this.$t("DESCRIPTION"),validationRules:{required:!0,max:6e3}}]},{layoutType:"single",Data:[{astype:"SelectField",label:this.$t("Category"),name:"Category",value:"",placeholder:this.$t("Select"),config:{options:[]},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>"+this.$t("Save"),onClick:this.SaveData},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>"+this.$t("Cancel"),onClick:this.CloseAddWorkCode}]}},mounted(){this.GetCategoryList()},methods:{GetCategoryList(){this.isLoading=!0;const t=this,e=`companyId=${t.GetUserInfo.CompanyId}&loggedinUserID=${t.GetUserInfo.ID}&pageSize=10&pageNum=1&sortBy=&sortExp=&search=`;_["a"].GetWorkCodeCategoryList(e).then(e=>{if(e.data){const a=JSON.parse(e.data);a.forEach(e=>{t.FormSchema[2].Data[0].config.options.push({name:e.WORK_CODE_CATEGORY,value:e.WORK_CODE_CATEGORY_ID}),t.$refs.validatePlan.UpdateKeyValue()})}}).catch(t=>{console.error("Error fetching category list:",t)}).finally(()=>{this.isLoading=!1})},async SaveData(t){this.isLoading=!0;try{const a=await this.$refs.validatePlan.validateForm.validate();if(!a)return void(this.isLoading=!1);const i=this.$refs.validatePlan.getPropertyValue("RateCode","value"),s=this.$refs.validatePlan.getPropertyValue("Status","value"),o=this.$refs.validatePlan.getPropertyValue("Description","value"),n=this.$refs.validatePlan.getPropertyValue("Category","value"),l={id:this.Id,name:i,description:o,status:s,categoryId:n},r=JSON.stringify(l);var e="name="+i;if(!this.Id){const t=await _["a"].ISExistWorkCode(e);if("Exist"===t.data.message)return void this.ShowAlert(this.$t("AlreadyExists",[this.$t("RateCode")]),"failure",!0,this.$t("Alert"))}const c=await _["a"].SaveUpdateWork(r);1==c.data?this.ShowAlert(this.$t("AddedSuccess",[this.$t("RateCode")]),"Success",!0,this.$t("Alert")):2==c.data&&this.ShowAlert(this.$t("UpdatedSuccess",[this.$t("RateCode")]),"Success",!0,this.$t("Alert")),this.isLoading=!1,"SaveAndNew"==t?this.resetForm():"SaveAndNext"==t?this.Skip():("SaveAndFinish"==t||"SaveAndClose"==t)&&this.Finish()}catch(a){console.error("Error saving data:",a)}finally{this.isLoading=!1}},PreviousButton:function(){var t=this;t.$emit("previousTab")},Skip:function(){var t=this;t.$emit("nextTab",!0)},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})})},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Home"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}},Hs=Ys,Js=Object(u["a"])(Hs,js,Ws,!1,null,null,null),Ks=Js.exports,Qs=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"col-md-12 p-0"},[e("div",{staticClass:"tab-content"},[e("div",{staticClass:"dynamiccontent_base"},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(0==this.conditionId?t.$t("AddCondition"):t.$t("EditCondition")))])])]),e("div",{staticClass:"container-fluid mt-3 p-0"},[e("div",{staticClass:"border p-3"},[e("form",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ConditionName"))+":"),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.conditionName,expression:"conditionName"}],class:["form-control",{"is-invalid":t.showError&&!t.conditionName}],attrs:{disabled:t.isEditMode,required:""},domProps:{value:t.conditionName},on:{input:function(e){e.target.composing||(t.conditionName=e.target.value)}}}),t.showError&&!t.conditionName?e("div",{staticClass:"invalid-feedback text-danger small"},[t._v(" "+t._s(t.$t("MandatoryFieldConditionName"))+" ")]):t._e()])]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive table-fix-header overflowauto",staticStyle:{"min-height":"320px"}},[e("table",{staticClass:"table table-bordered",staticStyle:{"min-width":"1000px"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{attrs:{width:"5%"}},[t._v(t._s(t.$t("#")))]),e("th",{attrs:{width:"15%"}},[t._v(t._s(t.$t("RelationWithBelowColumn"))+" ")]),e("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("OpeningBracket"))+" ")]),e("th",{attrs:{width:"20%"}},[t._v(t._s(t.$t("fieldName")))]),e("th",{attrs:{width:"20%"}},[t._v(t._s(t.$t("ConditionalOperator")))]),e("th",{attrs:{width:"20%"}},[t._v(t._s(t.$t("Value"))+" ")]),e("th",{attrs:{width:"10%"}},[t._v(t._s(t.$t("ClosingBracket"))+" ")]),e("th",{attrs:{width:"5%"}})])]),e("tbody",t._l(t.form.conditions,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1))]),e("td",[i>0?e("select",{directives:[{name:"model",rawName:"v-model",value:a.relation,expression:"row.relation"}],staticClass:"form-control p-1",attrs:{disabled:t.isEditMode},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"relation",e.target.multiple?i:i[0])}}},[e("option",{attrs:{value:"AND"}},[t._v(t._s(t.$t("And"))+" ")]),e("option",{attrs:{value:"OR"}},[t._v(t._s(t.$t("OR"))+" ")])]):t._e()]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.openingBracket,expression:"row.openingBracket"}],staticClass:"form-control p-1",attrs:{readonly:""},domProps:{value:a.openingBracket},on:{input:function(e){e.target.composing||t.$set(a,"openingBracket",e.target.value)}}})]),e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:a.field,expression:"row.field"}],staticClass:"form-control p-1",attrs:{disabled:t.isEditMode},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"field",e.target.multiple?i:i[0])},function(e){return t.handleFieldChange(a)}]}},t._l(t.groupedOptions,(function(a,i){return e("optgroup",{key:i,attrs:{label:i}},t._l(a,(function(a){return e("option",{key:a.value,domProps:{value:a.value}},[t._v(" "+t._s(t.$t(a.label))+" ")])})),0)})),0)]),e("td",[e("select",{directives:[{name:"model",rawName:"v-model",value:a.operator,expression:"row.operator"}],staticClass:"form-control p-1",attrs:{disabled:t.isEditMode},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"operator",e.target.multiple?i:i[0])},function(e){return t.handleDropdownValue(a)}]}},[e("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$t("Select")))]),t._l(a.operatorList||[],(function(a){return e("option",{key:a.OPERATOR_ID,domProps:{value:a.OPERATOR_ID}},[t._v(" "+t._s(a.OPERATOR_DISPLAY_NAME)+" ")])}))],2)]),e("td",{staticClass:"d-flex",staticStyle:{overflow:"visible!important","min-width":"320px"}},["date"!==a.sqlType||t.isValueHidden(a)||t.isShowIsWeekDay(a)?t._e():e("v-date-picker",{staticClass:"timedate input-group mr-2",attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:t,togglePopover:a}){return[e("input",{class:{"form-control":!0},attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:t},on:{click:function(t){return a()}}}),e("div",{staticClass:"input-group-append",on:{click:function(t){return a()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"row.value"}}),"date"!==a.sqlType||t.isValueHidden(a)||!t.isValueToVisible(a)||t.isShowIsWeekDay(a)?t._e():e("v-date-picker",{staticClass:"timedate input-group",attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:t,togglePopover:a}){return[e("input",{class:{"form-control":!0},attrs:{placeholder:"MM/DD/YYYY"},domProps:{value:t},on:{click:function(t){return a()}}}),e("div",{staticClass:"input-group-append",on:{click:function(t){return a()}}},[e("span",{staticClass:"input-group-text"},[e("em",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.valueTo,callback:function(e){t.$set(a,"valueTo",e)},expression:"row.valueTo"}}),"select"!==a.sqlType&&"bool"!==a.sqlType||t.isValueHidden(a)||t.isValueToVisible(a)||t.isMultiSelectOperator(a)?t._e():e("select",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"row.value"}],staticClass:"form-control p-1",attrs:{disabled:t.isEditMode},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(a,"value",e.target.multiple?i:i[0])}}},[e("option",{attrs:{value:"",disabled:""}},[t._v(t._s(t.$t("Select")))]),t._l(a.valueOptions||[],(function(a){return e("option",{key:a.id,domProps:{value:a.value}},[t._v(" "+t._s(a.name)+" ")])}))],2),"select"===a.sqlType&&t.isMultiSelectOperator(a)&&!t.isValueHidden(a)?e("Multiselect",{attrs:{options:a.valueOptions||[],multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,searchable:!0,"show-no-results":!1,"internal-search":!0,label:"name","track-by":"value",placeholder:t.$t("Select"),disabled:t.isEditMode},model:{value:a.value,callback:function(e){t.$set(a,"value",e)},expression:"row.value"}}):t._e(),t.isShowIsWeekDay(a)?e("div",{staticClass:"d-flex gap-3 flex-wrap"},t._l(t.weekDaysList,(function(s){return e("div",{key:s.value+"-"+i,staticClass:"custom-control custom-checkbox"},[e("input",{staticClass:"custom-control-input",attrs:{type:"checkbox",disabled:t.isEditMode,id:`chk-${i}-${s.value}`},domProps:{checked:t.getDayChecked(a.daysOfWeek,s.value)},on:{change:function(e){return t.toggleDay(a,s.value)}}}),e("label",{staticClass:"custom-control-label",attrs:{for:`chk-${i}-${s.value}`}},[t._v(t._s(s.label))])])})),0):[t.isValueHidden(a)||"select"==a.sqlType||"date"==a.sqlType||"bool"==a.sqlType?t._e():e("input",{directives:[{name:"model",rawName:"v-model",value:a.value,expression:"row.value"}],staticClass:"form-control p-1 mr-2",attrs:{disabled:t.isEditMode},domProps:{value:a.value},on:{input:function(e){e.target.composing||t.$set(a,"value",e.target.value)}}}),t.isValueToVisible(a)&&"select"!=a.sqlType&&"date"!=a.sqlType&&"bool"!=a.sqlType?e("input",{directives:[{name:"model",rawName:"v-model",value:a.valueTo,expression:"row.valueTo"}],staticClass:"form-control p-1",attrs:{disabled:t.isEditMode},domProps:{value:a.valueTo},on:{input:function(e){e.target.composing||t.$set(a,"valueTo",e.target.value)}}}):t._e()]],2),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.closingBracket,expression:"row.closingBracket"}],staticClass:"form-control p-1",attrs:{readonly:""},domProps:{value:a.closingBracket},on:{input:function(e){e.target.composing||t.$set(a,"closingBracket",e.target.value)}}})]),e("td",{staticClass:"text-center single-action"},[i>0?e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.removeConditionRow(i)}}},[e("em",{staticClass:"fa fa-trash text-danger float-none"})]):t._e()])])})),0)])]),t.isEditMode?t._e():e("div",{staticClass:"col-lg-12 add-form-field text-right py-3"},[e("a",{staticClass:"btn btn-success",attrs:{href:"javascript:;",id:"ancAddRow",title:t.$t("AddRow")},on:{click:t.addConditionRow}},[e("i",{staticClass:"fa fa-plus pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("AddRow")))])])])]),t.showAddAdderTypeTable&&t.isShowServiceDetail&&t.form.rateToggle?e("div",{staticClass:"col-12"},[e("div",{staticClass:"col-lg-12 float-left p-0 add-form-field text-right py-3",staticStyle:{display:"block"}},[e("a",{staticClass:"btn btn-success text-white",attrs:{title:"Add Row",href:"javascript:;"},on:{click:t.addAdderRow}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v("Add Row")])])]):t._e()])])])])])])])]),e("div",{staticClass:"mainfooter_app"},[e("div",{staticClass:"col-lg-12 text-right mt-4"},[t.currentTabIndex>1?e("button",{staticClass:"btn btn-warning float-left",attrs:{title:"Previous"},on:{click:function(e){return t.PreviousButton()}}},[e("i",{staticClass:"fa fa-chevron-left pr-2"}),t._v(" "+t._s(t.$t("Previous")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn skip-btn-clr formbtn widthhalf px-4",attrs:{title:"Skip"},on:{click:function(e){return t.Skip()}}},[t._v(t._s(t.$t("Skip")))]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"btn btn-success formbtn px-4 ml-2",attrs:{type:"button"},on:{click:function(e){return t.RuleModel("SaveAndNew")}}},[e("em",{staticClass:"fa fa-save pr-2 font-16"}),t._v(" "+t._s(t.$t("SaveAndNew"))+" ")]):t._e(),t.tabCount>t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.RuleModel("SaveAndNext")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndNext"))+" ")]):t._e(),t.tabCount==t.currentTabIndex?e("button",{staticClass:"popupgreenbtn btn btn-success formbtn widthhalf pr-2",staticStyle:{"margin-left":"5px"},attrs:{type:"button",id:"aGroupTicketSave",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Save"},on:{click:function(e){return t.RuleModel("SaveAndClose")}}},[e("i",{staticClass:"fa fa-save pr-2"}),t._v(" "+t._s(t.$t("SaveAndClose"))+" ")]):t._e()])])])])],1)},Zs=[],Xs=(a("5377"),{props:{tabCount:0,currentTabIndex:0,reqFrom:{type:String,required:!1}},data(){return{openRuleMode:!1,isLoading:!1,operator:[],form:{conditionId:0,conditions:[{relation:"",openingBracket:"(",field:"",operator:"",value:"",valueTo:"",daysOfWeek:"",closingBracket:")"}],isLeaf:!1,workCodeId:"",addAdder:!1,addAdderTypeTable:!1,adderType:"",adderRows:[{unit:"",from:0,to:"∞",toInvalid:!1,workCodeBefore:"",repeatAfter:"",workCodeAfter:"",selectedFlag:{value:"N",color:"grey"},showPopup:!1}],selectedFlag:{value:"N",color:"grey"},showPopup:!1,rateToggle:!1,isUpdateRule:!1},serviceName:"",showAdder:!1,conditionName:"",showError:!1,showAdderType:!1,serviceType:"",billingFrequency:"",showRepeatAfter:!1,showWorkCode:!1,showFlag:!1,usageMeasurementList:[],workCodeList:[],meterReadingList:[],companyClientList:[],groupedOptions:{},expandedGroups:{},showIsLeafFlag:!1,showIsLeafWorkCode:!1,configurationId:0,isEditMode:!1,showAddAdderTypeTable:!1,isCheckExtraFeatureUSICBILLING:!1,weekDaysList:[{label:"Sun",value:"1"},{label:"Mon",value:"2"},{label:"Tue",value:"3"},{label:"Wed",value:"4"},{label:"Thu",value:"5"},{label:"Fri",value:"6"},{label:"Sat",value:"7"}],flags:[{value:"R",color:"red"},{value:"Y",color:"gold"},{value:"G",color:"green"},{value:"N",color:"grey"}],isShowServiceDetail:!1,rateCode:!1,isRateCode:!1,getRuleConditions:"",getServiceId:0,serviceDetailForBillingRule:void 0,reqestFrom:"addBillingService",conditionId:0,viewType:void 0,nodeName:void 0,configurationId:void 0,serviceRuleItem:void 0,BtnType:""}},created:async function(){var t=this;this.serviceRuleItem&&this.serviceRuleItem.ruleCondition&&(this.form.selectedFlag=this.serviceRuleItem.ruleCondition.selectedFlag?this.serviceRuleItem.ruleCondition.selectedFlag:{value:"N",color:"grey"},this.form.workCodeId=this.serviceRuleItem.ruleCondition.rateCode?this.serviceRuleItem.ruleCondition.rateCode:""),t.configurationId=parseInt(this.$route.params.id),await t.GetRuleListingByServiceId(t.conditionId),await t.GetBillingRuleFieldList(),t.BindWorkCode(),"addMapBillingRuleForService"===t.reqestFrom||"EditMapBillingRuleForService"===t.reqestFrom?(t.isShowServiceDetail=!0,t.isRateCode=!0,"EditMapBillingRuleForService"===t.reqestFrom&&setTimeout((function(){t.isEditMode=!0,t.BindRuleConditions(t.conditionId)}),200)):"fromBillingService"===t.reqestFrom?(t.isEditMode=!1,t.BindRuleConditions(t.conditionId),t.isShowServiceDetail=!1):"addBillingService"===t.reqestFrom&&(t.isEditMode=!1,t.isShowServiceDetail=!1),t.toggleGroup(),t.checkSlabCondition(),t.GetAddonMapByServiceId()},mounted(){for(const t in this.groupedOptions)this.$set(this.expandedGroups,t,!0)},computed:{flatGroupedOptions(){const t=[];for(const e in this.groupedOptions)if(t.push({isGroup:!0,groupName:e}),this.expandedGroups[e]){const a=this.groupedOptions[e];a.forEach(a=>{t.push({...a,isGroup:!1,groupName:e})})}return t},fieldLabelMap(){const t={};return Object.values(this.groupedOptions).flat().forEach(e=>{t[e.value]=e.label}),t},fieldSqlConditionMap(){const t={};return Object.values(this.groupedOptions).flat().forEach(e=>{t[e.value]=e.joinFieldName}),t},conditionText(){return this.form.conditions.map((t,e)=>{var a,i,s,o,n,l,r;const c=e>0?` ${t.relation||"And"} `:"",d=t.openingBracket||"",u=this.fieldLabelMap[t.field]||t.field||"";let p="";if(t.operatorList&&Array.isArray(t.operatorList)){const e=t.operatorList.find(e=>e.OPERATOR_ID===t.operator);p=e?e.OPERATOR_DISPLAY_NAME:t.operator}var m="";if("select"==t.sqlType&&"not equal to one of multiple possible values"!==(null===(a=p)||void 0===a?void 0:a.toLowerCase())&&"equal to one of multiple possible values"!==(null===(i=p)||void 0===i?void 0:i.toLowerCase())){var h;const e=null===(h=t.valueOptions)||void 0===h?void 0:h.find(e=>e.value===t.value);m=e?e.name:t.value||""}else if("select"!=t.sqlType||"not equal to one of multiple possible values"!==(null===(s=p)||void 0===s?void 0:s.toLowerCase())&&"equal to one of multiple possible values"!==(null===(o=p)||void 0===o?void 0:o.toLowerCase()))if("bool"===t.sqlType){var v;const e=null===(v=t.valueOptions)||void 0===v?void 0:v.find(e=>e.value===t.value);m=e?e.name:t.value||""}else if("date"==t.sqlType&&""!=t.value)"string"===typeof t.value&&(t.value=new Date(t.value)),m=""+this.$d(t.value)||"";else{var f;m=null!==(f=t.value)&&void 0!==f?f:" "}else{const e=Array.isArray(t.value)?t.value:[t.value],a=e.map(e=>{var a;const i=null===(a=t.valueOptions)||void 0===a?void 0:a.find(t=>t.value===e.value);return i?i.name:e.name||e.value});m=a.join(", ")}var g="";if("between"===(null===(n=p)||void 0===n?void 0:n.toLowerCase())||"date range"===(null===(l=p)||void 0===l?void 0:l.toLowerCase()))if("date"==t.sqlType&&""!=t.valueTo)"string"===typeof t.valueTo&&(t.valueTo=new Date(t.valueTo)),g=" AND "+this.$d(t.valueTo)||!1;else if(""!=t.valueTo){var b;g=null!==(b=" AND "+t.valueTo)&&void 0!==b?b:""}var S="";if("is week end"===(null===(r=p)||void 0===r?void 0:r.toLowerCase().trim())){const e=(t.daysOfWeek||"").split(",").filter(Boolean),a=e.map(t=>{const e=this.weekDaysList.find(e=>e.value===t);return e?e.label:t});S=` (${a.join(", ")})`}const y=t.closingBracket||"";return`${c}${d}${u} ${p} ${m}${g}${S}${y}`}).join("")}},methods:{fncApplyRate(){console.log("rateToggle",this.form.rateToggle)},async GetRuleListingByServiceId(t){var e=this,a="serviceId="+(t>0?t:0);_["a"].GetRuleListingByServiceId(a).then(t=>{null!=t.data&&"[]"!=t.data?e.getRuleConditions=JSON.parse(t.data):e.getRuleConditions=[]})},RateCodeModel(){var t=this;t.rateCode=!0},CloseAddWorkCode(){this.rateCode=!1,this.BindWorkCode()},getDayChecked(t,e){return!!t&&t.split(",").includes(e)},toggleDay(t,e){let a=(t.daysOfWeek||"").split(",").filter(Boolean);const i=a.indexOf(e);i>=0?a.splice(i,1):a.push(e),t.daysOfWeek=a.join(",")},isMultiSelectOperator(t){var e;const a=(t.operatorList||[]).find(e=>e.OPERATOR_ID===t.operator);if(!a)return!1;const i=null===(e=a.OPERATOR_DISPLAY_NAME)||void 0===e?void 0:e.toLowerCase();return"equal to one of multiple possible values"===i||"not equal to one of multiple possible values"===i},isValueHidden(t){var e;const a=(t.operatorList||[]).find(e=>e.OPERATOR_ID===t.operator);if(!a)return!1;const i=null===(e=a.OPERATOR_DISPLAY_NAME)||void 0===e?void 0:e.toLowerCase();return"is empty"===i||"is not empty"===i||"is off day"===i||"is duplicate"===i},isShowIsWeekDay(t){var e;const a=(t.operatorList||[]).find(e=>e.OPERATOR_ID===t.operator);if(!a)return!1;const i=null===(e=a.OPERATOR_DISPLAY_NAME)||void 0===e?void 0:e.toLowerCase();return"is week end"===i},isValueToVisible(t){var e;if(!t.operator)return!1;const a=(t.operatorList||[]).find(e=>e.OPERATOR_ID===t.operator);if(!a)return!1;const i=null===(e=a.OPERATOR_DISPLAY_NAME)||void 0===e?void 0:e.toLowerCase();return"between"===i||"date range"===i},checkSlabCondition:async function(){var t=this,e=parseInt(t.$route.params.serviceId);const a="serviceId="+e,i=await _["a"].GetServiceTypeById(a);if(null!=i.data[0].SERVICE_TYPE_CODE){t.serviceType=i.data[0].SERVICE_TYPE_CODE;var s=i.data[0].METER_TYPE_ID,o=i.data[0].USAGE_MEASUREMENT_ID;t.GetDDLUsageMeasurement(s,o)}},BindRuleConditions:async function(t){const e=this,a="serviceId="+t,i=await _["a"].GetRuleConditionById(a);if(i&&i.data&&i.data.length>0){e.conditionName=i.data[0].SERVICE_NAME;const t=Object.values(e.groupedOptions).flat();e.form.conditions=await Promise.all(i.data.map(async a=>{var i;const s=t.find(t=>t.value===a.TEMPLATE_ID);let o=[],n=[],l=a.FIRST_VALUE||"",r=a.SECOND_VALUE||"",c=(null===s||void 0===s?void 0:s.sqlType)||"";if(s){var d;const t=await _["a"].GetOperator(`dataType=${s.sqlType}&customField=${s.value}`);o=(null===t||void 0===t||null===(d=t.data)||void 0===d?void 0:d.DATA)||[]}if("select"==s.sqlType&&"lookup"!=s.picklistOptions.toLowerCase()){if(s.picklistOptions&&""!==s.picklistOptions.trim()){var u;const t=s.picklistOptions.split(",").map(t=>({first_value:null,name:t.trim(),value:t.trim().replace(/\s+/g,"-"),second_value:null}));n=t;const e=o.find(t=>t.OPERATOR_ID===a.OPERATOR_ID),i=["equal to one of multiple possible values","not equal to one of multiple possible values"],r=e&&i.includes(null===(u=e.OPERATOR_DISPLAY_NAME)||void 0===u?void 0:u.toLowerCase());if(r){const t=l.split(",").map(t=>t.trim());l=n.filter(e=>t.includes(String(e.value)))}else{var p;l=(null===(p=n.find(t=>String(t.value)===String(l)))||void 0===p?void 0:p.value)||""}}}else if("select"===c&&"lookup"==s.picklistOptions.toLowerCase()){var m,h;const t=await _["a"].GetDDLData(`id=&moduleName=&type=${s.fieldCode}&search=`);n=(null===t||void 0===t||null===(m=t.data)||void 0===m?void 0:m.DATA)||[];const e=o.find(t=>t.OPERATOR_ID===a.OPERATOR_ID),i=["equal to one of multiple possible values","not equal to one of multiple possible values"],r=e&&i.includes(null===(h=e.OPERATOR_DISPLAY_NAME)||void 0===h?void 0:h.toLowerCase());if(r){const t=l.split(",").map(t=>t.trim());l=n.filter(e=>t.includes(String(e.value)))}else{var v;l=(null===(v=n.find(t=>String(t.value)===String(l)))||void 0===v?void 0:v.value)||""}}else if("bool"===c){var f=e.MakeArray(s.picklistOptions,"radio");f.length>0&&(n=f)}else isNaN(l)||""===l||(l=Number(l));const g=o.find(t=>t.OPERATOR_ID===a.OPERATOR_ID);null===g||void 0===g||null===(i=g.OPERATOR_DISPLAY_NAME)||void 0===i||i.toLowerCase();return{relation:a.RELATION_WITH_PARENT||"",openingBracket:a.OPENING_BRACKETS||"",field:a.TEMPLATE_ID||"",operator:a.OPERATOR_ID||"",value:l,valueTo:r,daysOfWeek:a.DaysofTheWeek,closingBracket:a.CLOSING_BRACKETS||"",operatorList:o,valueOptions:n,sqlType:c}}))}},GetAddonMapByServiceId:async function(){var t=this;t.form.isUpdateRule=!0;var e=`serviceId=${t.conditionId}&nodeName=${t.nodeName}&configId=${t.configurationId}`;await _["a"].GetAddonMapByServiceId(e).then((function(e){e.data.length>0&&((e.data[0].IsAddon||e.data[0].IsLeafNode)&&(t.form.rateToggle=!0),t.form.addAdder=e.data[0].IsAddon,t.form.isLeaf=e.data[0].IsLeafNode,t.form.workCodeId=e.data[0].WorkCode,t.form.selectedFlag=t.flags.find(t=>t.value===e.data[0].ClientServiceFlag)||{value:"N",color:"grey"},t.form.adderType=e.data[0].AddonType||"",t.onAdderTypeSelected(t.form.adderType),t.form.addAdder?(t.onAdderChecked(),t.showAddAdderTypeTable=!0):t.form.isLeaf&&(t.chkisLeafRule(),t.showAddAdderTypeTable=!1),t.form.adderRows=[],e.data.forEach(e=>{e.ServiceAddonMap.forEach(a=>{t.form.adderRows.push({unit:e.UnitOfMeasure||"",from:void 0!==a.AddonFromValue?a.AddonFromValue:0,to:0!==a.AddonToValue?a.AddonToValue:"∞",toInvalid:!1,workCodeBefore:a.WorkCode||"",repeatAfter:a.RepeatAfter||"",workCodeAfter:a.RepeatWorkCode||"",selectedFlag:t.flags.find(t=>t.value===a.ServiceFlag)||{value:"N",color:"grey"},showPopup:!1,addonId:e.AddonId,addonMapId:a.AddonMapId})})}))}))},CheckFeaturesForCompany:async function(t){var e=this,a="featureCode="+t;await _["a"].CheckExtraFeatures(a).then((function(a){"USICBILLING"==t&&(1==a.data?e.isCheckExtraFeatureUSICBILLING=!0:e.isCheckExtraFeatureUSICBILLING=!1)}))},handleFieldChange:function(t){const e=Object.values(this.groupedOptions).flat(),a=e.find(e=>e.value===t.field);if(!a)return;this.$set(t,"sqlType",a.sqlType);const i="dataType="+a.sqlType+"&customField="+a.value;_["a"].GetOperator(i).then(e=>{const a=e.data;null!=a&&(this.$set(t,"operatorList",a.DATA),t.operator="",t.value="",t.valueTo="")})},handleDropdownValue:function(t){var e=this;const a=Object.values(this.groupedOptions).flat(),i=a.find(e=>e.value===t.field);if(i)if(this.$set(t,"valueOptions",[]),this.$set(t,"value",""),this.$set(t,"valueTo",""),"select"==i.sqlType&&"lookup"!=i.picklistOptions.toLowerCase()){if(i.picklistOptions&&""!==i.picklistOptions.trim()){const e=i.picklistOptions.split(",").map(t=>({first_value:null,name:t.trim(),value:t.trim().replace(/\s+/g,"-"),second_value:null}));this.$set(t,"valueOptions",e)}}else if("select"==i.sqlType&&"lookup"==i.picklistOptions.toLowerCase()){var s=`id=&moduleName=&type=${i.fieldCode}&search=`;_["a"].GetDDLData(s).then(e=>{if(e.data){var a=e.data;null!=a&&this.$set(t,"valueOptions",e.data.DATA)}})}else if("bool"==i.sqlType){var o=e.MakeArray(i.picklistOptions,"radio");o.length>0&&this.$set(t,"valueOptions",o)}},isLeafTogglePopup(){this.form.showPopup=!this.form.showPopup},isLeafSelectFlag(t){this.form.selectedFlag=t,this.form.showPopup=!1},isAdderTogglePopup(t){t.showPopup=!t.showPopup},isAdderSelectFlag(t,e){t.selectedFlag=e,t.showPopup=!1},toggleGroup(t){const e=t||"Client";this.$set(this.expandedGroups,e,!this.expandedGroups[e])},GetBillingRuleFieldList:async function(){await _["a"].GetBillingRuleFieldList().then(t=>{if("Success"==t.data.status&&null!=t.data.result.AVAILABLE_FIELDS){var e;const a=(null===(e=t.data.result.AVAILABLE_FIELDS)||void 0===e?void 0:e[0])||[],i={};a.forEach(t=>{const e=t.SubModule;Array.isArray(null===t||void 0===t?void 0:t.CustomFields)&&t.CustomFields.length>0&&(i[e]=t.CustomFields.map(t=>{var e;return{value:(null===t||void 0===t?void 0:t.CustomFieldId)||"",columnName:(null===t||void 0===t?void 0:t.FieldName)||"",label:(null===t||void 0===t?void 0:t.DisplayName)||"",tableName:(null===t||void 0===t?void 0:t.TableName)||"",sqlType:(null===t||void 0===t||null===(e=t.dttype)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.DataTypeCode)||"",picklistOptions:(null===t||void 0===t?void 0:t.picklist_options)||"",dtCode:(null===t||void 0===t?void 0:t.dt_code)||"",dropdownType:(null===t||void 0===t?void 0:t.dropdown_type)||"",fieldCode:(null===t||void 0===t?void 0:t.field_code)||"",joinFieldName:(null===t||void 0===t?void 0:t.JoinFieldName)||""}}))}),Object.keys(i).length>0&&(this.groupedOptions=i)}})},GetDDLUsageMeasurement:function(t,e){var a=this,i="id=&moduleName=&type=UTILITY_UNIT_OF_MEASUREMENTS&search=&refId="+t;_["a"].GetDDLData(i).then(t=>{if(t.data){var i=t.data;null!=i&&(a.usageMeasurementList=t.data.DATA,a.form.adderRows[0].unit=e)}})},BindWorkCode:function(){var t=this,e="id=&moduleName=&type=WORK_CODE_BY_PLAN_ID&search=&refId="+t.configurationId;_["a"].GetDDLData(e).then(e=>{if(e.data){var a=e.data;null!=a&&(t.workCodeList=e.data.DATA)}})},onToValueChange(t,e){if("∞"===t)this.form.adderRows[e].to=1/0;else if(""===t.trim())this.form.adderRows[e].to="";else{const a=Number(t);this.form.adderRows[e].to=isNaN(a)?"":a}},removeConditionRow:function(t){this.form.conditions.length>1&&this.form.conditions.splice(t,1)},removeAdderRow:function(t){this.form.adderRows.length>1&&this.form.adderRows.splice(t,1)},addConditionRow(){this.form.conditions.push({relation:"",openingBracket:"(",field:"",operator:"",value:"",valueTo:"",daysOfWeek:"",closingBracket:")"})},addAdderRow(){const t=this.form.adderRows[this.form.adderRows.length-1];t.from>=0&&"∞"==t.to?t.toInvalid=!0:(t.toInvalid=!1,this.form.adderRows.push({unit:"",from:Number(t.to)+1,to:"∞",workCodeBefore:"",toInvalid:!1,repeatAfter:"",workCodeAfter:"",selectedFlag:{value:"N",color:"grey"},showPopup:!1}))},Close:function(){var t=this;t.$parent.isModalAddRule=!1},chkisLeafRule(){this.showAdder=this.form.isLeaf,this.showIsLeafFlag=this.showAdder,this.showIsLeafWorkCode=this.showAdder,this.form.addAdder=!1,this.showAdderType=!1,this.showAddAdderTypeTable=!1,this.form.isLeaf||(this.showAdderType=!1,this.form.adderType=!1,this.showAddAdderTypeTable=!1)},onAdderChecked(){this.showAdderType=this.form.addAdder,this.showIsLeafFlag=!1,this.showIsLeafWorkCode=!1,this.form.isLeaf=!1,this.form.addAdder||(this.form.adderType=!1,this.showAddAdderTypeTable=!1)},onAdderTypeSelected(t){"T"==t?(this.showRepeatAfter=!1,this.showWorkCode=!1,this.showFlag=!0):"P"==t?(this.showRepeatAfter=!0,this.showWorkCode=!1,this.showFlag=!1):"M"==t?(this.showRepeatAfter=!1,this.showWorkCode=!1,this.showFlag=!0):"C"==t&&(this.showRepeatAfter=!1,this.showWorkCode=!1,this.showFlag=!1),this.form.adderType&&(this.showAddAdderTypeTable=!0)},formatDate(t){if(!t)return null;const e=new Date(t),a=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${a}-${i}-${s}`},databaseConditionText(){return this.form.conditions.map((t,e)=>{const a=e>0?` ${t.relation||"AND"} `:"",i=t.openingBracket||"",s=t.closingBracket||"",o=this.fieldSqlConditionMap[t.field]||t.field||"";let n="",l="";if(t.operatorList&&Array.isArray(t.operatorList)){const e=t.operatorList.find(e=>e.OPERATOR_ID===t.operator);n=e?e.OPERATOR_SQL_NAME||e.OPERATOR_EXPRESSION:t.operator,l=e&&e.OPERATOR_DISPLAY_NAME||""}else n=t.operator,l=t.operatorDisplay||"";n=(n||"").toLowerCase();const r=(l||"").trim().toLowerCase();if("not equal to one of multiple possible values"===r||"equal to one of multiple possible values"===r){const e=Array.isArray(t.value)?t.value:[t.value],l=e.map(e=>{var a;const i="object"===typeof e&&null!==e?e.value:e,s=null===(a=t.valueOptions)||void 0===a?void 0:a.find(t=>t.value===i),o=s?s.value:i;return isNaN(o)?`'${o}'`:o}),r=l.join(", ");return`${a}${i}${o} ${n.toUpperCase()} (${r})${s}`}if("is week end"===n||"is working day"===n){const e=(t.daysOfWeek||"").split(",").filter(Boolean).join(","),n=`DATEPART(DW, ${o}) IN (${e})`;return`${a}${i}${n}${s}`}if("is lowest"===n)return`${a}${i}${o} IS LOWEST${s}`;if("is highest"===n)return`${a}${i}${o} IS HIGHEST${s}`;if("is not lowest"===n)return`${a}${i}${o} IS NOT LOWEST${s}`;if("is not highest"===n)return`${a}${i}${o} IS NOT HIGHEST${s}`;if(["minutesdiff","hoursdiff","daydiff","monthdiff","yeardiff"].includes(n)){const e={minutesdiff:"minute",hoursdiff:"hour",daydiff:"day",monthdiff:"month",yeardiff:"year"},l=e[n],r=this.fieldSqlConditionMap[t.additionalField]||t.additionalField,c=t.additionalOperator||"=";return`${a}${i}DATEDIFF(${l}, ${o}, ${r}) ${c} ${t.value}${s}`}if("has with"===n){const e=this.fieldSqlConditionMap[t.hasWithField]||t.hasWithField,n=t.hasWithOperator||"=";return`${a}${i}${o} HAS WITH ${e} ${n} '${t.value}'${s}`}if(("between"===n||"daterange"===n)&&t.valueTo){if("time"===t.sqlType||"datetime"===t.sqlType){const e=t.value?`'${t.value}'`:"''",n=t.valueTo?`'${t.valueTo}'`:"''";return`${a}${i}(CONVERT(time, ${o}) >= ${e} AND CONVERT(time, ${o}) <= ${n})${s}`}if("date"===t.sqlType){const e=t.value instanceof Date?t.value:new Date(t.value),n=t.valueTo instanceof Date?t.valueTo:new Date(t.valueTo),l=this.formatDate(e),r=this.formatDate(n);return`${a}${i}${o} BETWEEN '${l}' AND '${r}'${s}`}return`${a}${i}${o} BETWEEN ${t.value} AND ${t.valueTo}${s}`}let c="";if("nvarchar"===t.sqlType||"string"===t.sqlType)if(n.includes("starts with"))n="LIKE",c=`'${t.value}%'`;else if(n.includes("ends with"))n="LIKE",c=`'%${t.value}'`;else if(n.includes("like"))n="LIKE",c=`'%${t.value}%'`;else if(n.includes("in")){n="IN";const e=Array.isArray(t.value)?t.value:(t.value||"").split(",");c=`(${e.map(t=>`'${t.trim()}'`).join(",")})`}else c=`'${t.value}'`;else if("date"===t.sqlType&&t.value){const e=t.value instanceof Date?t.value:new Date(t.value);c=`'${this.formatDate(e)}'`}else c="bool"===t.sqlType?t.value?1:0:t.value||"";return`${a}${i}${o} ${n.toUpperCase()} ${c}${s}`}).join("")},CloseRuleModel(){this.openRuleMode=!1},RuleModel(t){this.BtnType=t,this.conditionId>0&&this.getRuleConditions.length>0&&"fromBillingService"===this.reqestFrom?this.openRuleMode=!0:this.saveAddRule()},async saveAddRule(){var t=this;if(this.showError=!0,!this.conditionName)return;0!=t.conditionId&&(this.form.conditionId=t.conditionId),1==this.form.rateToggle&&(this.form.isLeaf=!0);const e=this.conditionText,a=this.databaseConditionText();Array.isArray(this.form.conditions)&&this.form.conditions.forEach(t=>{if("date"===t.sqlType&&(t.value&&(t.value=this.formatDate(t.value)),t.valueTo&&(t.valueTo=this.formatDate(t.valueTo))),null!==t&&void 0!==t&&t.operator&&Array.isArray(t.value)&&t.value.length>0){var e,a;const i=t.operator,s=t.operatorList.find(t=>t.OPERATOR_ID===i);!s||"equal to one of multiple possible values"!==(null===(e=s.OPERATOR_DISPLAY_NAME)||void 0===e?void 0:e.toLowerCase())&&"Not Equal to one of multiple possible values"!==(null===(a=s.OPERATOR_DISPLAY_NAME)||void 0===a?void 0:a.toLowerCase())||(t.value=t.value.map(t=>t.value).join(","))}});const i=JSON.parse(JSON.stringify(this.form));i.adderRows.forEach(t=>{"∞"!==t.to&&t.to!==1/0||(t.to=null)});const s=JSON.stringify(i);var o={objData:s,ruleCondition:e,conditionName:this.conditionName,configuration_id:t.configurationId,sqlcondition:a};await _["a"].SaveAddRule(o).then(e=>{null!=e.data&&("Success"==e.data.Status&&"1"==e.data.Result?("serviceRuleCondition"==t.viewType&&t.ShowAlert(t.$t("AddedSuccess",[t.$t("BillingRule")]),"Success",!0,t.$t("Alert")),"fromBillingService"!=t.reqestFrom&&"addBillingService"!=t.reqestFrom||t.ShowAlert(t.$t("AddedSuccess",[t.$t("BillingCondition")]),"Success",!0,t.$t("Alert")),t.isLoading=!1,"SaveAndNew"==t.BtnType?t.resetForm():"SaveAndNext"==t.BtnType?t.Skip():"SaveAndFinish"==t.BtnType?"InitialSetup"==t.reqFrom&&t.Finish():"SaveAndClose"==t.BtnType&&"InitialSetup"==t.reqFrom&&t.Finish()):"Success"==e.data.Status&&"3"==e.data.Result?("fromBillingService"==t.reqestFrom||"addBillingService"==t.reqestFrom?(t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("BillingCondition")]),"Success",!0,t.$t("Alert")),t.$parent.FetchData()):t.ShowAlert(t.$t("UpdatedSuccess",[t.$t("BillingRule")]),"Success",!0,t.$t("Alert")),t.isLoading=!1,this.$emit("rule-saved",s)):"2"==e.data.Result?"fromBillingService"==t.reqestFrom||"addBillingService"==t.reqestFrom?this.ShowAlert(this.$t("AlreadyExists",[this.$t("BillingCondition")]),"failure",!0,this.$t("Alert")):this.ShowAlert(this.$t("AlreadyExists",[this.$t("BillingRule")]),"failure",!0,this.$t("Alert")):"fromBillingService"==t.reqestFrom||"addBillingService"==t.reqestFrom?(t.ShowAlert(t.$t("ErrorWhileSaving",[t.$t("BillingCondition")]),"danger",!0,t.$t("Alert")),t.isLoading=!1):(t.ShowAlert(t.$t("ErrorWhileSaving",[t.$t("BillingRule")]),"danger",!0,t.$t("Alert")),t.isLoading=!1))})},PreviousButton:function(){var t=this;t.$emit("previousTab")},Skip:function(){var t=this;t.$emit("nextTab",!0)},resetForm(){var t=this;t.FormSchema.forEach((t,e)=>{t.Data.forEach((t,e)=>{t.value=""})})},Finish:async function(){var t=this;await t.UpdateUserSettingConfig("HideContextmenu"),await t.UpdateUserSettingConfig("initialstartup"),window.location.href="/User/Dashboard"},async UpdateUserSettingConfig(t){let e="status=true&type="+t;await _["a"].UpdateUserSettingConfig(e).then(t=>{})}}}),to=Xs,eo=Object(u["a"])(to,Qs,Zs,!1,null,null,null),ao=eo.exports,io={components:{priority:m,Lead:S,ConfigurationTab:w,Location:N,AddDeployProduct:B,ProductType:Y,AddApprovalChain:X,AddApprovalGroup:ot,AddApprovalRule:bt,ChooseStorage:Dt,StorageManagement:Rt,ClientStorageListing:Vt,UserStorageListing:Ht,AddGroup:te,AddServiceBoard:ne,JobType:pe,Skill:be,Industry:De,FunctionalArea:Fe,Questionnaire:Re,InterviewStages:Ve,UserProfile:He,SetupLocation:ta,SetupShift:na,NewUser:pa,DownloadSilentApp:Fa,CreateUser:Ra,DeviceMapping:ti,SetupAppCategory:_i,ManageAppsAndWebsites:qi,AddTrip:Ji,AddCategory:es,TicketDelayReason:ls,CheckinCheckoutSettings:ms,Service:Ss,AddTaxCategory:ys["a"],Plan:ws,NewClients:Ls,IndustryType:Us,RateCodeCategories:zs,AddRateCode:Ks,AddBillingRule:ao},props:{moduleCode:"",component:"",tabCount:0,currentTabIndex:0,isCompleted:!1,reqFrom:""},methods:{NextTab:function(t=!1){this.$emit("NextTab",{skip:t})},UpdateProgress:function(t,e){this.$emit("UpdateProgress",t,e)},PreviousTab:function(){this.$emit("PreviousTab")},Close:function(){this.$emit("Close")}}},so=io,oo=Object(u["a"])(so,i,s,!1,null,null,null);e["a"]=oo.exports},"9b5f":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".loader{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;width:40px;height:40px;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),t.exports=e},"9cfa":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".vue-slider-dot-tooltip{position:absolute;visibility:visible}.vue-slider-dot-tooltip-inner{background-color:#505557;height:20px}.jslider .jslider-label{font-size:14px;line-height:12px;color:#000;opacity:.5;white-space:nowrap;padding:0 2px;position:absolute;top:-12px;left:91%}.vue-slider{height:5px!important;padding:30px 0}.vue-slider-dot-handle{width:18px!important;height:18px!important;top:-2px;left:-2px}.vue-slider-dot-tooltip-inner{font-size:12px}.vue-slider-dot-tooltip-text{font-weight:300}",""]),t.exports=e},a295:function(t,e,a){var i=a("1e99");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("13a9a92d",i,!0,{sourceMap:!1,shadowMode:!1})},a335:function(t,e,a){var i=a("0b98");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("e5165610",i,!0,{sourceMap:!1,shadowMode:!1})},a710:function(t,e,a){var i=a("4295");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("68127b21",i,!0,{sourceMap:!1,shadowMode:!1})},ad6a:function(t,e,a){var i=a("8163");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("6c17b756",i,!0,{sourceMap:!1,shadowMode:!1})},ba94:function(t,e,a){var i=a("4a0c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("e63a188e",i,!0,{sourceMap:!1,shadowMode:!1})},c380:function(t,e,a){"use strict";a("d79d")},c510:function(t,e,a){"use strict";a("76ec")},c922:function(t,e,a){"use strict";a("315f")},ca28:function(t,e,a){var i=a("0ad4");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("5bb5dcd2",i,!0,{sourceMap:!1,shadowMode:!1})},cda6:function(t,e,a){var i=a("0221");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("07c2352a",i,!0,{sourceMap:!1,shadowMode:!1})},d017:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".current-color-list{display:inline-block;width:17px!important;height:9px!important;background-color:#000;cursor:pointer}.application_dtls{position:absolute;right:20px;top:-40px}.iconsWrapper .appicon{transform:scale(.7);margin-right:0}.iconsWrapper a{color:#333;font-size:10px}",""]),t.exports=e},d79d:function(t,e,a){var i=a("e7a5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("d6250fa8",i,!0,{sourceMap:!1,shadowMode:!1})},d9f3:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,'.silentappmainbase{margin-top:63px;width:97%}.silentappmainbase h2.silenthead{font-size:30px;font-weight:600;color:#05060a;margin:40px}.silentapp_contentbase h3.silenthead{font-size:22px;color:#494949;font-weight:600}.silentapp_contentbase .subheading{font-size:16px;font-weight:400;color:#05060a}.initialsetuptabsbase .app_name_large{font-size:30px;font-weight:400}.visibleapp .dowload_cont{margin-top:29px}.silentapp_contentbase h3.silenthead span{background:linear-gradient(129.25deg,#ff358a 15.07%,#fea587 89.65%);background-clip:border-box;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.silentapp_contentbase.visibleapp h3.silenthead span{background:linear-gradient(129.25deg,#1c94ec 15.07%,#1c94ec 89.65%);background-clip:border-box;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.silentapp_contentbase.visibleapp .app_download_box{background:#e1f0fa;width:32%}.silentapp_contentbase.visibleapp .app_download_button a{background:linear-gradient(129.25deg,#1c94ec 15.07%,#49c1ff 89.65%)}.silentappmainbase.differences{text-align:center;font-size:38px;color:#494949;font-weight:600}.silentappmainbase.differences .questionlink{background:#000;padding:8px 15px;width:65%;margin:0 auto;border-radius:100px}.silentappmainbase.differences a{color:#fff;text-decoration:underline;font-size:26px}.sl_pinkfont{color:#ff388a}.sl_bluefont{color:#1d95ed}.initialsetuptabsbase .download_installation_links i{font-size:18px;padding-right:5px}.silentapp_contentbase .installationbase{width:96%}.silentappmainbase.differences .questionlink:hover{background:#282828}.dowload_cont{float:left;width:100%;display:flex;flex-wrap:wrap;margin-top:10px}.app_download_box.marginright{margin-right:10px}.app_blk_icon{background:#fff;padding:10px;border-radius:100%;width:116px;height:116px;position:absolute;right:-20px;bottom:-36px;text-align:left;padding-left:29px}.app_blk_icon img{margin-top:10px;width:50px}.app_download_box{float:left;width:47%;border:1px solid #f8f8f8;margin:0;border-radius:6px;background-color:#fdefec;padding:15px;position:relative;transition:transform .5s ease;border-radius:15px;overflow:hidden}.app_type_icon{float:none;padding-right:0;width:58px;margin:0 auto}.copylink{font-weight:400;font-size:12px;line-height:23px;padding-bottom:6px;text-align:left;clear:both}.copylink a{color:#ff6089!important}.visibleapp .copylink a{color:#1c94ec!important}.app_name_large{font-size:34px;color:#121212}.app_name,.app_name_large{font-weight:400;padding-bottom:0;text-align:left;clear:both}.app_name{font-size:24px;line-height:38px}.app_download_box:hover{box-shadow:0 10px 43px 0 rgba(109,125,145,.28);transform:scale(1.05);transition:transform .5s ease}.app_download_button{display:flex;float:none;width:207px;flex-direction:column}.app_download_button a{float:left;font-size:22px;padding:10px;color:#fff!important;text-decoration:none;position:relative;background:linear-gradient(129.25deg,#ff358a 15.07%,#fea587 89.65%);background-clip:border-box;border-radius:50px;text-align:center}.app_download_button a i{margin-left:5px;color:#ffb333;font-size:22px}.app_type_icon img{max-width:100%}.app_download_box span.size{font-weight:400}.installationbase h2{color:#494949;font-size:20px;font-weight:500}.installationbase h3{color:#232323;font-size:16px;font-weight:500;margin-bottom:15px}.installationbase h1{color:#454545;font-size:24px;font-weight:700}.initialsetuptabsbase .download_installation_links a{text-decoration:underline!important;font-size:16px;font-weight:400}.silentapp_contentbase.visibleapp .download_installation_links{color:#1e96ed}.download_installation_links_base{float:left;width:100%}.download_installation_links{font-size:16px;color:#ff5889;font-weight:500;width:33%;border-right:1px solid #c6c6c6;float:left;padding-left:30px}.download_installation_links a{color:#040609;text-decoration:underline}.download_installation_links_base .download_installation_links:first-child{padding-left:0}.download_installation_links_base .download_installation_links:last-child{border-right:none}.download_installation_links div{max-width:200px}.download_installation select{padding:8px;border:none;float:left;font-size:13px}.download_installation a{border:1px solid #ffb333!important;border-radius:0;margin-left:20px;background:#ffb333}.download_installation a,.download_user_manual a{float:left;padding:5px 10px;color:#fff!important;text-decoration:none;font-weight:400}.download_user_manual a{border:1px solid #23a5ff!important;border-radius:0;background:#23a5ff}.faqssection h2{color:#000;background:linear-gradient(129.25deg,#ff358a 15.07%,#fea587 89.65%);background-clip:border-box;-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;font-size:44px;text-align:center}.faqssection{max-width:1540px}.faqssection .card{border:none;border-top:1px solid rgba(0,0,0,.125);border-bottom:1px solid rgba(0,0,0,.125);margin-top:-2px;border-radius:0;background:transparent}.faqssection .card-header{padding:.75rem 0;background:none}.faqssection .card-header .btn-link{color:#000;font-size:16px;padding:0;width:100%;text-align:left}.faqssection .card-header .btn-link i{position:absolute;right:0;top:14px;height:20px;background:none;color:#303030;font-size:20px}.faqssection .card-header .btn-link[aria-expanded=true]{color:#ff358a}.faqssection .card-header .btn-link[aria-expanded=true] i:before{content:"\\f068";color:#ff358a}.faqssection .card-body{padding:1.25rem 0;font-size:16px;color:#454545;line-height:26px}.faqssection #accordion h4{margin-bottom:0;background:linear-gradient(90deg,#000,#fea587);color:#fff;padding:14px 15px;font-size:20px;border-bottom:none}.faqssection .searchbg{background:#f1f1f1;padding:10px}.faqssection .input-group .form-control{background:#fff}.faqssection .searchbg #search{background:linear-gradient(90deg,#ff358a,#fea587)!important;border:none!important}@media (min-width:1550px) and (max-width:1799px){.app_download_button{width:187px}.app_download_button a{font-size:20px;padding:7px}.app_blk_icon{width:100px;height:100px;padding-left:22px}.app_blk_icon img{margin-top:3px;width:45px}.app_name_large{font-size:30px}.app_name{font-size:20px}.silentappmainbase.differences{font-size:34px}.silentappmainbase.differences .questionlink{padding:15px 55px}.faqssection h2{font-size:40px}.silentappmainbase h2.silenthead{font-size:46px}}@media (min-width:1380px) and (max-width:1549px){.app_download_button{width:157px}.app_download_button a{font-size:18px;padding:7px}.app_blk_icon{width:96px;height:96px;padding-left:22px}.app_blk_icon img{margin-top:4px;width:40px}.download_installation_links{font-size:14px}.silentapp_contentbase h3.silenthead{font-size:20px}.download_installation_links{padding-left:24px}.app_name_large{font-size:30px}.app_name{font-size:20px}.silentappmainbase.differences{font-size:30px}.faqssection h2{font-size:36px}.silentappmainbase h2.silenthead{font-size:43px}}@media (min-width:1024px) and (max-width:1379px){.silentapp_contentbase{flex:0 0 100%;max-width:100%!important}.app_blk_icon{width:106px;height:106px;padding-left:23px}.app_blk_icon img{margin-top:5px;width:45px}.silentapp_contentbase.visibleapp{margin-top:60px}.app_name_large{font-size:30px}.app_name{font-size:20px}.silentappmainbase.differences{font-size:25px}.silentappmainbase.differences .questionlink{width:90%}.faqssection h2{font-size:34px}.silentappmainbase h2.silenthead{font-size:38px}.app_download_button a{font-size:20px}.app_download_box.marginright{margin-right:15px}}@media (min-width:991px) and (max-width:1023px){.silentapp_contentbase{flex:0 0 100%;max-width:100%!important}.app_blk_icon{width:106px;height:106px;padding-left:23px}.app_blk_icon img{margin-top:5px;width:45px}.silentapp_contentbase.visibleapp{margin-top:60px}.app_name_large{font-size:30px}.app_name{font-size:20px}.silentappmainbase.differences{font-size:25px}.silentappmainbase.differences .questionlink{width:90%}.faqssection h2{font-size:34px}.silentappmainbase h2.silenthead{font-size:38px}.app_download_button{width:187px}.app_download_button a{font-size:20px}.app_download_box.marginright{margin-right:15px}}@media (min-width:769px) and (max-width:990px){.silentapp_contentbase{flex:0 0 100%;max-width:100%!important}.silentappmainbase{width:95%}.app_blk_icon{width:106px;height:106px;padding-left:23px}.app_blk_icon img{margin-top:5px;width:45px}.silentapp_contentbase.visibleapp{margin-top:60px}.app_name_large{font-size:30px}.app_name,.silentappmainbase.differences{font-size:20px}.silentappmainbase.differences .questionlink{padding:15px 30px}.faqssection h2{font-size:32px}.silentappmainbase h2.silenthead{font-size:38px}.app_download_button{width:187px}.app_download_button a{font-size:20px}.app_download_box.marginright{margin-right:15px}.silentapp_contentbase.visibleapp .app_download_box{width:47%;margin-bottom:30px}.download_installation_links{padding-left:20px}}@media (max-width:768px){.silentapp_contentbase{flex:0 0 100%;max-width:100%!important}.silentappmainbase{width:95%}.app_blk_icon{width:106px;height:106px;padding-left:23px}.app_blk_icon img{margin-top:5px;width:45px}.silentapp_contentbase.visibleapp{margin-top:60px}.app_name_large{font-size:30px}.app_name,.silentappmainbase.differences{font-size:20px}.silentappmainbase.differences .questionlink{padding:15px 30px}.faqssection h2{font-size:32px}.silentappmainbase h2.silenthead{font-size:38px}.app_download_button{width:187px}.app_download_button a{font-size:20px}.app_download_box.marginright{margin-right:0}.app_download_box,.silentapp_contentbase.visibleapp .app_download_box{width:95%;margin-bottom:30px}.download_installation_links{padding-left:0;width:99%;margin-bottom:20px;border:none}.download_installation_links div{max-width:100%}}',""]),t.exports=e},e30d:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".colorpick[data-v-2ebab8f1]{position:absolute;right:19px;top:46%;width:auto!important;height:28px;z-index:1}.current-color[data-v-2ebab8f1]{height:30px}.color-box-inside[data-v-2ebab8f1]{left:-2px;top:-1px;width:35px}.my-popups .modal-dialog[data-v-2ebab8f1]{max-width:800px}",""]),t.exports=e},e6a7:function(t,e,a){"use strict";a("5082")},e7a5:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".single-action{font-size:20px}.text-center{text-align:center!important}",""]),t.exports=e},e8b0:function(t,e,a){"use strict";a("a295")},f919:function(t,e,a){"use strict";a("a710")},fa15:function(t,e,a){"use strict";a("a335")},fe3e:function(t,e,a){"use strict";a("5e99")}}]);
//# sourceMappingURL=chunk-6c118399.js.map