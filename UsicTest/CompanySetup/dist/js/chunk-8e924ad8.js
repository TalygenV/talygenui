(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e924ad8"],{"0cb2":function(e,a,t){"use strict";var i=t("e330"),o=t("7b0b"),l=Math.floor,n=i("".charAt),s=i("".replace),r=i("".slice),d=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,a,t,i,u,m){var p=t+e.length,h=i.length,f=c;return void 0!==u&&(u=o(u),f=d),s(m,f,(function(o,s){var d;switch(n(s,0)){case"$":return"$";case"&":return e;case"`":return r(a,0,t);case"'":return r(a,p);case"<":d=u[r(s,1,-1)];break;default:var c=+s;if(0===c)return o;if(c>h){var m=l(c/10);return 0===m?o:m<=h?void 0===i[m-1]?n(s,1):i[m-1]+n(s,1):o}d=i[c-1]}return void 0===d?"":d}))}},"3b82":function(e,a,t){var i=t("b573");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=t("499e").default;o("afb2d8ce",i,!0,{sourceMap:!1,shadowMode:!1})},"44e7":function(e,a,t){"use strict";var i=t("861d"),o=t("c6b6"),l=t("b622"),n=l("match");e.exports=function(e){var a;return i(e)&&(void 0!==(a=e[n])?!!a:"RegExp"===o(e))}},"55b4":function(e,a,t){"use strict";t("a814")},"5b81":function(e,a,t){"use strict";var i=t("23e7"),o=t("c65b"),l=t("e330"),n=t("1d80"),s=t("1626"),r=t("7234"),d=t("44e7"),c=t("577e"),u=t("dc4a"),m=t("90d8"),p=t("0cb2"),h=t("b622"),f=t("c430"),g=h("replace"),y=TypeError,v=l("".indexOf),b=l("".replace),_=l("".slice),F=Math.max;i({target:"String",proto:!0},{replaceAll:function(e,a){var t,i,l,h,C,w,S,D,k,I=n(this),A=0,x=0,E="";if(!r(e)){if(t=d(e),t&&(i=c(n(m(e))),!~v(i,"g")))throw new y("`.replaceAll` does not allow non-global regexes");if(l=u(e,g),l)return o(l,e,I,a);if(f&&t)return b(c(I),e,a)}h=c(I),C=c(e),w=s(a),w||(a=c(a)),S=C.length,D=F(1,S),A=v(h,C);while(-1!==A)k=w?c(a(C,A,h)):p(C,h,A,[],void 0,a),E+=_(h,x,A)+k,x=A+S,A=A+D>h.length?-1:v(h,C,A+D);return x<h.length&&(E+=_(h,x)),E}})},"68c9":function(e,a,t){var i=t("4bad");a=i(!1),a.push([e.i,".vc-popover-content-wrapper .vc-date{display:none}.vc-popover-content-wrapper svg.vc-time-icon{margin-top:0}.vc-popover-content-wrapper .vc-container.vc-blue{margin-top:1px}",""]),e.exports=a},"8dd4":function(e,a,t){"use strict";var o=function(){var e=this,a=e._self._c;e._self._setupProxy;return a("div",[a("div",{staticClass:"my-popups"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"modal d-block"},[a("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[e._v(e._s(e.title))]),a("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(a){return e.$emit("close")}}},[a("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("span",{staticClass:"user-guide"},[e._m(0),a("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[a("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[a("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t(e.addUserGuide))}})])])])]),a("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[a("section",{staticClass:"main-content",attrs:{id:"main-content"}},[a("section",{staticClass:"main-content"},[a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"p-0"},[a("dynamic-form",{ref:"dynamicForm",staticClass:"daterangecontrolHS",attrs:{lang:"en",mandatorytext:e.MandatoryString,buttons:e.buttons,schema:e.FormSchema},scopedSlots:e._u([e.showContractDiv?{key:"tgslot-AvailableClientsLang",fn:function({data:t}){return[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"},[a("div",{staticClass:"col-lg-12 float-left",staticStyle:{display:"block"},attrs:{id:"divContract"}},[a("input",{attrs:{id:"hdnSelectedContractsEdit",type:"hidden",value:""}}),a("div",{staticClass:"col-12 p-0 d-flex flex-wrap mb-2"},[a("div",{staticClass:"mover-panel-box",attrs:{id:"divAvailableColumnsAll"}},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v("Available Clients Lang")])])]),a("div",{staticClass:"pt-2 d-inline-block w-100"},[a("div",{staticClass:"col-12 p-0 mt-0"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[a("input",{staticClass:"form-control",attrs:{id:"txtAvailableColumnsInSetup",maxlength:"50",type:"text",placeholder:"Search",autocomplete:"off"}})]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[a("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"ancSearchAvailableColumnsInSetup",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger px-4",attrs:{href:"javascript:;",title:"",id:"ancClearAvailableColumnsInSetup","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[a("i",{staticClass:"fa fa-refresh"})])])])])]),a("div",{staticClass:"w-100 mt-2",staticStyle:{display:"none"}},[a("div",{staticClass:"input-group d-flex mt-1"},[a("div",{staticClass:"custom-control custom-checkbox"},[a("input",{staticClass:"custom-control-input",staticStyle:{display:"none"},attrs:{type:"checkbox",id:"chk_62"}}),a("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_62"}})]),e._v("Select All ")])]),a("div",{staticClass:"w-100 table-responsive mt-1 listingcontrol",staticStyle:{height:"360px"},attrs:{id:"columns"}},[a("ul",{staticClass:"list-group"},[a("li",{staticClass:"norecords list-group-item",staticStyle:{display:"block"},attrs:{id:"norecordAvailable"}},[a("div",{staticClass:"text-danger text-center no-record"},[e._v("No record(s) found")])])])])])]),a("div",{staticClass:"mover-controls ancArrowdata"},[a("button",{attrs:{type:"button",id:"aMoveAllColumnArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move All Right"}},[a("i",{staticClass:"fa fa-angle-double-down fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-double-right fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button",id:"aColumnArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move Right"}},[a("i",{staticClass:"fa fa-angle-down fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-right fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button",id:"aColumnRemoveArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move Left"}},[a("i",{staticClass:"fa fa-angle-up fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-left fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})]),a("button",{attrs:{type:"button",id:"aMoveAllColumnRemoveArrow","data-toggle-tooltip":"tooltip",title:"","data-original-title":"Move All Left"}},[a("i",{staticClass:"fa fa-angle-double-up fa-2x d-md-none",attrs:{"aria-hidden":"true"}}),a("i",{staticClass:"fa fa-angle-double-left fa-2x d-none d-md-block",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"mover-panel-box",attrs:{id:"divAvailableColumnsAll"}},[a("div",{staticClass:"row m-0"},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v("Selected Clients Lang")])])]),a("div",{staticClass:"pt-2 d-inline-block w-100"},[a("div",{staticClass:"col-12 p-0 mt-0"},[a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pr-1 pl-0"},[a("input",{staticClass:"form-control",attrs:{id:"txtSelectedColumnsInSetup",maxlength:"50",type:"text",placeholder:"Search",autocomplete:"off"}})]),a("div",{staticClass:"col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6 float-left pl-0"},[a("div",{staticClass:"search-btm-btn background-0 text-left form-check-inline"},[a("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{title:"",id:"ancSearchSelectedColumnsInSetup",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Search"}},[a("i",{staticClass:"fa fa-search"})]),a("a",{staticClass:"btn btn-danger px-4",attrs:{href:"javascript:;",title:"",id:"ancClearSelectedColumnsInSetup","data-toggle-tooltip":"tooltip","data-original-title":"Clear"}},[a("i",{staticClass:"fa fa-refresh"})])])])])]),a("div",{staticClass:"w-100 table-responsive mt-2 listingcontrol"},[a("ul",{staticClass:"list-group",staticStyle:{height:"360px","overflow-y":"auto"},attrs:{id:"visiblecolumn"}},[a("li",{staticClass:"norecords list-group-item ui-sortable-handle",attrs:{id:"norecordVisibleColumn"}},[a("div",{staticClass:"text-danger text-center no-record"},[e._v("No record(s) found")])])])]),a("div",{staticClass:"w-100 float-left"},[a("span",{staticClass:"invalid-feedback",staticStyle:{display:"none"},attrs:{id:"spnselectedContracts"}},[e._v("Client is required")])])])])])])])]}}:null,{key:"tgslot-ManageQuestionaire",fn:function({data:t}){return[e.ManageQuestionaire?a("div",{staticClass:"container-fluid p-0"},[a("div",{staticClass:"w-100 float-left",attrs:{id:"divShowlistingData"}},[a("div",{staticClass:"listing",attrs:{id:"divReviewTemplateQuestion"}},[a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblReviewTemplateQuestion"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{attrs:{scope:"col",width:"30px"}},[a("div",{staticClass:"snap_checkbox custom-control custom-checkbox"},[a("input",{staticClass:"masterchk custom-control-input",staticStyle:{"z-index":"1",width:"19px","margin-top":"6px"},attrs:{type:"checkbox",id:"ChkMainItems"},domProps:{checked:e.selectAll},on:{change:e.selectAllItems}}),a("label",{staticClass:"custom-control-label",attrs:{for:"ChkMainItems"}})])]),a("th",[e._v("Title")]),a("th",[e._v("Stars")]),a("th",[e._v("Visibility")])])]),a("tbody",e._l(e.GetReviewQuestionList,(function(t,i){return a("tr",{key:i},[a("td",{staticClass:"chcklbl"},[a("div",{staticClass:"snap_checkbox custom-control custom-checkbox float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItems,expression:"selectedItems"}],staticClass:"deletable custom-control-input",staticStyle:{"z-index":"-1 !important"},attrs:{type:"checkbox",id:"chk_"+t.QUESTION_BANK_ID,"data-change-id":"no"},domProps:{value:t.QUESTION_BANK_ID,checked:Array.isArray(e.selectedItems)?e._i(e.selectedItems,t.QUESTION_BANK_ID)>-1:e.selectedItems},on:{change:[function(a){var i=e.selectedItems,o=a.target,l=!!o.checked;if(Array.isArray(i)){var n=t.QUESTION_BANK_ID,s=e._i(i,n);o.checked?s<0&&(e.selectedItems=i.concat([n])):s>-1&&(e.selectedItems=i.slice(0,s).concat(i.slice(s+1)))}else e.selectedItems=l},e.updateSelectAll]}}),a("label",{staticClass:"custom-control-label",attrs:{for:"chk_"+t.QUESTION_BANK_ID}})])]),a("td",[a("div",{staticClass:"form-group"},[a("span",[e._v(e._s(t.TITLE))])])]),a("td",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"pl-0 border-0"},e._l(e.RadioOptions,(function(o,l){return a("div",{key:l,staticClass:"custom-control w-auto custom-control-inline custom-radio"},[a("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"radio_"+o.value+"_"+t.QUESTION_BANK_ID,name:"stars_"+t.QUESTION_BANK_ID},domProps:{checked:t.IS_STAR_ENABLE==o.value},on:{change:function(a){return e.GetRadioStarValue(i,o.value)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"radio_"+o.value+"_"+t.QUESTION_BANK_ID}},[e._v(e._s(o.label))])])})),0)])]),a("td",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"pl-0 border-0"},e._l(e.RadioVisibilityOtions,(function(o,l){return a("div",{key:l,staticClass:"custom-control w-auto custom-control-inline custom-radio"},[a("input",{staticClass:"custom-control-input dynamic",attrs:{type:"radio",id:"radio"+o.value+"_"+t.QUESTION_BANK_ID,name:"radiovisibility_"+t.QUESTION_BANK_ID},domProps:{checked:t.VISIBLE_FOR==o.value},on:{change:function(a){return e.GetRadioVisibilityValue(i,o.value)}}}),a("label",{staticClass:"custom-control-label",attrs:{for:"radio"+o.value+"_"+t.QUESTION_BANK_ID}},[e._v(e._s(o.label))])])})),0)])])])})),0)])])])])]):e._e()]}},{key:"tgslot-googlemap",fn:function({data:t}){return[a("div",[a("GoogleMap",{attrs:{geofenceEnabled:e.geofenceEnabled,geofenceType:e.geofenceType,radiusValue:e.radiusValue,latitude:e.latitude,longitude:e.longitude,polygencoordinates:e.polygencoordinates},on:{updatelocationData:e.fillAddress}})],1)]}}],null,!0)})],1)])])])])])])])],1)])},l=[function(){var e=this,a=e._self._c;e._self._setupProxy;return a("a",{staticClass:"ancuserguide",staticStyle:{color:"white"},attrs:{"data-toggle":"collapse",href:"javascript:;",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[a("em",{staticClass:"fa fa-files-o pr-2"}),e._v("User Guide")])}],n=(t("14d9"),t("13d5"),t("5b81"),t("b7ef"),function(){var e=this;e._self._c;return e._m(0)}),s=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"location_gmap"},[a("input",{staticClass:"form-control padleft30",attrs:{id:"autocomplete",placeholder:"Enter a city",type:"text",tabindex:"17"}}),a("div",{staticClass:"map-container",attrs:{id:"map"}})])}];const r="AIzaSyAJdx4gmhGKWjPTBBVk5riFgpbE0lGS-xM";var d={name:"MapWithShapes",props:{geofenceEnabled:{type:String,default:!1},geofenceType:{type:String,required:!1},latitude:{type:Number,required:!1},longitude:{type:Number,required:!1},polygencoordinates:{type:String,required:!1},radiusValue:{type:String,required:!1}},watch:{geofenceEnabled(e){this.reloadMap(e,this.geofenceType,this.radiusValue)},geofenceType(e){this.reloadMap(this.geofenceEnabled,e,this.radiusValue)},radiusValue(e){this.reloadMap(this.geofenceEnabled,this.geofenceType,e)}},data(){return{map:null,marker:null,center:{lat:37.7749,lng:-122.4194},locationData:null,circle:null,polygon:null,drawingManager:null,coordinates:[],googleapi:r}},mounted(){this.loadGoogleMaps().then(()=>{this.initMap(),this.initAutocomplete()})},methods:{loadGoogleMaps(){return new Promise((e,a)=>{if(window.google&&window.google.maps&&window.google.maps.drawing)return void e();const t=document.createElement("script");t.src=`https://maps.googleapis.com/maps/api/js?key=${this.googleapi}&libraries=places,drawing&language=en`,t.async=!0,t.defer=!0,t.onload=()=>{window.google&&window.google.maps&&window.google.maps.drawing?e():a("Google Maps Drawing Library failed to load.")},t.onerror=a,document.head.appendChild(t)})},initMap(){if(window.google&&window.google.maps){if(this.latitude&&this.longitude?this.center={lat:this.latitude,lng:this.longitude}:this.center={lat:37.7749,lng:-122.4194},this.map=new google.maps.Map(document.getElementById("map"),{center:this.center,zoom:13}),this.latitude&&this.longitude&&"Yes"===this.geofenceEnabled&&this.placeLocator(this.center),this.marker||this.circle||this.polygon||google.maps.event.addListener(this.map,"click",e=>{if(!this.marker&&!this.circle&&!this.polygon){const a={lat:e.latLng.lat(),lng:e.latLng.lng()};this.placeLocator(a)}}),"Yes"==this.geofenceEnabled&&this.setupDrawingManager(),"Yes"===this.geofenceEnabled&&"Draw"===this.geofenceType&&this.polygencoordinates){const e=this.parseWKTPolygon(this.polygencoordinates);this.polygon=new google.maps.Polygon({paths:e,strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}),this.polygon.setMap(this.map),this.coordinates=e;const a=new google.maps.LatLngBounds;e.forEach(e=>a.extend(e)),this.map.fitBounds(a)}if("Yes"===this.geofenceEnabled&&"Radius"===this.geofenceType&&parseFloat(this.radiusValue)>0){this.circle=new google.maps.Circle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:this.map,center:this.center,radius:parseFloat(this.radiusValue)});const e=this.circle.getBounds();this.map.fitBounds(e)}}else console.error("Google Maps API failed to load.")},initAutocomplete(){const e=document.getElementById("autocomplete"),a=new google.maps.places.Autocomplete(e,{types:[]});a.addListener("place_changed",()=>{const e=a.getPlace(),t={lat:e.geometry.location.lat(),lng:e.geometry.location.lng()};console.log("Selected location: ",t),this.map.setCenter(t),this.placeLocator(t)})},movePacContainer(){const e=document.getElementById("autocomplete");if(!e)return void console.warn("Autocomplete input not found");const a=new MutationObserver(()=>{const t=document.querySelector(".pac-container"),i=e.closest(".modal");t&&i&&(i.appendChild(t),a.disconnect())});a.observe(document.body,{childList:!0,subtree:!0})},reloadMap(e,a,t,i,o){this.geofenceEnabled=e,this.geofenceType=a,this.radiusValue=t;const l=document.getElementById("map");l&&(l.innerHTML=""),this.marker=null,this.circle=null,this.polygon=null,this.drawingManager=null,this.map=null,this.loadGoogleMaps().then(()=>{this.initMap(),this.initAutocomplete()})},placeLocator(e){this.marker&&this.marker.setMap(null),this.marker=new google.maps.Marker({position:e,map:this.map,title:"Drag me!",draggable:!0,animation:google.maps.Animation.DROP}),this.getAddressFromLatLng(e),this.marker.addListener("dragend",e=>{const a={lat:e.latLng.lat(),lng:e.latLng.lng()};if(this.getAddressFromLatLng(a),this.map.setCenter(a),this.circle&&"Radius"===this.geofenceType&&this.circle.setCenter(a),this.polygon&&"Draw"===this.geofenceType){const e=this.polygon.getPath(),t=this.getPolygonCenter(e),i=a.lat-t.lat(),o=a.lng-t.lng(),l=e.getArray().map(e=>({lat:e.lat()+i,lng:e.lng()+o}));this.polygon.setPath(l)}this.fillAddressDetails()})},getPolygonCenter(e){let a=new google.maps.LatLngBounds;return e.forEach(e=>a.extend(e)),a.getCenter()},getAddressFromLatLng(e){const a=new google.maps.Geocoder;a.geocode({location:e},(a,t)=>{if("OK"===t&&a[0]){const t=a[0],i=t.address_components,o=(e,a=!1)=>{const t=i.find(a=>a.types.includes(e));return t?a?t.short_name:t.long_name:""};if(this.locationData={latitude:e.lat,longitude:e.lng,addressLine1:t.formatted_address,addressLine2:o("route"),city:o("locality")||o("administrative_area_level_2"),country:o("country"),state:o("administrative_area_level_1",!0),postalCode:o("postal_code"),coordinates:null,radiusValue:null},"Radius"===this.geofenceType)this.circle&&(this.locationData.radiusValue=this.circle.getRadius());else if("Draw"===this.geofenceType&&this.polygon){const e=this.polygon.getPath().getArray(),a=e.map(e=>({lat:e.lat(),lng:e.lng()}));this.coordinates=a,this.locationData.coordinates=this.toGeoJSONPolygon(a)}this.fillAddressDetails()}else console.error("Geocoder failed: ",t)})},setupDrawingManager(){const e=[];this.geofenceEnabled&&("Radius"===this.geofenceType?e.push(google.maps.drawing.OverlayType.CIRCLE):e.push(google.maps.drawing.OverlayType.POLYGON)),this.drawingManager=new google.maps.drawing.DrawingManager({drawingMode:null,drawingControl:!0,drawingControlOptions:{position:google.maps.ControlPosition.RIGHT_TOP,drawingModes:e},circleOptions:{fillColor:"#ffff00",fillOpacity:.4,strokeWeight:1,clickable:!1,editable:!1,zIndex:1},polygonOptions:{fillColor:"#ff0000",fillOpacity:.4,strokeWeight:1,clickable:!1,editable:!0,zIndex:1}}),this.drawingManager.setMap(this.map),google.maps.event.addListener(this.drawingManager,"overlaycomplete",e=>{if(e.type===google.maps.drawing.OverlayType.CIRCLE){this.circle&&this.circle.setMap(null),this.circle=e.overlay;const a=this.circle.getCenter(),t=this.circle.getRadius();this.map.setCenter(a),this.map.setZoom(13),this.placeLocator({lat:a.lat(),lng:a.lng()});const i=this.circle.getBounds();this.map.fitBounds(i),this.locationData={...this.locationData,latitude:a.lat(),longitude:a.lng(),radiusValue:t,coordinates:null}}else if(e.type===google.maps.drawing.OverlayType.POLYGON){this.polygon&&this.polygon.setMap(null),this.polygon=e.overlay;const a=this.polygon.getPath(),t=[],i=new google.maps.LatLngBounds;a.forEach(e=>{const a={lat:e.lat(),lng:e.lng()};t.push(a),i.extend(e)});const o=i.getCenter();this.map.setCenter(o),this.map.fitBounds(i),this.placeLocator({lat:o.lat(),lng:o.lng()}),this.coordinates=t,this.locationData={...this.locationData,latitude:o.lat(),longitude:o.lng(),coordinates:this.toGeoJSONPolygon(t),radiusValue:null}}this.$emit("updatelocationData",this.locationData)})},fillAddressDetails(){this.locationData&&this.$emit("updatelocationData",this.locationData)},toGeoJSONPolygon(e){const a=e.map(e=>[e.lng,e.lat]),t=a[0],i=a[a.length-1];t[0]===i[0]&&t[1]===i[1]||a.push(t);const o={type:"Polygon",coordinates:[a]};return JSON.stringify(o)},parseWKTPolygon(e){if(!e||!e.startsWith("POLYGON"))return[];const a=e.replace("POLYGON ((","").replace("))","").split(",");return a.map(e=>{const[a,t]=e.trim().split(" ").map(Number);return{lat:t,lng:a}})}}},c=d,u=t("2877"),m=Object(u["a"])(c,n,s,!1,null,null,null),p=m.exports,h=t("ed09"),f=t("7bb1"),g=(t("b9b9"),t("9769")),y=t("c1df"),v=t.n(y);t("1157");Object(f["d"])("required",{validate(e){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(e)}},message:"The {_field_} is required"});var b=Object(h["b"])({components:{ValidationObserver:f["b"],ValidationProvider:f["c"],GoogleMap:p},props:{addApiUrl:{type:String},emitName:{type:String},moduleName:{type:String},subModule:{type:String},title:{type:String},recordId:{type:Number},addUserGuide:{type:String},refId:{type:Number},callbackfunction:{type:Function,required:!1}},data(){return{startTime:null,endTime:null,hoursDifference:null,starRatings:{},visibilitySettings:{},fileData:[],editor:this.CLASSIC_EDITOR,department:{name:"",status:{name:"active",id:1},visibaleToclients:!1,visibaleToTicting:!1,description:""},buttons:[{type:"button",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0,onClick:this.Save},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],FormSchema:[],OtherSchema:[],selectAll:!1,isLoading:!1,showContractDiv:!1,ManageQuestionaire:!1,modelStars:[],GetCheckedValue:null,modelQuestionVisibility:[],GetReviewQuestionList:[],RadioOptions:[{label:"Enable",value:1},{label:"Disable",value:0}],RadioVisibilityOtions:[{label:"Both",value:0},{label:"Candidate",value:1},{label:"Reviewer",value:2}],selectedItems:[],FeedbackColumnArray:[{FeedbackQuestion:"",FeedbackAnswerType:"",FeedbackIndex:0,FeedbackAnsweringType:"",FeedbackAnsweringValue:""}],count:0,skill:"",notes:"",feedback:"",goal:"",MandatoryString:this.$t("MandatoryString"),training:"",male:"",female:"",FeedbackAnsweringValue:"",otherFeedBackData:[],geofenceEnabled:"No",geofenceType:"Draw",radiusValue:null,latitude:0,longitude:0,polygencoordinates:null,isEditMode:!1,isEditModeInitialized:!1}},created:function(){let e=this.recordId?this.recordId:0;e>0&&(this.isEditMode=!0),"Review"==this.moduleName&&"PerformanceReview"==this.subModule&&(this.GetReviewTemplateData(),this.title=this.$t("Manage")+" "+this.$t("ReviewTemplate")),setTimeout(()=>{this.getchecked()},2e3),this.getForm(e)},watch:{hoursDifference(){}},methods:{reloadMap(){const e=this.$refs.dynamicForm.getPropertyValue("enable_geofence","value"),a=this.$refs.dynamicForm.getPropertyValue("geofence_type","value"),t=this.$refs.dynamicForm.getPropertyValue("radius_meters","value");let i=this.$refs.dynamicForm.getPropertyValue("latitude","value"),o=this.$refs.dynamicForm.getPropertyValue("longitude","value");this.$refs.googleMap.reloadMap(e,a,t,i,o)},getchecked(){"Review"==this.moduleName&&"PerformanceReview"==this.subModule&&(""!=this.skill&&$(".input-group").find(".custom-checkbox").find($('input[type="checkbox"]#is_skill_enable_3')).prop("checked",!0),""!=this.notes&&$(".input-group").find(".custom-checkbox").find($('input[type="checkbox"]#is_skill_enable_0')).prop("checked",!0),""!=this.feedback&&$(".input-group").find(".custom-checkbox").find($('input[type="checkbox"]#is_skill_enable_1')).prop("checked",!0),""!=this.goal&&$(".input-group").find(".custom-checkbox").find($('input[type="checkbox"]#is_skill_enable_2')).prop("checked",!0),""!=this.training&&$(".input-group").find(".custom-checkbox").find($('input[type="checkbox"]#is_skill_enable_4')).prop("checked",!0)),"Configuration"==this.moduleName&&"Passport"==this.subModule&&(""!=this.male&&$(".input-group").find(".custom-radio").find($('input[type="radio"]#sex_0')).prop("checked",!0),""!=this.female&&$(".input-group").find(".custom-radio").find($('input[type="radio"]#sex_1')).prop("checked",!0))},getDifference(){if(!this.startTime||!this.endTime)return this.hoursDifference=0,"Start and end time are required.";{const e=e=>{try{e=e.trim().toUpperCase();const a=e.match(/^(\d{1,2})(?::(\d{2}))?\s*(AM|PM)$/);if(!a)return NaN;let[t,i,o,l]=a,n=parseInt(i),s=parseInt(o||"0");return"PM"===l&&12!==n&&(n+=12),"AM"===l&&12===n&&(n=0),60*n+s}catch(a){return NaN}},a=e(this.startTime),t=e(this.endTime);if(isNaN(a)||isNaN(t))return this.hoursDifference=0,"Invalid time format.";let i=t-a;i<0&&(i+=1440);const o=Math.floor(i/60),l=i%60;this.hoursDifference=parseFloat((o+l/60).toFixed(2))}},GetPassportAttachments:async function(e){var a="recordId="+e;try{const e=await g["a"].GetPassportAttachments(a);if(e.data.data.length>0){var t=e.data.data[0];return t}return[]}catch(i){return console.error("Error fetching passport attachments",i),[]}},getForm:async function(e){var a=this;a.isLoading=!0;var t=[],i=`recordId=${e}&moduleName=${a.moduleName}&subModuleCode=${a.subModule}`;const o=await a.GetPassportAttachments(e);await g["a"].GetDynamicForm(i).then((function(i){if(null!=i&&null!=i.data){if(a.isMapFeature=i.data.isFsmLocating,"Company"==a.moduleName&&"Feedback"==a.subModule&&(a.otherFeedBackData=[],a.otherFeedBackData=i.data.otherData),"Company"==a.moduleName&&"Location"==a.subModule&&(a.otherFeedBackData=[],i.data.Attachment.length>0&&(a.otherFeedBackData=i.data.Attachment,a.otherFeedBackData.forEach((e,t)=>{a.latitude=parseFloat(e.lat),a.longitude=parseFloat(e.lng),a.geofenceEnabled=e.geofenceEnabled,a.geofenceType=e.geofenceType,a.polygencoordinates=e.coordinates,a.radiusValue=e.radiusValue})),i.data.data.forEach((a,t)=>{if("parent_location_id"==a.name){console.log("seleted_optons",a.select_options),console.log("refId",e);let t=a.select_options;if("string"===typeof t)try{t=JSON.parse(t)}catch(i){console.error("JSON parse error:",i)}const o=e;t=t.filter(e=>String(e.value)!==String(o)),a.select_options=t}})),a.FormSchema=a.$refs.dynamicForm.ConvertCustomFieldIntoDynamicFormObj(i.data.data),"Company"==a.moduleName&&"CompanyHoliday"==a.subModule){var l="";i.data.locationData.length>0&&(l=i.data.locationData[0].value),a.FormSchema.push({groupId:null,group_name:"",layoutType:"single",visibility:!0,Data:[{astype:"SlotField",label:"",name:"AvailableClientsLang",value:"",visibility:!0,placeholder:"",config:{options:[],showAddIcon:!1},validationRules:""}]}),a.$nextTick(()=>{a.$refs.dynamicForm.updateProperty("company_location_id","value",l)})}else"Review"==a.moduleName&&"PerformanceReview"==a.subModule?(a.FormSchema.push({groupId:null,group_name:"",layoutType:"single",visibility:!0,Data:[{astype:"SlotField",label:a.$t("Question"),name:"ManageQuestionaire",value:"",visibility:!0,placeholder:"",config:{options:[],showAddIcon:!1},validationRules:""}]}),a.ManageQuestionaire=!0):"Company"==a.moduleName&&"Location"==a.subModule?(e>0?(a.refId=i.data.data.find(e=>"parent_location_id"==e.name).value,a.refId=a.refId?a.refId:"",a.FormSchema.forEach((e,t)=>{e.Data.forEach((e,t)=>{"location_country"==e.name&&""!=e.value&&a.GetStateDDL(e.value)})})):a.refId=a.refId?a.refId:"",a.$refs.dynamicForm.updateProperty("parent_location_id","value",a.refId),a.$refs.dynamicForm.UpdateKeyValue(),e>0?a.otherFeedBackData.forEach((e,t)=>{a.FormSchema.splice(0,0,{groupId:null,group_name:"GeofenceConfiguration",layoutType:"triple",visibility:!0,index:0,Data:[{astype:"RadioField",label:"EnableGeofence",name:"enable_geofence",value:null==e.geofenceEnabled?"No":e.geofenceEnabled,placeholder:"",disabled:!1,chktxtIndex:0,config:{options:[{value:"Yes",name:"Yes"},{value:"No",name:"No"}]},validationRules:"required"},{astype:"RadioField",label:"Geofence Type",name:"geofence_type",value:e.geofenceType,placeholder:"",disabled:!1,chktxtIndex:0,visibility:"Yes"==e.geofenceEnabled,config:{options:[{value:"Draw",name:"Draw"},{value:"Radius",name:"Radius"}]},validationRules:"required"},{astype:"TextField",label:"Radius (in meters)",name:"radius_meters",value:e.radiusValue,chktxtIndex:t,visibility:"Radius"==e.geofenceType,config:{}},{astype:"TextField",label:"latitude",name:"latitude",value:e.lat,placeholder:"latitude",disabled:!1,chktxtIndex:0,visibility:!1,config:{options:[],showAddIcon:!1},validationRules:""},{astype:"TextField",label:"longitude",name:"longitude",value:e.lng,placeholder:"longitude",disabled:!1,chktxtIndex:0,visibility:!1,config:{options:[],showAddIcon:!1},validationRules:""}]}),a.FormSchema.splice(0,0,{groupId:null,group_name:"Choose Location",layoutType:"single",visibility:!0,index:t,Data:[{astype:"SlotField",label:"",showLabel:!1,name:"googlemap",value:"",placeholder:"Enter radius in meters",config:{},ref:"googleMap"}]})}):(a.FormSchema.splice(0,0,{groupId:null,group_name:"GeofenceConfiguration",layoutType:"triple",visibility:!0,index:0,Data:[{astype:"RadioField",label:"EnableGeofence",name:"enable_geofence",value:"No",placeholder:"",disabled:!1,chktxtIndex:0,config:{options:[{value:"Yes",name:"Yes"},{value:"No",name:"No"}]},validationRules:"required"},{astype:"RadioField",label:"Geofence Type",name:"geofence_type",value:"Draw",placeholder:"",disabled:!1,chktxtIndex:0,visibility:!1,config:{options:[{value:"Draw",name:"Draw"},{value:"Radius",name:"Radius"}]},validationRules:"required"},{astype:"TextField",label:"Radius (in meters)",name:"radius_meters",value:"",placeholder:"Enter radius in meters",disabled:!1,chktxtIndex:0,visibility:!1,config:{options:[],showAddIcon:!1},validationRules:""}]}),a.FormSchema.push({groupId:null,group_name:"Location",layoutType:"single",visibility:!0,index:0,Data:[{astype:"TextField",label:"latitude",name:"latitude",value:"",placeholder:"latitude",disabled:!1,chktxtIndex:0,visibility:!1,config:{options:[],showAddIcon:!1},validationRules:""},{astype:"TextField",label:"longitude",name:"longitude",value:"",placeholder:"longitude",disabled:!1,chktxtIndex:0,visibility:!1,config:{options:[],showAddIcon:!1},validationRules:""}]}),a.FormSchema.splice(0,0,{groupId:null,group_name:"Choose Location",layoutType:"single",visibility:!0,index:0,Data:[{astype:"SlotField",label:"",showLabel:!1,name:"googlemap",value:"",placeholder:"Enter radius in meters",config:{},ref:"googleMap"}]}))):"Company"==a.moduleName&&"AnnouncementMessage"==a.subModule?i.data.Attachment.length>0&&i.data.Attachment.forEach(e=>{let a={attachmentName:e.attachment_name,attachmentPath:e.attachment_path,attachmentDesc:e.attachment_desc};t.push(a)}):"Configuration"==a.moduleName&&"Passport"==a.subModule&&a.FormSchema.push({layoutType:"single",visibility:!0,Data:[{astype:"FileField",label:"Attachment",name:"attachment",value:"",visibility:!0,placeholder:"",config:{options:[],showAddIcon:!1,onDeleteSelectedFiles:a.onDeleteSelectedFiles},validationRules:""}]});if(a.FormSchema.forEach((e,o)=>{e.Data.forEach((e,o)=>{if("Company"==a.moduleName&&"Status"==a.subModule&&"is_active"==e.name&&(e.config.options[0].name="Active",e.config.options[1].name="InActive"),"Company"!=a.moduleName||"Department"!=a.subModule&&"Shift"!=a.subModule||"status_id"!=e.name||(e.value="1001"),"Company"==a.moduleName&&"Location"==a.subModule&&"parent_location_id"==e.name&&(e.value=a.refId),"Company"==a.moduleName&&"Question"==a.subModule&&"description"==e.name&&(e.validationRules.required=!1),"from_time"!=e.name&&"to_time"!=e.name||(e.visibility=!1),"break_duration"==e.name&&(e.config.is24hr=!0,e.value||(e.value="00:30"),""!=e.value)){var l=new Date;let a=e.value.split(":");l=new Date(l.getFullYear(),l.getMonth(),l.getDate(),parseInt(a[0]),parseInt(a[1])),e.value=l}"attachment"==e.name&&(e.config={maxSize:5,showSelectedFiles:[],accept:[{fileType:"doc",iconClass:"fa-file-word-o"},{fileType:"docx",iconClass:"fa-file-word-o"},{fileType:"txt",iconClass:"fa-file-text-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"},{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"gif",iconClass:"fa-file-image-o"},{fileType:"bmp",iconClass:"fa-file-image-o"}],multiple:!1},t.length>0&&null!=t[0].attachmentName&&e.config.showSelectedFiles.push(...t)),"is_note_enable"==e.name&&"1"==e.value&&(a.notes="is_skill_enable_0"),"is_feedback_enable"==e.name&&"1"==e.value&&(a.feedback="is_skill_enable_1"),"is_goal_enable"==e.name&&"1"==e.value&&(a.goal="is_skill_enable_2"),"is_skill_enable"==e.name&&"1"==e.value&&(a.skill="is_skill_enable_3"),"is_training_feedback_enabled"==e.name&&"1"==e.value&&(a.training="is_skill_enable_4"),"is_note_enable"!=e.name&&"is_feedback_enable"!=e.name&&"is_goal_enable"!=e.name&&"is_training_feedback_enabled"!=e.name||(e.visibility=!1),"shift_hours"==e.name&&(e.disabled=!0,e.placeholder="Shift Hours"),"sex"==e.name&&1==e.value&&(a.male="sex_0"),"sex"==e.name&&0==e.value&&(a.female="sex_1"),"startdate"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"enddate"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"issue_date"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"expiry_date"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"date_of_birth"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"effective_from_date"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"effective_to_date"==e.name&&(e.config.minDate=new Date,e.config.format="MM/DD/YYYY"),"holiday_date"==e.name&&(e.config.format="MM/DD/YYYY"),"effective_from_date"!=e.name&&"effective_to_date"!=e.name||(e.config.minDate=""),"user_name"!=e.name&&"password"!=e.name&&"signature"!=e.name||(e.visibility=!1),"break_id"==e.name&&"Shift"==a.subModule&&null!=i.data.BreakData&&i.data.BreakData.length>0&&(e.value=i.data.BreakData),"Company"==a.moduleName&&"Break"==a.subModule&&"break_types"==e.name&&(e.value=1),e.config.onChange=a.OnChangeEventsforField})}),"Company"==a.moduleName&&"Feedback"==a.subModule&&(e>0?a.otherFeedBackData.forEach((e,t)=>{a.FormSchema.push({groupId:null,group_name:0==t?"List of Question/Answering Type(s)":"",layoutType:"double",visibility:!0,index:t,Data:[{astype:"TextField",label:"Question Id",name:"QuestionId"+t,value:e.question_id,chktxtIndex:t,visibility:!1},{astype:"TextField",label:"Feedback Question",name:"FeedbackQuestion"+t,value:e.questtion_text,placeholder:"",disabled:!1,chktxtIndex:t,config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:"Answering Type",name:"AnsweringType"+t,value:e.answer_type,placeholder:"",disabled:!1,chktxtIndex:t,config:{options:[{value:"Comments",name:"Comments"},{value:"Star Rating",name:"Star Rating"},{value:"Objective",name:"Objective"}],showAddIcon:!0,onAddButtonClick:t>0?a.DeleteFeedbackRow:a.AddMultiQuestionAnswer,onChange:a.GetAnswerType,addIcon:t>0?"fa fa-trash":"fa fa-plus"},validationRules:"required"},{astype:"RadioField",label:"",name:"Type",value:2,placeholder:"",validationRules:{required:!1,max:200},config:{options:[{name:"Private",value:1},{name:"Public",value:2}],showAddIcon:!1}}]})}):a.FormSchema.push({groupId:null,group_name:"List of Question/Answering Type(s)",layoutType:"double",visibility:!0,index:0,Data:[{astype:"TextField",label:"Question Id",name:"QuestionId0",value:0,chktxtIndex:0,visibility:!1},{astype:"TextField",label:"Feedback Question",name:"FeedbackQuestion0",value:"",placeholder:"",disabled:!1,chktxtIndex:0,config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:"Answering Type",name:"AnsweringType0",value:"",placeholder:"",disabled:!1,chktxtIndex:0,config:{options:[{value:"Comments",name:"Comments"},{value:"Star Rating",name:"Star Rating"},{value:"Objective",name:"Objective"}],showAddIcon:!0,onAddButtonClick:a.AddMultiQuestionAnswer,onChange:a.GetAnswerType},validationRules:"required"},{astype:"RadioField",label:"",name:"selectradiovalue0",value:"2-point scale (Eg: Yes, No)",placeholder:"",visibility:!1,disabled:!1,chktxtIndex:0,config:{options:[{value:"2-point scale (Eg: Yes, No)",name:"2-point scale (Eg: Yes, No)"},{value:"3-point scale (Eg: Agree, Undecided, Disagree)",name:"3-point scale (Eg: Agree, Undecided, Disagree)"},{value:"5-point scale (Eg: Poor, Bad, Neutral, Good, Very Good)",name:"5-point scale (Eg: Poor, Bad, Neutral, Good, Very Good)"}],onChange:a.GetSelectedvalue},validationRules:""}]})),"Company"==a.moduleName&&"PaymentGateway"==a.subModule&&0!=e){const e=a.FormSchema[0].Data.find(e=>"parameters"===e.name);let t=JSON.parse(e.value);const i=a.FormSchema[0].Data.find(e=>"payment_gateway_code"===e.name).value;"Authorize"==i?a.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="API Login ID",e.placeholder="API Login ID",e.value=t.APILoginID),"password"==e.name&&(e.visibility=!0,e.label="Transaction Key",e.placeholder="Transaction Key",e.value=t.TransactionKey),"signature"==e.name&&(e.visibility=!1)})}):"Paypal"==i?a.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.value=t.UserName,e.placeholder="User Name",e.label="User Name"),"password"==e.name&&(e.visibility=!0,e.value=t.Password,e.placeholder="Password",e.label="Password"),"signature"==e.name&&(e.visibility=!0,e.placeholder="Signature",e.value=t.Signature)})}):a.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.label="Secret Key",e.placeholder="Secret Key",e.value=t.SecretKey),"password"==e.name&&(e.visibility=!0,e.placeholder="Publishable Key",e.label="Publishable Key",e.value=t.PublishableKey),"signature"==e.name&&(e.visibility=!1)})})}a.FormSchema.length>0&&(a.FormSchema[0].visibility=!1),"Company"==a.moduleName&&"Shift"==a.subModule&&a.FormSchema.forEach(e=>{e.group_name,e.layoutType="double"}),"Configuration"==a.moduleName&&"Passport"==a.subModule&&a.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"DateField"==e.astype&&(e.config||(e.config={}),e.config.minDate="01/01/1900",e.config.format="MM/DD/YYYY"),"FileField"==e.astype&&(e.config||(e.config={}),Array.isArray(e.config.showSelectedFiles)&&0!==e.config.showSelectedFiles.length||(e.config.showSelectedFiles=[],Array.isArray(o)&&o.length>0&&o.forEach(a=>{const t={attachmentName:a.file_name,attachmentPath:a.file_path,attachmentDesc:a.file_desc};e.config.showSelectedFiles.push(t)})))})}),"Company"==a.moduleName&&"Break"==a.subModule&&e>0&&a.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"no_of_times"==e.name&&(null!=e.value&&""!=e.value||(e.value=0))})}),a.isLoading=!1}}))},onDeleteSelectedFiles:function(){this.$delete(this.FormSchema[2].Data[0].config,"showSelectedFiles")},GetStartData:function(e,a){var t=this;t.FormSchema[2].Data[1].config.minDate=e},GetAnswerType(e,a,t){var i=this;i.FormSchema.forEach((function(e,t){e.Data.forEach((function(t,o){t.name==a.name&&"Objective"==a.value?i.$refs.dynamicForm.updateProperty("selectradiovalue"+e.index,"visibility",!0):t.name==a.name&&"Objective"!=a.value&&i.$refs.dynamicForm.updateProperty("selectradiovalue"+e.index,"visibility",!1)}))}))},OnChangeEventsforField:function(e,a,t){let i=this;if("FILL_DEPENDENT"==e){a.config.options=[];var o=`id=&moduleName=${i.moduleName}&type=${a.config.fieldCode}&search=&refId=${t}`;g["a"].GetDDLData(o).then((function(e){if(e.data){var t=e.data;null!=t&&(a.config.options=e.data.DATA,i.$refs.dynamicForm.UpdateKeyValue())}}))}else{if("payment_gateway_code"==a.name&&"Authorize"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.placeholder="API Login ID",e.label="API Login ID",e.value=""),"password"==e.name&&(e.visibility=!0,e.placeholder="Transaction Key",e.label="Transaction Key",e.value=""),"signature"==e.name&&(e.visibility=!1)})}):"payment_gateway_code"==a.name&&"Paypal"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.placeholder="User Name",e.label="User Name",e.value=""),"password"==e.name&&(e.visibility=!0,e.placeholder="Password",e.label="Password",e.value=""),"signature"==e.name&&(e.visibility=!0,e.value="",e.placeholder="Signature")})}):"payment_gateway_code"==a.name&&"Stripe"==a.config.options.filter(e=>e.value==a.value)[0].name&&i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"user_name"==e.name&&(e.visibility=!0,e.placeholder="Secret Key",e.value="",e.label="Secret Key"),"password"==e.name&&(e.visibility=!0,e.placeholder="Publishable Key",e.value="",e.label="Publishable Key"),"signature"==e.name&&(e.visibility=!1)})}),"attachment"==a.name&&i.GetBase64String(a.value),"start_time"==a.name&&(i.startTime=i.$options.filters.formatTime(a.value),i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"end_time"==e.name&&(i.endTime=i.$options.filters.formatTime(e.value),i.getDifference())})})),"end_time"==a.name&&(i.endTime=i.$options.filters.formatTime(a.value),i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"start_time"==e.name&&(i.startTime=i.$options.filters.formatTime(e.value),i.getDifference())})})),"location_country"==a.name&&(console.log("country",a.value),this.GetStateDDL(a.value)),"is_full_day"==a.name&&"Partial Day"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"from_time"==e.name&&(e.visibility=!0,e.config.mode="time",e.config.format="hh:mm A",e.config.is24hr=!1),"to_time"==e.name&&(e.visibility=!0,e.config.mode="time",e.config.format="hh:mm A",e.config.is24hr=!1)})}):"is_full_day"==a.name&&"Partial Day"!=a.config.options.filter(e=>e.value==a.value)[0].name&&i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"from_time"==e.name&&(e.visibility=!1),"to_time"==e.name&&(e.visibility=!1)})}),"category_type_id"==a.name&&"Ticket"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"IsForServiceRequest"==e.name&&(e.visibility=!0)})}):"category_type_id"==a.name&&"Ticket"!=a.config.options.filter(e=>e.value==a.value)[0].name&&i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"IsForServiceRequest"==e.name&&(e.visibility=!1)})}),"isFixed"==a.name&&"Fixed"==a.config.options.filter(e=>e.value==a.value)[0].name?i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"is_recurring"==e.name&&(e.value=!0,e.disabled=!0)})}):i.FormSchema.forEach((e,a)=>{e.Data.forEach((e,a)=>{"is_recurring"==e.name&&(e.value=!1,e.disabled=!1)})}),"startdate"==a.name&&(i.$refs.dynamicForm.updateProperty("enddate","config.minDate",e),i.$refs.dynamicForm.UpdateKeyValue()),"issue_date"==a.name&&"Configuration"==i.moduleName&&(i.$refs.dynamicForm.updateProperty("expiry_date","config.minDate",e),i.$refs.dynamicForm.UpdateKeyValue()),"end_time"==a.name||"start_time"==a.name&&"company"==i.moduleName.toLowerCase()){var l=i.hoursDifference;i.$refs.dynamicForm.updateProperty("shift_hours","value",l),i.$refs.dynamicForm.updateProperty("min_hours","value",l),i.$refs.dynamicForm.UpdateKeyValue()}if("is_additional_comments"==a.name&&1==a.value&&"Company"==i.moduleName&&"Feedback"==i.subModule&&(i.$refs.dynamicForm.updateProperty("additional_comments","visibility",!0),i.$refs.dynamicForm.UpdateKeyValue()),"is_additional_comments"==a.name&&0==a.value&&"Company"==i.moduleName&&"Feedback"==i.subModule&&(i.$refs.dynamicForm.updateProperty("additional_comments","visibility",!1),i.$refs.dynamicForm.UpdateKeyValue()),"Company"==i.moduleName&&"Feedback"==i.subModule&&("type_code"==a.name&&"Ticketing"==a.config.options.filter(e=>e.value==a.value)[0].name&&(i.$refs.dynamicForm.updateProperty("department_id","visibility",!0),i.$refs.dynamicForm.updateProperty("department_id","validationRules",{required:!0}),i.$refs.dynamicForm.UpdateKeyValue()),"type_code"==a.name&&"Ticketing"!=a.config.options.filter(e=>e.value==a.value)[0].name&&(i.$refs.dynamicForm.updateProperty("department_id","visibility",!1),i.$refs.dynamicForm.UpdateKeyValue())),"effective_from_date"==a.name&&(i.$refs.dynamicForm.updateProperty("effective_to_date","config.minDate",e),i.$refs.dynamicForm.UpdateKeyValue()),"IsForCompany"==a.name){const e=a.value.find(e=>0==e);i.showContractDiv=void 0!=e}"enable_geofence"==a.name&&"Yes"==a.value&&(i.geofenceEnabled=a.value,i.$refs.dynamicForm.updateProperty("geofence_type","visibility",!0),i.$refs.dynamicForm.UpdateKeyValue(),i.reloadMap()),"enable_geofence"==a.name&&"No"==a.value&&(i.geofenceEnabled=a.value,i.$refs.dynamicForm.updateProperty("geofence_type","visibility",!1),i.$refs.dynamicForm.updateProperty("geofence_type","value","Draw"),i.$refs.dynamicForm.updateProperty("radius_meters","visibility",!1),i.$refs.dynamicForm.UpdateKeyValue(),i.reloadMap()),"geofence_type"==a.name&&"Radius"==a.value&&(i.geofenceType=a.value,i.$refs.dynamicForm.updateProperty("radius_meters","visibility",!0),i.$refs.dynamicForm.UpdateKeyValue(),i.reloadMap()),"geofence_type"==a.name&&"Draw"==a.value&&(i.geofenceType=a.value,i.$refs.dynamicForm.updateProperty("radius_meters","value",null),i.$refs.dynamicForm.updateProperty("radius_meters","visibility",!1),i.$refs.dynamicForm.UpdateKeyValue(),i.reloadMap()),"radius_meters"==a.name&&""!=a.value&&(i.radiusValue=a.value,i.reloadMap())}},GetBase64String:function(e){try{var a=this,t=e[0],i=new FileReader;i.onload=function(e){return function(e){var i=e.target.result,o=window.btoa(i),l=t.name;a.fileName=l;var n=l.lastIndexOf("."),s=l.substring(n+1,l.length);a.fileExt+="."+s;var r='{"ContentType":"'+t.type+'","Size":"'+t.size+'","Extension":"'+s+'"}',d=t.size;a.fileSize=d;var c={attachement_mime:r,fileName:l,base64String:o,fileSize:t.size,contentType:t.type};console.log(c),a.fileData.push(c)}}(),i.readAsBinaryString(t)}catch(o){}},SizeToMb:function(e){var a=this,t=1048576*parseInt(a.allowedPerFileSizeInMb,10);if(e>t)return-1;var i=e/1024/1024;return i},GetStateDDL:async function(e,a){var t=this,i=0;i=e;var o="id=&&moduleName=Location&type=STATE&search=&refId="+i;try{const e=await g["a"].GetDDLData(o);e.data&&e.data.DATA&&(t.$refs.dynamicForm.updateProperty("location_state","config.options",e.data.DATA),void 0!=a&&(t.$refs.dynamicForm.getPropertyValue("location_state","config.options").forEach(e=>{e.first_value==a&&t.$refs.dynamicForm.updateProperty("location_state","value",e.value)}),setTimeout(()=>{t.$refs.dynamicForm.UpdateKeyValue()},100)),t.$refs.dynamicForm.UpdateKeyValue())}catch(l){}},updateSelectAll(){var e=this;const a=this.GetReviewQuestionList.length,t=this.selectedItems.length;e.selectAll=a>0&&t===a},selectAllItems(){var e=this;this.selectAll=!this.selectAll,this.selectAll?this.GetReviewQuestionList.forEach((function(a){e.selectedItems.push(a.QUESTION_BANK_ID)})):this.selectedItems=[]},GetRadioStarValue(e,a){this.GetReviewQuestionList[e].IS_STAR_ENABLE=a},GetRadioVisibilityValue(e,a){this.GetReviewQuestionList[e].VISIBLE_FOR=a},async GetReviewTemplateData(){var e=this,a="template_Id="+e.recordId;await g["a"].GetReviewTemplateData(a).then(a=>{var t=JSON.parse(a.data.Result);if(t.length>0){e.GetReviewQuestionList=t,t.forEach((function(a){a.REVIEW_TEMPLATE_ID>0&&e.selectedItems.push(a.QUESTION_BANK_ID)}));const a=this.GetReviewQuestionList.length,i=this.selectedItems.length;e.selectAll=a>0&&i===a}}).catch(e=>{console.log(e)})},async Save(){var e=this,a=[];let t=e.$refs.dynamicForm.ConvertDynamicFormObjToCustomFieldObj(this.FormSchema);if("Company"==e.moduleName&&"Break"==e.subModule&&t.find((function(e){"break_duration"==e.field_name&&(e.field_value=v()(new Date(e.field_value)).format("HH:mm"))})),"company"==e.moduleName.toLowerCase()&&"Shift"==e.subModule&&t.find((function(e){"start_time"==e.field_name&&(e.field_value=v()(new Date(e.field_value)).format("HH:mm"))})),"company"==e.moduleName.toLowerCase()&&"Shift"==e.subModule&&(t.find((function(e){"end_time"==e.field_name&&(e.field_value=v()(new Date(e.field_value)).format("HH:mm"))})),t.find((function(e){"shift_type"==e.field_name&&(e.field_value=1==e.field_value?1:0)}))),"company"==e.moduleName.toLowerCase()){var i="",o=!1;t.find((function(e){"IsForCompany"==e.field_name&&(""!=e.field_value?"0"==e.field_value[0]&&1==e.field_value.length?(o=!0,e.field_value=!1):"1"==e.field_value[0]&&1==e.field_value.length?(e.field_value=!0,o=!1):2==e.field_value.length&&(e.field_value=!0,o=!0):e.field_value=e.field_value)})),t.find((function(e){"is_full_day"==e.field_name&&(i=e.field_value)})),"0"==i&&(t.find((function(e){"from_time"==e.field_name&&(e.field_value=v()(new Date(e.field_value)).format("HH:mm"))})),t.find((function(e){"to_time"==e.field_name&&(e.field_value=v()(new Date(e.field_value)).format("HH:mm"))}))),t.find((function(e){"IsForContract"==e.field_name&&(e.field_value=o)}))}if("company"==e.moduleName.toLowerCase()&&"PaymentGateway"==e.subModule){var l="",n=t.reduce((e,a)=>(e[a.field_name]=a.field_value,e),{}),s=n["payment_gateway_code"],r=n["user_name"],d=n["password"],c=n["signature"];"Authorize"===s?l={APILoginId:r,TransactionKey:d}:"Stripe"===s?l={SecretKey:r,PublishableKey:d}:"Paypal"===s&&(l={UserName:r,Password:d,Signature:c}),t.find((function(e){"parameters"==e.field_name&&(e.field_value=JSON.stringify(l))}))}if("Configuration"==e.moduleName&&"Passport"==e.subModule&&(t.find((function(e){"attachment"!=e.field_name&&a.push(e)})),t={data:a,moduleCode:e.moduleName,subModuleCode:e.subModule,attachmentData:e.fileData.length>0?e.fileData:null}),"Company"==e.moduleName&&"AnnouncementMessage"==e.subModule)t={data:t,moduleCode:e.moduleName,subModuleCode:e.subModule,attachmentData:e.fileData.length>0?e.fileData:null};else if("Company"==e.moduleName&&"Feedback"==e.subModule){let a=[];e.FormSchema.forEach((t,i)=>{if("undefined"!=typeof t.index){e.FeedbackAnsweringValue=e.$refs.dynamicForm.getPropertyValue("selectradiovalue"+t.index,"value");let i=e.$refs.dynamicForm.getPropertyValue("QuestionId"+t.index,"value"),o={Feedbackquestionid:i,FeedbackQuestion:e.$refs.dynamicForm.getPropertyValue("FeedbackQuestion"+t.index,"value"),FeedbackAnswerType:e.$refs.dynamicForm.getPropertyValue("AnsweringType"+t.index,"value"),FeedbackAnsweringType:e.FeedbackAnsweringValue.split("(Eg: ")[1].replaceAll(", ","_").replaceAll(")",""),FeedbackAnsweringValue:e.$refs.dynamicForm.getPropertyValue("selectradiovalue"+t.index,"value")};a.push(o)}}),t={data:t,feedbackData:a}}else if("Review"==e.moduleName&&"PerformanceReview"==e.subModule){let e=[];this.GetReviewQuestionList.map(a=>{this.selectedItems.includes(a.QUESTION_BANK_ID)&&e.push({question_bank_id:a.QUESTION_BANK_ID,is_star_enable:a.IS_STAR_ENABLE,visible_for:a.VISIBLE_FOR,review_template_id:a.REVIEW_TEMPLATE_ID,review_template_question_id:a.REVIEW_TEMPLATE_QUESTION_ID})}),t={data:t,questionDataList:e}}e.$refs.dynamicForm.validateForm.validate().then(a=>{a&&(e.isLoading=!0,g["a"].DepartmentAdd(t,this.addApiUrl).then(a=>{e.isLoading=!1,null!=a.data.Result&&a.data.Result.MAIN_ID>0&&"UPDATE"!=a.data.Result.CHK_OPERATION?("AlreadyExists"===a.data.Status?e.ShowAlert(e.$t("AlreadyExists",!0,[e.$t(e.subModule)]),"success",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedSuccess",!0,[e.$t(e.subModule)]),"success",!0,e.$t("Alert")),"Company"==e.moduleName&&"UserTitle"==e.subModule?e.$parent.FormSchema.length>0&&e.$parent.FormSchema.forEach((a,t)=>{a.Data.forEach((a,t)=>{"user_title_id"==a.name&&e.callbackfunction("USER_TITLE",a,null)})}):"Company"==e.moduleName&&"Department"==e.subModule?e.$parent.FormSchema.length>0&&e.$parent.FormSchema.forEach((a,t)=>{a.Data.forEach((a,t)=>{"department_id"==a.name&&e.callbackfunction("DEPARTMENT",a,null)})}):"Company"==e.moduleName&&"Designation"==e.subModule?e.$parent.FormSchema.length>0&&e.$parent.FormSchema.forEach((a,t)=>{a.Data.forEach((a,t)=>{"designation_id"==a.name&&e.callbackfunction("USER_DESIGNATION",a,null)})}):"Company"==e.moduleName&&"Shift"==e.subModule&&e.$parent.FormSchema.length>0&&e.$parent.FormSchema.forEach((a,t)=>{a.Data.forEach((a,t)=>{"shift_id"==a.name&&e.callbackfunction("USER_SHIFT_WITH_LOCATION",a,null)})}),this.closePopup(),this.$emit(this.emitName)):"Company"==e.moduleName&&"LoginAuthorization"==e.subModule?-1==a.data.Code&&e.ShowAlert(e.$t("ValidIP"),"warning",!0,e.$t("Alert")):null!=a.data.Result&&a.data.Result.MAIN_ID>0&&"UPDATE"==a.data.Result.CHK_OPERATION?(e.ShowAlert(e.$t("UpdatedSuccess",!0,[e.$t(e.subModule)]),"success",!0,e.$t("Alert")),this.closePopup(),this.$emit(this.emitName)):"FAILURE"==this.$t(a.data.Status)?this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert")):this.ShowAlert(this.$t("RecordAlreadyExists"),"danger",!1,this.$t("Alert"))}))})},closePopup(){this.$emit("close"),this.$parent.showAddPopup=!1,this.$parent.FetchData()},GetRadioValue(e,a,t){if(void 0!=e&&e.includes("stars")){var o=document.getElementsByName(e);for(i=0;i<o.length;i++)$('input[type="radio"]data').prop("checked",!1);$('input[type="radio"]#getid').prop("checked",!0)}if(e.includes("radiovisibility")){o=document.getElementsByName(e);for(i=0;i<o.length;i++)$('input[type="radio"]data').prop("checked",!1);$('input[type="radio"]#getid').prop("checked",!0)}},SelectAllChk(e){if("ChkMainItems"==e)for(var a=document.getElementsByTagName("input"),t=0;t<a.length;t++)if("checkbox"==a[t].type&&"deletable custom-control-input"==a[t].className){var i=document.getElementsByClassName("masterchk custom-control-input ");i[0].checked?a[t].checked=!0:a[t].checked=!1}},AddMultiQuestionAnswer(e,a,t){var i=this,o={groupId:null,group_name:"",layoutType:"double",visibility:!0,index:i.FormSchema.length-1,Data:[{astype:"TextField",label:"Question Id",name:"QuestionId"+(i.FormSchema.length-1),value:0,chktxtIndex:i.FormSchema[1].Data.length,visibility:!1},{astype:"TextField",label:"Feedback Question",name:"FeedbackQuestion"+(i.FormSchema.length-1),value:"",placeholder:"",disabled:!1,chktxtIndex:i.FormSchema[1].Data.length,config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:"Answering Type",name:"AnsweringType"+(i.FormSchema.length-1),value:"",placeholder:"",disabled:!1,chktxtIndex:i.FormSchema[1].Data.length,config:{options:[{value:"Comments",name:"Comments"},{value:"Star Rating",name:"Star Rating"},{value:"Objective",name:"Objective"}],showAddIcon:!0,onChange:i.GetAnswerType,onAddButtonClick:i.DeleteFeedbackRow,addIcon:"fa fa-trash"},validationRules:"required"},{astype:"RadioField",label:"",name:"selectradiovalue"+(i.FormSchema.length-1),value:"2-point scale (Eg: Yes, No)",placeholder:"",visibility:!1,disabled:!1,chktxtIndex:i.FormSchema[1].Data.length,config:{options:[{value:"2-point scale (Eg: Yes, No)",name:"2-point scale (Eg: Yes, No)"},{value:"3-point scale (Eg: Agree, Undecided, Disagree)",name:"3-point scale (Eg: Agree, Undecided, Disagree)"},{value:"5-point scale (Eg: Poor, Bad, Neutral, Good, Very Good)",name:"5-point scale (Eg: Poor, Bad, Neutral, Good, Very Good)"}]},validationRules:""}]};i.FormSchema.push(o)},RemoveFile:function(e,a){var t=this,i=t.FormSchema[1].Data.findIndex(e=>e.chktxtIndex===a.chktxtIndex),o=i-1;i>-1&&t.FormSchema[1].Data.splice(i,1),o>-1&&t.FormSchema[1].Data.splice(o,1)},DeleteFeedbackRow(e,a){var t=this;let i=-1;t.FormSchema.forEach((function(e,t){e.Data.forEach((function(e,o){e.name==a.name&&(i=t)}))})),t.FormSchema.splice(i,1)},fillAddress(e){if(this.isEditMode&&!this.isEditModeInitialized)return this.$refs.dynamicForm.updateProperty("googlemap","value",e.coordinates),void(this.isEditModeInitialized=!0);null!=e&&void 0!=e&&(this.$refs.dynamicForm.updateProperty("radius_meters","value",e.radiusValue),this.$refs.dynamicForm.updateProperty("location_pincode","value",e.postalCode),this.$refs.dynamicForm.updateProperty("googlemap","value",e.coordinates),this.$refs.dynamicForm.updateProperty("latitude","value",e.latitude),this.$refs.dynamicForm.updateProperty("longitude","value",e.longitude),this.$refs.dynamicForm.updateProperty("location_address1","value",e.addressLine1),this.$refs.dynamicForm.updateProperty("location_address2","value",e.addressLine2),this.$refs.dynamicForm.updateProperty("location_city","value",e.city),this.$refs.dynamicForm.getPropertyValue("location_country","config.options").forEach(a=>{a.name==e.country&&(this.$refs.dynamicForm.updateProperty("location_country","value",a.value),this.GetStateDDL(a.value,e.state))}),this.$refs.dynamicForm.UpdateKeyValue(),this.polygencoordinates=e.coordinates,this.latitude=e.latitude,this.longitude=e.longitude)}}}),_=b,F=(t("9a9e"),t("55b4"),Object(u["a"])(_,o,l,!1,null,null,null));a["a"]=F.exports},"90d8":function(e,a,t){"use strict";var i=t("c65b"),o=t("1a2d"),l=t("3a9b"),n=t("ad6d"),s=RegExp.prototype;e.exports=function(e){var a=e.flags;return void 0!==a||"flags"in s||o(e,"flags")||!l(s,e)?a:i(n,e)}},"9a9e":function(e,a,t){"use strict";t("3b82")},a814:function(e,a,t){var i=t("68c9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var o=t("499e").default;o("4856834c",i,!0,{sourceMap:!1,shadowMode:!1})},ad6d:function(e,a,t){"use strict";var i=t("825a");e.exports=function(){var e=i(this),a="";return e.hasIndices&&(a+="d"),e.global&&(a+="g"),e.ignoreCase&&(a+="i"),e.multiline&&(a+="m"),e.dotAll&&(a+="s"),e.unicode&&(a+="u"),e.unicodeSets&&(a+="v"),e.sticky&&(a+="y"),a}},b573:function(e,a,t){var i=t("4bad");a=i(!1),a.push([e.i,".singleselectlook .multiselect__select:before{z-index:99}.user-guide{background-position:unset!important}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),e.exports=a}}]);
//# sourceMappingURL=chunk-8e924ad8.js.map