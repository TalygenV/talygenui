(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d229bbb"],{df69:function(a,s,e){"use strict";var t=function(){var a=this,s=a._self._c;return s("section",[s("div",{staticClass:"my-popups"},[s("div",{staticClass:"modal d-block"},[s("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header ui-draggable-handle py-1"},[s("h4",{staticClass:"modal-title mt-2 pt-2 mb-2",attrs:{name:"header"}},[a._v(" "+a._s(a.$t("ResetPasswordHeading"))+" ")]),s("button",{staticClass:"close",on:{click:a.ClosePopUp}},[s("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),s("span",{staticClass:"user-guide p-2"},[a._m(0),s("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[s("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[s("div",{staticClass:"con",domProps:{innerHTML:a._s(a.$t("UserGuideResetPassword"))}})])])])]),s("div",{staticClass:"listing py-3 px-3"},[s("loader",{attrs:{"is-visible":a.isLoading}}),s("dynamic-form",{ref:"refResetPassword",attrs:{lang:"en",buttons:a.buttons,schema:a.FormSchema}})],1)])])])])])},o=[function(){var a=this,s=a._self._c;return s("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[s("em",{staticClass:"fa fa-files-o pr-2"}),a._v("User Guide")])}],r=e("9769"),i={props:{UserResetPasswordData:{type:Object}},data(){return{ResetPasswordByAdmin:[],token:null,FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:this.$t("Email"),name:"Email",value:"",placeholder:"Enter Title",visibility:!0,config:{options:[],showAddIcon:!1},disabled:!0,validationRules:""},{astype:"PasswordField",label:this.$t("NewPassword"),name:"NewPassword",value:"",placeholder:"Enter New Password",visibility:!0,config:{options:[],showAddIcon:!1},validationRules:{required:!0,min:6,regex:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;"'<>,.?/\\|`~]).*$/}},{astype:"PasswordField",label:this.$t("ConfirmPassword"),name:"ConfirmPassword",value:"",placeholder:"Enter Confirm Password",visibility:!0,config:{options:[],showAddIcon:!1},validationRules:{required:!0,min:6,regex:/^(?=.*[a-zA-Z])(?=.*\d)(?=.*[!@#$%^&*()_+{}\[\]:;"'<>,.?/\\|`~]).*$/}}]}],buttons:[{type:"submit",class:"btn btn-success save",text:"<i class='fa fa-save pr-2'></i>Reset Password",onClick:this.onSubmit},{type:"submit",class:"btn btn-primary disabled",text:"<i class='fa fa-key pr-2'></i>Random Password",onClick:this.GenerateRandomPassword}],isLoading:!1}},async created(){var a=this;a.token=this.GetUserInfo.Token,a.FormSchema[0].Data[0].value=a.UserResetPasswordData.email_id,await a.GetPasswordPolicyByCompanyId()},methods:{ClosePopUp(){var a=this;a.$parent.CloseUserResetPasswordPopUp()},async onSubmit(a,s){var e=this;e.$refs.refResetPassword.validateForm.validate().then((async function(a){if(a){const a=e.FormSchema[0].Data[1].value,t=e.FormSchema[0].Data[2].value;if(a!==t)return void e.ShowAlert(e.$t("Passwords do not match Please enter the correct password!"),"danger",e.$t("Alert"));e.isLoading=!0;try{let s={UserId:e.UserResetPasswordData.user_id,Email:e.UserResetPasswordData.email_id,Token:e.token,NewPassword:a,ConfirmPassword:t};await r["a"].ResetPasswordByAdmin(s).then(a=>{"Success"===a.data.status&&e.ShowAlert(e.$t("Your password has been reset successfully. Please login with your new password"),"success",e.$t("Alert")),console.log(a),e.isLoading=!1,e.ClosePopUp()})}catch(s){e.isLoading=!1}}}))},async GetPasswordPolicyByCompanyId(){var a=this;await r["a"].GetPasswordPolicyByCompanyId().then(s=>{""!=s.data&&null!=s.data&&void 0!=s.data&&(a.buttons[1].class=s.data.is_generate_random_password_required?"btn btn-primary":"btn btn-primary disabled")}).catch(a=>{console.log(a)})},GenerateRandomPassword(a,s){var e=this,t={UserId:e.UserResetPasswordData.user_id,Email:e.UserResetPasswordData.email_id,Token:"",NewPassword:e.FormSchema[0].Data[1].value,ConfirmPassword:e.FormSchema[0].Data[2].value};e.isLoading=!0,r["a"].GenerateRandomPassword(t).then(a=>{0==a.data.status&&"Email"==a.data.result?e.ShowAlert(e.$t("RandomPasswordSuccessMsg"),"success",!0,e.$t("Alert")):0!=a.data.status&&"Email"==a.data.result?e.ShowAlert(e.$t("RandomPasswordMailFailureMsg",[e.$t(a.data.password)]),"failure",!0,e.$t("Alert")):e.ShowAlert(e.$t("AddedError",[e.$t("User")]),"failure",!0,e.$t("Alert")),e.isLoading=!1}).catch(a=>{console.log(a)})}}},d=i,l=e("2877"),n=Object(l["a"])(d,t,o,!1,null,null,null);s["a"]=n.exports}}]);
//# sourceMappingURL=chunk-2d229bbb.js.map