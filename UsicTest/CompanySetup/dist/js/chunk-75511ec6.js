(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75511ec6"],{5524:function(t,a,e){var s=e("4bad");a=s(!1),a.push([t.i,"",""]),t.exports=a},"58c7":function(t,a,e){"use strict";e("c5e3")},"9bc0":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("section",[a("div",[a("div",{staticClass:"heading-border heading-cust pt-2 mb-3"},[a("h5",{staticClass:"h5"},[a("span",[t._v("Electricity Usage History")]),a("small",{staticClass:"float-right"},[a("a",{attrs:{href:"javascript:void(0)",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Back to List"},on:{click:function(a){return t.BackToList()}}},[a("em",{staticClass:"fa fa-angle-double-left pr-1 text-dark"}),t._v(t._s(t.$t("BacktoList"))+" ")])])])]),a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 cl_us_history"},[a("div",{staticClass:"sub pb-4"},[a("span",{staticClass:"font-weight-400"},[t._v("Meter:")]),t._v(" "+t._s(t.meterName))]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 col-xl-4"},[a("div",{staticClass:"stat-item"},[t._v(" Average Consumption "),a("div",{staticClass:"stat-value"},[t._v(t._s(t.AverageCousumption)+" kWh")])])]),a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 col-xl-4"},[a("div",{staticClass:"stat-item"},[t._v(" Total Consumption "),a("div",{staticClass:"stat-value"},[t._v(t._s(t.TotalCousumption)+" kWh")])])]),a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 col-xl-4"},[a("div",{staticClass:"stat-item"},[t._v(" Total Charges "),a("div",{staticClass:"stat-value"},[t._v(" "+t._s(t.$n(t.TotalAmount,"currency",t.$getLocaleByCurrency(t.Currency))))])])])])]),a("tg-list",{attrs:{ModuleName:"Client",SubModuleCode:"Billing",IdentityColumn:"utility_id",listType:["List"],ListData:t.UtilityUsageData,HeaderData:t.Headers,isShowHeaderText:!1,HeaderText:t.$t("ViewHistory"),TotalRecords:t.TotalRecords,IsShowAction:!1,RenderRowActionMethod:()=>{},ListDataCallBackFunction:t.ViewHistory,NorecordfoundText:t.$t("NoRecordfound")},on:{PagerButtonClick:t.pagerMethod,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:e}){return["bill_net_total"==e.column.COLUMN_NAME?[a("span",[t._v(" "+t._s(t.$n(e.row.bill_net_total,"currency",t.$getLocaleByCurrency(t.Currency)))+" ")])]:t._e()]}}])})],1)])},i=[],o=(e("14d9"),e("9769")),r={data(){return{UtilityUsageData:[],TotalAmount:null,TotalCousumption:null,AverageCousumption:null,Headers:[{COLUMN_NAME:"reading_date",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Date",DISPLAY_ORDER:1},{COLUMN_NAME:"current_reading",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Reading (kWh)",DISPLAY_ORDER:2},{COLUMN_NAME:"consumption",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Consumption (kWh)",DISPLAY_ORDER:3},{COLUMN_NAME:"bill_net_total",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Charge",DISPLAY_ORDER:4,settings:{isInSlot:!0}}],TotalRecords:0,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",GroupStart:1,GroupEnd:3,CurrentPage:1,TotalPages:0,meterName:""}},created(){this.Currency=this.GetUserInfo.Currency.replace(/[()]/g,""),this.ViewHistory("Electric"),this.client_id=this.$route.params.clientId,this.parentId=this.$route.params.parentId},methods:{ViewHistory(t){var a=this,e=this.$route.params.clientId?this.$route.params.clientId:this.GetUserInfo.ID;const s=`sortBy=${this.SortBy}&sortExp=${this.SortExp}&pageSize=${this.PageSize}&pageNum=${this.PageNumber}&clientId=${e}&relatedInfoId=${this.$route.params.id}&utilityName=${t}`;o["a"].GetUtilityUsageData(s).then(t=>{if(t.data){let e=JSON.parse(t.data.result);a.UtilityUsageData=e.DATA,a.TotalAmount=a.UtilityUsageData[0].TotalAmount,a.TotalCousumption=a.UtilityUsageData[0].TotalConsumption,a.AverageCousumption=a.UtilityUsageData[0].AvgConsumption,a.meterName=a.UtilityUsageData[0].unique_name,this.TotalRecords=a.UtilityUsageData[0].TOTAL_RECORDS,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.CurrentPage=this.PageNumber}else a.UtilityUsageData=[],a.TotalAmount="",a.TotalCousumption="",a.AverageCousumption="",this.TotalRecords=0})},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.ViewHistory()},sortdata:function(t){this.SortBy=t;var a="ASC";"ASC"==this.SortExp&&(a="DESC"),this.SortExp=a,this.SortBy=t,this.SortExp=a,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.ViewHistory()},BackToList(){var t=this;t.client_id>0?this.$router.push({name:"UpdateClient",params:{id:t.client_id,parentId:t.parentId},query:{redirectFrom:"Wallet"}}):t.$router.push({name:"WalletRecharge"})}}},l=r,n=(e("58c7"),e("2877")),c=Object(n["a"])(l,s,i,!1,null,null,null);a["default"]=c.exports},c5e3:function(t,a,e){var s=e("5524");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=e("499e").default;i("9faf7a52",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-75511ec6.js.map