(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ba1d3d2"],{"0fa6":function(e,t,a){"use strict";a("4b34")},1325:function(e,t,a){var s=a("a855");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("5cee788f",s,!0,{sourceMap:!1,shadowMode:!1})},"1e5a":function(e,t,a){"use strict";var s=a("23e7"),i=a("9961"),r=a("dad2");s({target:"Set",proto:!0,real:!0,forced:!r("symmetricDifference")},{symmetricDifference:i})},"1e70":function(e,t,a){"use strict";var s=a("23e7"),i=a("a5f7"),r=a("dad2");s({target:"Set",proto:!0,real:!0,forced:!r("difference")},{difference:i})},"22e5":function(e,t,a){"use strict";a("8b00")},2684:function(e,t,a){"use strict";a("a85e")},"2a62":function(e,t,a){"use strict";var s=a("c65b"),i=a("825a"),r=a("dc4a");e.exports=function(e,t,a){var o,l;i(e);try{if(o=r(e,"return"),!o){if("throw"===t)throw a;return a}o=s(o,e)}catch(n){l=!0,o=n}if("throw"===t)throw a;if(l)throw o;return i(o),a}},"2b6b":function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),e.exports=t},3701:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".vc-date{display:none!important}",""]),e.exports=t},"384f":function(e,t,a){"use strict";var s=a("e330"),i=a("5388"),r=a("cb27"),o=r.Set,l=r.proto,n=s(l.forEach),c=s(l.keys),d=c(new o).next;e.exports=function(e,t,a){return a?i({iterator:c(e),next:d},t):n(e,t)}},"395e":function(e,t,a){"use strict";var s=a("dc19"),i=a("cb27").has,r=a("8e16"),o=a("7f65"),l=a("5388"),n=a("2a62");e.exports=function(e){var t=s(this),a=o(e);if(r(t)<a.size)return!1;var c=a.getIterator();return!1!==l(c,(function(e){if(!i(t,e))return n(c,"normal",!1)}))}},"3f34":function(e,t,a){"use strict";a("d623")},4555:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return e.TotalPages>0?t("div",{staticClass:"nu-paging"},[t("nav",{attrs:{"aria-label":"Page navigation example col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"}},[t("ul",{staticClass:"pagination row"},[t("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left choose-page"},[t("span",{staticClass:"mr-2"},[e._v("Show")]),t("span",{staticClass:"select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.PageSize,expression:"PageSize"}],staticClass:"form-control form-control-sm",attrs:{id:"pageSize",name:"pageSize"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.PageSize=t.target.multiple?a:a[0]},e.SetPageSize]}},e._l(e.PageSizeOption,(function(a,s){return t("option",{key:s,domProps:{value:a}},[e._v(e._s(a))])})),0)]),t("span",{staticClass:"ml-2"},[e._v(e._s(e.$t("PagingText",[(e.CurrentPage-1)*e.PageSize+1,e.PageSize*e.CurrentPage>e.TotalRecords?e.TotalRecords:e.PageSize*e.CurrentPage,e.TotalRecords])))])]),t("li",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"},[e.TotalPages>1?t("ul",{staticClass:"paging-count"},[t("li",{staticClass:"page-item"},[1!=e.CurrentPage?t("a",{staticClass:"page-link first",attrs:{title:e.firstText,href:"javascript:;",val:"1"},on:{click:function(t){return e.SetCurrentPage(1)}}},[e._v(e._s(e.firstText))]):e._e(),1==e.CurrentPage?t("a",{staticClass:"page-link first disabled",attrs:{title:e.firstText,val:"1"}},[e._v(e._s(e.firstText))]):e._e()]),t("li",{staticClass:"page-item"},[1!=e.CurrentPage?t("a",{staticClass:"page-link previous",attrs:{title:e.prevText,href:"javascript:;"},on:{click:function(t){return e.SetCurrentPage(e.CurrentPage-1)}}},[e._v(e._s(e.prevText))]):e._e(),1==e.CurrentPage?t("a",{staticClass:"page-link previous disabled",attrs:{title:e.prevText}},[e._v(e._s(e.prevText))]):e._e()]),e._l(e.TotalPages,(function(a,s){return[a>=e.GroupStart&&a<=e.GroupEnd?t("li",{key:s,staticClass:"page-item"},[s+1==e.CurrentPage?t("a",{staticClass:"page-link active",attrs:{href:"javascript:;"}},[e._v(e._s(s+1))]):e._e(),s+1!=e.CurrentPage?t("a",{staticClass:"page-link",attrs:{href:"javascript:;",val:s},on:{click:function(t){return e.SetCurrentPage(s+1)}}},[e._v(e._s(s+1))]):e._e()]):e._e()]})),t("li",{staticClass:"page-item"},[e.CurrentPage<e.TotalPages?t("a",{staticClass:"page-link next",attrs:{title:e.nextText,href:"javascript:;"},on:{click:function(t){return e.SetCurrentPage(e.CurrentPage+1)}}},[e._v(e._s(e.nextText))]):e._e(),e.CurrentPage>=e.TotalPages?t("a",{staticClass:"page-link disabled next",attrs:{title:e.nextText}},[e._v(e._s(e.nextText))]):e._e()]),t("li",{staticClass:"page-item"},[e.CurrentPage!=e.TotalPages?t("a",{staticClass:"page-link next",attrs:{title:e.lastText,href:"javascript:;",val:e.TotalPages},on:{click:function(t){return e.SetCurrentPage(e.TotalPages)}}},[e._v(e._s(e.lastText))]):e._e(),e.CurrentPage==e.TotalPages?t("a",{staticClass:"page-link next disabled",attrs:{title:e.lastText,val:e.TotalPages}},[e._v(e._s(e.lastText))]):e._e()])],2):e._e()])])])]):e._e()},i=[],r=(a("14d9"),{props:{numberofrecords:{type:Number,required:!0},prevText:{type:String,required:!0},nextText:{type:String,required:!0},firstText:{type:String,required:!0},lastText:{type:String,required:!0},callbackfunction:{type:Function},CurrentPageNumber:{type:Number}},data:function(){return{TotalRecords:0,PageNumber:1,PageSize:10,PageSizeOption:null,CurrentPage:1,TotalPages:0,GroupStart:1,GroupEnd:3,LastPage:!1}},watch:{numberofrecords:function(e){this.CurrentPage>this.PageNumber&&(this.CurrentPage=this.PageNumber),this.TotalRecords=e,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3)},CurrentPageNumber:function(e){var t=this;t.CurrentPage=e,1==e&&t.SetCurrentPage(e)}},created:function(){this.GetPageSizeOption()},methods:{GetData:function(){this.$emit("SetCurrentPage",{PageNumber:this.PageNumber,PageSize:this.PageSize}),"undefined"!=typeof this.callbackfunction&&null!=this.callbackfunction&&this.callbackfunction()},SetPageSize:function(e){this.PageSize=e.target.value,this.PageNumber=1,this.CurrentPage=this.PageNumber,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.TotalPages=Math.ceil(this.TotalRecords/this.PageSize),this.GetData()},SetCurrentPage:function(e){this.PageNumber=e,this.CurrentPage=e,this.TotalPages==this.PageNumber&&this.PageNumber>3?(this.GroupStart=this.PageNumber-2,this.GroupEnd=this.PageNumber):this.TotalPages>this.PageNumber&&this.PageNumber>=3?(this.GroupStart=this.PageNumber-1,this.GroupEnd=this.PageNumber+1):(this.GroupStart=1,this.GroupEnd=3),this.GetData()},GetPageSizeOption:function(){for(var e=[],t=10,a=t;a<t+95;a+=5)e.push(a);this.PageSizeOption=e}}}),o=r,l=a("2877"),n=Object(l["a"])(o,s,i,!1,null,null,null);t["a"]=n.exports},"46c4":function(e,t,a){"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},"4b34":function(e,t,a){var s=a("ce08");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("77d54004",s,!0,{sourceMap:!1,shadowMode:!1})},5388:function(e,t,a){"use strict";var s=a("c65b");e.exports=function(e,t,a){var i,r,o=a?e:e.iterator,l=e.next;while(!(i=s(l,o)).done)if(r=t(i.value),void 0!==r)return r}},"68df":function(e,t,a){"use strict";var s=a("dc19"),i=a("8e16"),r=a("384f"),o=a("7f65");e.exports=function(e){var t=s(this),a=o(e);return!(i(t)>a.size)&&!1!==r(t,(function(e){if(!a.includes(e))return!1}),!0)}},"70cc":function(e,t,a){"use strict";a("79a4")},"72c3":function(e,t,a){"use strict";var s=a("23e7"),i=a("e9bc"),r=a("dad2");s({target:"Set",proto:!0,real:!0,forced:!r("union")},{union:i})},"79a4":function(e,t,a){"use strict";var s=a("23e7"),i=a("d039"),r=a("953b"),o=a("dad2"),l=!o("intersection")||i((function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))}));s({target:"Set",proto:!0,real:!0,forced:l},{intersection:r})},"7f65":function(e,t,a){"use strict";var s=a("59ed"),i=a("825a"),r=a("c65b"),o=a("5926"),l=a("46c4"),n="Invalid size",c=RangeError,d=TypeError,u=Math.max,h=function(e,t){this.set=e,this.size=u(t,0),this.has=s(e.has),this.keys=s(e.keys)};h.prototype={getIterator:function(){return l(i(r(this.keys,this.set)))},includes:function(e){return r(this.has,this.set,e)}},e.exports=function(e){i(e);var t=+e.size;if(t!==t)throw new d(n);var a=o(t);if(a<0)throw new c(n);return new h(e,a)}},8306:function(e,t,a){"use strict";a("72c3")},"83b9e":function(e,t,a){"use strict";var s=a("cb27"),i=a("384f"),r=s.Set,o=s.add;e.exports=function(e){var t=new r;return i(e,(function(e){o(t,e)})),t}},"88e6":function(e,t,a){"use strict";a("1e70")},"8b00":function(e,t,a){"use strict";var s=a("23e7"),i=a("68df"),r=a("dad2");s({target:"Set",proto:!0,real:!0,forced:!r("isSubsetOf")},{isSubsetOf:i})},"8e16":function(e,t,a){"use strict";var s=a("7282"),i=a("cb27");e.exports=s(i.proto,"size","get")||function(e){return e.size}},"953b":function(e,t,a){"use strict";var s=a("dc19"),i=a("cb27"),r=a("8e16"),o=a("7f65"),l=a("384f"),n=a("5388"),c=i.Set,d=i.add,u=i.has;e.exports=function(e){var t=s(this),a=o(e),i=new c;return r(t)>a.size?n(a.getIterator(),(function(e){u(t,e)&&d(i,e)})):l(t,(function(e){a.includes(e)&&d(i,e)})),i}},9703:function(e,t,a){"use strict";a("ee5a")},9961:function(e,t,a){"use strict";var s=a("dc19"),i=a("cb27"),r=a("83b9e"),o=a("7f65"),l=a("5388"),n=i.add,c=i.has,d=i.remove;e.exports=function(e){var t=s(this),a=o(e).getIterator(),i=r(t);return l(a,(function(e){c(t,e)?d(i,e):n(i,e)})),i}},a4e7:function(e,t,a){"use strict";var s=a("23e7"),i=a("395e"),r=a("dad2");s({target:"Set",proto:!0,real:!0,forced:!r("isSupersetOf")},{isSupersetOf:i})},a5f7:function(e,t,a){"use strict";var s=a("dc19"),i=a("cb27"),r=a("83b9e"),o=a("8e16"),l=a("7f65"),n=a("384f"),c=a("5388"),d=i.has,u=i.remove;e.exports=function(e){var t=s(this),a=l(e),i=r(t);return o(t)<=a.size?n(t,(function(e){a.includes(e)&&u(i,e)})):c(a.getIterator(),(function(e){d(t,e)&&u(i,e)})),i}},a855:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".vue-slider-dot-handle,.vue-slider-rail{background-color:#5bc0de!important}.conversation-box .name-circle{width:61px!important;height:61px!important;line-height:41px!important}textarea{resize:none!important}.conversation-box .name-circle img{left:2px!important;top:2px!important}.vue-slider-dot-tooltip-inner{position:absolute!important;top:100%!important}",""]),e.exports=t},a85e:function(e,t,a){var s=a("3701");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("528e38cb",s,!0,{sourceMap:!1,shadowMode:!1})},b4bc:function(e,t,a){"use strict";var s=a("dc19"),i=a("cb27").has,r=a("8e16"),o=a("7f65"),l=a("384f"),n=a("5388"),c=a("2a62");e.exports=function(e){var t=s(this),a=o(e);if(r(t)<=a.size)return!1!==l(t,(function(e){if(a.includes(e))return!1}),!0);var d=a.getIterator();return!1!==n(d,(function(e){if(i(t,e))return c(d,"normal",!1)}))}},c01e:function(e,t,a){"use strict";a("a4e7")},c1a1:function(e,t,a){"use strict";var s=a("23e7"),i=a("b4bc"),r=a("dad2");s({target:"Set",proto:!0,real:!0,forced:!r("isDisjointFrom")},{isDisjointFrom:i})},cb27:function(e,t,a){"use strict";var s=a("e330"),i=Set.prototype;e.exports={Set:Set,add:s(i.add),has:s(i.has),remove:s(i["delete"]),proto:i}},ce08:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,"textarea{resize:none!important}",""]),e.exports=t},d623:function(e,t,a){var s=a("2b6b");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("5efeb48a",s,!0,{sourceMap:!1,shadowMode:!1})},dad2:function(e,t,a){"use strict";var s=a("d066"),i=function(e){return{size:e,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};e.exports=function(e){var t=s("Set");try{(new t)[e](i(0));try{return(new t)[e](i(-1)),!1}catch(a){return!0}}catch(r){return!1}}},dad3:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".custom-control-input{z-index:1}textarea#comment.form-control{min-height:100px!important}textarea{resize:none!important}",""]),e.exports=t},dc19:function(e,t,a){"use strict";var s=a("cb27").has;e.exports=function(e){return s(e),e}},e53d:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",{staticClass:"main-content"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"padding-t_10 p-0",attrs:{id:"reportstabsdata"}},[t("div",{staticClass:"left-menu-tab pt-2"},[t("div",{staticClass:"col-md-12 p-0"},[t("div",{staticClass:"theme-primary partition"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.Headerstext)+" ")])])]),t("ul",{staticClass:"nav nav-pills flex-column left-tab mt-2 responivecustomtab nav-tabs"},e._l(e.tabs,(function(a){return t("li",{key:a.id,class:{"nav-item":!0,active:e.activeTab===a.id},on:{click:function(t){e.activeTab=a.id,e.changeTab(a.id)}}},[t("a",{class:{"nav-link left-menu":!0,active:e.activeTab===a.id},attrs:{title:a.title}},[t("em",{staticClass:"p-1",class:a.icon}),e._v(" "+e._s(a.title))])])})),0)]),t("div",{staticClass:"right-content"},["Skill"!==e.tabHeaderText&&"Goal"!==e.tabHeaderText&&"Notes"!==e.tabHeaderText?t("div",{staticClass:"mt-2 theme-primary partition p-actions-expand",attrs:{id:"ReturnRequestHeading"}},[t("span",{staticClass:"p-name text-white"},[e._v(" "+e._s(e.tabHeaderText))]),"Team Structure"==e.tabHeaderText?t("span",{staticClass:"user-guide float-right m-2"},[e._m(0),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t("TeamStructureUserGuide"))}})])])]):e._e(),"Feedback"===e.tabHeaderText?t("span",[t("a",{staticClass:"p-action-btn text-white float-right",attrs:{id:"addnewreview",href:"javascript:;",title:"Add Feedback"},on:{click:e.openAddfeedbackpopup,tooltip:function(t){return e.showTooltip("Add Feedback")}}},[t("i",{staticClass:"fa fa-plus"}),t("br"),t("span",[e._v("Add Feedback")])]),t("a",{staticClass:"p-action-btn text-white float-right",attrs:{id:"addnewreview",href:"javascript:;",title:"Remove"},on:{click:e.RemovecselectedRecord,tooltip:function(t){e.showTooltip("Please select one/multiple check box(s) to remove review(s)")}}},[t("i",{staticClass:"fa fa-trash"}),t("br"),t("span",[e._v("Remove")])])]):e._e(),"Performance Review"===e.tabHeaderText?t("span",[t("a",{class:{"p-action-btn text-white float-right iconenable":!0,disabled:!e.isDeleteMultiple},attrs:{href:"javascript:void(0);",title:e.$("Remove"),id:"DeleteMultiple_New"},on:{click:e.RemoveReview,tooltip:function(t){e.showTooltip("Please select one/multiple check box(s) to remove review(s)")}}},[t("i",{staticClass:"fa fa-trash"}),t("br"),t("span",[e._v(e._s(e.$t("Remove")))])]),t("a",{staticClass:"p-action-btn text-white float-right",attrs:{id:"addnewreview",href:"javascript:;",title:e.$t("AddReview")},on:{click:e.OpenAddReview,tooltip:function(t){return e.showTooltip("Add Review")}}},[t("i",{staticClass:"fa fa-plus"}),t("br"),t("span",[e._v(e._s(e.$t("AddReview")))])])]):e._e()]):e._e(),e._l(e.tabs,(function(a){return t("div",{directives:[{name:"show",rawName:"v-show",value:e.activeTab===a.id,expression:"activeTab === tab.id"}],key:a.id,staticClass:"col-md-12 p-0"},[e.isSettingsVisible&&1==a.id?t("EditUser",{attrs:{isEditUser:e.isEditUser,UserId:e.userId},on:{userTypeId:e.receiveUserTypeId}}):e._e(),e.isAssociateVisible&&2==a.id?t("AssociateLicense",{attrs:{UserId:e.userId,userType:e.userType,UserTypeName:e.UserTypeName,IS_DEFAULT:e.IS_DEFAULT}}):e._e(),e.isAddressVisible&&3==a.id?t("Address",{attrs:{UserId:e.userId,IsClient:"User"}}):e._e(),e.isCommunicationVisible&&4==a.id?t("Communication",{attrs:{GetConfiguration:e.GetConfiguration,IsClient:"User"}}):e._e(),5==a.id&&e.isConfigSelected?t("modalConfiguration",{attrs:{GetConfiguration:e.GetConfiguration}}):e._e(),e.isNotesVisible&&9==a.id?t("NotesVue",{attrs:{isEditUser:e.isEditUser,UserId:e.userId}}):e._e(),e.isShowContactNumber&&6==a.id?t("ContactNumberVue",{attrs:{isEditUser:e.isEditUser,UserId:e.userId,IsClient:"User"},on:{userTypeId:e.receiveUserTypeId}}):e._e(),e.isTeamStructureVisible&&13==a.id?t("TeamStructure",{attrs:{UserId:e.userId}}):e._e(),e.isNotificationTabVisible&&10==a.id?t("Notification",{attrs:{UserId:e.userId}}):e._e(),e.isFeedbackSettingsVisible&&7==a.id?t("feedbackuserlisting",{ref:"feedbacklisting",refInFor:!0,attrs:{userId:e.userId}}):e._e(),e.isUserBreak&&14==a.id?t("UserBreak",{attrs:{isEditUser:e.isEditUser,UserId:e.userId},on:{userTypeId:e.receiveUserTypeId}}):e._e(),e.isSkillVisible&&12==a.id?t("UserSkill",{attrs:{UserId:e.userId}}):e._e(),e.isGoalVisible&&8==a.id?t("GoalVue",{attrs:{isEditUser:e.isEditUser,UserId:e.userId},on:{userTypeId:e.receiveUserTypeId}}):e._e(),e.isPerformanceReviewVisible&&11==a.id?t("PerformanceReview",{key:e.PeformanceUpdatekey,ref:"performanceReview",refInFor:!0,attrs:{UserId:e.userId},on:{IsDeleteMultiple:e.IsDeleteMultiple}}):e._e(),e.showAddReview&&11==a.id?t("AddPerformanceReview",{attrs:{UserId:e.userId}}):e._e(),e.showAssignTeam&&15==a.id?t("AssignTeam",{attrs:{UserId:e.userId}}):e._e()],1)})),e.Addfeedback?t("AddfeedbackforUser",{attrs:{userId:e.userId,Addfeedback:e.Addfeedback},on:{refreshfeedbacklist:e.refreshfeedbacklist}}):e._e()],2)])],1)},i=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em"),e._v("User Guide")])}],r=(a("14d9"),a("9769")),o=a("e1b9"),l=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"col-lg-12 float-left p-0"},[t("div",{staticClass:"form-group m-2 p-0"},[t("label",[e._v(" Associate Licenses:")]),t("div",{staticClass:"col-12 float-left p-0 mb-4"},[""!=e.addedLicensesView?t("div",{staticClass:"col-12 border p-1 licdetail"},[e._v(" "+e._s(e.addedLicensesView)+" ")]):t("div",{staticClass:"col-12 border p-1 licdetail"},[t("strong",{staticClass:"text-danger"},[e._v(e._s(e.$t("LicenseNotAvailable")))])])])])]),t("br"),t("div",{staticStyle:{width:"100%"},attrs:{id:"divLicencedata"}},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 form-panel mt-0 p-0"},[t("div",{staticClass:"form-content"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left",attrs:{id:"divtickettupelist"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("allLicenses")))])])]),t("div",{staticClass:"managefolder py-3 px-2"},[t("ul",{staticClass:"list-group",staticStyle:{"max-height":"400px","min-height":"200px","overflow-y":"auto"}},e._l(e.LicenseData.allLicenses,(function(a){return null!=e.LicenseData?t("li",{key:a.LICENSE_COUNT,staticClass:"list-group-item single-action"},[e._v(" "+e._s(a.MODULE_NAME)+" ("+e._s(a.LICENSE_COUNT)+") "),a.EXISTSFORUSER<=0?t("span",[a.LICENSE_COUNT>0?t("a",{staticClass:"aAddLicense float-right",attrs:{href:"javascript:;",moduleid:a.Module_Master_Id},on:{click:function(t){return e.AssociateDeAssociateLicense(a,"Associate")}}},[t("em",{staticClass:"fa fa-plus-circle text-success action-icon",attrs:{alt:"Click to Associate License",title:"Click to Associate License"}})]):t("a",{staticClass:"aAddLicense float-right disabled",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-plus-circle text-success action-icon disabled",attrs:{alt:"License not Available",title:"License not Available"}})])]):t("span",[e._m(0,!0)])]):t("li",{staticClass:"list-group-item list_username list_img"},[t("strong",{staticClass:"text-danger"},[e._v(e._s(e.$t("LicenseNotAvailable")))])])})),0)])]),t("div",{staticClass:"col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left",attrs:{id:"divAssignedLicence"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("addedLicenses")))])])]),t("div",{staticClass:"managefolder py-3 px-2"},[t("ul",{staticClass:"list-group",staticStyle:{"max-height":"400px","min-height":"200px","overflow-y":"auto"}},[e.LicenseData.addedLicenses&&e.LicenseData.addedLicenses.length?e._l(e.LicenseData.addedLicenses,(function(a){return t("li",{key:a.MODULE_ID,staticClass:"list-group-item list_username list_img single-action",attrs:{"data-typename":"EMER NEW GRID DGIN"}},[e._v(" "+e._s(a.MODULE_NAME)+" "),t("a",{class:e.IS_DEFAULT?"aRemoveLicense float-right disabled":"aRemoveLicense float-right",attrs:{href:"javascript:void(0)",moduleid:a.MODULE_ID},on:{click:function(t){return e.AssociateDeAssociateLicense(a,"De-associate")}}},[t("em",{class:e.IS_DEFAULT?"fa fa-times-circle text-danger action-icon disabled":"fa fa-times-circle text-danger action-icon",attrs:{alt:"Click to Deassociate License",title:"Click to Deassociate License"}})])])})):[t("li",{staticClass:"list-group-item list_username list_img"},[t("strong",{staticClass:"text-danger"},[e._v(e._s(e.$t("LicenseNotAvailable")))])])]],2)])])]),e.IS_DEFAULT?t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("small",[t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("DefaultLicense")))])])])]):e._e(),t("div",{staticClass:"float-right mt-3"},[t("a",{staticClass:"btn btn-info",attrs:{href:"javascript:;",title:e.$t("BacktoList"),id:"associateLicenseCancel","data-toggle-tooltip":"tooltip","data-original-title":"Cancel"},on:{click:function(t){return e.BackToList()}}},[t("em",{staticClass:"fa fa-angle-double-left mr-2"}),e._v(" "+e._s(e.$t("BacktoList"))+" ")])])])])])],1)},n=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"aAddLicense float-right disabled",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-plus-circle text-success action-icon disabled",attrs:{alt:"Already Associated",title:"Already Associated"}})])}],c={components:{},props:{IS_DEFAULT:{type:Boolean},UserId:{type:Number},userType:{type:Number},UserTypeName:{type:String}},data(){return{isLoading:!1,LicenseData:null,addedLicensesView:""}},created(){var e=this;e.GetAssociateLicense()},methods:{BackToList(){var e=this;e.$router.push({name:"UserIndex",path:"/User/Index"})},async GetAssociateLicense(){try{var e=this;e.isLoading=!0;let t=`userType=${e.userType}&createdUserId=${e.UserId}`;const a=await r["a"].GetAssociateLicenses(t);if(null!=a.data||""!=a.data){e.isLoading=!1,e.LicenseData=a.data;let t="";e.LicenseData.addedLicenses.forEach(e=>{e.MODULE_NAME&&(t+=(t.length>0?", ":"")+e.MODULE_NAME)}),e.addedLicensesView=t}}catch(t){e.isLoading=!1,console.error("Error in GetAssociateLicense:",t)}},async AssociateDeAssociateLicense(e,t){try{var a=this;a.isLoading=!0;var s=`moduleMasterID=${void 0!=e.Module_Master_Id?e.Module_Master_Id:e.MODULE_ID}&userId=${a.UserId}&userType=${a.UserTypeName}&actionType=${t}`;const i=await r["a"].GetAssociateDeAssociateLicense(s);if(null!=i.data){a.isLoading=!1,a.addedLicensesView="",a.LicenseData=i.data;let e="";a.LicenseData.addedLicenses.length>0?(a.LicenseData.addedLicenses.forEach(t=>{t.MODULE_NAME&&(e+=(e.length>0?", ":"")+t.MODULE_NAME)}),a.addedLicensesView=e,"Associate"==t?(a.isLoading=!1,a.ShowAlert(a.$t("AssociateLicenseSuccess"),"success",a.$t("Alert"))):"De-associate"==t&&(a.isLoading=!1,a.ShowAlert(a.$t("DeAssociateLicenseSuccess"),"success",a.$t("Alert")))):(a.isLoading=!1,a.ShowAlert("Please Purchase more license by upgrade subscription!","failure",!0,a.$t("Alert")))}}catch(i){console.error("Error in AssociateDeAssociateLicense:",i)}finally{a.isLoading=!1}}}},d=c,u=a("2877"),h=Object(u["a"])(d,l,n,!1,null,null,null),m=h.exports,p=a("acbf"),f=a("34e8"),v=a("4ea2"),g=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{attrs:{ModuleName:"User",SubModuleCode:"Note",IdentityColumn:"NOTE_ID",listType:["List"],ListData:e.NoteData,HeaderData:e.Headers,TotalRecords:e.TotalRecords,IsShowAction:!0,RenderRowActionMethod:e.renderActions,showCheckBox:!0,ListDataCallBackFunction:e.FetchData,NorecordfoundText:e.$t("NoRecordfound"),HeaderButtons:e.HeaderButtons},on:{ActionButtonClick:e.actionButtonClick,PagerButtonClick:e.pagerMethod,SortdataButtonClick:e.sortdata,HeaderButtonClick:e.commonHeaderButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"NOTE",dataid:a.row.NOTE_ID,"data-controller":"Crm",statuslist:e.StatusListForListing,item:a.STATUS_ID,"data-action":"index",dataselected:1001==a.row.STATUS_ID?"Active":"Inactive",title:1001==a.row.STATUS_ID?"Active":"Inactive",callbackfunction:e.FetchData,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(a.row.STATUS_ID,"STATUS_ID")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e(),"TITLE"==a.column.COLUMN_NAME?[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.EditNotespopup(a.row)}}},[t("i",{attrs:{"aria-hidden":"true"}}),e._v(e._s(a.row.TITLE)+" ")])]:e._e(),"CREATED_AT"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.CREATED_AT))+" ")])]:e._e(),"NOTEACCESSIBILITY"==a.column.COLUMN_NAME?[1==a.row.NOTEACCESSIBILITY?t("span",[e._v(" "+e._s(e.$t("Public"))+" ")]):0==a.row.NOTEACCESSIBILITY?t("span",[e._v(" "+e._s(e.$t("Private"))+" ")]):e._e()]:e._e()]}}])}),e.editNotespopup?t("AddNote",{attrs:{UserId:e.UserId,NoteId:e.NoteId,RefCode:e.RefCode,NoteItem:e.NoteItem,callbackfunction:e.FetchData,addUserGuide:"USER_GUIDE_USER_NOTE"}}):e._e()],1)},S=[],C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Manage Note")))]),t("span",{staticClass:"user-guide"},[e._m(0),t("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con",domProps:{innerHTML:e._s(e.$t(e.addUserGuide))}})])])]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.onCancel}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{ref:"dynamicForm",attrs:{buttons:e.buttons,mandatorytext:e.$t("MandatoryString"),lang:"en",schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),e.NoteId>0?t("div",{staticClass:"col-lg-12 p-0 float-left mt-4"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"Comments"}},[t("div",{staticClass:"w-100",attrs:{id:"Expenseaccordion"}},e._l(e.groupByDate,(function(a,s,i){return t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-header"},[t("a",{class:{"card-link collapsed":i>1,"card-link":i<=1},staticStyle:{color:"#000"},attrs:{"data-toggle":"collapse",href:"#collapseOneThread"+i}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[e._v(" "+e._s(e.headerFormatTime(s)))])])])]),t("div",{class:{collapse:i>1,"collapse show":i<=1},attrs:{id:"collapseOneThread"+i}},e._l(a,(function(a,s){return t("div",{staticClass:"card-body"},[t("div",{staticClass:"conversation-main"},[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(e.formatTime(a.CREATED_AT)))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticStyle:{"font-size":"12px"},attrs:{src:a.AVATAR?a.AVATAR:"/Content/images/DefaultImages/avatar-icon.jpg",alt:"Image",width:"51",height:"51",loading:"lazy"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",[t("span",{staticClass:"sender-name mr-2"},[e._v(e._s(a.USER_NAME)+" ")]),t("span",{staticClass:"sender-department mr-2"},[e._v("( "+e._s(e.$t("PostedOn"))+" :")]),t("span",{staticClass:"sender-department",staticStyle:{color:"#dc3545!important"}},[e._v(" "+e._s(e.toPrettyString(a.CREATED_AT))+" ")]),e._v(" "),t("span",{staticClass:"sender-department"},[e._v(")")])])]),t("div",{staticClass:"conversation-content addednote-ticket"},[t("p",[e._v(e._s(a.DESCRIPTION))])])])])])])})),0)])})),0)]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left"},[t("dynamic-form",{ref:"validateNoteComment",attrs:{lang:"en",buttons:e.commentButtons,schema:e.CommentSchema}})],1)]):e._e()],1)])])])],1)},_=[function(){var e=this,t=e._self._c;return t("a",{staticClass:"ancuserguide",staticStyle:{color:"white"},attrs:{"data-toggle":"collapse",href:"javascript:;",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t("em"),e._v("User Guide")])}],b={props:{UserId:{type:Number,require:!0},NoteId:{type:Number,required:!1},RefCode:{type:String,required:!1},NoteItem:{type:Array},callbackfunction:{type:Function},addUserGuide:{type:String,required:!0}},data(){return{selectAll:!1,fileData:[],editor:this.CLASSIC_EDITOR,department:{name:"",status:{name:"active",id:1},visibaleToclients:!1,visibaleToTicting:!1,description:""},FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:"Title",name:"Title",value:"",placeholder:"",validationRules:{required:!0,max:100}},{astype:"RadioField",label:"",name:"Type",value:1,placeholder:"",validationRules:{required:!1,max:200},config:{options:[{name:"Private",value:0},{name:"Public",value:1}],showAddIcon:!1,onChange:this.onChangeRadio}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,visibility:!0,config:{options:[{name:"Active",value:1001},{name:"InActive",value:1002}],showAddIcon:!1}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",visibility:!0,validationRules:{required:!1,max:2e3},config:{options:[],showAddIcon:!1,rows:3}}]}],CommentSchema:[{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",placeholder:this.$t("Enter Comment"),validationRules:{required:!0,max:2e3},config:{rows:3}}]}],commentButtons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-paper-plane pr-2'></i>Post New Comment",isVisible:!0,onClick:this.SavePostcomment}],isLoading:!1,noRecordForTab:!1,NoteId:0,Type:"",comment:"",CommentData:[],CommentExpenseData:[],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}]}},computed:{groupByDate(){var e=this;let t={};return e.CommentData.forEach(e=>{let a=e.CREATED_AT.substring(0,10);t[a]?t[a].push(e):t[a]=[e]}),t}},created:async function(){var e=this;if("Update"==e.RefCode&&e.NoteItem.NOTE_ID>0){e=this;await e.GetCommentList(),e.NoteId=e.NoteItem.NOTE_ID,e.FormSchema[0].Data[0].value=e.NoteItem.TITLE,e.FormSchema[0].Data[1].value=e.NoteItem.NOTEACCESSIBILITY,e.FormSchema[0].Data[2].value=e.NoteItem.STATUS_ID,e.FormSchema[1].Data[0].value=e.NoteItem.DESCRIPTION}},methods:{onChangeRadio:function(e,t){var a=this;a.Type=e.target.dataset.value},closePopup(){var e=this;e.$parent.editNotespopup=!1},onCancel:function(){var e=this;e.$parent.editNotespopup=!1},formatDateMonth:function(e){let t=new Date(e);const a={day:"2-digit",month:"long",year:"numeric"};let s=t.toLocaleDateString("en-GB",a).replace(" ","/").replace(" ","/");return s},headerFormatTime:function(e){let t=new Date(e),a={day:"2-digit",month:"short",year:"numeric"},s=t.toLocaleDateString("en-GB",a).split(" "),i=`${s[0]} ${s[1]}, ${s[2]}`;return i},formatTime:function(e){let t=new Date(e),a=t.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return a},toPrettyString(e){const t=new Date,a=new Date(e),s=Math.abs(t-a),i=s/1e3;if(i<60)return"few seconds ago";if(i<120)return"a minute ago";if(i<2700)return Math.floor(i/60)+" minutes ago";if(i<5400)return"an hour ago";if(i<86400)return Math.floor(i/3600)+" hours ago";if(i<172800)return"yesterday";if(i<2592e3)return Math.floor(i/86400)+" days ago";if(i<31104e3){const e=Math.floor(i/2592e3);return e<=1?"1 month ago":e+" months ago"}const r=Math.floor(i/31536e3);return r<=1?"1 year ago":r+" years ago"},async onSubmit(e){var t=this;t.isLoading=!0,void 0==t.NoteItem.NOTE_ID&&(t.NoteItem.NOTE_ID=0);let a={NoteId:t.NoteItem.NOTE_ID>0?t.NoteItem.NOTE_ID:0,Title:e.Title,Type:"0"!=t.Type,Status:e.Status,Description:e.Description,UserId:t.UserId};var s=JSON.stringify(a);await r["a"].AddUpdateUserNote(s).then((function(e){null!=e&&null!=e.data&&e.data>0?(t.ShowAlert(t.$t("RecordsSavedSuccessfully"),"success"),t.isLoading=!1,t.$parent.FetchData(),t.callbackfunction(),t.closePopup()):(t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert")),t.isLoading=!1,t.closePopup())}))},SavePostcomment(){var e=this;e.$refs.validateNoteComment.validateForm.validate().then(t=>{if(t){e.isLoading=!0;var a=e.$refs.validateNoteComment.getPropertyValue("Comment","value");let t={source_name:"NOTE",comment:a,source_id:e.NoteId,status_id:1001};var s=JSON.stringify(t);r["a"].SavePostcomment(s).then((async function(t){null!=t&&null!=t.data&&t.data>0?(await e.GetCommentList(),e.CommentSchema[0].Data[0].value="",e.ShowAlert(e.$t("CommentSavedSuccessfully"),"success"),e.isLoading=!1,e.$refs.validateNoteComment.validateForm.reset()):(e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert")),e.isLoading=!1)}))}})},GetCommentList:async function(){var e=this,t="sourceName=NOTE&sourceId="+e.NoteId;await r["a"].GetCommentById(t).then(t=>{null!=t.data&&""!=t.data&&t.data.length>0?e.CommentData=t.data:(e.CommentData=[],e.isLoading=!1)})}}},I=b,A=(a("9703"),Object(u["a"])(I,C,_,!1,null,null,null)),k=A.exports,T={name:"ManageNote",components:{AddNote:k},props:{UserId:{type:Number,require:!0}},data(){return{noRecords:!1,isLoading:!1,NoteId:0,search:"",NoteData:[],Headers:[{COLUMN_NAME:"TITLE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:1},{COLUMN_NAME:"CREATED_AT",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Date",DISPLAY_ORDER:2},{COLUMN_NAME:"USER_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Note Given By",DISPLAY_ORDER:3},{COLUMN_NAME:"NOTEACCESSIBILITY",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Accessibility",DISPLAY_ORDER:4},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:5}],HeaderButtons:[{title:"Add Note",iconClass:"fa fa-plus",callbackfunction:"openAddNote",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddNote"},{title:"Delete Note",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],isLoading:!1,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],PageNumber:1,PageSize:10,TotalRecords:0,CurrentPage:1,TotalPages:0,selectAll:!1,listActions:[{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"DeleteNote",additionalSpan:""}],SortExp:"",SortBy:"",selectedchekboxid:[],NoteItem:[],RefCode:"",editNotespopup:!1}},updated(){const e=document.getElementsByClassName("theme-primary partition p-actions-expand");if(e[0]&&"p-name text-white"!=e[0].lastChild.className){const t=document.createElement("span");t.className="p-name text-white",t.textContent=this.$t("Note"),e[0].appendChild(t)}},created:function(){var e=this;e.FetchData()},methods:{EditNotespopup(e){this.NoteItem=e,this.NoteId=e.NOTE_ID,this.editNotespopup=!0,this.RefCode="Update"},openAddNote:function(){var e=this;e.RefCode="Insert",e.NoteId=0,e.editNotespopup=!0},getStatusClass:function(e){var t="";switch(e){case"Active":t="px-2 text-center bg-success text-white d-block";break;case"Inactive":t="px-2 text-center bg-danger text-white d-block";break;default:t=""}return t},FetchData:function(){var e=this;e.isLoading=!0;var t=`pageNum=${e.PageNumber}&pageSize=${e.PageSize}&sortBy=&sortExp=&userId=${e.UserId}&search=${e.search}`;r["a"].GetUserNoteList(t).then((function(t){e.Headers.forEach(e=>{e.settings=null,"STATUS_ID"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"TITLE"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"CREATED_AT"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"NOTEACCESSIBILITY"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),""!=t.data&&null!=t.data&&t.data.length>0?(e.NoteData=t.data,e.TotalRecords=t.data[0].TOTAL_RECORDS,e.TotalPages=Math.ceil(vmTotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,e.TotalRecords=0,e.NoteData=[]),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteUserNote();break;case"openAddNote":this.openAddNote();break}},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Delete":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},actionButtonClick(e,t,a,s,i){switch(e){case"DeleteNote":this.DeleteNote(t.NOTE_ID);break}},DeleteUserNote:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Note"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_PR_NOTE"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.FetchData(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Note")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Note")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete",[t.$t("Note")]),"failure",!0,t.$t("Alert"))},DeleteNote:function(e){var t=this,a=e;a>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Note"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_PR_NOTE"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.FetchData(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Note")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Note")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchData()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchData()}}},D=T,E=Object(u["a"])(D,g,S,!1,null,null,null),y=E.exports,N=a("14ca"),L=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[e._m(0),t("div",{staticClass:"container-fluid p-0"},[t("div",{attrs:{id:"divShowlistingData"}},[t("div",{staticClass:"listing float-none"},[e._m(1),t("div",{staticClass:"table-responsive",attrs:{id:"divListing"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"moduleList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{staticClass:"gray"},[t("th",{staticStyle:{"min-width":"300px"},attrs:{colspan:"2"}},[e._v("Manage Notifications")]),t("th",{staticClass:"text-center",staticStyle:{width:"90px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"90px"}},[e._v("Email Notifications")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_1","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_1","email")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_1"}})])]),t("th",{staticClass:"text-center",staticStyle:{width:"90px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"90px"}},[e._v("TALYGEN Inbox Notifications")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_2","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_2","inbox")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_2"}})])]),t("th",{staticClass:"text-center",staticStyle:{width:"102px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"102px"}},[e._v("Mobile Notification")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_3","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_3","mobile")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_3"}})])]),t("th",{staticClass:"text-center",staticStyle:{width:"102px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"102px"}},[e._v("Push Notification")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_4","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_4","push")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_4"}})])])])]),e._l(e.GetNotificationData,(function(a,s){return t("tbody",{attrs:{id:"accordionEx"}},[t("tr",{staticClass:"high-bar",attrs:{id:"MainColumn"+s}},[t("td",[t("span",{staticClass:"table-plus-minus"},[t("a",{staticClass:"collapsed",attrs:{"data-parent":"#accordionEx","data-target":"#ColumnCollapse"+s,href:"javascript:;","aria-expanded":"false","aria-controls":"ColumnCollapse"+s,"data-toggle":"collapse"},on:{click:function(t){return e.toggleAccordion(s)}}},[t("em",{class:e.activeIndex===s?"fa fa-minus pt-0":"fa fa-plus pt-0",attrs:{"aria-hidden":"true"}})])])]),t("td",[e._v(" "+e._s(a.ModuleName)+" ")]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_1"+a.ModuleId,"data-change-id":"no",name:"email"},domProps:{value:a.ModuleId,checked:1==a.IS_EMAIL_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_1"+a.ModuleId,"email",s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_1"+a.ModuleId}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_2"+a.ModuleId,"data-change-id":"no",name:"inbox"},domProps:{value:a.ModuleId,checked:1==a.IS_INBOX_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_2"+a.ModuleId,"inbox",s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_2"+a.ModuleId}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_3"+a.ModuleId,"data-change-id":"no",name:"mobile"},domProps:{value:a.ModuleId,checked:1==a.IS_MOBILE_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_3"+a.ModuleId,"mobile",s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_3"+a.ModuleId}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_4"+a.ModuleId,"data-change-id":"no",name:"push"},domProps:{value:a.ModuleId,checked:1==a.IS_PUSH_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_4"+a.ModuleId,"push",s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_4"+a.ModuleId}})])])]),e._l(a.GroupedSubmodule,(function(i){return a.GroupedSubmodule.length>0?t("tr",{staticClass:"rowdata collapse collapseAppointment gray",attrs:{id:"ColumnCollapse"+s,"aria-labelledby":"MainColumn"+s,"data-parent":"#accordionEx"}},[t("td"),t("td",[e._v(" "+e._s(i.TYPE_NAME)+" ")]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_1"+i.ID,"data-change-id":"no",name:"email"},domProps:{value:i.ID,checked:1==i.IS_EMAIL_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_1"+i.ID}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_2"+i.ID,"data-change-id":"no",name:"inbox"},domProps:{value:i.ID,checked:1==i.IS_INBOX_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_2"+i.ID}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_3"+i.ID,"data-change-id":"no",name:"mobile"},domProps:{value:i.ID,checked:1==i.IS_MOBILE_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_3"+i.ID}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_4"+i.ID,"data-change-id":"no",name:"push"},domProps:{value:i.ID,checked:1==i.IS_PUSH_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,s)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_4"+i.ID}})])])]):e._e()}))],2)}))],2)]),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"float-right mt-3"},[t("a",{staticClass:"btn btn-success mr-2",attrs:{title:"Save"},on:{click:e.SubmitNotification}},[t("em",{staticClass:"fa fa-save p-1"}),e._v(" "+e._s(e.$t("Submit")))]),t("a",{staticClass:"btn btn-danger",attrs:{title:"Cancel"}},[t("em",{staticClass:"fa fa-close p-1"}),e._v(" "+e._s(e.$t("Cancel")))])])])])])])])])],1)},w=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("i",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 py-2"},[t("div",{staticClass:"mr-2 d-inline-block"},[t("span",{staticClass:"legends_high colorboxsquare"}),e._v("Select one or more Notification Type(s) ")])])])}],R={components:{},props:{UserId:{type:Number}},data(){return{recordId:0,showCompanyNotification:!1,noRecord:!1,isLoading:!1,GetNotificationData:[],GetMainModuleData:[],activeIndex:null}},async created(){var e=this;await e.FetchData(),setTimeout((function(){e.checkAllCheckboxes()}),1e3)},methods:{toggleAccordion(e){this.activeIndex=this.activeIndex===e?null:e},async FetchData(){var e=this,t="userId="+e.UserId;e.isLoading=!0,e.GetNotificationData=[],await r["a"].GetNotificationTypes(t).then(t=>{if(e.isLoading=!1,null!=t.data){var a=[],s=null;a=t.data.result,a.forEach(t=>{if(t.MODULE_ID==s){var a=e.GetNotificationData.findIndex(e=>e.ModuleId==s);a>-1&&e.GetNotificationData[a].GroupedSubmodule.push(t)}else{var i=[];i.push(t),e.GetNotificationData.push({ModuleName:t.MODULE_NAME,ModuleId:t.MODULE_ID,IS_EMAIL_NOTIFICATION:t.IS_EMAIL_NOTIFICATION,IS_INBOX_NOTIFICATION:t.IS_INBOX_NOTIFICATION,IS_MOBILE_NOTIFICATION:t.IS_MOBILE_NOTIFICATION,IS_PUSH_NOTIFICATION:t.IS_PUSH_NOTIFICATION,GroupedSubmodule:i}),s=t.MODULE_ID}})}})},CheckMainCheckboxes(e,t){for(var a=document.getElementsByTagName("input"),s=0;s<a.length;s++)"checkbox"==a[s].type&&a[s].id.includes(e)&&(a[s].checked=t)},checkAllinnerCheckboxes(e,t){var a=this;a.GetNotificationData.forEach(s=>{s.ModuleId===parseInt(t.value)&&s.GroupedSubmodule.forEach(i=>{"email"==e?(i.IS_EMAIL_NOTIFICATION=1==t.checked?1:0,s.IS_EMAIL_NOTIFICATION=1==t.checked?1:0):"inbox"==e?(i.IS_INBOX_NOTIFICATION=1==t.checked?1:0,s.IS_INBOX_NOTIFICATION=1==t.checked?1:0):"mobile"==e?(i.IS_MOBILE_NOTIFICATION=1==t.checked?1:0,s.IS_MOBILE_NOTIFICATION=1==t.checked?1:0):"push"==e&&(i.IS_PUSH_NOTIFICATION=1==t.checked?1:0,s.IS_PUSH_NOTIFICATION=1==t.checked?1:0);var r=a.GetMainModuleData.find(e=>e.id===i.ID);void 0!=r?(r.id=i.ID,r.email=i.IS_EMAIL_NOTIFICATION,r.inbox=i.IS_INBOX_NOTIFICATION,r.mobile=i.IS_MOBILE_NOTIFICATION,r.push=i.IS_PUSH_NOTIFICATION):a.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION,push:i.IS_PUSH_NOTIFICATION})})})},checkAllCheckboxes(e,t,a,s){var i=this,r=!0;if(void 0!=e)i.GetNotificationData.forEach((t,o)=>{t.GroupedSubmodule.forEach((t,r)=>{(e.target.value==t.MODULE_ID&&s==o&&"email"==a||e.target.value==t.MODULE_ID&&s==o&&"inbox"==a||e.target.value==t.MODULE_ID&&s==o&&"mobile"==a||e.target.value==t.MODULE_ID&&s==o&&"push"==a)&&i.checkAllinnerCheckboxes(a,e.target)}),(0==t.IS_EMAIL_NOTIFICATION&&"email"==a||0==t.IS_INBOX_NOTIFICATION&&"inbox"==a||0==t.IS_MOBILE_NOTIFICATION&&"mobile"==a||0==t.IS_PUSH_NOTIFICATION&&"push"==a)&&(r=!1)}),"email"==a?0==r?i.CheckMainCheckboxes("chkupper_1",""):i.CheckMainCheckboxes("chkupper_1","checked"):"inbox"==a?0==r?i.CheckMainCheckboxes("chkupper_2",""):i.CheckMainCheckboxes("chkupper_2","checked"):"mobile"==a?0==r?i.CheckMainCheckboxes("chkupper_3",""):i.CheckMainCheckboxes("chkupper_3","checked"):"push"==a&&(0==r?i.CheckMainCheckboxes("chkupper_4",""):i.CheckMainCheckboxes("chkupper_4","checked"));else for(var o=document.getElementsByClassName("deletable custom-control-input"),l=0;l<o.length;l++)if("checkbox"==o[l].type)if((o[l].id.includes("chk_1")||o[l].id.includes("chkinner_1"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_1")||o[l].id.includes("chkinner_1")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_1","");break}i.CheckMainCheckboxes("chkupper_1","checked")}else if((o[l].id.includes("chk_2")||o[l].id.includes("chkinner_2"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_2")||o[l].id.includes("chkinner_2")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_2","");break}i.CheckMainCheckboxes("chkupper_2","checked")}else if((o[l].id.includes("chk_3")||o[l].id.includes("chkinner_3"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_3")||o[l].id.includes("chkinner_3")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_3","");break}i.CheckMainCheckboxes("chkupper_3","checked")}else if((o[l].id.includes("chk_4")||o[l].id.includes("chkinner_4"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_4")||o[l].id.includes("chkinner_4")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_4","");break}i.CheckMainCheckboxes("chkupper_4","checked")}},async SubmitNotification(){var e=this;let t="";t=e.GetMainModuleData.map(e=>`${e.id}^${e.email}^${e.inbox}^${e.mobile}^${e.push}`).join(",");const a={IDs:t,User_Id:e.UserId};var s=new FormData;s.append("postString",JSON.stringify(a)),await r["a"].AddNotificationData(s).then(t=>{"DATA SAVED SUCESSFULLY!"==t.data[0].Value?(e.GetNotificationData=[],e.FetchData(),this.ShowAlert(this.$t("Notification successfully updated"),"success",!1,this.$t("Alert"))):this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert"))}).catch(e=>{console.log(e)})},checkAllRowCheckboxes(e,t,a){for(var s=this,i=document.getElementsByClassName("deletable custom-control-input"),r=0;r<i.length;r++)"checkbox"==i[r].type&&i[r].id.includes(t)&&s.GetNotificationData.forEach(t=>{t.GroupedSubmodule.forEach(i=>{"email"==a?(i.IS_EMAIL_NOTIFICATION=1==e.target.checked?1:0,t.IS_EMAIL_NOTIFICATION=1==e.target.checked?1:0):"inbox"==a?(i.IS_INBOX_NOTIFICATION=1==e.target.checked?1:0,t.IS_INBOX_NOTIFICATION=1==e.target.checked?1:0):"mobile"==a?(i.IS_MOBILE_NOTIFICATION=1==e.target.checked?1:0,t.IS_MOBILE_NOTIFICATION=1==e.target.checked?1:0):"push"==a&&(i.IS_PUSH_NOTIFICATION=1==e.target.checked?1:0,t.IS_PUSH_NOTIFICATION=1==e.target.checked?1:0);var r=s.GetMainModuleData.find(e=>e.id===i.ID);void 0!=r?(r.id=i.ID,r.email=i.IS_EMAIL_NOTIFICATION,r.inbox=i.IS_INBOX_NOTIFICATION,r.mobile=i.IS_MOBILE_NOTIFICATION,r.push=i.IS_PUSH_NOTIFICATION):s.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION,push:i.IS_PUSH_NOTIFICATION})})})},checkAllOuterMainCheckboxes(e,t){var a=this,s=!0,i=!0;a.GetNotificationData.forEach((r,o)=>{r.GroupedSubmodule.forEach((i,l)=>{if("email"==e.target.name&&i.ID==e.target.value?i.IS_EMAIL_NOTIFICATION=1==e.target.checked?1:0:"inbox"==e.target.name&&i.ID==e.target.value?i.IS_INBOX_NOTIFICATION=1==e.target.checked?1:0:"mobile"==e.target.name&&i.ID==e.target.value?i.IS_MOBILE_NOTIFICATION=1==e.target.checked?1:0:"push"==e.target.name&&i.ID==e.target.value&&(i.IS_PUSH_NOTIFICATION=1==e.target.checked?1:0),t==o&&i.ID==e.target.value){var n=a.GetMainModuleData.find(e=>e.id===i.ID);void 0!=n?(n.id=i.ID,n.email=i.IS_EMAIL_NOTIFICATION,n.inbox=i.IS_INBOX_NOTIFICATION,n.mobile=i.IS_MOBILE_NOTIFICATION,n.push=i.IS_PUSH_NOTIFICATION):a.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION,push:i.IS_PUSH_NOTIFICATION})}0==i.IS_EMAIL_NOTIFICATION&&t==o&&"email"==e.target.name?(r.IS_EMAIL_NOTIFICATION=0,s=!1):0==i.IS_INBOX_NOTIFICATION&&t==o&&"inbox"==e.target.name?(r.IS_INBOX_NOTIFICATION=0,s=!1):0==i.IS_MOBILE_NOTIFICATION&&t==o&&"mobile"==e.target.name?(r.IS_MOBILE_NOTIFICATION=0,s=!1):0==i.IS_PUSH_NOTIFICATION&&t==o&&"push"==e.target.name&&(r.IS_PUSH_NOTIFICATION=0,s=!1)}),s&&t==o&&"email"==e.target.name?r.IS_EMAIL_NOTIFICATION=1:s&&t==o&&"inbox"==e.target.name?r.IS_INBOX_NOTIFICATION=1:s&&t==o&&"mobile"==e.target.name?r.IS_MOBILE_NOTIFICATION=1:s&&t==o&&"push"==e.target.name&&(r.IS_PUSH_NOTIFICATION=1),(0==r.IS_EMAIL_NOTIFICATION&&"email"==e.target.name||0==r.IS_INBOX_NOTIFICATION&&"inbox"==e.target.name||0==r.IS_MOBILE_NOTIFICATION&&"mobile"==e.target.name||0==r.IS_PUSH_NOTIFICATION&&"push"==e.target.name)&&(i=!1),"email"==e.target.name?i?a.CheckMainCheckboxes("chkupper_1","checked"):a.CheckMainCheckboxes("chkupper_1",""):"inbox"==e.target.name?i?a.CheckMainCheckboxes("chkupper_2","checked"):a.CheckMainCheckboxes("chkupper_2",""):"mobile"==e.target.name?i?a.CheckMainCheckboxes("chkupper_3","checked"):a.CheckMainCheckboxes("chkupper_3",""):"push"==e.target.name&&(i?a.CheckMainCheckboxes("chkupper_4","checked"):a.CheckMainCheckboxes("chkupper_4",""))})}}},x=R,O=Object(u["a"])(x,L,w,!1,null,null,null),U=O.exports,M=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{attrs:{ModuleName:"User",SubModuleCode:"Goal",IdentityColumn:"GOALID",listType:["List"],ListData:e.UserGoalListing,HeaderData:e.Headers,TotalRecords:e.TotalRecords,IsShowAction:!0,RenderRowActionMethod:e.renderActions,showCheckBox:!0,ListDataCallBackFunction:e.FetchRecords,NorecordfoundText:e.$t("NoRecordfound"),HeaderButtons:e.HeaderButtons},on:{ActionButtonClick:e.actionButtonClick,PagerButtonClick:e.pagerMethod,SortdataButtonClick:e.sortdata,HeaderButtonClick:e.commonHeaderButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"GOAL",dataid:a.row.GOALID,"data-controller":"Crm",statuslist:e.StatusListForListing,item:a.STATUS_ID,"data-action":"index",dataselected:1001==a.row.STATUS_ID?"Active":"Inactive",callbackfunction:e.FetchRecords,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(a.row.STATUS_ID,"STATUS_ID")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e(),"PROGRESS"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(a.row.PROGRESS)),t("span",[e._v("%")])])]:e._e(),"STARTDATE"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.STARTDATE))+" ")])]:e._e(),"ENDDATE"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatDate(a.row.ENDDATE))+" ")])]:e._e(),"TITLE"==a.column.COLUMN_NAME?[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.ManageGoal(a)}}},[t("i",{attrs:{"aria-hidden":"true"}}),e._v(e._s(a.row.TITLE)+" ")])]:e._e()]}}])}),e.isAddUserGoal?t("AddGoal",{attrs:{GoalType:e.GoalType,GoalArray:e.GoalArray,GoalId:e.GoalId,UserId:e.UserId,callbackfunction:e.FetchRecords}}):e._e()],1)},P=[],F=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Add Goal")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Cancel}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"col-lg-12 p-0"},[t("dynamic-form",{ref:"validateGoal",attrs:{lang:"en",buttons:!1,schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),"Update"==e.GoalType?t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"transactionSize"}},[e._v(e._s(e.$t("Progress"))+": "),t("span",{staticStyle:{border:"0",color:"#f6931f","font-weight":"bold"}},[e._v(e._s(e.progress)+"%")])]),t("div",{staticClass:"slider-container pt-3 ml-2 disabled"},[t("VueSlider",{attrs:{min:"0",id:"progress",max:"100"},on:{input:e.onProgressSlide},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1)]):e._e(),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"transactionSize"}},[e._v(e._s(e.$t("ProficiencyByManager"))+": "),t("span",{staticStyle:{border:"0",color:"#f6931f","font-weight":"bold"}},[e._v(e._s(e.proficiencyManager)+"%")])]),t("div",{staticClass:"slider-container pt-3 ml-2"},[t("VueSlider",{attrs:{min:"0",id:"proficiencyManager",max:"100"},on:{input:e.onSlide},model:{value:e.proficiencyManager,callback:function(t){e.proficiencyManager=t},expression:"proficiencyManager"}})],1)])],1),t("div",{staticClass:"row flex-row-reverse mt-3"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success save-btn mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveData()}}},[t("em",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save")))]),t("a",{staticClass:"btn btn-danger mr-2",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(t){return e.Cancel()}}},[t("em",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel")))])]),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("Mandatory")))])])])]),t("div",{staticClass:"conversation-date heading-border mt-4"},[t("span",[e._v(e._s(e.$t("Proficiency History by Managers")))])]),t("div",{staticClass:"container-fluid collapse show p-0",attrs:{id:"collapseOne1"}},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"Addresslist"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",[t("span",[e._v(e._s(e.$t("Name")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("Date"))+" ")])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("Proficiency_only")))])])])]),t("tbody",[0===e.ProficiencyHistoryList.length?t("tr",[t("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"8"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._l(e.ProficiencyHistoryList,(function(a,s){return t("tr",{key:s},[t("td",[e._v(e._s(a.MANAGER_NAME))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e.$options.filters.formatDate(a.PROGRESS_BY_MANAGER_ON))+" ")]),t("td",{staticClass:"text-center"},[e._v(e._s(a.PROGRESS_BY_MANAGER)),t("span",[e._v("%")])])])}))],2)])])])]),"Update"==e.GoalType?t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 mt-3 float-left",attrs:{id:"DivComment"}},[t("div",{staticClass:"w-100",attrs:{id:"accordion"}},e._l(e.groupByDate,(function(a,s,i){return t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-header"},[t("a",{class:{"card-link collapsed":i>1,"card-link":i<=1},staticStyle:{color:"#000"},attrs:{"data-toggle":"collapse",href:"#collapseOneThread"+i}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[e._v(e._s(e.headerFormatTime(s))+" ")])])])]),t("div",[t("div",{class:{collapse:i>1,"collapse show":i<=1},attrs:{id:"collapseOneThread"+i}},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"conversation-main"},[e._l(a,(function(a,s){return[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(e.formatTime(a.CREATED_AT)))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticStyle:{"font-size":"12px"},attrs:{src:a.AVATAR?a.AVATAR:"/Content/images/DefaultImages/avatar-icon.jpg",alt:"Image",width:"51",height:"51",loading:"lazy"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",{staticClass:"sender-info"},[t("span",{staticClass:"sender-name mr-2"},[e._v(e._s(a.USER_NAME))]),t("span",{staticClass:"sender-department mr-2"},[e._v("( "+e._s(e.$t("PostedOn"))+" :")]),t("span",{staticClass:"sender-department",staticStyle:{color:"#dc3545!important"}},[e._v(" "+e._s(e.toPrettyString(a.CREATED_AT))+" ")]),e._v(" "),t("span",{staticClass:"sender-department"},[e._v(")")])])]),t("div",{staticClass:"conversation-content addednote-ticket"},[t("p",[e._v(e._s(a.DESCRIPTION))])])])])]}))],2)])])])])})),0),t("div",{staticClass:"mt-3 col-sm-12 col-md-12 float-left col-lg-12 col-xl-12 p-0"},[t("dynamic-form",{ref:"validateManageComment",attrs:{lang:"en",buttons:e.commentButtons,schema:e.CommentSchema}})],1)]):e._e()])])])])],1)])},B=[],G={props:{UserId:{type:Number,required:!1},GoalId:{type:Number,required:!1},callbackfunction:{type:Function},GoalType:{type:String,required:!1},GoalArray:{type:Array,required:!1}},data(){return{proficiencyManager:0,noRecord:!1,TotalRecords:0,isLoading:!1,CommentList:[],progress:0,startDate:"",endDate:"",ProficiencyHistoryList:[],FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:this.$t("Title"),name:"Title",value:"",placeholder:"",validationRules:{required:!0,max:100},disabled:!1},{astype:"DateField",label:this.$t("Start Date"),name:"StartDate",value:new Date,placeholder:this.$t("StartDate"),validationRules:{required:!0},config:{mode:"date",format:"M/D/YYYY"}},{astype:"DateField",label:this.$t("End Date"),name:"EndDate",value:new Date,placeholder:this.$t("EndDate"),validationRules:{required:!0},config:{mode:"date",format:"M/D/YYYY"}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"active",placeholder:"",config:{options:[{value:"active",name:"Active"},{value:"inactive",name:"Inactive"}]},validationRules:{required:!0},disabled:!1}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",config:{rows:3},placeholder:this.$t(""),validationRules:{required:!0,max:2e3}}]}],CommentSchema:[{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",config:{rows:3},placeholder:this.$t("Enter Comment"),validationRules:{required:!0}}]}],commentButtons:[{type:"submit",class:"btn btn-success",text:"<em class='fa fa-paper-plane pr-2'></em>Post New Comment",isVisible:!0,onClick:this.SaveComment}]}},computed:{groupByDate(){var e=this;let t={};return e.CommentList.forEach(e=>{let a=e.CREATED_AT.substring(0,10);t[a]?t[a].push(e):t[a]=[e]}),t}},async created(){var e=this;"Update"==e.GoalType&&(await e.GetProficiencyHistoryList(),await e.GetCommentList(),null!=e.GoalArray.row&&(e.proficiencyManager=e.GoalArray.row.PROGRESS_BY_MANAGER,e.progress=e.GoalArray.row.PROGRESS,e.$refs.validateGoal.updateProperty("Title","value",e.GoalArray.row.TITLE),e.$refs.validateGoal.updateProperty("StartDate","value",e.GoalArray.row.STARTDATE),e.$refs.validateGoal.updateProperty("EndDate","value",e.GoalArray.row.ENDDATE),e.$refs.validateGoal.updateProperty("Status","value",1001==e.GoalArray.row.STATUS_ID?"active":"inactive"),e.$refs.validateGoal.updateProperty("Description","value",e.GoalArray.row.DESCRIPTION),e.$refs.validateGoal.UpdateKeyValue()))},methods:{SaveData(){var e=this,t={goalId:e.GoalId,userId:e.UserId,title:e.$refs.validateGoal.getPropertyValue("Title","value"),startDate:e.$refs.validateGoal.getPropertyValue("StartDate","value"),endDate:e.$refs.validateGoal.getPropertyValue("EndDate","value"),description:e.$refs.validateGoal.getPropertyValue("Description","value"),statusId:e.$refs.validateGoal.getPropertyValue("Status","value"),progress:e.progress,progressByManager:e.proficiencyManager},a=JSON.stringify(t),s={objData:a};e.$refs.validateGoal.validateForm.validate().then(t=>{t&&r["a"].AddUpdateGoal(s).then(t=>{null!=t.data&&("Success"==t.data.Status&&"1"==t.data.Code?(e.ShowAlert(e.$t("AddedUserGoal"),"success"),e.Cancel(),e.callbackfunction(),e.isLoading=!1):"Success"==t.data.Status&&"2"==t.data.Code?(e.ShowAlert(e.$t("UpdatedUserGoal"),"success"),e.Cancel(),e.callbackfunction(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.isLoading=!1))})})},headerFormatTime:function(e){let t=new Date(e),a={day:"2-digit",month:"short",year:"numeric"},s=t.toLocaleDateString("en-GB",a).split(" "),i=`${s[0]} ${s[1]}, ${s[2]}`;return i},toPrettyString(e){const t=new Date,a=new Date(e),s=Math.abs(t-a),i=s/1e3;if(i<60)return"few seconds ago";if(i<120)return"a minute ago";if(i<2700)return Math.floor(i/60)+" minutes ago";if(i<5400)return"an hour ago";if(i<86400)return Math.floor(i/3600)+" hours ago";if(i<172800)return"yesterday";if(i<2592e3)return Math.floor(i/86400)+" days ago";if(i<31104e3){const e=Math.floor(i/2592e3);return e<=1?"1 month ago":e+" months ago"}const r=Math.floor(i/31536e3);return r<=1?"1 year ago":r+" years ago"},formatTime(e){let t=new Date(e),a=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return a},SaveComment(){var e=this,t=e.$refs.validateManageComment.getPropertyValue("Comment","value"),a=`userSkillId=${e.GoalId}&sourceName=GOAL&comment=${t}`;e.$refs.validateManageComment.validateForm.validate().then(t=>{t&&r["a"].SaveComment(a).then(t=>{null!=t.data&&("INSERT"==t.data.Msg&&"1"==t.data.Code?(e.ShowAlert(e.$t("UserProgress"),"success"),e.GetCommentList(),e.CommentSchema[0].Data[0].value="",e.isLoading=!1,e.$refs.validateManageComment.validateForm.reset()):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.isLoading=!1))})})},async GetCommentList(){var e=this;e.isLoading=!0;var t=`userSkillId=${e.GoalId}&sourceName=GOAL`;await r["a"].CommentList(t).then(t=>{(t.data.Status="Success")&&(""!=t.data&&null!=t.data&&t.data.Result.data.length>0?(e.CommentList=t.data.Result.data,e.TotalRecords=t.data.Result.data[0].TOTALRECORDS,e.isLoading=!1):(e.TotalRecords=0,e.CommentList=[],e.isLoading=!1))})},async GetProficiencyHistoryList(){var e=this;e.isLoading=!0;var t="goalId="+e.GoalId;await r["a"].GetProficiencyHistoryList(t).then(t=>{(t.data.Status="Success")&&(""!=t.data&&null!=t.data&&t.data.Result.data.length>0?(e.ProficiencyHistoryList=t.data.Result.data,e.TotalRecords=t.data.Result.data[0].TOTAL_RECORDS,e.noRecord=!1,e.isLoading=!1):(e.noRecord=!0,e.TotalRecords=0,e.ProficiencyHistoryList=[],e.isLoading=!1))})},Cancel(){var e=this;e.$parent.isAddUserGoal=!1},onSlide(){var e=this;e.proficiencyManager=this.proficiencyManager},onProgressSlide(){var e=this;e.progress=this.progress}}},Y=G,V=(a("0fa6"),Object(u["a"])(Y,F,B,!1,null,null,null)),H=V.exports,j={components:{AddGoal:H},props:{UserId:{type:Number,required:!1}},data(){return{noRecords:!1,GoalId:0,GoalArray:[],isAddUserGoal:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,Headers:[{COLUMN_NAME:"TITLE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:1},{COLUMN_NAME:"STARTDATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Start Date",DISPLAY_ORDER:2},{COLUMN_NAME:"ENDDATE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"End Date",DISPLAY_ORDER:3},{COLUMN_NAME:"PROGRESS",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"PROGRESS",DISPLAY_ORDER:4},{COLUMN_NAME:"ASSIGNED_BY",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Created by",DISPLAY_ORDER:5},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:6}],HeaderButtons:[{title:"Add Goal",iconClass:"fa fa-plus",callbackfunction:"openAddGoal",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"AddGoal"},{title:"Remove Goal",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],SortBy:"",StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],SortExp:"",PageSize:"10",GoalType:"",listActions:[{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"DeleteGoal",additionalSpan:""}],PageNumber:"1",GroupStart:1,GroupEnd:3,UserGoalListing:[]}},updated(){const e=document.getElementsByClassName("theme-primary partition p-actions-expand");if(e[0]&&"p-name text-white"!=e[0].lastChild.className){const t=document.createElement("span");t.className="p-name text-white",t.textContent=this.$t("Goal"),e[0].appendChild(t)}},created:async function(){var e=this;await e.FetchRecords()},methods:{commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteUserGoal();break;case"openAddGoal":this.openAddGoal();break}},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Delete":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},actionButtonClick(e,t,a,s,i){switch(e){case"DeleteGoal":this.DeleteGoal(t.GOALID);break}},ManageGoal:function(e){var t=this;t.GoalId=e.row.GOALID,t.GoalType="Update",t.GoalArray=e,t.isAddUserGoal=!0},openAddGoal:function(){var e=this;e.GoalType="Insert",e.GoalId=0,e.isAddUserGoal=!0},DeleteUserGoal:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Goal"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_PR_goal"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.FetchRecords(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Goal")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Goal")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete",[t.$t("Goal")]),"failure",!0,t.$t("Alert"))},DeleteGoal:function(e){var t=this,a=e;a>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Goal"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_PR_goal"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.FetchRecords(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Goal")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Goal")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},getStatusClass:function(e){var t="";switch(e){case"Active":t="px-2 text-center bg-success text-white d-block";break;case"Inactive":t="px-2 text-center bg-danger text-white d-block";break;default:t=""}return t},FetchRecords:async function(){var e=this;e.UserGoalListing=[];var t=`id=${e.UserId}&source=USER_PROFILE&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&lang=EN`;await r["a"].GetUserGoalList(t).then((function(t){e.Headers.forEach(e=>{e.settings=null,"STATUS_ID"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"PROGRESS"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"STARTDATE"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"ENDDATE"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"TITLE"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),""!=t.data&&null!=t.data&&t.data.Result.data.length>0?(e.UserGoalListing=t.data.Result.data,e.TotalRecords=t.data.Result.data[0].TOTAL_RECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1):(e.noRecord=!0,e.TotalRecords=0,e.UserGoalListing=[]),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchRecords()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()}}},z=j,q=Object(u["a"])(z,M,P,!1,null,null,null),K=q.exports,J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e.Addfeedback?t("h4",{staticClass:"modal-title",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("AddFeedback"))+" ")]):e._e(),e.edtifeedback?t("h4",{staticClass:"modal-title",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("UpdateFeedback"))+" ")]):e._e(),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.closePopup()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{ref:"dynamicForm",staticClass:"daterangecontrolHS",attrs:{lang:"en",schema:e.FormSchema}})],1),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-2",attrs:{id:"divInviteMembers"}},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header float-left",staticStyle:{"max-height":"350px"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblMembers"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{staticClass:"search"},[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkItems custom-control-input",attrs:{id:"chkAllManage1",type:"checkbox"},domProps:{checked:e.selectedUserIds.length===e.ListFeedBackData.data.length},on:{change:function(t){return e.onChange("chkAllCheckbox")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkAllManage1"}})])])]),t("th",[e._v(" User Name "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhField",placeholder:"Search By User Name"},on:{keyup:e.ListFilteringusername}})]),t("th",{attrs:{id:"th-EMAIL"}},[e._v(" "+e._s(e.$t("Email"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldemail",placeholder:"Search By Email"},on:{keyup:e.ListFilteringEmail}})]),t("th",{attrs:{id:"th-DESIGNATION"}},[e._v(" "+e._s(e.$t("Designation"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldDesignation",placeholder:"Search By Designation"},on:{keyup:e.ListFilteringDesignation}})]),t("th",{attrs:{id:"th-DEPARTMENT"}},[e._v(" "+e._s(e.$t("Department"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFielddepartment",placeholder:"Search By Department"},on:{keyup:e.ListFilteringDepartment}})])])]),1==e.searchfound?t("tbody",[e._m(0)]):t("tbody",{attrs:{id:"tblUserList"}},e._l(0!=e.searchColumnfilter.length?e.searchColumnfilter:e.ListFeedBackData.data,(function(a,s){return t("tr",{key:a.user_id},[t("td",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkinneritem custom-control-input",attrs:{id:"chkAll"+s,type:"checkbox"},domProps:{checked:e.selectedUserIds.find(e=>e==a.user_id),value:a.user_id},on:{change:function(t){return e.onChange("innerChkBoxes")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkAll"+s}})])])]),t("td",[t("span",{attrs:{searchtext:"provider contact lasy"}},[e._v(e._s(a.username))])]),t("td",[t("span",{attrs:{searchtext:"lasy@email.com"}},[e._v(e._s(a.email_id))])]),t("td",[t("span",{attrs:{searchtext:"--"}},[e._v(e._s(a.designation_name))])]),t("td",[t("span",{attrs:{searchtext:"--"}},[e._v(e._s(a.department_name))])])])})),0)])])])]),t("div",{staticClass:"col-lg-12 my-3"},[t("dynamic-form",{ref:"dynamicForm",staticClass:"daterangecontrolHS",attrs:{lang:"en",mandatorytext:e.$t("MandatoryString"),buttons:e.buttons},on:{OnSubmit:e.onSubmit}})],1)])])])],1)},X=[function(){var e=this,t=e._self._c;return t("tr",[t("td",{staticClass:"text-center text-danger no_records no-record",attrs:{colspan:"5"}},[e._v(" No record(s) found ")])])}],W=(a("88e6"),a("70cc"),a("eb03"),a("22e5"),a("c01e"),a("fa76"),a("8306"),{props:{userId:{type:Number,require:!0},oldFeedbackData:{type:Object,require:!0},edtifeedback:{type:Boolean,require:!0},Addfeedback:{type:Boolean,require:!0}},data(){return{fileData:[],editor:this.CLASSIC_EDITOR,department:{name:"",status:{name:"active",id:1},visibaleToclients:!1,visibaleToTicting:!1,description:""},buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],FormSchema:[{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Feedback Question"),name:"FeedbackQuestion",value:"",visibility:!0,validationRules:{required:!0,max:1e3},config:{options:[],showAddIcon:!1}}]},{layoutType:"triple",Data:[{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,visibility:!0,validationRules:{required:!0},config:{options:[{name:"Active",value:1001},{name:"InActive",value:1002}],showAddIcon:!1}},{astype:"ToggleField",label:this.$t("Is Anonymous"),name:"IsAnonymous",value:"",visibility:!0,config:{options:[{name:"Yes",value:1},{name:"No",value:2}],showAddIcon:!1}},{astype:"RadioField",label:"",name:"Type",value:1,placeholder:"",config:{options:[{name:"Private",value:0},{name:"Public",value:1}],showAddIcon:!1}}]}],OtherSchema:[],isLoading:!1,showContractDiv:!1,ManageQuestionaire:!1,modelStars:[],GetCheckedValue:null,modelQuestionVisibility:[],GetReviewQuestionList:[],RadioOptions:[{label:"Enable",value:0},{label:"Disable",value:1}],RadioVisibilityOtions:[{label:"Both",value:2},{label:"Candidate",value:3},{label:"Reviewer",value:4}],FeedbackColumnArray:[{FeedbackQuestion:"",FeedbackAnswerType:"",FeedbackIndex:0,FeedbackAnsweringType:"",FeedbackAnsweringValue:""}],count:0,skill:"",notes:"",feedback:"",goal:"",training:"",male:"",female:"",FeedbackAnsweringValue:"",ListFeedBackData:[],selectedUserIds:this.oldFeedbackData&&this.oldFeedbackData.FeedbackUserIDs?this.oldFeedbackData.FeedbackUserIDs.split(",").map(e=>e.trim()):[],searchusername:"",searchemail:"",searchDesignation:"",searchDepartment:"",searchfound:!1,searchColumnfilter:[],SelectedFeedBackIds:[]}},created:function(){var e=this;null==e.oldFeedbackData&&void 0==e.oldFeedbackData||e.updatefeedbackvalue(e.oldFeedbackData),e.getuserlist()},methods:{ListFilteringusername:function(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhField"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.username;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},ListFilteringEmail(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhFieldemail"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.email_id;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},ListFilteringDesignation(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhFieldDesignation"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.designation_name;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},ListFilteringDepartment(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhFielddepartment"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.department_name;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},updatefeedbackvalue(e){var t=this;t.getuserlist(),t.FormSchema[0].Data[0].value=e.feedback_question,t.FormSchema[1].Data[0].value=e.status_id,t.FormSchema[1].Data[1].value=e.is_anonymous,t.FormSchema[1].Data[2].value=e.is_shared,"string"===typeof e.FeedbackUserIDs?t.selectedUserIds=e.FeedbackUserIDs.split(",").map(e=>e.trim()):t.selectedUserIds=e.FeedbackUserIDs},closePopup(){this.$parent.closaddfeedbackpopup()},getuserlist(){var e=this,t="FeedBackUserid="+e.userId;r["a"].GetUserfeedback(t).then((function(t){var a=JSON.parse(t.data[0]);null==a&&void 0==a||(e.ListFeedBackData=a)}))},onChange(e){if("chkAllCheckbox"===e){const e=document.querySelector("#chkAllManage1").checked;this.selectedUserIds=e?this.ListFeedBackData.data.map(e=>e.user_id):[],this.SelectedFeedBackIds=[]}else if("innerChkBoxes"===e){this.selectedUserIds=Array.from(document.querySelectorAll(".chkinneritem.custom-control-input:checked")).map(e=>e.value);const e=[...this.SelectedFeedBackIds||[],...this.selectedUserIds];this.SelectedFeedBackIds=[...new Set(e)]}if(this.SelectedFeedBackIds.length>0)setTimeout(()=>{this.SelectedFeedBackIds.forEach(e=>{const t=document.querySelector(`.chkinneritem.custom-control-input[value="${e}"]`);t&&(t.checked=!0)})},300);else{this.SelectedFeedBackIds=[],console.log("Selected User IDs:",this.selectedUserIds);const e=this.ListFeedBackData.data.every(e=>this.selectedUserIds.includes(e.user_id));document.querySelector("#chkAllManage1").checked=e,console.log("All Checked:",e)}},async onSubmit(){var e=this;""==e.selectedUserIds?e.ShowAlert("Please select at least one user from user list.","warning",!0,e.$t("Alert")):e.selectedUserIds=e.selectedUserIds.join(","),""==e.FormSchema[0].Data[0].value&&""!=e.selectedUserIds&&e.ShowAlert("Please Enter Feedback Question","warning",!0,e.$t("Alert"));var t=null,a=null;t=void 0===e.oldFeedbackData?0:e.oldFeedbackData.feedback_id,a=1==e.FormSchema[1].Data[1].value?1:0;var s={feedbackquestion:e.FormSchema[0].Data[0].value,isanonymous:a,statusid:e.FormSchema[1].Data[0].value,Accessibility:e.FormSchema[1].Data[2].value,feedback_for:e.userId,feedback_id:t,is_shared:e.FormSchema[1].Data[2].value,user_ids:void 0===e.oldFeedbackData?JSON.stringify(e.selectedUserIds).replace("[","").replace("]",""):e.selectedUserIds},i=JSON.stringify(s),o={objData:i};""!=e.FormSchema[0].Data[0].value&&""!=e.selectedUserIds&&r["a"].Addeditfeedbackdata(o).then(t=>{1==t.data?(e.closePopup(),this.$emit("refreshfeedbacklist"),e.ShowAlert("Feedback has been Added Successfully","Success",!0,e.$t("Alert"))):(e.closePopup(),this.$emit("refreshfeedbacklist"),e.ShowAlert(e.$t("UpdatedSuccessfully"),"Success",!0,e.$t("Alert")))})}}}),Q=W,Z=Object(u["a"])(Q,J,X,!1,null,null,null),ee=Z.exports,te=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"listing"},[e._m(0),t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListViews"}},[t("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblFileList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center",staticStyle:{"min-width":"5%"}},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchcheck_all,expression:"searchcheck_all"}],staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",id:"chkedAll_0",name:"checkbox"},domProps:{checked:Array.isArray(e.searchcheck_all)?e._i(e.searchcheck_all,null)>-1:e.searchcheck_all},on:{click:function(t){return e.checkboxChecked(null,"all")},change:function(t){var a=e.searchcheck_all,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);s.checked?o<0&&(e.searchcheck_all=a.concat([r])):o>-1&&(e.searchcheck_all=a.slice(0,o).concat(a.slice(o+1)))}else e.searchcheck_all=i}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkedAll_0"}})])]),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6),e._m(7)])]),t("tbody",e._l(e.feedbacklistingdata,(function(a,s){return t("tr",{key:s},[t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.ischecked,expression:"item.ischecked"}],staticClass:"chkiteminner custom-control-input",attrs:{id:"chkAll_"+s,type:"checkbox"},domProps:{value:a.feedback_id,checked:Array.isArray(a.ischecked)?e._i(a.ischecked,a.feedback_id)>-1:a.ischecked},on:{click:function(t){return e.checkboxChecked(a,"single")},change:function(t){var s=a.ischecked,i=t.target,r=!!i.checked;if(Array.isArray(s)){var o=a.feedback_id,l=e._i(s,o);i.checked?l<0&&e.$set(a,"ischecked",s.concat([o])):l>-1&&e.$set(a,"ischecked",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(a,"ischecked",r)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label",attrs:{for:"chkAll_"+s}})])]),t("td",{staticClass:"text-left",staticStyle:{width:"60px"}},[t("span",{staticClass:"text-center",attrs:{title:a.feedback_question}},[e._v(" "+e._s(e.TruncateStr(a.feedback_question,100))+" ")])]),t("td",{staticClass:"text-left"},[t("span",{staticClass:"text-left"},[e._v(" "+e._s(e.$options.filters.formatDate(a.created_at))+" ")])]),t("td",{staticClass:"text-left"},[t("span",{staticClass:"text-center"},[e._v(" "+e._s(a.created_by)+" ")])]),t("td",{staticClass:"text-center"},[t("span",{staticClass:"text-center"},[e._v(" "+e._s(1==a.is_anonymous?"Yes":"No")+" ")])]),t("td",{staticClass:"text-center"},[t("span",{staticClass:"text-center text-overflow-dynamic-container"},[t("div",{staticClass:"cstm-drop-btn",attrs:{item:a.feedback_id}},[t("select",{staticClass:"w-100",style:{"background-color":"1001"==a.status_id?"rgb(40, 167, 69)":"rgb(215, 36, 53)",color:"rgb(255, 255, 255)"},attrs:{id:"crmlistingStatus_span"},domProps:{value:a.status_id},on:{change:function(t){return e.changestatus(a)}}},[t("option",{attrs:{value:"1001"}},[e._v(" Active ")]),t("option",{attrs:{value:"1002"}},[e._v(" Inactive ")])])])])]),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.editFeedback(a,"editfeedback")}}},[t("em",{staticClass:"fa fa-pencil text-success"})])]),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"#"},on:{click:function(t){return e.editFeedback(a,"viewdetailfeedback")}}},[t("em",{staticClass:"fa fa-eye text-info"})])])])})),0)])]),t("Pager",{attrs:{numberofrecords:e.TotalRecords,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{change:e.pageSizecommon,SetCurrentPage:e.pagerMethod}})],1),e.edtifeedback?t("AddfeedbackforUser",{attrs:{userId:e.feedbackfor,oldFeedbackData:e.oldFeedbackData,edtifeedback:e.edtifeedback},on:{refreshfeedbacklist:e.getfedbacklisting}}):e._e(),e.viewDetailfeedback?t("viewDetailfeedback",{attrs:{oldFeedbackData:e.oldFeedbackData}}):e._e()],1)},ae=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("em",{staticClass:"icon-solid arrow-solid-left text-white"})])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left",staticStyle:{"min-width":"300px"}},[t("span",[e._v("Feedback Question")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left"},[t("span",[e._v("Date")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left"},[t("span",[e._v("Created by")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center"},[t("span",[e._v("Is Anonymous")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center"},[t("span",[e._v("Status")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center"},[t("span",[e._v("Edit")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center"},[t("span",[e._v("View")])])}],se=a("4555"),ie=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header"},[t("h5",{staticClass:"modal-title"},[e._v(" Feedback Details ")]),t("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(t){return e.ClosePopup()}}},[t("em",{staticClass:"fa fa-times"})])]),t("div",{staticClass:"row p-2"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.resources.title)+":")]),t("div",{staticClass:"form-control bg-light"},[e._v(e._s(e.oldFeedbackData.feedback_question))])])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.resources.createdBy)+":")]),t("div",{staticClass:"form-control bg-light"},[e._v(e._s(e.oldFeedbackData.created_by))])])]),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.resources.date)+":")]),t("div",{staticClass:"form-control bg-light"},[e._v(" "+e._s(e.$options.filters.formatDate(e.oldFeedbackData.created_at)))])])]),e._l(e.oldFeedbackData.Feedbackdetails,(function(a,s){return t("div",{key:s,staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12"},[t("div",{staticClass:"form-group"},[a.isShowName?t("label",[e._v(e._s(e.resources.anonymousUser)+":")]):t("label",[e._v(e._s(a.FEEDBACKFROMNAME)+":")]),t("div",{staticClass:"form-control bg-light"},[e._v(e._s(a.FEEDBACK_ANSWER))])])])}))],2),t("div",{staticClass:"row p-4"},[t("div",{staticClass:"col-md-12 d-flex justify-content-end"},[t("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(t){return e.ClosePopup()}}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v(" "+e._s(e.$t("Close")))])])])])])])])},re=[],oe={props:{oldFeedbackData:{type:Object,required:!0}},data(){return{resources:{title:"Title",createdBy:"Created By",date:"Date",anonymousUser:"Anonymous User"}}},created(){null!=this.oldFeedbackData&&(0==this.oldFeedbackData.is_anonymous&&(this.oldFeedbackData.is_anonymous=!1),1==this.oldFeedbackData.is_anonymous&&(this.oldFeedbackData.is_anonymous=!0),1001==this.oldFeedbackData.status_id&&(this.oldFeedbackData.status_id="Active"),1003==this.oldFeedbackData.status_id&&(this.oldFeedbackData.status_id="InActive"))},methods:{ClosePopup(){var e=this;e.$parent.viewDetailfeedback=!1}}},le=oe,ne=Object(u["a"])(le,ie,re,!1,null,null,null),ce=ne.exports,de={components:{Pager:se["a"],AddfeedbackforUser:ee,viewDetailfeedback:ce},props:{userId:{type:Number,require:!0}},data(){return{feedbacklistingdata:[],oldFeedbackData:[],Addfeedback:!1,feedbackfor:null,totalRecords:null,is_paged:1,sortBy:null,sortExp:null,PageSize:10,PageNumber:1,TotalPages:0,TotalRecords:0,viewDetailfeedback:!1,selectedchekboxid:[],editdatavalue:!1,selectedchekid:[],edtifeedback:!1,searchcheck_all:!1}},created:function(){var e=this;e.getfedbacklisting()},methods:{RemovecselectedRecord:function(){try{var e=this,t="";$(".chkiteminner.custom-control-input:checked:checked").not("[id^='chkAllManage']").each((function(){t.length>0&&(t+=","),t+=$(this).val()})),t.length>0&&(this.selectedchekboxid=t),""!=e.selectedchekboxid?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Records"),(function(){var t={ids:e.selectedchekboxid,moduleName:"",subModuleCode:"",refCode:"DELETE_FEEDBACK"},a=JSON.stringify(t);r["a"].CommonCommonDelete(a).then((function(t){200==t.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple").addClass("disabled"),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Record")]),"success",!0,e.$t("Alert")),e.getfedbacklisting()):e.ShowAlert(e.$t("DeletedError",[e.$t("Record")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete"))}catch(a){e.ShowAlert(e.$t("Selectanyrecordtodelete"))}},refreshfeedbacklist(){this.getfedbacklisting()},changestatus(e){var t=this,a=null;a=1001==e.status_id?1002:1001;var s="TALYGEN_PR_feedback",i="feedback_id",o=`id=${e.feedback_id}&statusId=${a}&tableName=${s}&primaryKeyColumn=${i}`;r["a"].UpdateStatus(o).then((function(e){"True"==e.data&&(t.getfedbacklisting(),t.ShowAlert(t.$t("StatusUpdate"),"success",!0,t.$t("Alert")))}))},pagerMethod:function(e){var t=this;t.PageSize=e.PageSize,t.PageNumber=e.PageNumber,t.getfedbacklisting()},pageSizecommon(){},closaddfeedbackpopup(){this.Addfeedback=!1,this.edtifeedback=!1},getfedbacklisting(){var e=this,t=`userId=${e.userId}&sortBy=${e.sortBy}&sortExp=${e.sortExp}&is_page=${e.is_paged}&pageSize=${e.PageSize}&pageNum=${e.PageNumber}`;r["a"].Getfeedbackuserlisting(t).then((function(t){e.feedbacklistingdata=JSON.parse(t.data[0]).data,e.feedbacklistingdata.length>0&&(e.TotalRecords=e.feedbacklistingdata[0].TOTAL_RECORDS),setTimeout((function(){e.ResponsiveDataTable("tblFileList")}),1e3)}))},editFeedback(e,t){var a=this,s="feedback_id="+e.feedback_id;r["a"].getfedbackdata(s).then((function(e){e.data&&(a.oldFeedbackData=e.data,a.feedbackfor=a.oldFeedbackData.feedback_for,"viewdetailfeedback"!=t?a.edtifeedback=!0:a.viewDetailfeedback=!0)}))},checkboxChecked(e,t){"all"===t?$("#chkedAll_0").prop("checked")?this.feedbacklistingdata.forEach(e=>{e.ischecked=!0,this.searchcheck_all=!0}):this.feedbacklistingdata.forEach(e=>{e.ischecked=!1,this.searchcheck_all=!1}):"single"===t&&(e.ischecked=!e.ischecked),this.updateSelectAllState(t)},updateSelectAllState(e){if("single"===e){const e=this.feedbacklistingdata.every(e=>e.ischecked);this.searchcheck_all=e}else if(this.searchcheck_all)for(var t=document.getElementsByClassName("chkiteminner custom-control-input"),a=0;a<t.length;a++)"checkbox"==t[a].type&&(t[a].checked=!0)}}},ue=de,he=Object(u["a"])(ue,te,ae,!1,null,null,null),me=he.exports,pe=a("fae7"),fe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("section",{staticClass:"main-content",attrs:{id:"main-content"}},[t("section",{staticClass:"main-content"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{staticClass:"border col-lg-12 mb-3"},[t("div",{staticClass:"col-lg-12 p-0 mt-3"},[t("dynamic-form",{ref:"validateUserBreak",attrs:{lang:"en",buttons:!1,schema:e.FormSchema}})],1),t("div",{staticClass:"row flex-row-reverse my-3"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success save-btn mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveData()}}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v("Save")]),t("a",{staticClass:"btn btn-danger mr-2",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(t){return e.cancel()}}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v("Cancel")])]),t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("span",{staticClass:"mandatory"},[e._v(e._s(e.$t("Mandatory")))])])])])]),t("div",{staticClass:"conversation-date heading-border"},[t("span",[e._v(e._s(e.$t("UserBreaks")))])]),t("tg-list",{attrs:{ModuleName:"User",SubModuleCode:"Break",IdentityColumn:"USERBREAKID",listType:["List"],ListData:e.UserBreakListing,HeaderData:e.Headers,showCheckBox:!0,TotalRecords:e.TotalRecords,IsShowAction:!1,RenderRowActionMethod:()=>{},ListDataCallBackFunction:e.GetUserBreakList,NorecordfoundText:e.$t("NoRecordfound"),HeaderButtons:e.HeaderButtons},on:{HeaderButtonClick:e.commonHeaderButtonClick,PagerButtonClick:e.pagerMethod,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["STARTTIME"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatTimeFunc(a.row.STARTTIME))+" ")])]:e._e(),"ENDTIME"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(e.$options.filters.formatTimeFunc(a.row.ENDTIME))+" ")])]:e._e(),"BREAKNAME"==a.column.COLUMN_NAME?[t("span",[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.EditUserBreakById(a)}}},[e._v(" "+e._s(a.row.BREAKNAME))])])]:e._e(),"ISBILLABLE"==a.column.COLUMN_NAME?[t("span",[0==a.row.ISBILLABLE?t("a",{staticClass:"Bllable single-action",attrs:{href:"javascript:;",title:"Non-Billable",IsBillable:"true"},on:{click:function(t){return e.UpdateBillable(a)}}},[t("em",{staticClass:"fa fa-close text-danger action-icon"})]):e._e(),1==a.row.ISBILLABLE?t("a",{staticClass:"Bllable single-action",attrs:{href:"javascript:;",title:"Billable",IsBillable:"false"},on:{click:function(t){return e.UpdateBillable(a)}}},[t("em",{staticClass:"fa fa-check text-success action-icon"})]):e._e()])]:e._e()]}}])})],1)])])])},ve=[],ge=a("ed09"),Se=Object(ge["b"])({props:{UserId:{type:Number},Items:{type:Array},emitName:{type:String},ModuleName:{type:String},SubModule:{type:String},title:{type:String},recordId:{type:Number}},data(){return{editor:this.CLASSIC_EDITOR,UserBreakListing:[],noRecords:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,UBid:0,SortBy:"",SortExp:"",PageSize:"10",PageNumber:"1",FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:this.$t("BreakName"),name:"BreakName",value:"",placeholder:"Break Name",validationRules:{required:!0,regex:/^[a-zA-Z0-9\s]*$/},disabled:!1},{astype:"DateField",label:this.$t("EventStartTime"),name:"StartTime",value:"",placeholder:this.$t("EventStartTime"),validationRules:{required:!0,max:100},config:{mode:"time",format:"hh:mm A",minDate:new Date}},{astype:"DateField",label:this.$t("EndTime"),name:"EndTime",value:"",placeholder:this.$t("EndTime"),validationRules:{required:!0,max:100},config:{mode:"time",format:"hh:mm A",minDate:new Date}},{astype:"toggleField",label:this.$t("Isbillable"),name:"IsBillable",value:"",placeholder:this.$t("Isbillable"),validationRules:{required:!1}}]}],Headers:[{COLUMN_NAME:"ROWNUMBER",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"#",DISPLAY_ORDER:1},{COLUMN_NAME:"BREAKNAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Break Name",DISPLAY_ORDER:2},{COLUMN_NAME:"SHIFTNAME",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"SHIFT NAME",DISPLAY_ORDER:3},{COLUMN_NAME:"STARTTIME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"START TIME",DISPLAY_ORDER:4},{COLUMN_NAME:"ENDTIME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"END TIME",DISPLAY_ORDER:5},{COLUMN_NAME:"ISBILLABLE",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"IS BILLABLE",DISPLAY_ORDER:6}],HeaderButtons:[{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],isLoading:!1,shiftStartTime:"",shiftEndTime:"",shiftId:0,startTime:"",endTime:""}},async created(){var e=this;await e.GetUserBreakList()},methods:{commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteUserBreak();break}},DeleteUserBreak:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Break"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_user_break"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.GetUserBreakList(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Break")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Break")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete",[t.$t("Break")]),"failure",!0,t.$t("Alert"))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.GetUserBreakList()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.GetUserBreakList()},async SaveData(){var e=this;const t=await e.$refs.validateUserBreak.validateForm.validate();if(t){e.startTime=e.$refs.validateUserBreak.getPropertyValue("StartTime","value"),e.endTime=e.$refs.validateUserBreak.getPropertyValue("EndTime","value");var a=e.$options.filters.formatDateTime(e.startTime),s=e.$options.filters.formatDateTime(e.endTime),i=await e.checkShiftTiming();if(i){var o={UBid:e.UBid,Uid:e.UserId,breakName:e.$refs.validateUserBreak.getPropertyValue("BreakName","value"),shiftId:e.shiftId,startTime:a,endTime:s,isBillable:e.$refs.validateUserBreak.getPropertyValue("IsBillable","value"),companybreakId:0},l=JSON.stringify(o),n="objData="+l;await r["a"].AddUpdateUserBreak(n).then(t=>{null!=t.data&&("Success"==t.data.Status&&"1"==t.data.Code?(e.ShowAlert(e.$t("AddedUserBreak"),"success"),e.clearFields(),e.GetUserBreakList(),e.isLoading=!1):"Success"==t.data.Status&&"2"==t.data.Code?(e.ShowAlert(e.$t("UpdatedUserBreak"),"success"),e.clearFields(),e.GetUserBreakList(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.isLoading=!1))})}}},UpdateBillable(e){var t=this;t.confirmR(t.$t("ConfirmUpdateStatusRecord"),!0,t.$t("ConfirmUpdateStatusRecord"),(function(){let a=e.row.USERBREAKID,s=e.row.ISBILLABLE;t.isLoading=!0;var i=`userBreakId=${a}&isBillable=${s}`;r["a"].UpdateBillableStatus(i).then((function(e){"Success"==e.data.Status&&(t.ShowAlert(t.$t("UpdatedUserBreak"),"success"),t.GetUserBreakList(),t.isLoading=!1)}))}))},clearFields:function(){var e=this;e.FormSchema[0].Data[0].value="",e.FormSchema[0].Data[1].value="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].value="",e.$refs.validateUserBreak.validateForm.reset()},EditUserBreakById(e){var t=this;function a(e){var t=e.split("T");if(2!==t.length)return null;var a=t[1],s=a.match(/(\d+):(\d+):(\d+)/);if(!s)return null;var i=parseInt(s[1],10),r=parseInt(s[2],10),o=(parseInt(s[3],10),i>=12?"PM":"AM");return i%=12,i=i||12,{hours:i,minutes:r,ampm:o}}t.UserId=e.row.USERID,t.shiftId=e.row.SHIFTID,t.UBid=e.row.USERBREAKID;let s=a(e.row.STARTTIME),i=a(e.row.ENDTIME);t.FormSchema[0].Data[0].value=e.row.BREAKNAME,t.FormSchema[0].Data[1].value=s,t.FormSchema[0].Data[2].value=i,t.FormSchema[0].Data[3].value=e.row.ISBILLABLE},async getShiftTiming(){var e=this;if(e.UserId)try{var t="id="+e.UserId;await r["a"].GetShiftTiming(t).then((function(t){"Success"==t.data.Status&&0!=t.data.Result.DATA&&(e.shiftStartTime=t.data.Result.DATA[0].shiftStartTime,e.shiftEndTime=t.data.Result.DATA[0].shiftEndTime,e.shiftId=t.data.Result.DATA[0].SHIFT_ID)}))}catch(a){console.error("Error fetching shift timing:",a)}},async checkShiftTiming(){var e=this;if(await this.getShiftTiming(),!(this.shiftId>0))return e.ShowAlert(e.$t("AssignShiftUser"),"warning",e.$t("Alert")),e.clearFields(),!1;{new Date;let t=new Date(e.startTime),a=new Date(e.endTime);t>a&&a.setDate(a.getDate()+1);let s=new Date(e.shiftStartTime),i=new Date(e.shiftEndTime),r=e.formatTime(s),o=e.formatTime(i);if(s>i&&i.setDate(i.getDate()+1),a.getHours()>i.getHours()&&a.setDate(i.getDate()-1),a<t)return e.ShowAlert("Break start time should be less than break end time.","warning",e.$t("Alert")),!1;if(s.getHours()>12)if(t.getHours()<12){if(t>s||a>i||t>chkEndDateTime)return e.ShowAlert(`Break start time and break end time should be between shift start time ${r} and shift end time ${o}`,"warning",e.$t("Alert")),!1}else{if(t<s||a>i)return e.ShowAlert(`Break start time and break end time should be between shift start time ${r} and shift end time ${o}`,"warning",e.$t("Alert")),!1;if(a<s||a>i)return e.ShowAlert(`Break start time and break end time should be between shift start time ${r} and shift end time ${o}`,"warning",e.$t("Alert")),!1}else{if(t<s||t>i)return e.ShowAlert(`Break start time and break end time should be between shift start time ${r} and shift end time ${o}`,"warning",e.$t("Alert")),!1;if(a<s||a>i)return e.ShowAlert(`Break start time and break end time should be between shift start time ${r} and shift end time ${o}`,"warning",e.$t("Alert")),!1}}return!0},formatTime(e){let t=e.getHours();const a=e.getMinutes(),s=t>=12?"PM":"AM";t%=12,t=t||12;const i=a<10?"0"+a:a;return`${t}:${i} ${s}`},async GetUserBreakList(){var e=this;e.isLoading=!0,e.UserBreakListing=[];var t=`id=${e.UserId}&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&lang=EN`;await r["a"].GetUserBreakListing(t).then((function(t){"Success"==t.data.Status?(e.Headers.forEach(e=>{e.settings=null,"STARTTIME"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"ENDTIME"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"BREAKNAME"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"ISBILLABLE"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),t.data.Result.DATA.length>0?(e.UserBreakListing=t.data.Result.DATA,e.TotalRecords=t.data.Result.DATA[0].TOTALRECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1,e.IsLoad=!0):(e.noRecord=!0,e.TotalRecords=0,e.UserBreakListing=[])):(e.noRecord=!0,e.TotalRecords=0,e.UserBreakListing=[]),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},cancel(){var e=this;e.clearFields()}}}),Ce=Se,_e=(a("3f34"),a("2684"),Object(u["a"])(Ce,fe,ve,!1,null,null,null)),be=_e.exports,Ie=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("tg-list",{attrs:{ModuleName:"User",SubModuleCode:"Skill",IdentityColumn:"USER_SKILL_ID",listType:["List"],ListData:e.UserSkillListing,HeaderData:e.Headers,TotalRecords:e.TotalRecords,IsShowAction:!0,RenderRowActionMethod:e.renderActions,showCheckBox:!0,ListDataCallBackFunction:e.FetchRecords,NorecordfoundText:e.$t("NoRecordfound"),HeaderButtons:e.HeaderButtons},on:{ActionButtonClick:e.actionButtonClick,PagerButtonClick:e.pagerMethod,SortdataButtonClick:e.sortdata,HeaderButtonClick:e.commonHeaderButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?t("listing-status",{ref:"updatestatus",attrs:{isfor:"SKILL",dataid:a.row.USER_SKILL_ID,"data-controller":"Crm",statuslist:e.StatusListForListing,item:a.STATUS_ID,"data-action":"index",dataselected:1001==a.row.STATUS_ID?"Active":"Inactive",callbackfunction:e.FetchRecords,isselectedvaluestring:!0}}):e._e(),e.isCRMShowStausDrop(a.row.STATUS_ID,"Ticketing")?e._e():t("a",{staticClass:"inactive-disabled"},[t("span",{class:e.getStatusClass(a.row.STATUS_ID,"STATUS_ID")},[e._v(" "+e._s(a.row[a.column.COLUMN_NAME])+" ")])])]:e._e(),"SKILL_PROGRESS"==a.column.COLUMN_NAME?[t("span",[e._v(" "+e._s(a.row.SKILL_PROGRESS)),t("span",[e._v("%")])])]:e._e(),"TITLE"==a.column.COLUMN_NAME?[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.ManageSkill(a)}}},[t("i",{attrs:{"aria-hidden":"true"}}),e._v(e._s(a.row.TITLE)+" ")])]:e._e()]}}])}),e.isAddUserSkill?t("AddUserSkill",{attrs:{UserId:e.UserId,callbackfunction:e.FetchRecords}}):e._e(),e.isManageUserSkill?t("ManageUserSkill",{attrs:{UserId:e.UserId,UserSkillArray:e.UserSkillArray,callbackfunction:e.FetchRecords}}):e._e()],1)},Ae=[],ke=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-1"},[t("h5",{staticClass:"pt-2",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("Manage_User_Skill"))+" ")]),t("button",{staticClass:"close",on:{click:e.ClosePopUp}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header",staticStyle:{"max-height":"500px"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[t("thead",{staticClass:"thead-bg"},[t("tr",{staticClass:"text-capitalize"},[t("th",{staticClass:"text-center",staticStyle:{width:"5%"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkitems custom-control-input",staticStyle:{"z-index":"1",width:"19px","margin-top":"6px"},attrs:{type:"checkbox",name:"selectedItems",value:"asd"},domProps:{checked:e.selectAll},on:{change:e.selectAllItems}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1"})])])]),t("th",{attrs:{scope:"col"}},[e._v("Title")]),t("th",{staticClass:"text-center",attrs:{scope:"col"}},[e._v("Employee Proficiency")])])]),t("tbody",[0===e.SkillList.length?t("tr",[t("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"8"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._l(e.SkillList,(function(a,s){return t("tr",{key:s},[t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedItems,expression:"selectedItems"}],staticClass:"chkitems custom-control-input",attrs:{type:"checkbox",id:"tabletablebordered"+s,name:"selectedItems"},domProps:{value:a.SKILL_ID,checked:Array.isArray(e.selectedItems)?e._i(e.selectedItems,a.SKILL_ID)>-1:e.selectedItems},on:{change:[function(t){var s=e.selectedItems,i=t.target,r=!!i.checked;if(Array.isArray(s)){var o=a.SKILL_ID,l=e._i(s,o);i.checked?l<0&&(e.selectedItems=s.concat([o])):l>-1&&(e.selectedItems=s.slice(0,l).concat(s.slice(l+1)))}else e.selectedItems=r},e.updateSelectAll],click:function(t){return e.NewSeletedIds(a.SKILL_ID)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"tabletablebordered"+s}})])]),t("td",[e._v(e._s(a.TITLE))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(a.SKILL_PROGRESS)),t("span",[e._v("%")])])])}))],2)])])])]),t("div",{staticClass:"modal-footer"},[t("a",{staticClass:"btn btn-success save-btn mr-2",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveData()}}},[t("i",{staticClass:"fa fa-floppy-o pr-2"}),e._v("Save")]),t("a",{staticClass:"btn btn-danger delete-btn",attrs:{href:"javascript:;",title:"Cancel"},on:{click:function(t){return e.ClosePopUp()}}},[t("i",{staticClass:"fa fa-times pr-2"}),e._v("Cancel")])])])])])])])},Te=[],De={props:{UserId:{type:Number,required:!1},callbackfunction:{type:Function}},data(){return{isLoading:!1,SkillList:[],selectedItems:[],selectAll:!1,noRecord:!1,TotalRecords:0,Newids:[]}},async created(){var e=this;await e.GetSkillList()},methods:{selectAllItems(){var e=this;this.selectAll=!this.selectAll,this.selectAll?this.SkillList.forEach((function(t){e.selectedItems.push(t.SKILL_ID)})):this.selectedItems=[]},updateSelectAll(){var e=this;const t=this.SkillList.length,a=this.selectedItems.length;e.selectAll=t>0&&a===t},NewSeletedIds(e){const t=this;t.Newids.push(e),setTimeout(()=>{const a=t.selectedItems.includes(e);a||(t.Newids=t.Newids.filter(t=>t!==e))},400)},async GetSkillList(){var e=this;e.isLoading=!0;var t=`id=${e.UserId}&reqFrom=USER_PROFILE`;await r["a"].ListSkillForAssignment(t).then(t=>{if("Success"==t.data.Status)if(""!=t.data&&null!=t.data)if(t.data.Result.data.length>0){e.SkillList=t.data.Result.data,e.TotalRecords=t.data.Result.data[0].TOTALRECORDS,e.noRecord=!1,e.IsLoad=!0,t.data.Result.data.forEach((function(t){t.USER_SKILL_ID>0&&e.selectedItems.push(t.SKILL_ID)}));const a=this.SkillList.length,s=this.selectedItems.length;e.selectAll=a>0&&s===a}else e.noRecord=!0,e.TotalRecords=0,e.SkillList=[];else e.noRecord=!0,e.TotalRecords=0,e.SkillList=[]})},async SaveData(){var e=this;if(0===this.selectedItems.length)return void e.ShowAlert(e.$t("PleaseSelectOneSkill"),"warning",e.$t("Alert"));const t=e.SkillList.filter(e=>this.selectedItems.includes(e.SKILL_ID));t.forEach(t=>{e.Newids.includes(t.SKILL_ID)&&1002===t.STATUS_ID&&(t.STATUS_ID=1001)}),t.forEach(e=>{e.STATUS_ID=1001});var a=JSON.stringify(t),s={objData:a};await r["a"].AddUpdateUserSkillAssignment(s).then(t=>{null!=t.data&&("Success"==t.data.Status&&"1"==t.data.Code?(e.ShowAlert(e.$t("SkillSuccess"),"success"),e.ClosePopUp(),e.callbackfunction(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.isLoading=!1))})},ClosePopUp(){var e=this;e.$parent.isAddUserSkill=!1}}},Ee=De,ye=Object(u["a"])(Ee,ke,Te,!1,null,null,null),Ne=ye.exports,Le=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("section",[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-1"},[t("h5",{staticClass:"pt-2",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("Skill"))+" ")]),t("button",{staticClass:"close",on:{click:e.ClosePopUp}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{ref:"validateManageSkill",staticClass:"daterangecontrolHS",attrs:{lang:"en",buttons:!1,schema:e.FormSchema}}),t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"transactionSize"}},[e._v("Proficiency by Manager: "),t("span",{staticStyle:{border:"0",color:"#f6931f","font-weight":"bold"}},[e._v(e._s(e.proficiencyManager)+"%")])]),t("div",{staticClass:"slider-container pt-3 ml-2"},[t("VueSlider",{attrs:{min:"0",id:"proficiencyManager",max:"100"},on:{input:e.onSlide},model:{value:e.proficiencyManager,callback:function(t){e.proficiencyManager=t},expression:"proficiencyManager"}})],1)]),t("div",{staticClass:"col-lg-12 p-0"},[t("div",{staticClass:"w-100",attrs:{id:"accordion"}},e._l(e.groupByDate,(function(a,s,i){return t("div",{staticClass:"card mb-4"},[t("div",{staticClass:"card-header"},[t("a",{class:{"card-link collapsed":i>1,"card-link":i<=1},staticStyle:{color:"#000"},attrs:{"data-toggle":"collapse",href:"#collapseOneThread"+i}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[e._v(e._s(e.headerFormatTime(s)))])])])]),t("div",[t("div",{class:{collapse:i>1,"collapse show":i<=1},attrs:{id:"collapseOneThread"+i}},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"conversation-main"},[e._l(a,(function(a,s){return[t("div",{staticClass:"conversation-time"},[t("span",[e._v(e._s(e.formatTime(a.CREATED_AT)))])]),t("div",{staticClass:"conversation-box-con"},[t("div",{staticClass:"conversation-box"},[t("div",{staticClass:"name-circle light-yellow"},[t("img",{staticStyle:{"font-size":"12px"},attrs:{src:a.AVATAR?a.AVATAR:"/Content/images/DefaultImages/avatar-icon.jpg",alt:"Image",width:"51",height:"51",loading:"lazy"}})]),t("div",{staticClass:"conversation-header addednote-ticket"},[t("span",{staticClass:"sender-info"},[t("span",{staticClass:"sender-name mr-2"},[e._v(e._s(a.USER_NAME))]),t("span",{staticClass:"sender-department mr-2"},[e._v("( "+e._s(e.$t("PostedOn"))+" :")]),t("span",{staticClass:"sender-department",staticStyle:{color:"#dc3545!important"}},[e._v(" "+e._s(e.toPrettyString(a.CREATED_AT))+" ")]),e._v(" "),t("span",{staticClass:"sender-department"},[e._v(")")])])]),t("div",{staticClass:"conversation-content addednote-ticket"},[t("p",[e._v(e._s(a.DESCRIPTION))])])])])]}))],2)])])])])})),0),t("dynamic-form",{ref:"validateManageComment",attrs:{lang:"en",buttons:e.commentButtons,schema:e.CommentSchema}})],1),t("div",{staticClass:"modal-footer row",staticStyle:{"border-top":"none !important"}},[t("a",{staticClass:"btn btn-success save-btn",attrs:{href:"javascript:;",title:"Save"},on:{click:function(t){return e.SaveData()}}},[t("i",{staticClass:"fa fa-floppy-o pr-2"}),e._v("Save")])])],1)])])])])])},we=[],Re=Object(ge["b"])({props:{UserId:{type:Number,required:!1},callbackfunction:{type:Function},UserSkillArray:{type:Array,required:!1}},data(){return{EmployeeProfiency:0,editor:this.CLASSIC_EDITOR,proficiencyManager:0,CommentList:[],Avatar:null,FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Skill"),name:"Skill",value:"",placeholder:"Skill",validationRules:{required:!0},disabled:!0},{astype:"TextField",label:this.$t("EmployeeProfiency"),name:"EmployeeProfiency",value:"",placeholder:"Employee Profiency",validationRules:{required:!0},disabled:!0}]}],CommentSchema:[{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",config:{rows:3},placeholder:this.$t("Enter Comment"),validationRules:{required:!0}}]}],commentButtons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-paper-plane pr-2'></i>Post New Comment",isVisible:!0,onClick:this.SaveComment}],isLoading:!1}},computed:{groupByDate(){var e=this;let t={};return e.CommentList.forEach(e=>{let a=e.CREATED_AT.substring(0,10);t[a]?t[a].push(e):t[a]=[e]}),t}},async created(){var e=this;null!=e.UserSkillArray.row&&(e.FormSchema[0].Data[0].value=e.UserSkillArray.row.TITLE,e.FormSchema[0].Data[1].value=e.UserSkillArray.row.SKILL_PROGRESS,e.EmployeeProfiency=null==e.UserSkillArray.row.SKILL_PROGRESS?0:e.UserSkillArray.row.SKILL_PROGRESS,e.proficiencyManager=null==e.UserSkillArray.row.SKILL_PROGRESS_BY_MANAGER?0:e.UserSkillArray.row.SKILL_PROGRESS_BY_MANAGER),await e.GetCommentList()},methods:{headerFormatTime:function(e){let t=new Date(e),a={day:"2-digit",month:"short",year:"numeric"},s=t.toLocaleDateString("en-GB",a).split(" "),i=`${s[0]} ${s[1]}, ${s[2]}`;return i},toPrettyString(e){const t=new Date,a=new Date(e),s=Math.abs(t-a),i=s/1e3;if(i<60)return"few seconds ago";if(i<120)return"a minute ago";if(i<2700)return Math.floor(i/60)+" minutes ago";if(i<5400)return"an hour ago";if(i<86400)return Math.floor(i/3600)+" hours ago";if(i<172800)return"yesterday";if(i<2592e3)return Math.floor(i/86400)+" days ago";if(i<31104e3){const e=Math.floor(i/2592e3);return e<=1?"1 month ago":e+" months ago"}const r=Math.floor(i/31536e3);return r<=1?"1 year ago":r+" years ago"},formatTime(e){let t=new Date(e),a=t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return a},onSlide(){vm.proficiencyManager=this.proficiencyManager},ClosePopUp(){var e=this;e.$parent.isManageUserSkill=!1},SaveData(){var e=this,t=e.UserSkillArray.row.USER_SKILL_ID,a=`userSkillId=${t}&skillProgress=${e.EmployeeProfiency}&proficiencyByManager=${e.proficiencyManager}`;e.$refs.validateManageSkill.validateForm.validate().then(t=>{t&&r["a"].UpdateUserSkill(a).then(t=>{null!=t.data&&("UPDATE"==t.data.Msg&&"1"==t.data.Code?(e.ShowAlert(e.$t("UserProgress"),"success"),e.ClosePopUp(),e.callbackfunction(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.isLoading=!1))})})},SaveComment(){var e=this,t=e.UserSkillArray.row.USER_SKILL_ID,a=e.$refs.validateManageComment.getPropertyValue("Comment","value"),s=`userSkillId=${t}&sourceName=SKILL&comment=${a}`;e.$refs.validateManageComment.validateForm.validate().then(t=>{t&&r["a"].SaveComment(s).then(t=>{null!=t.data&&("INSERT"==t.data.Msg&&"1"==t.data.Code?(e.ShowAlert(e.$t("UserProgress"),"success"),e.GetCommentList(),e.CommentSchema[0].Data[0].value="",e.$refs.validateManageComment.validateForm.reset(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.isLoading=!1))})})},async GetCommentList(){var e=this;e.isLoading=!0;var t=e.UserSkillArray.row.USER_SKILL_ID,a=`userSkillId=${t}&sourceName=SKILL`;await r["a"].CommentList(a).then(t=>{"Success"==t.data.Status&&(""!=t.data&&null!=t.data&&t.data.Result.data.length>0?(e.CommentList=t.data.Result.data,e.TotalRecords=t.data.Result.data[0].TOTALRECORDS):(e.TotalRecords=0,e.CommentList=[]))})}}}),xe=Re,Oe=(a("fad4"),Object(u["a"])(xe,Le,we,!1,null,null,null)),Ue=Oe.exports,Me={components:{AddUserSkill:Ne,ManageUserSkill:Ue},props:{UserId:{type:Number,required:!1}},data(){return{noRecords:!1,isAddUserSkill:!1,UserSkillArray:[],isManageUserSkill:!1,isLoading:!1,TotalRecords:0,CurrentPage:1,TotalPages:0,Headers:[{COLUMN_NAME:"TITLE",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:1},{COLUMN_NAME:"CREATED_BY",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Created by",DISPLAY_ORDER:2},{COLUMN_NAME:"SKILL_PROGRESS",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Employee Proficiency",DISPLAY_ORDER:3},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:4}],HeaderButtons:[{title:"Add Skill",iconClass:"fa fa-plus",callbackfunction:"openAddSkill",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!0,id:"Addticketing"},{title:"Remove Skill",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],SortBy:"",StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],SortExp:"",PageSize:"10",listActions:[{title:"Delete",href:"javascript:void(0)",icon:"fa fa-trash",callbackfunction:"DeleteSkill",additionalSpan:""}],PageNumber:"1",GroupStart:1,GroupEnd:3,UserSkillListing:[]}},updated(){const e=document.getElementsByClassName("theme-primary partition p-actions-expand");if(e[0]&&"p-name text-white"!=e[0].lastChild.className){const t=document.createElement("span");t.className="p-name text-white",t.textContent=this.$t("Skill"),e[0].appendChild(t)}},created:async function(){var e=this;await e.FetchRecords()},methods:{commonHeaderButtonClick:function(e){switch(e.callbackfunction){case"commonDeleteData":this.DeleteUserSkill();break;case"openAddSkill":this.openAddSkill();break}},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Delete":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},actionButtonClick(e,t,a,s,i){switch(e){case"DeleteSkill":this.DeleteSkill(t.USER_SKILL_ID);break}},openAddSkill:function(){var e=this;e.isAddUserSkill=!0},ManageSkill:function(e){var t=this;t.isManageUserSkill=!0,t.UserSkillArray=e},DeleteUserSkill:function(e){var t=this,a="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),a.length>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Skill"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_PR_USER_SKILL"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.FetchRecords(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Skill")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Skill")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete",[t.$t("Skill")]),"failure",!0,t.$t("Alert"))},DeleteSkill:function(e){var t=this,a=e;a>0?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Skill"),(function(){var e={ids:a,moduleName:"USER",refCode:"TALYGEN_PR_USER_SKILL"},s=JSON.stringify(e);r["a"].CommonCommonDelete(s).then(e=>{200==e.status?(t.FetchRecords(),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Skill")]),"Success",!0,t.$t("Alert"))):t.ShowAlert(t.$t("DeletedError",[t.$t("Skill")]),"failure",!0,t.$t("Alert"))})})):t.ShowAlert(t.$t("Selectanyrecordtodelete"),"warning",!0,t.$t("Alert"))},getStatusClass:function(e){var t="";switch(e){case"Active":t="px-2 text-center bg-success text-white d-block";break;case"Inactive":t="px-2 text-center bg-danger text-white d-block";break;default:t=""}return t},FetchRecords:async function(){var e=this;e.isLoading=!0,e.UserSkillListing=[];var t=`id=${e.UserId}&reqFrom=USER_PROFILE&sortBy=${e.SortBy}&sortExp=${e.SortExp}&pageSize=${e.PageSize}&pageNumber=${e.PageNumber}&lang=EN`;await r["a"].GetUserSkillList(t).then((function(t){e.Headers.forEach(e=>{e.settings=null,"STATUS_ID"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"SKILL_PROGRESS"==e.COLUMN_NAME&&(e.settings={isInSlot:!0}),"TITLE"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})}),""!=t.data&&null!=t.data&&t.data.Result.data.length>0?(e.UserSkillListing=t.data.Result.data,e.TotalRecords=t.data.Result.data[0].TOTAL_RECORDS,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.noRecord=!1,e.isLoading=!1,e.IsLoad=!0):(e.noRecord=!0,e.TotalRecords=0,e.UserSkillListing=[],e.isLoading=!1),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)}))},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchRecords()},sortdata:function(e){this.SortBy=e;var t="ASC";"ASC"==this.SortExp&&(t="DESC"),this.SortExp=t,this.SortBy=e,this.SortExp=t,this.PageNumber=1,this.GroupStart=this.PageNumber,this.GroupEnd=this.PageNumber+2,this.FetchRecords()}}},Pe=Me,$e=Object(u["a"])(Pe,Ie,Ae,!1,null,null,null),Fe=$e.exports,Be=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"listing pt-2"},[e._m(0),t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"table-responsive table-fix-header",attrs:{id:"div_forListViews"}},[t("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblFileList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchcheck_all,expression:"searchcheck_all"}],staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",id:"chkedAll_0",name:"checkbox"},domProps:{checked:Array.isArray(e.searchcheck_all)?e._i(e.searchcheck_all,null)>-1:e.searchcheck_all},on:{click:function(t){return e.checkboxChecked(null,"all")},change:function(t){var a=e.searchcheck_all,s=t.target,i=!!s.checked;if(Array.isArray(a)){var r=null,o=e._i(a,r);s.checked?o<0&&(e.searchcheck_all=a.concat([r])):o>-1&&(e.searchcheck_all=a.slice(0,o).concat(a.slice(o+1)))}else e.searchcheck_all=i}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkedAll_0"}})])]),e._m(1),e._m(2),e._m(3),e._m(4),e._m(5),e._m(6)])]),0==e.getPerformancelist.length?t("tbody",[e._m(7)]):t("tbody",e._l(e.getPerformancelist,(function(a,s){return t("tr",{key:s},[t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.ischecked,expression:"item.ischecked"}],staticClass:"chkiteminner custom-control-input",attrs:{id:"chkAll_"+s,type:"checkbox"},domProps:{value:a.REVIEW_ID,checked:Array.isArray(a.ischecked)?e._i(a.ischecked,a.REVIEW_ID)>-1:a.ischecked},on:{click:function(t){return e.checkboxChecked(a,"single")},change:function(t){var s=a.ischecked,i=t.target,r=!!i.checked;if(Array.isArray(s)){var o=a.REVIEW_ID,l=e._i(s,o);i.checked?l<0&&e.$set(a,"ischecked",s.concat([o])):l>-1&&e.$set(a,"ischecked",s.slice(0,l).concat(s.slice(l+1)))}else e.$set(a,"ischecked",r)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label",attrs:{for:"chkAll_"+s}})])]),t("td",{staticClass:"text-left"},[t("a",{staticClass:"text-center",on:{click:function(t){return e.EditReview(a)}}},[e._v(" "+e._s(a.TITLE)+" ")])]),t("td",{staticClass:"text-left"},[t("span",{staticClass:"text-center"},[e._v(" "+e._s(a.MANAGER)+" ")])]),t("td",{staticClass:"text-left"},[t("span",{staticClass:"text-center"},[e._v(" "+e._s(e.$options.filters.formatDate(a.START_DATE))+" ")])]),t("td",{staticClass:"text-left"},[t("span",{staticClass:"text-left"},[e._v(" "+e._s(e.$options.filters.formatDate(a.END_DATE))+" ")])]),t("td",{staticClass:"text-center"},[t("span",{staticClass:"text-center"},[e._v(" "+e._s(null!=a.PROGRESS?a.PROGRESS+"%":"0%")+" ")])]),t("td",{staticClass:"text-center"},[t("span",{staticClass:"text-center text-overflow-dynamic-container"},[t("div",{staticClass:"cstm-drop-btn",attrs:{item:a.REVIEW_ID}},[t("select",{staticClass:"w-100",style:{"background-color":"1001"==a.STATUS_ID?"rgb(40, 167, 69)":"rgb(215, 36, 53)",color:"rgb(255, 255, 255)"},attrs:{id:"crmlistingStatus_span"},domProps:{value:a.STATUS_ID},on:{change:function(t){return e.changestatus(a,t)}}},[t("option",{attrs:{value:"1001"}},[e._v(" Active ")]),t("option",{attrs:{value:"1002"}},[e._v(" Inactive ")])])])])])])})),0)])])],1),e.showAddPerformanceReview?t("modalAddPerformanceReview",{attrs:{UserId:e.UserId,EditReviewData:e.EditReviewData}}):e._e()],1)},Ge=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("i",{staticClass:"icon-solid arrow-solid-left text-white"})])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left"},[t("span",[e._v("Title")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left"},[t("span",[e._v("Manager")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left"},[t("span",[e._v("Start Date")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-left"},[t("span",[e._v("End Date")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center"},[t("span",[e._v("Progress")])])},function(){var e=this,t=e._self._c;return t("th",{staticClass:"text-center"},[t("span",[e._v("Status")])])},function(){var e=this,t=e._self._c;return t("tr",[t("td",{staticClass:"text-center text-danger no_records no-record",attrs:{colspan:"5"}},[e._v(" No record(s) found ")])])}],Ye=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-1"},[t("h5",{staticClass:"pt-2",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("ManageReview"))+" ")]),t("button",{staticClass:"close",on:{click:e.ClosePopUp}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"listing py-3 px-3"},[t("dynamic-form",{ref:"refAddReview",attrs:{lang:"en",schema:e.FormSchema},on:{OnSubmit:e.onSubmit}})],1),t("div",{staticClass:"col-lg-12",attrs:{id:"divApprovalSequence"}},[t("div",{staticClass:"row mb-4"},[e._m(0),t("div",{staticClass:"listing col-lg-12"},[t("div",{staticClass:"table-responsive",staticStyle:{overflow:"visible"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e._m(1),e.showReviewListing?e._e():t("tbody",[e._m(2)]),e.showReviewListing?t("tbody",e._l(e.AddReviewerListing,(function(a,s){return t("tr",{key:e.updatereviewer},[t("td",{staticClass:"text-left"},[e._v(" "+e._s(a.ReviewerName)+" ")]),t("td",{staticClass:"text-center text-middle single-action"},[t("a",{staticClass:"up",staticStyle:{"font-size":"20px"},on:{click:function(t){return e.ReviewerRankUp(s)}}},[t("i",{staticClass:"rankuparrow fa fa-arrow-circle-o-up action-icon"})])]),t("td",{staticClass:"text-center text-middle single-action"},[t("a",{staticClass:"down",staticStyle:{"font-size":"20px"},on:{click:function(t){return e.ReviewerRankdown(s)}}},[t("i",{staticClass:"rankdownarrow fa fa-arrow-circle-o-down action-icon"})])]),t("td",{staticClass:"text-left",staticStyle:{overflow:"visible!important"}},[t("v-date-picker",{staticClass:"input-group",attrs:{mode:"date",masks:{input:["DD-MM-YYYY"]}},scopedSlots:e._u([{key:"default",fn:function({inputValue:e,inputEvents:a,togglePopover:s}){return[t("input",{ref:"inputDatePicker",refInFor:!0,staticClass:"form-control",attrs:{placeholder:"Due Date(MM/DD/YYYY)"},domProps:{value:e},on:{click:function(e){return s()}}}),t("div",{staticClass:"input-group-append",on:{click:function(e){return s()}}},[t("span",{staticClass:"input-group-text"},[t("i",{staticClass:"fa fa-calendar"})])])]}}],null,!0),model:{value:a.ReviewerDueDate,callback:function(t){e.$set(a,"ReviewerDueDate",t)},expression:"item.ReviewerDueDate"}})],1),t("td",{staticClass:"text-center"},[t("a",{staticClass:"delete single-action",staticStyle:{"font-size":"20px"},on:{click:function(t){return e.RemoveReviewerFromList(s)}}},[t("i",{staticClass:"fa fa-trash text-danger action-icon"})])])])})),0):e._e()])])])]),t("div",{staticClass:"row flex-row-reverse mb-3"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success formbtn mr-2",attrs:{href:"javascript:;"},on:{click:e.SaveReviewer}},[t("i",{staticClass:"fa fa-save pr-2"}),t("span",[e._v("Save")])]),t("a",{staticClass:"btn btn-danger text-white formbtn",on:{click:e.ClosePopUp}},[t("i",{staticClass:"fa fa-close text-white pr-2"}),t("span",[e._v("Cancel")])])]),e._m(3)])])],1)])])])])},Ve=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-12 mt-3 mb-3"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v("Reviewer Sequence")])])])])},function(){var e=this,t=e._self._c;return t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-left"},[t("span",[e._v("Name")])]),t("th",{staticClass:"text-center"},[t("span",[e._v("Rank Up")])]),t("th",{staticClass:"text-center"},[t("span",[e._v("Rank Down")])]),t("th",{staticClass:"text-left"},[t("span",[e._v("Due Date")])]),t("th",{staticClass:"text-center"},[t("span",[e._v("Delete")])])])])},function(){var e=this,t=e._self._c;return t("tr",[t("td",{staticClass:"text-center text-danger no_records no-record",attrs:{colspan:"5"}},[e._v(" No record(s) found ")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-lg-6"},[t("div",{staticClass:"py-2"},[t("span",{staticClass:"mandatory"},[e._v("Fields marked with an asterisk (*) are mandatory.")])])])}],He=a("c1df"),je=a.n(He),ze={props:{UserId:{type:Number},EditReviewData:{type:Array}},data(){return{isLoading:!1,FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:this.$t("CommentTitle"),name:"Title",value:"",placeholder:"Enter Title",visibility:!0,config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"DateField",label:this.$t("EventStartDate")+"(M/D/YYYY)",name:"StartDate",value:"",placeholder:"",visibility:!0,validationRules:"required"},{astype:"DateField",label:this.$t("EndDateTime")+"(M/D/YYYY)",name:"EndDate",value:"",placeholder:"",visibility:!0,validationRules:"required"},{astype:"DateField",label:this.$t("CandidateTillDate")+"(M/D/YYYY)",name:"CandidateDueDate",value:"",placeholder:"",visibility:!0,validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"1001",placeholder:"Enter Status",visibility:!0,config:{options:[{name:"Active",value:1001},{name:"InActive",value:1002}],showAddIcon:!1},validationRules:"required"},{astype:"SelectField",label:this.$t("Review_Template"),name:"Review_Template",value:"",placeholder:"Enter Review",visibility:!0,config:{options:[],showAddIcon:!1},validationRules:"required"}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"EnterDescription",value:"",placeholder:"",visibility:!0}]},{layoutType:"double",Data:[{astype:"RadioField",label:this.$t("ReviewProcessing"),name:"ReviewProcessing",value:"1",placeholder:"",visibility:!0,config:{options:[{value:1,name:"Sequential"},{value:0,name:"Non-Sequential"}],showAddIcon:!1,onChange:this.GetRadioValue},validationRules:""},{astype:"SelectField",label:this.$t("Reviewer"),name:"Reviewer",value:"",placeholder:"Enter Reviewer",visibility:!0,config:{options:[],showAddIcon:!0,onAddButtonClick:this.AddReviewerDetail},validationRules:"required"}]}],showReviewListing:!1,AddReviewerListing:[],updatereviewer:0,ReviewId:null}},async created(){var e=this;void 0!=e.EditReviewData&&e.EditPerformanceReview(e.EditReviewData),await e.GetReviewTemplate(),await e.GetReviewerList()},methods:{ClosePopUp(e){var t=this;t.$parent.CloseAddReview(e)},async GetReviewTemplate(){var e=this;await r["a"].GetReviewTemplateList().then(t=>{if(t.data.length>0){var a="";t.data.forEach((t,s)=>{e.FormSchema[0].Data[5].config.options.push({name:t.Title,value:t.TemplateId}),0==s&&(a=t.TemplateId)}),e.$refs.refAddReview.UpdateKeyValue(),e.FormSchema[0].Data[5].value=a}}).catch(e=>{console.log(e)})},async GetReviewerList(){var e=this,t="userReviewerId="+e.UserId;await r["a"].GetReviewerList(t).then(t=>{if(t.data.length>0){var a="";t.data.forEach((t,s)=>{e.FormSchema[2].Data[1].config.options.push({name:t.EmpName,value:t.EmpID}),0==s&&(a=t.EmpID)}),e.$refs.refAddReview.UpdateKeyValue(),e.FormSchema[2].Data[1].value=a}}).catch(e=>{console.log(e)})},SaveReviewer(){var e=this;this.$refs.refAddReview.validateForm.validate().then((async function(t){if(t){setTimeout(()=>{if(0!=e.AddReviewerListing.length)if(""==e.FormSchema[0].Data[3].value||null==e.FormSchema[0].Data[3].value);else{if(e.FormSchema[0].Data[3].value>e.FormSchema[0].Data[2].value)return void e.ShowAlert(e.FormSchema[0].Data[3].label+" "+e.$t("CandidateDueDateReviewerEndDate"),"warning");if(e.FormSchema[0].Data[3].value<e.FormSchema[0].Data[1].value)return void e.ShowAlert(e.FormSchema[0].Data[3].label+" "+e.$t("ReviewStartDateCandidateDue"),"warning")}else e.ShowAlert(e.$t("ReviewerNotExist"),"warning")},100);var a=!0;if(e.AddReviewerListing.forEach(t=>""===t.ReviewerDueDate||null===t.ReviewerDueDate?(a=!1,e.ShowAlert(e.$t("Please Select Due Date to create a review"),"warning"),e.buttons[0].class="btn btn-success",!1):t.ReviewerDueDate<e.FormSchema[0].Data[1].value?(a=!1,void e.ShowAlert(e.$t("ReviewerSeqDueDate"),"warning")):t.ReviewerDueDate>e.FormSchema[0].Data[2].value?(a=!1,void e.ShowAlert(e.$t("ReviewerSeqDueDateEndDate"),"warning")):void 0),!a)return;{e.isLoading=!0,e.AddReviewerListing.forEach(e=>{""!=e.ReviewerDueDate&&(e.ReviewerDueDate=je()(e.ReviewerDueDate).format("YYYY-MM-DD"))});const t=e=>e.map(e=>`${e.ReviewerId},${e.ReviewerDueDate}`).join("^"),a=t(e.AddReviewerListing);var s={UserId:e.UserId,ReviewId:e.ReviewId,ReviewTemplateId:e.FormSchema[0].Data[5].value,Title:e.FormSchema[0].Data[0].value,Description:e.FormSchema[1].Data[0].value,StartDate:e.$options.filters.formatDate(e.FormSchema[0].Data[1].value),EndDate:e.$options.filters.formatDate(e.FormSchema[0].Data[2].value),Approvers:a,StatusId:e.FormSchema[0].Data[4].value,IsSequentialProcessing:"1"==e.FormSchema[2].Data[0].value,CandidateTillDate:e.$options.filters.formatDate(e.FormSchema[0].Data[3].value)};r["a"].SaveReview(s).then(async t=>{1==t.data||""!=t?"undefined"!=typeof t.data.Message?((t.data.Message="Exit")||(t.data.Message="Overlap"))&&e.ShowAlert(t.data.Data,"failure",e.$t("Alert")):e.EditReviewData?(e.ShowAlert(e.$t("Review has been successfully ")+" Updated","success",e.$t("Alert")),e.ClosePopUp("Save")):(e.ShowAlert(e.$t("Review has been successfully ")+" Added","success",e.$t("Alert")),e.ClosePopUp("Save")):e.ShowAlert(e.$t("ErrorSavingPleaseTryAgain"),"failure"),e.isLoading=!1}).catch(e=>{console.log(e)})}}}))},AddReviewerDetail(e,t){var a=this,s=a.AddReviewerListing.find(e=>e.ReviewerId==t.value);if(void 0==s){var i=a.FormSchema[2].Data[1].config.options.find(e=>e.value==t.value);void 0!=i&&(a.AddReviewerListing.push({ReviewerId:i.value,ReviewerName:i.name,ReviewerDueDate:""}),a.updatereviewer+=1),a.AddReviewerListing.length>0&&(a.showReviewListing=!0)}else a.ShowAlert(a.$t("SelectReviewer"),"failure")},RemoveReviewerFromList(e){var t=this;t.AddReviewerListing.splice(e,1),0==t.AddReviewerListing.length&&(t.showReviewListing=!1)},ReviewerRankUp(e){var t=this;if(0!=e){if(""==t.AddReviewerListing[e].ReviewerDueDate&&""==t.AddReviewerListing[e-1].ReviewerDueDate);else if(""==t.AddReviewerListing[e].ReviewerDueDate)return void t.ShowAlert(t.$t("CurrentReviewerTillDateIsRequired"),"warning");var a=t.AddReviewerListing[e-1];t.AddReviewerListing[e-1]=t.AddReviewerListing[e],t.AddReviewerListing[e]=a,t.updatereviewer+=1}},ReviewerRankdown(e){var t=this;if(t.AddReviewerListing.length>1){if(""==t.AddReviewerListing[e].ReviewerDueDate&&""==t.AddReviewerListing[e+1].ReviewerDueDate);else if(""==t.AddReviewerListing[e+1].ReviewerDueDate)return void t.ShowAlert(t.$t("NextReviewerTillDateIsRequired"),"warning");var a=t.AddReviewerListing[e+1];t.AddReviewerListing[e+1]=t.AddReviewerListing[e],t.AddReviewerListing[e]=a,t.updatereviewer+=1}},EditPerformanceReview(e){var t=this;t.FormSchema[0].Data[5].visibility=!1,t.ReviewId=e.ReviewerData[0].review_id,t.FormSchema[0].Data[0].value=e.ReviewerData[0].title,t.FormSchema[0].Data[1].value=e.ReviewerData[0].start_date,t.FormSchema[0].Data[2].value=e.ReviewerData[0].end_date,t.FormSchema[0].Data[3].value=e.ReviewerData[0].CANDIDATE_TILL_DATE,t.FormSchema[0].Data[4].value=e.ReviewerData[0].STATUS_ID,t.FormSchema[1].Data[0].value=e.ReviewerData[0].description,t.FormSchema[2].Data[0].value=e.ReviewerData[0].IS_SEQUENTIAL_PROCESSING,e.ReviewerSequenceData.forEach(e=>{e.TILL_DATE=null!=e.TILL_DATE?je()(e.TILL_DATE).format("YYYY-MM-DD"):"",t.AddReviewerListing.push({ReviewerId:e.REVIEWER_ID,ReviewerName:e.REVIEWER_NAME,ReviewerDueDate:e.TILL_DATE}),t.updatereviewer+=1}),t.AddReviewerListing.length>0&&(t.showReviewListing=!0)}}},qe=ze,Ke=Object(u["a"])(qe,Ye,Ve,!1,null,null,null),Je=Ke.exports,Xe={components:{modalAddPerformanceReview:Je},props:{UserId:{type:Number}},data(){return{PageSize:10,PageNumber:1,sortBy:null,sortExp:null,getPerformancelist:[],showAddPerformanceReview:!1,EditReviewData:[],isLoading:!1,searchcheck_all:!1}},async created(){var e=this;await e.GetReviewListing()},methods:{async GetReviewListing(){var e=this;e.isLoading=!0;var t=`userReviewId=${e.UserId}&pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.sortBy}&sortExp=${e.sortExp}`;await r["a"].GetPerformanceReviewList(t).then(t=>{e.getPerformancelist=t.data,e.isLoading=!1}).catch(e=>{console.log(e)})},GetReviewData(){var e=this,t="";$(".chkiteminner:checkbox:checked").not("[id^='chkAllManage']").each((function(){t.length>0&&(t+=","),t+=$(this).val()})),t.length>0&&e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Folder"),(function(){var a={ids:t,moduleName:"",subModuleCode:"",refCode:"Performance_AddReview"};e.isLoading=!0;var s=JSON.stringify(a);r["a"].CommonDelete(s).then((async function(t){200==t.status&&($(".chkiteminner:checkbox:checked,#chkAllManage").prop("checked",!1).removeAttr("checked"),$("#DeleteMultiple_New").addClass("disabled"),await e.GetReviewListing()),e.isLoading=!1}))}))},async EditReview(e){var t=this,a="userReviewerId="+e.REVIEW_ID;await r["a"].GetEditReviewerList(a).then(e=>{""!=e.data&&null!=e.data&&(t.EditReviewData=e.data,t.showAddPerformanceReview=!0)}).catch(e=>{console.log(e)})},CloseAddReview(){var e=this;e.showAddPerformanceReview=!1},changestatus(e,t){var a=this;a.confirmR(a.$t("ConfirmForChangeStatus"),!0,a.$t("update")+"  "+a.$t("status"),(function(){var s=`reviewId=${e.REVIEW_ID}&statusId=${parseInt(t.target.value)}`;r["a"].UpdateReviewStatus(s).then(async e=>{200==e.status&&1==e.data&&await a.GetReviewListing()}).catch(e=>{console.log(e)})}))},checkboxChecked(e,t){"all"===t?$("#chkedAll_0").prop("checked")?this.getPerformancelist.forEach(e=>{e.ischecked=!0,this.searchcheck_all=!0,this.$emit("IsDeleteMultiple",!0)}):this.getPerformancelist.forEach(e=>{e.ischecked=!1,this.searchcheck_all=!1,this.$emit("IsDeleteMultiple",!1)}):"single"===t&&(e.ischecked=!e.ischecked,this.$emit("IsDeleteMultiple",e.ischecked)),this.updateSelectAllState(t)},updateSelectAllState(e){if("single"===e){const e=this.getPerformancelist.every(e=>e.ischecked);this.searchcheck_all=e}else if(this.searchcheck_all)for(var t=document.getElementsByClassName("chkiteminner custom-control-input"),a=0;a<t.length;a++)"checkbox"==t[a].type&&(t[a].checked=!0,this.$emit("IsDeleteMultiple",!0))}}},We=Xe,Qe=Object(u["a"])(We,Be,Ge,!1,null,null,null),Ze=Qe.exports,et=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 Search-panel py-2"},[t("dynamic-form",{ref:"refAssignTeam",attrs:{lang:"en",schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-SearchAndReset",fn:function({data:a}){return[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success mr-1 px-4",attrs:{id:"Search",href:"javascript:;",title:"Click here to search"},on:{click:e.SearchLocationAndDepartment}},[t("i",{staticClass:"fa fa-search"})]),t("a",{staticClass:"btn btn-danger mr-1 px-4",attrs:{id:"ResetUserFilters",href:"javascript:;",title:"Click here to reset"},on:{click:e.ResetAll}},[t("i",{staticClass:"fa fa-refresh"})])])])]}}])}),t("div",{staticClass:"col-lg-12 mb-3 mt-3"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v("User Listing")]),t("small",{staticClass:"float-right"},[t("a",{staticClass:"table-head-btn icon_add assntm heighttt",attrs:{id:"aAddUsers",href:"javascript:;",title:"Assign Team"},on:{click:e.AddAssignTeam}},[t("i",{staticClass:"fa fa-plus"}),e._v("Assign Team")])])])])]),t("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!0,ModuleName:"Company",SubModuleCode:"Cmp_user",IdentityColumn:"USER_ID",HeaderText:"",ListData:e.GetUserListingAccessTeam,HeaderData:e.Headers,TotalRecords:0,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchData,IsFilterApplied:!!e.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:e.$t("NoRecordfound")},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,ActionButtonClick:e.actionButtonClick,SortdataButtonClick:e.sortdata},scopedSlots:e._u([{key:"slotdata",fn:function({data:t}){return["USER_EMP_ID"==t.column.COLUMN_NAME?[e._v(" "+e._s(null!=t.row.USER_EMP_ID?t.row.USER_EMP_ID:"N/A")+" ")]:e._e()]}}])})],1)],1)},tt=[],at={props:{UserId:{type:Number}},data(){return{isLoading:!1,FormSchema:[{layoutType:"triple",Data:[{astype:"CustomSelectField",label:this.$t("Location"),name:"Location",value:"",mode:"tag",placeholder:"Enter Title",visibility:!0,config:{options:[],showAddIcon:!1}},{astype:"CustomSelectField",label:this.$t("Department"),name:"Department",value:"",mode:"tag",placeholder:"Enter Department",visibility:!0,config:{options:[],showAddIcon:!1}},{astype:"TextField",label:this.$t("Username"),name:"Username",value:"",placeholder:"Enter User Name",visibility:!0,config:{showAddIcon:!1}}]},{layoutType:"single",Data:[{astype:"SlotField",label:"",name:"SearchAndReset",value:"",placeholder:"",visibility:!0}]}],Headers:[{COLUMN_NAME:"USER_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"User Name",DISPLAY_ORDER:1},{COLUMN_NAME:"EMAIL_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Email",DISPLAY_ORDER:2},{COLUMN_NAME:"DEPARTMENT_NAME",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Department Name",DISPLAY_ORDER:3},{COLUMN_NAME:"USER_EMP_ID",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Employee Id",DISPLAY_ORDER:4}]}},async created(){var e=this;await e.SearchLocationAndDepartment(),await e.GetCompanyLocation(),await e.GetDepartmentListByCompanyId()},methods:{renderActions(){},leftCommonSearch(){},commonHeaderButtonClick(){},actionButtonClick(){},sortdata(){},AddAssignTeam(){var e=this,t="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){t.length>0&&(t+=","),t+=$(this).val()})),t.length>0&&e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("AddtionalPhone"),(function(){var a=`ids=${t}&parentId=${e.UserId}`;r["a"].AddSearchUser(a).then(t=>{0==t.data.status?(e.ShowAlert(e.$t("UserAdded"),"success"),$(".chkItems:checkbox:checked,#chkAll").prop("checked",!1).removeAttr("checked")):(e.ShowAlert(e.$t("Something_Wrong"),"failure"),$(".chkItems:checkbox:checked,#chkAll").prop("checked",!1).removeAttr("checked"))}).catch(e=>{console.log(e)})}))},async ResetAll(){var e=this;e.FormSchema[0].Data[0].value="",e.FormSchema[0].Data[1].value="",e.FormSchema[0].Data[2].value="",await e.GetCompanyLocation(),await e.GetDepartmentListByCompanyId(),await e.SearchLocationAndDepartment()},async GetCompanyLocation(){var e=this;e.isLoading=!0,e.FormSchema[0].Data[0].config.options=[],await r["a"].GetCompanyLocation().then(t=>{t.data.length>0&&t.data.forEach(t=>{e.FormSchema[0].Data[0].config.options.push({name:t.LOCATION_NAME,value:t.COMPANY_LOCATION_ID})}),e.isLoading=!1}).catch(e=>{console.log(e)})},async GetDepartmentListByCompanyId(){var e=this;e.isLoading=!0,e.FormSchema[0].Data[1].config.options=[];var t=!0,a=!1,s=`includeInactiveStatus=${t}&isTicketHandler=${a}`;await r["a"].GetDepartmentListByCompanyId(s).then(t=>{t.data.length>0&&t.data.forEach(t=>{e.FormSchema[0].Data[1].config.options.push({name:t.department_name,value:t.department_id})}),e.isLoading=!1}).catch(e=>{console.log(e)})},SearchLocationAndDepartment(){var e=this;e.isLoading=!0;var t=[],a=[];if(e.FormSchema[0].Data[0].value.length>0){e.FormSchema[0].Data[0].value.forEach(e=>{a.push(e.value)});var s=a.join(",")}if(e.FormSchema[0].Data[1].value.length>0){e.FormSchema[0].Data[1].value.forEach(e=>{t.push(e.value)});var i=t.join(",")}var o=`username=${e.FormSchema[0].Data[2].value}&departmentId=${void 0==i?"":i}&locationid=${void 0==s?"":s}&userId=${e.UserId}`;r["a"].GetAssignTeam(o).then(t=>{t.data.length>0?(e.GetUserListingAccessTeam=t.data,e.Headers.forEach(e=>{e.settings=null,"USER_EMP_ID"==e.COLUMN_NAME&&(e.settings={isInSlot:!0})})):e.GetUserListingAccessTeam=[],e.isLoading=!1}).catch(e=>{console.log(e)})}}},st=at,it=Object(u["a"])(st,et,tt,!1,null,null,null),rt=it.exports,ot={components:{EditUser:o["default"],AssociateLicense:m,Address:p["a"],Communication:f["a"],ContactNumberVue:v["a"],NotesVue:y,GoalVue:K,TeamStructure:N["a"],Notification:U,UserBreak:be,UserSkill:Fe,Notification:U,AddfeedbackforUser:ee,feedbackuserlisting:me,modalConfiguration:pe["a"],PerformanceReview:Ze,AddPerformanceReview:Je,AssignTeam:rt},props:{tabHeaderText:{type:String,required:!0}},data(){return{Addfeedback:!1,tabHeaderText:"",isSettingsVisible:!1,isNotesVisible:!1,isGoalVisible:!1,isAssociateVisible:!1,isAddressVisible:!1,isCommunicationVisible:!1,isTeamStructureVisible:!1,isNotificationTabVisible:!1,isSkillVisible:!1,isUserBreak:!1,activeTab:1,isEditUser:"",tabs:[{title:"GeneralSettings",icon:"fa fa-cogs",id:1},{title:"Associate Licenses",icon:"fa fa-plus",id:2},{title:"Addresses",icon:"fa fa-address-book",id:3}],userId:null,userType:null,Headerstext:"",showAddNotes:!1,GetConfiguration:{},isConfigSelected:!1,isPerformanceReviewVisible:!1,isDeleteMultiple:!1,showAddReview:!1,NoteItem:[],IsDisabled:!0,PeformanceUpdatekey:0,refreshlisting:!1,UserTypeName:"",ExtraFeature:"NO",showAssignTeam:!1,IS_DEFAULT:!1}},async created(){var e=this;e.userId=parseInt(this.$route.params.id),e.isSettingsVisible=!0,e.tabHeaderText="General Settings",e.isEditUser="EditUser",e.GetUserDetailByUserId(),e.userId>0&&"CA"==this.GetUserInfo.UserType&&await e.GetUserLicenseModules()},methods:{async CheckExtraFeatures(){var e=this;e.ExtraFeature="NO";var t="FeatureCode=CTBREAK";await r["a"].CheckExtraFeatures(t).then(t=>{"Success"==t.data.status&&"TRUE"==t.data.msg.toUpperCase()&&(e.ExtraFeature="YES",e.tabs.push({title:"Assign Team",icon:"fa fa-users",id:15}))}).catch(e=>{console.log()})},async GetUserLicenseModules(){var e=this;await e.CheckExtraFeatures(),e.tabs.push({title:"Communication",icon:"fa fa-phone",id:4},{title:"Configuration",icon:"fa fa-cog",id:5},{title:"Contact Numbers",icon:"fa fa-file",id:6}),await r["a"].GetUserLicenseModules().then(t=>{if(t.data.length>0){var a=t.data.find(e=>"FEEDBACK"==e.controllerName.toUpperCase()),s=t.data.find(e=>"GOAL"==e.controllerName.toUpperCase()),i=t.data.find(e=>"NOTE"==e.controllerName.toUpperCase()),r=t.data.find(e=>"REVIEW"==e.controllerName.toUpperCase()),o=t.data.find(e=>"SKILL"==e.controllerName.toUpperCase()),l=t.data.find(e=>"TIMESHEET"==e.controllerName.toUpperCase());void 0!=a.controllerName&&e.tabs.push({title:"Feedback",icon:"fa fa-quote-left",id:7}),void 0!=s.controllerName&&e.tabs.push({title:"Goal",icon:"fa fa-trophy",id:8}),void 0!=i.controllerName&&e.tabs.push({title:"Notes",icon:"fa fa-sticky-note",id:9}),e.tabs.push({title:"Notifications",icon:"fa fa-bell",id:10}),void 0!=r.controllerName&&e.tabs.push({title:"Performance Review",icon:"fa fa-file-text",id:11}),void 0!=o.controllerName&&e.tabs.push({title:"Skill",icon:"fa fa-star",id:12}),e.tabs.push({title:"Team Structure",icon:"fa fa-sitemap",id:13}),void 0!=l.controllerName&&e.tabs.push({title:"User Break",icon:"fa fa-clock-o",id:14})}}).catch(e=>{console.log(e)})},refreshfeedbacklist(){this.$refs.feedbacklisting[0].getfedbacklisting()},async GetUserDetailByUserId(){var e=this;try{let t="userId="+e.userId;await r["a"].GetUserDetailById(t).then(t=>{e.userType=t.data.UserType,e.UserTypeName=t.data.USER_TYPE_NAME,e.userDetail=t.data;let a=t.data.User_Name.replace(" ","")+" ",s=t.data.designation+"  , "||!1,i=t.data.department+" "||!1;e.IS_DEFAULT=t.data.IS_DEFAULT,e.Headerstext=`${a}-${s}${i}`})}catch(t){console.log("error message",t)}},RemovecselectedRecord:function(){var e=this;e.$refs.feedbacklisting[0].RemovecselectedRecord()},closaddfeedbackpopup(){this.Addfeedback=!1},deleteReview(){console.log("deleteReview called")},showTooltip(e){console.log("Tooltip:",e)},Cancel:function(){var e=this;e.showAddNotes=!1},receiveUserTypeId(e,t){var a=this;a.userType="",a.userType=parseInt(e),a.Headerstext=t},changeTab(e){var t=this;switch(this.isSettingsVisible=1===e,this.isAssociateVisible=2===e,this.isAddressVisible=3===e,this.isCommunicationVisible=4===e,this.isShowContactNumber=6===e,this.isTeamStructureVisible=13===e,this.isNotificationTabVisible=10===e,this.showAssignTeam=15===e,e){case 1:t.isSettingsVisible=!0,t.tabHeaderText="GeneralSettings";break;case 2:t.tabHeaderText="Associate Licenses",t.isAssociateVisible=!0;break;case 3:t.tabHeaderText="Addresses",t.isAddressVisible=!0;break;case 4:t.tabHeaderText="Communication",t.isCommunicationVisible=!0,t.GetConfiguration={user_id:t.userId,user_name:t.Headerstext};break;case 5:t.tabHeaderText="Configuration",t.isConfigSelected=!0,t.GetConfiguration={user_id:t.userId,user_name:t.Headerstext,Action:"Edit"};break;case 6:t.isShowContactNumber=!0,t.tabHeaderText="Contact Numbers";break;case 7:t.isFeedbackSettingsVisible=!0,t.tabHeaderText="Feedback";break;case 8:t.isGoalVisible=!0,t.tabHeaderText="Goal";break;case 9:t.tabHeaderText="Notes",t.isNotesVisible=!0;break;case 10:t.tabHeaderText="Notifications",t.isNotificationTabVisible=!0;break;case 11:t.tabHeaderText="Performance Review",t.isPerformanceReviewVisible=!0;break;case 12:t.tabHeaderText="Skill",t.isSkillVisible=!0;break;case 13:t.tabHeaderText="Team Structure",t.isTeamStructureVisible=!0;break;case 14:t.isUserBreak=!0,t.tabHeaderText="User Break";break;case 15:t.showAssignTeam=!0,t.tabHeaderText="Assign Team";break;default:break}},AddReview(){var e=this;e.showAddNotes=!0},previousTab(){this.activeTab>1&&this.activeTab--},nextTab(){this.activeTab<=this.tabs.length-1&&this.activeTab++},openAddfeedbackpopup(){this.Addfeedback=!0},CloseAddNote(){this.showAddNotes=!1,this.changeTab(8),setTimeout(()=>{this.changeTab(9)},100)},IsDeleteMultiple(e){var t=this;t.isDeleteMultiple=e},OpenAddReview(){var e=this;e.showAddReview=!0},CloseAddReview(e){var t=this;t.showAddReview=!1,"Save"==e&&(t.isPerformanceReviewVisible=!1,t.changeTab(11),t.PeformanceUpdatekey+=1)},RemoveReview(){var e=this;e.$refs.performanceReview[0].GetReviewData()},Getselectedval(e,t){this.IsDisabled=t,this.selectedNoteId=e},RemoveNoteRecord:function(){var e=this;e.isLoading=!0,null!=e.selectedNoteId?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Records"),(function(){var t=`NoteId=${e.selectedNoteId}&userId=${e.userId}`;r["a"].DeleteUserNotes(t).then((function(t){200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Record")]),"success",!0,e.$t("Alert")),e.changeTab(8),setTimeout(()=>{e.changeTab(9)},100)):e.ShowAlert(e.$t("DeletedError",[e.$t("Record")]),"failure",!0,e.$t("Alert"))}))})):ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1}}},lt=ot,nt=Object(u["a"])(lt,s,i,!1,null,null,null);t["default"]=nt.exports},e9bc:function(e,t,a){"use strict";var s=a("dc19"),i=a("cb27").add,r=a("83b9e"),o=a("7f65"),l=a("5388");e.exports=function(e){var t=s(this),a=o(e).getIterator(),n=r(t);return l(a,(function(e){i(n,e)})),n}},eb03:function(e,t,a){"use strict";a("c1a1")},ee5a:function(e,t,a){var s=a("dad3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("765a36d8",s,!0,{sourceMap:!1,shadowMode:!1})},fa76:function(e,t,a){"use strict";a("1e5a")},fad4:function(e,t,a){"use strict";a("1325")},fae7:function(e,t,a){"use strict";var s=function(){var e=this,t=e._self._c;return t("section",[void 0==e.GetConfiguration.Action?t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle py-1"},[t("h4",{staticClass:"modal-title mt-2 pt-1",attrs:{name:"header"}},[e._v(" "+e._s(e.$t("Configuration"))+" - "+e._s(e.GetConfiguration.user_name)+" ")]),t("button",{staticClass:"close",on:{click:e.ClosePopUp}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("loader",{attrs:{isVisible:e.isLoading}}),t("div",{staticClass:"listing new_accordians_des",attrs:{id:"accordionEx"}},e._l(e.GetUserModulesKeysData,(function(a,s){return t("div",{key:e.keyupdate,staticClass:"accordion md-accordion left-filter"},[t("div",{staticClass:"px-2 py-1 bg-light"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header heading-border",attrs:{role:"tab",id:"MainColumn"+s},on:{click:function(t){return e.GetConfigurationData(a.ModuleId,s)}}},[t("h5",{staticClass:"mb-0"},[t("a",{class:s===e.getindex?"w-100":"collapased w-100",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse"+s,href:"javascript:;","aria-expanded":s===e.getindex,"aria-controls":"ColumnCollapse"+s}},[t("span",{},[e._v(" "+e._s(a.ModuleName))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])]),t("div",{class:s===e.getindex&&e.buttons[0].isVisible?"collapse multi-collapse show":"collapse multi-collapse",attrs:{id:"ColumnCollapse"+s,role:"tabpanel","aria-labelledby":"MainColumn"+s,"data-parent":"#accordionEx"}},[t("div",{staticClass:"col-12 mt-3"},[e.noRecord?t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tablelistingdata","aria-label":"Folder Listing"}},[t("thead",{staticClass:"thead-bg"}),t("tbody",[e.noRecord?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])]):e._e()])]):t("dynamic-form",{attrs:{schema:e.formSchema,buttons:e.buttons},on:{OnSubmit:e.FinalSaveConfigurations}})],1)])])])])})),0)],1)])])]):e._e(),"Edit"==e.GetConfiguration.Action?t("div",{staticClass:"listing new_accordians_des",attrs:{id:"accordionEx"}},[t("loader",{attrs:{isVisible:e.isLoading}}),e._l(e.GetUserModulesKeysData,(function(a,s){return t("div",{key:e.keyupdate,staticClass:"accordion md-accordion left-filter"},[t("div",{staticClass:"px-2 py-1 bg-light"},[t("div",{staticClass:"card"},[t("div",{staticClass:"card-header heading-border",attrs:{role:"tab",id:"MainColumn"+s},on:{click:function(t){return e.GetConfigurationData(a.ModuleId,s)}}},[t("h5",{staticClass:"mb-0"},[t("a",{class:s===e.getindex?"w-100":"collapased w-100",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse"+s,href:"javascript:;","aria-expanded":s===e.getindex,"aria-controls":"ColumnCollapse"+s}},[t("span",{},[e._v(" "+e._s(a.ModuleName))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])]),t("div",{class:s===e.getindex&&e.buttons[0].isVisible?"collapse multi-collapse show":"collapse multi-collapse",attrs:{id:"ColumnCollapse"+s,role:"tabpanel","aria-labelledby":"MainColumn"+s,"data-parent":"#accordionEx"}},[t("div",{staticClass:"col-12 mt-3"},[e.noRecord?t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"tablelistingdata","aria-label":"Folder Listing"}},[t("thead",{staticClass:"thead-bg"}),t("tbody",[e.noRecord?t("tr",{staticStyle:{cursor:"initial"}},[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])]):e._e()])]):t("dynamic-form",{attrs:{schema:e.formSchema,buttons:e.buttons},on:{OnSubmit:e.FinalSaveConfigurations}})],1)])])])])}))],2):e._e()])},i=[],r=(a("14d9"),a("b7ef"),a("9769")),o={props:{GetConfiguration:{type:Array}},data(){return{isLoading:!1,formSchema:[],getindex:0,keyupdate:0,noRecord:!1,buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i> Save Settings",isVisible:!0}],AttachmentFileDetail:[],CheckFileSave:!1,CompanyLogo:null,GetUserModulesKeysData:[]}},async created(){var e=this;await e.GetUserModuleskeys(),await e.GetConfigurationData()},methods:{async GetUserModuleskeys(){var e=this;e.isLoading=!0;var t="userId="+e.GetConfiguration.user_id;await r["a"].GetUserModuleskeys(t).then(t=>{t.data.Result.length>0&&(e.GetUserModulesKeysData=t.data.Result)})},async GetConfigurationData(e,t){var a=this,s=!1;if(a.formSchema=[],a.isLoading=!0,a.buttons[0].isVisible=!1,a.getindex===t?(a.getindex=-1,s=!1):void 0!=t?(a.getindex=t,s=!0):(a.getindex=0,e=a.GetUserModulesKeysData[0].ModuleId,s=!0),s){var i=`moduleId=${e}&projectuserId=${a.GetConfiguration.user_id}&applicableFor=USR`;await r["a"].GetConfigurationkeys(i).then((function(e){null!=e&&null!=e.data&&e.data.Result.length>0?(a.noRecord=!1,a.ConvertConfigurationDataIntoDynamicFormobj(e.data.Result),a.buttons[0].isVisible=!0):(a.noRecord=!0,a.formSchema=[]),a.isLoading=!1}))}else a.isLoading=!1;a.keyupdate+=1},ConvertConfigurationDataIntoDynamicFormobj:function(e){var t=this;if(t.formSchema=[],e.sort((e,a)=>t.$t(e.CORE_CONFIG_KEY)>t.$t(a.CORE_CONFIG_KEY)?1:t.$t(a.CORE_CONFIG_KEY)>t.$t(e.CORE_CONFIG_KEY)?-1:0),null!=e&&e.length>0){let a={layoutType:"double",groupId:0,group_name:"",Data:[]};e.forEach((function(e,s){var i;let r={};"FSMRegionAccess"!==e.CORE_CONFIG_KEY&&(r["required"]=!0);let o=e.ASTYPE,l=[];var n=null!==(i=e.CORE_CONFIG_VALUE)&&void 0!==i?i:"";null!=e.CORE_CONFIG_OPTIONS&&(l=t.MakeArray(e.CORE_CONFIG_OPTIONS,"radio","^")),null!=e.SELECT_OPTIONS&&""!=e.SELECT_OPTIONS&&(l=t.MakeNormalArray(e.SELECT_OPTIONS));let c="date",d="Enter "+t.$t(e.CORE_CONFIG_KEY);if("SelectField"==o||"CustomSelectField"==o||"TreeSelectField"==o)d="Select "+t.$t(e.CORE_CONFIG_KEY);else if("MultiSelectField"==o){n=[];let t=e.CORE_CONFIG_VALUE.split("^");t.forEach((function(e){n.push({label:e,value:e})}))}else"CheckBoxField"==o&&(n=e.CORE_CONFIG_VALUE.split("^"));if("DateField"==o)c="date";else if("MultiSelectField"==o)c="tag";else if("FileField"==o)var u=e.CORE_CONFIG_VALUE,h=u.split("/").pop();let m={customFieldId:e.CORE_CONFIG_ID,astype:o,label:t.$t(e.CORE_CONFIG_KEY),name:e.CORE_CONFIG_KEY,value:n,placeholder:d,mode:c,config:{maxSize:5,showSelectedFiles:[{attachmentName:u,attachmentPath:h}],onChange:t.onChangeField,onDeleteSelectedFiles:t.onDeleteSelectedFiles,onClickSelectedFiles:t.showCompanyLogo,accept:[{fileType:"png",iconClass:"fa-file-image-o"},{fileType:"jpg",iconClass:"fa-file-image-o"},{fileType:"jpeg",iconClass:"fa-file-image-o"}],mode:c,options:l,dependentOn:null,showWhen:null,valueMapping:null,fieldCode:null,showCrossOnSelectedFiles:!1},visibility:!0,validationRules:r,dtCode:e.CORE_CONFIG_TYPE,userGuide:e.CORE_CONFIG_DESC};a.Data.push(m)})),t.formSchema.push(a)}},async showCompanyLogo(e){var t=this;let a=document.createElement("a");a.target="_blank",await t.GetCompanyLogo(e.attachmentPath),a.href=t.CompanyLogo,a.click()},async GetCompanyLogo(e){var t=this,a="imagename="+e;await r["a"].GetCompanyLogo(a).then(e=>{t.CompanyLogo=e.data})},onChangeField:function(e,t){var a=this;if("AllowFaceRecoginitionInKioskMode"==t.name&&(a.GetConfiguration.face_recog_setup||(console.log("no face recog setup",e,t),a.ShowAlert(a.$t("firstFaceRecognition"),"failure",!0,a.$t("Alert")),t.value="no")),"FileField"==t.astype)try{for(var s=e.target.files,i=0;i<s.length;i++){var r=s[i],o=new FileReader;o.onload=function(e){return function(e){var s=e.target.result,i=window.btoa(s),o=r.name,l=o.lastIndexOf("."),n=o.substring(l+1,o.length),c='{"ContentType":"'+r.type+'","Size":"'+r.size+'","Extension":"'+n+'"}',d=(r.size,{attachement_mime:c,fileName:o,userId:a.GetUserInfo.ID,companyId:a.GetUserInfo.CompanyId,id:0,moduleName:"User",subModuleCode:"",containerName:a.GetUserInfo.ContainerName,base64String:i,attachement_path:"",fieldName:t.name});a.AttachmentFileDetail.push(d)}}(),o.readAsBinaryString(r)}}catch(l){}},onDeleteSelectedFiles:function(e,t){var a=this;a.formSchema.forEach((function(e,t){e.Data.forEach((function(e,t){"FileField"==e.astype&&(a.$delete(e.config,"showSelectedFiles"),e.value="")}))}))},SendAttactment:async function(){var e=JSON.stringify(vm.AttachmentFileDetail);await r["a"].UploadFile(e).then((function(e){e.data&&e.data.length>0&&(vm.CheckFileSave=!1,vm.formSchema.forEach((function(t,a){t.Data.forEach((function(t,a){if("FileField"==t.astype)if("companylogo"==t.name.toLowerCase()){var s=e.data[0].Name.split("/")[e.data[0].Name.split("/").length-1];t.value=s}else t.value=e.data[0].Name}))})),vm.SaveConfigurations())}))},FinalSaveConfigurations:function(){var e=this;e.formSchema[0].Data.forEach(t=>{t.dtCode&&"image"==t.dtCode.toLowerCase()&&e.AttachmentFileDetail.length>0&&(e.CheckFileSave=!0)}),e.CheckFileSave?e.SendAttactment():e.SaveConfigurations()},SaveConfigurations:function(){var e=this,t=[];e.formSchema.forEach((function(e,a){e.Data.forEach((function(e,a){var s=e.value;if("CheckBoxField"==e.astype&&(s=e.value.filter(e=>""!=e).join("^")),"MultiSelectField"==e.astype){let t="";if("object"==typeof e.value)try{"undefined"!=typeof e.value.length&&e.value.length>0?e.value.forEach((function(e){t=""==t?e.value:t+"^"+e.value})):t=e.value.value}catch(r){t=e.value.value}else t=e.value;s=t}var i={DataId:e.customFieldId,key:e.name,DataValue:s};t.push(i)}))}));var a={configData:t,conditionData:{refCode:"CompanySetting",moduleName:"User",configUserId:e.GetConfiguration.user_id}},s=JSON.stringify(a);r["a"].UpdateUserConfigData(JSON.stringify(s)).then((function(t){null!=t&&null!=t.data&&1==t.data?(e.ShowAlert(e.$t("RecordsSavedSuccessfully"),"success"),void 0==e.GetConfiguration.Action&&e.ClosePopUp()):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}))},ClosePopUp(){var e=this;e.$parent.CloseConfiguration()}}},l=o,n=a("2877"),c=Object(n["a"])(l,s,i,!1,null,null,null);t["a"]=c.exports}}]);
//# sourceMappingURL=chunk-3ba1d3d2.js.map