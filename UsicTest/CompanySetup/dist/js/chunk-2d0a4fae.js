(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4fae"],{"096e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("section",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("tg-list",{attrs:{IsShowAction:!0,ModuleName:"CompanyAdmin",SubModuleCode:"CompanyAdmin",RenderRowActionMethod:t.renderActions,IdentityColumn:"TAG_ID",HeaderText:t.$t("Tag"),listType:["List"],ListData:t.TagData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecord,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),CurrentPageNumber:t.PageNumber},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["STATUS_ID"==a.column.COLUMN_NAME?[e("a",{staticClass:"inactive-disabled"},[e("span",{class:t.getStatusClass(1001==a.row.STATUS_ID?"Active":"Inactive","STATUS_ID")},[t._v(" "+t._s(1001==a.row.STATUS_ID?"Active":"Inactive")+" ")])])]:t._e()]}}])}),t.ShowAddTag?e("AddTag",{attrs:{TagId:t.TagId,Item:t.Item}}):t._e()],1)},i=[],o=(a("14d9"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t.AddTag?e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("AddTag")))]):t._e(),t.UpdateTag?e("h4",{staticClass:"modal-title"},[t._v(t._s(t.$t("UpdateTag")))]):t._e(),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema,mandatorytext:t.MandatoryString},on:{OnSubmit:t.onSubmit}})],1)])])])],1)}),n=[],l=a("9769"),c={props:{TagId:{type:Object,required:!0},Item:{type:Array,required:!1}},data(){return{isLoading:!1,AddTag:!0,projectId:"",companyId:"",UpdateTag:!1,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("Tag Name"),name:"TagName",value:"",placeholder:this.$t("Enter Tag Name"),validationRules:{required:!0},disabled:!1},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"",validationRules:{required:!1},config:{options:[]},visibility:!0}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("TagDescription"),name:"TagDescription",value:"",placeholder:this.$t("Enter Tag Description"),validationRules:{required:!1}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}],StatusDDL:[{label:"Active",value:1001},{label:"Inactive",value:1002}]}},created(){const t=this;if(t.projectId=t.$route.params.projectId,t.BindStatus(),0==t.Item[0].TAG_ID&&(t.AddTag=!0,t.UpdateTag=!1),t.Item&&t.Item.length>0){var e;t.UpdateTag=!0,t.AddTag=!1;const a=t.Item[0];t.FormSchema[0].Data[0].value=a.TAG_NAME||"",t.FormSchema[0].Data[1].value=(null===(e=a.STATUS_ID)||void 0===e?void 0:e.toString())||"",t.FormSchema[1].Data[0].value=a.TAG_DESC||""}},methods:{BindStatus(){var t=this;t.StatusDDL.forEach(e=>{t.FormSchema[0].Data[1].config.options.push({name:e.label,value:""+e.value})})},onSubmit(){const t=this,e=(t.Item&&t.Item.length>0&&t.Item[0].TagId,{tagId:this.Item&&this.Item.length>0&&this.Item[0].TAG_ID?this.Item[0].TAG_ID:0,tagName:t.FormSchema[0].Data[0].value,tagStatusId:t.FormSchema[0].Data[1].value,tagDesc:t.FormSchema[1].Data[0].value,moduleName:"Company"}),a=JSON.stringify(e);l["a"].SaveTag(a).then(e=>{const a=e.data;if(a&&a.length>0&&"Success"===a[0].Status){const e=t.UpdateTag?t.$t("UpdatedSuccess",[t.$t("Tag")]):t.$t("AddedSuccess",[t.$t("Tag")]);t.ShowAlert(e,"success",!0,t.$t("Alert")),t.$parent.FetchData(),t.Close()}else a&&"Exist"===a[0].Status?t.ShowAlert(t.$t("TagAlreadyExists"),"warning",!0,t.$t("Alert")):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}).catch(()=>{t.ShowAlert(t.$t("ServerError"),"failure",!0,t.$t("Alert"))})},Close(){this.$parent.ShowAddTag=!1}}},r=c,d=a("2877"),u=Object(d["a"])(r,o,n,!1,null,null,null),h=u.exports;let S=[{title:"Add",iconClass:"fa-plus",callbackfunction:"AddTag",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1},{title:"Active",iconClass:"fa fa-check",callbackfunction:"Active",additionalClass:"",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0},{title:"Inactive",iconClass:"fa fa-close",callbackfunction:"Inactive",additionalClass:"",isdisabled:!0,isvisible:!0,isEnabledOnSelectedRow:!0},{id:"DeleteMultiple",title:"Delete",iconClass:"fa-trash-o",isEnabledOnSelectedRow:!0,callbackfunction:"CommonDeleteData",isdisabled:!0,isvisible:!0}],m=[{title:"Edit",callbackfunction:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isvisible:!0,isdisabled:!1}];var g={buttons:S,listActions:m},A={components:{AddTag:h},data(){return{isLoading:!1,ShowAddTag:!1,TagData:[],Item:[],StatusListForListing:[],TotalRecord:0,listheaderbuttons:g.buttons,leftSearchFields:g.leftsearchSchema,listActions:g.listActions,SortExp:"",SortBy:"",PageNumber:1,PageSize:10,CurrentPage:1,StatusListForListing:[{STATUS:"Active",STATUS_ID:1001,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#28a745"},{STATUS:"Inactive",STATUS_ID:1002,STATUS_COLOR:"#ffffff",STATUS_BG_COLOR:"#d72435"}],TotalPages:0,TagId:0,Headers:[{COLUMN_NAME:"TAG_NAME",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Tag Name",DISPLAY_ORDER:1},{COLUMN_NAME:"TAG_DESC",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Description",DISPLAY_ORDER:2},{COLUMN_NAME:"STATUS_ID",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:3,settings:{isInSlot:!0}}]}},async created(){var t=this;await t.FetchData()},methods:{leftCommonSearch(){},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},getStatusClass:function(t){var e="";switch(t){case"Active":e="px-2 text-center bg-success text-white d-block";break;case"Inactive":e="px-2 text-center bg-danger text-white d-block";break;default:e=""}return e},sortdata:function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"AddTag":this.AddTag();break;case"Active":this.Active();break;case"Inactive":this.Inactive();break;case"CommonDeleteData":this.CommonDeleteData();break}},actionButtonClick:function(t,e){var a=this;switch(t){case"Edit":a.Edit(e);break}},AddTag:function(t){var e=this;e.TagId=0,e.ShowAddTag=!0},Edit:function(t){var e=this;e.TagId=null,e.Item=[t],e.ShowAddTag=!0},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Edit":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)}),a},FetchData:async function(){var t=this;t.isLoading=!0;var e=`tagName=&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNumber=${t.PageNumber}&moduleName=`;await l["a"].GetTagList(e).then(e=>{t.TagData=[],""!=e.data&&(t.TagData=e.data,t.TotalRecord=e.data[0].TotalRecord,t.TotalPages=Math.ceil(t.TotalRecord/t.PageSize),t.CurrentPage=t.PageNumber,t.listheaderbuttons[1].isdisabled=!0,t.listheaderbuttons[2].isdisabled=!0,t.listheaderbuttons[3].isdisabled=!0)}),t.isLoading=!1},async changeStatus(t,e){var a=this;a.confirmR(a.$t("Are you sure you want to change the status?"),!0,a.$t("Update")+"  "+a.$t("Group_Item"),(function(){var s="string"===typeof t?t:String(t),i=s.includes(",")?s.split(",").map(t=>t.trim()):[s.trim()];i.forEach(t=>{const s={ID:t,StatusId:e,IsFor:"talygen_tag",Module:"CompanyAdmin",Submodule:"CompanyAdmin"};l["a"].CommonUpdateStatus(s).then(t=>{"Success"===t.data.status?(a.ShowAlert(a.$t("Tag has been successfully updated."),"success",!0,a.$t("Alert")),a.FetchData()):a.ShowAlert(a.$t("An error has occurred while updating Tag. Please retry."),"error",!0,a.$t("Alert")),a.isLoading=!1})})}))},Active:function(){var t=this,e="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),t.changeStatus(e,1001)},Inactive:function(){var t=this,e="";$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){e.length>0&&(e+=","),e+=$(this).val()})),t.changeStatus(e,1002)},CommonDeleteData:function(t){var e=this,a="";e.isLoading=!0,$(".chkItems:checkbox:checked").not("[id^='chkAll']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})),null!=a?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("Project"),(function(){var t={ids:a,moduleName:"Company",subModuleCode:"Company",refCode:"Doc_Tag"},s=JSON.stringify(t);l["a"].CommonCommonDelete(s).then((function(t){e.isLoading=!1,200==t.status?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Tag")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("Tag")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1}}},T=A,b=Object(d["a"])(T,s,i,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0a4fae.js.map