{"version":3,"sources":["webpack:///./src/views/Client/ClientDetails/InvoiceTemplate.vue","webpack:///src/views/Client/ClientDetails/InvoiceTemplate.vue","webpack:///./src/views/Client/ClientDetails/InvoiceTemplate.vue?6644","webpack:///./src/views/Client/ClientDetails/InvoiceTemplate.vue?1788","webpack:///./src/views/Client/ClientDetails/AttachmentList.vue?5cb9","webpack:///./src/views/Client/ClientDetails/PrintInvoiceSlip.vue?97b7","webpack:///./src/views/Client/ClientDetails/InvoiceHistory.vue","webpack:///src/views/Client/ClientDetails/InvoiceHistory.vue","webpack:///./src/views/Client/ClientDetails/InvoiceHistory.vue?eb8f","webpack:///./src/views/Client/ClientDetails/InvoiceHistory.vue?83d7","webpack:///./src/views/Client/ClientDetails/AttachmentList.vue?29a3","webpack:///./src/views/Client/ClientDetails/AttachmentList.vue?7130","webpack:///./src/views/Client/ClientDetails/PrintInvoiceSlip.vue?cc03","webpack:///./src/views/Client/ClientDetails/PrintInvoiceSlip.vue?399d","webpack:///./src/views/Client/ClientDetails/Attachment.vue","webpack:///./src/views/Client/ClientDetails/AttachmentList.vue","webpack:///src/views/Client/ClientDetails/AttachmentList.vue","webpack:///./src/views/Client/ClientDetails/AttachmentList.vue?8ad8","webpack:///./src/views/Client/ClientDetails/AttachmentList.vue?ecdc","webpack:///src/views/Client/ClientDetails/Attachment.vue","webpack:///./src/views/Client/ClientDetails/Attachment.vue?29a4","webpack:///./src/views/Client/ClientDetails/Attachment.vue?54d7","webpack:///./src/views/Client/ClientDetails/InvoicePaySlip.vue","webpack:///./src/views/Client/ClientDetails/PrintInvoiceSlip.vue","webpack:///src/views/Client/ClientDetails/PrintInvoiceSlip.vue","webpack:///./src/views/Client/ClientDetails/PrintInvoiceSlip.vue?1150","webpack:///./src/views/Client/ClientDetails/PrintInvoiceSlip.vue?9583","webpack:///src/views/Client/ClientDetails/InvoicePaySlip.vue","webpack:///./src/views/Client/ClientDetails/InvoicePaySlip.vue?70cc","webpack:///./src/views/Client/ClientDetails/InvoicePaySlip.vue?049e"],"names":["render","_vm","this","_c","_self","attrs","isLoading","staticClass","domProps","_s","parsedHtml","on","printInvoice","_v","$t","downloadInvoice","hitFrom","$event","InvoicebacktoPlanDetails","_e","staticRenderFns","components","VueApexCharts","props","Details","type","Array","required","String","data","invoiceTemplate","imagepath","accountNumber","series","chartOptions","chart","height","toolbar","show","plotOptions","bar","borderRadius","borderRadiusApplication","horizontal","dataLabels","enabled","xaxis","categories","yaxis","title","text","mounted","generateBarcode","renderChart","computed","vm","replace","match","key","setTimeout","accountnumber","trim","console","log","items","itemTemplate","forEach","item","productname","consumption","slabrate","TotalBillingDays","PF","totalamount","value","undefined","adjustment_name","adjustment_percentage","adjustment_amount","bill_number","payment_date","Transaction_Reference_Number","paymentamount","currentchargesitemTemplate","gstitems","currentGSTchargesitemTemplate","discountitems","currentDiscountchargesitemTemplate","currentBarCode","_this$Details$0$total","firstTotalAmount","_this$Details$0$total2","firstGSTTotalAmount","_this$Details$0$total3","firstafterdiscountTotalAmount","itemsSlabs","slabsdetails","srno","slabes","itemsPayment","paymentdetails","paymentdate","nettotal","amountdue","itemsService","servicedetails","ServiceName","Rate","itemsAdjustments","adjustmentsDetails","slab_Unit","status","billnumber","includes","_this$Details$0$meter","firstMeter","_this$Details$0$lastp","lastbillDetails","_this$Details$0$chart","_this$Details$0$meter2","meterreadingDetails","_this$Details$0$Payme","PaymentDetails","paymentterms","symbol","isArray","paymentdetail","term","note","due_date","due_amount","adjustment_operation","created","length","invoice_template","template_content","company_logo","methods","formatAmount","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","JsBarcode","width","displayValue","svgElement","document","getElementById","barcodePngData","querySelectorAll","XMLSerializer","serializeToString","canvas","createElement","ctx","getContext","img","Image","drawImage","base64Image","logoSrc","ConvertLogoBase64","updatedHtml","iframe","style","position","border","body","appendChild","iframeDoc","contentDocument","contentWindow","open","write","close","focus","print","removeChild","src","svgUrl","printInvoiceOld","barcodeImg","onload","logoUrl","params","encodeURIComponent","response","DataServices","getConvertBase64","base64WithPrefix","Error","error","ShowAlert","vueObj","doc","jsPDF","unit","pageWidth","pageHeight","margin","contentWidth","contentHeight","element","innerHTML","boxSizing","padding","elementWidth","offsetWidth","elementHeight","offsetHeight","scaleX","scaleY","scaleFactor","Math","min","images","i","html","x","y","html2canvas","scale","logging","useCORS","callback","save","downloadInvoice111111","tempDiv","setAttribute","promises","from","map","Promise","resolve","complete","onerror","all","then","$emit","$nextTick","querySelector","chartDetails","BillChartData","MonthlySales","push","MonthName","options","name","ApexCharts","component","content","__esModule","default","module","locals","exports","add","Close","InvoiceHistory","MainInvoiceNumber","MainInvoiceIssueDate","MainInvoiceDueDate","$n","MainInvocieNetAmount","$getLocaleByCurrency","CurrencyCode","InvoiceListingGrid","Count","_m","GetUserInfo","Currency","_l","childInvoice","index","BillNumber","BillNetTotal","tofixed","IssueDate","BillDueDate","class","getStatusClass","StatusCode","StatusName","ref","scopedSlots","_u","fn","errors","directives","rawName","comment","expression","textCounter","target","composing","textCountertlength","SaveComment","CommentList","DateGroup","FormatDateToTime","CommnetAt","AVATAR","ContainerName","Comment","CommentByName","BillId","Number","fetchData","DataService","groupedData","groupInvoiceData","grouped","info","invoice","find","g","MainInvoiceId","BILL_ID","MainClientId","BILL_TO","BILL_NUMBER","BILL_NET_TOTAL","Date","DUE_DATE","toLocaleDateString","ISSUE_DATE","MainInvocieAmount","AMOUNT","addInvoiceDetails","ISPARENT","COMMENT","createdDate","CREATED_AT","dateKey","getDate","padStart","toLocaleString","month","getFullYear","existingGroup","group","CLIENT_NAME","UserTypeName","USER_TYPE_NAME","ClientName","ProjectName","PROJECT_NAME","STATUS_NAME","$parent","isInvoiceHistory","Getdate","date","hours","getHours","minutes","getMinutes","ampm","timeString","invoiceId","invoiceNo","clientId","param","JSON","stringify","CommentOnInvoice","Status","notificationData","message","notificationFor","NotificationFor","typeCode","referenceId","InvoiceId","referenceId2","InsertNotification","$refs","commentValidator","reset","statusCode","___CSS_LOADER_API_IMPORT___","MandatoryString","buttons","FormSchema","uploadFile","filteredAttachmentList","attachment","file_name","$options","filters","formatDate","created_at","created_by","getIconClass","Extension","getColorClass","truncate","file_description","downloadAttachment","deleteAttachment","attachment_id","attachmentList","getBillAttachMentList","substring","extension","toLowerCase","GetBillAttachMentList","result","parse","attachmentDetails","file_path","fileLink","href","click","attachmentId","confirmDelete","reject","confirmR","url","DeleteAttachment","Result","AttachmentList","layoutType","Data","astype","label","placeholder","config","validationRules","max","showLabel","FieldIndex","maxSize","accept","fileType","iconClass","onDeleteSelectedFiles","onChange","GetBase64String","showSelectedFiles","showAddIcon","onAddButtonClick","AddFileMore","multiple","rows","onClick","isAttachment","$delete","evt","fileData","f","files","reader","FileReader","theFile","e","binaryData","base64StringEncoded","window","btoa","fileName","n","lastIndexOf","extensionName","fileExt","attachemnetMime","size","fileSize","fileObj","attachement_mime","base64String","contentType","readAsBinaryString","ex","obj","file_Name","FileName","file_Description","Description","invoice_id","formData","FormData","append","SaveBillAttachment","fileForm","validateForm","staticStyle","transaction_history","transaction","formatDateTime","bill_record_amount","PaymentStatus","transaction_ref_id","Payment_Mode","PrintPaySlip","bill_record_id","IsPrint","BillRecordData","CompanyLogo","CompanyName","CompanyAddress","CompanyZipCode","CompanyCountry","BillTo","address","Billno","Billrecordid","PaymentMode","PreviousPayment","BillAmount","TransactionRefNumber","TotalAmount","Object","InvoiceDate","Notes","FetchData","formatFullAddress","user_address_1","user_address_2","user_state","country_name","user_zipcode","filter","part","join","company_name","company_address","company_zipcode","company_country","TotalAmountRecived","Bill_number","divId","printContents","styles","outerHTML","remove","invoicedate","mode","GetInvoicePaymentDetails","isPaySlip","InvoiceRecordId","GetInvoicePaymentRecord"],"mappings":"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","file":"js/chunk-3464d8e4.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"col-12 p-4 border mt-2 float-left w-100\",domProps:{\"innerHTML\":_vm._s(_vm.parsedHtml)}}),_c('div',{staticClass:\"search-btm-btn text-right mt-4\"},[_c('a',{staticClass:\"btn btn-success mr-2\",attrs:{\"href\":\"javascript:;\",\"title\":\"\"},on:{\"click\":_vm.printInvoice}},[_c('i',{staticClass:\"fa fa-print pr-2\"}),_vm._v(_vm._s(_vm.$t(\"Print\")))]),_c('a',{staticClass:\"btn btn-info mr-2\",attrs:{\"href\":\"javascript:;\",\"title\":\"\"},on:{\"click\":_vm.downloadInvoice}},[_c('i',{staticClass:\"fa fa-download pr-2\"}),_vm._v(_vm._s(_vm.$t(\"DownloadInvoice\")))]),(_vm.hitFrom != 'SubscriptionList')?_c('a',{staticClass:\"btn btn-danger\",attrs:{\"href\":\"javascript:;\",\"title\":\"\"},on:{\"click\":function($event){return _vm.InvoicebacktoPlanDetails()}}},[_c('i',{staticClass:\"fa fa-cancel pr-2\"}),_vm._v(_vm._s(_vm.$t(\"BacktoList\")))]):_vm._e()])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section>\r\n    <loader :is-visible=\"isLoading\"></loader>\r\n    <!-- Dynamically render the invoice template -->\r\n    <div v-html=\"parsedHtml\" class=\" col-12 p-4 border mt-2 float-left w-100\"></div>\r\n\r\n    <!-- Buttons for actions -->\r\n\r\n    <div class=\"search-btm-btn text-right mt-4\">\r\n      <a href=\"javascript:;\" @click=\"printInvoice\" class=\"btn btn-success mr-2\" title=\"\"><i\r\n          class=\"fa fa-print pr-2\"></i>{{ $t(\"Print\") }}</a>\r\n      <a href=\"javascript:;\" @click=\"downloadInvoice\" class=\"btn btn-info mr-2\" title=\"\"><i\r\n          class=\"fa fa-download pr-2\"></i>{{ $t(\"DownloadInvoice\") }}</a>\r\n      <a v-if=\"hitFrom != 'SubscriptionList'\" href=\"javascript:;\" @click=\"InvoicebacktoPlanDetails()\"\r\n        class=\"btn btn-danger\" title=\"\"><i class=\"fa fa-cancel pr-2\"></i>{{ $t(\"BacktoList\") }}</a>\r\n    </div>\r\n\r\n\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { jsPDF } from \"jspdf\";\r\nimport JsBarcode from \"jsbarcode\";\r\nimport VueApexCharts from 'vue-apexcharts';\r\nimport DataServices from \"../../../services/DataService\";\r\nexport default {\r\n  components: {\r\n    VueApexCharts\r\n  },\r\n  props: {\r\n    Details: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    hitFrom: {\r\n      type: String,\r\n      required: true,\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      invoiceTemplate: '',\r\n      isLoading: false,\r\n      imagepath: '',\r\n      accountNumber: '',\r\n      series: [{ data: [400, 430, 448, 470, 540, 580, 690, 1100, 1200, 1380] }],\r\n      chartOptions: {\r\n        chart: {\r\n          type: 'bar',\r\n          height: 250,\r\n          toolbar: {\r\n            show: false\r\n          }\r\n        },\r\n        plotOptions: {\r\n          bar: {\r\n            borderRadius: 4,\r\n            borderRadiusApplication: 'end',\r\n            horizontal: false,\r\n          }\r\n        },\r\n        dataLabels: {\r\n          enabled: false\r\n        },\r\n        xaxis: {\r\n          categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],\r\n\r\n        },\r\n        yaxis: {\r\n          title: {\r\n            text: 'Average Kwh/day', // Change this to your desired title\r\n          }\r\n        },\r\n        //  title: {\r\n        //         text: 'Title of the Chart',\r\n        //         align: 'center'\r\n        //     }\r\n\r\n      }\r\n    };\r\n  },\r\n\r\n  mounted() {\r\n    this.generateBarcode();\r\n    this.renderChart();\r\n  },\r\n  computed: {\r\n    parsedHtml() {\r\n\r\n      let vm = this;\r\n      vm.isLoading = true;\r\n\r\n      if (!vm.invoiceTemplate) {\r\n        vm.isLoading = false;\r\n        return \"<p>Template not available</p>\";\r\n      }\r\n\r\n      return vm.invoiceTemplate.replace(/\\{\\{(.*?)\\}\\}/g, (match, key) => {\r\n\r\n        setTimeout(() => {\r\n          this.isLoading = false;\r\n        }, 1000); // Hides after 2 seconds\r\n        vm.accountNumber = this.Details[0].accountnumber\r\n        if (key.trim() == \"items\") {\r\n\r\n          console.log('items match found', match)\r\n          let items = this.Details[0][\"itemlist\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n              itemTemplate += \"<tr><td>\" + item.productname + \"</td><td style='text-align:center;'>\" + item.consumption + \"</td><td>\" + item.slabrate +\r\n                \"</td><td>\" + item.TotalBillingDays + \"</td><td>\" + item.PF + \"</td><td>\" + item.totalamount + \"</td></tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"itemsutilitybilling\") {\r\n          //debugger;\r\n          // console.log('items match found', match)\r\n          let items = this.Details[0][\"itemlist\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n              itemTemplate += \"<tr><td>\" + item.productname + \"</td><td style='text-align:center;'>\" + item.consumption + \"</td><td>\" + item.slabrate + \"</td><td>\" +\r\n                item.totalamount + \"</td></tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n\r\n        else if (key.trim() == \"ItemBillingService\") {\r\n          //debugger;\r\n          // console.log('items match found', match)\r\n          let items = this.Details[0][\"BillServiceData\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n              itemTemplate += \"<tr>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px;'>\" +\r\n                item.productname +\r\n                \"</td><td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right; '>\" +\r\n                item.consumption +\r\n                \"</td><td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right; '>\"\r\n                + item.slabrate +\r\n                \"</td><td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right; '>\" +\r\n                item.totalamount + \"</td></tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n\r\n        else if (key.trim() == \"ItemBillingSubsidy\") {\r\n          //debugger;\r\n          // console.log('items match found', match)\r\n          let items = this.Details[0][\"BillSubsidyData\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n              itemTemplate += \"<tr>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px;'>\" +\r\n                item.productname +\r\n                \"</td><td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'>\" +\r\n                item.consumption +\r\n                \"</td><td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right; '>\"\r\n                + item.slabrate +\r\n                \"</td><td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'>\" +\r\n                item.totalamount + \"</td></tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n\r\n        else if (key.trim() == \"ItemBillingTax\") {\r\n          //debugger;\r\n          // console.log('items match found', match)\r\n          let items = this.Details[0][\"BillTaxData\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n\r\n              itemTemplate += \"<tr>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px;'>\" +\r\n                item.adjustment_name + \" (\" + item.adjustment_percentage + \")\" +\r\n                \"</td>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'></td>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'></td>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'>\" +\r\n                item.adjustment_amount +\r\n                \"</td>\" +\r\n                \"</tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n\r\n        else if (key.trim() == \"ItemLastPayment\") {\r\n          //debugger;\r\n          // console.log('items match found', match)\r\n          let items = this.Details[0][\"SomeLastPayment\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n              itemTemplate +=\r\n                \"<tr>\" +\r\n              \"<td style='vertical-align: top; font-size: 13px; line-height: 18px;'>\" +\r\n                item.bill_number +\r\n                \"</td>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px;'>\" +\r\n                item.payment_date +\r\n                \"</td>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'>\" +\r\n                item.Transaction_Reference_Number +\r\n                \"</td>\" +\r\n                \"<td style='vertical-align: top; font-size: 13px; line-height: 18px; text-align: right;'>\" +\r\n                item.paymentamount +\r\n                \"</td>\" +\r\n                \"</tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n\r\n        /*Start Code Electric Meter Invoice Template Dated: 10 March-2025  */\r\n        else if (key.trim() == \"currentchargesitems\") {\r\n          //console.log('item match found',match)\r\n          let items = this.Details[0][\"itemlist\"];\r\n          if (items != null) {\r\n            let currentchargesitemTemplate = \"<div class='payment-advice'><table width='100%' border='0' cellpadding='0' cellspacing='0'><tbody>  \";\r\n            items.forEach(function (item) {\r\n              currentchargesitemTemplate += \"<tr><td style='padding:5px;'>\" + item.productname + \"</td><td style='text-align:right;'>\" + item.totalamount + \"</td></tr>\";\r\n            })\r\n\r\n            currentchargesitemTemplate += \" </tbody></table></div>\";\r\n            const value = currentchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"currentchargesGSTitems\") {\r\n          //console.log('item match found',match)\r\n          let gstitems = this.Details[0][\"GSTitemlist\"];\r\n          if (gstitems != null) {\r\n            let currentGSTchargesitemTemplate = \" \";\r\n            gstitems.forEach(function (item) {\r\n              currentGSTchargesitemTemplate += \"<td style='padding:10px 10px 0px 10px;font-size: 0.9em;font-weight:600;border:none;'>\" + item.productname + \"</td><td style='text-align:right;font-size:0.9em;font-weight:600;padding:10px 5px 0px 10px;border:none;'>\" + item.totalamount + \"</td>\";\r\n            })\r\n            //currentchargesitemTemplate+=\" </tbody></table></div>\";\r\n            const value = currentGSTchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"currentTaxItems\") {\r\n          //console.log('item match found',match)\r\n          let gstitems = this.Details[0][\"GSTitemlist\"];\r\n          if (gstitems != null) {\r\n            let currentGSTchargesitemTemplate = \" \";\r\n            gstitems.forEach(function (item) {\r\n              currentGSTchargesitemTemplate += \"<td style='padding:10px 10px 0px 10px;font-size: 0.9em;font-weight:600;border:none;'>\" + item.productname + \"</td><td style='text-align:right;font-size:0.9em;font-weight:600;padding:10px 5px 0px 10px;border:none;'>\" + item.totalamount + \"</td>\";\r\n            })\r\n            //currentchargesitemTemplate+=\" </tbody></table></div>\";\r\n            const value = currentGSTchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"currentchargesDiscountitems\") {\r\n          //console.log('item match found',match)\r\n          let discountitems = this.Details[0][\"Discountitemlist\"];\r\n          if (discountitems != null) {\r\n            let currentDiscountchargesitemTemplate = \" \";\r\n            discountitems.forEach(function (item) {\r\n              currentDiscountchargesitemTemplate += \"<td style='padding:10px 10px 0px 10px;font-size: 0.9em;font-weight:600;border:none; '>\" + item.productname + \"</td><td style='text-align:right;font-size: 0.9em;font-weight:600;padding:10px 5px 0px 10px;border:none;'>\" + item.totalamount + \"</td>\";\r\n            })\r\n\r\n            const value = currentDiscountchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"currentDiscountItems\") {\r\n          let discountitems = this.Details[0][\"Discountitemlist\"];\r\n          if (discountitems != null) {\r\n            let currentDiscountchargesitemTemplate = \" \";\r\n            discountitems.forEach(function (item) {\r\n              currentDiscountchargesitemTemplate += \"<td style='padding:10px 10px 0px 10px;font-size: 0.9em;font-weight:600;border:none; '>\" + item.productname + \"</td><td style='text-align:right;font-size: 0.9em;font-weight:600;padding:10px 5px 0px 10px;border:none;'>\" + item.totalamount + \"</td>\";\r\n            })\r\n\r\n            const value = currentDiscountchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"discountItems\") {\r\n\r\n          // debugger\r\n          let discountitems = this.Details[0][\"discountitemlist\"];\r\n          if (discountitems != null) {\r\n            let currentDiscountchargesitemTemplate = \" \";\r\n            discountitems.forEach(function (item) {\r\n              currentDiscountchargesitemTemplate += \"<table width='100%'><tr><td style='padding:10px 10px 0px 10px;font-size: 0.9em;font-weight:600;border:none; '>\" + item.productname + \"</td><td style='width:200px; text-align:right;font-size: 0.9em;font-weight:400;padding:10px 5px 0px 10px;border:none;'>\" + item.slabrate + \"</td></tr></table>\";\r\n            })\r\n\r\n            const value = currentDiscountchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"taxItems\") {\r\n\r\n          //debugger\r\n          let discountitems = this.Details[0][\"taxItems\"];\r\n          if (discountitems != null) {\r\n            let currentDiscountchargesitemTemplate = \" \";\r\n            discountitems.forEach(function (item) {\r\n              currentDiscountchargesitemTemplate += \"<table width='100%'><tr><td style='padding:10px 10px 0px 10px;font-size: 0.9em;font-weight:600;border:none; '>\" + item.productname + \"</td><td style='width:200px; text-align:right;font-size: 0.9em;font-weight:400;padding:10px 5px 0px 10px;border:none;'>\" + item.slabrate + \"</td></tr></table>\";\r\n            })\r\n\r\n            const value = currentDiscountchargesitemTemplate;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() === \"chart\") {\r\n          return `<div id='invoiceChart'></div>`; // Placeholder for chart\r\n        }\r\n        else if (key.trim() == \"barcode\") {\r\n\r\n          let currentBarCode = \"\";\r\n\r\n          currentBarCode += \"<svg id='accountNoBarCode'></svg>\";\r\n          const value = currentBarCode;\r\n          return value !== undefined ? value : match;\r\n        }\r\n\r\n\r\n        else if (key.trim() == \"totalitemamount\") {\r\n          const firstTotalAmount = this.Details[0][\"totalitemsamount\"]?.[0]; // Get first meterreading object safely\r\n          if (firstTotalAmount) {\r\n            const value = firstTotalAmount[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          }\r\n\r\n        }\r\n        else if (key.trim() == \"totalAmountAfterGST\") {\r\n          const firstGSTTotalAmount = this.Details[0][\"totalAmountsAfterGST\"]?.[0]; // Get first meterreading object safely\r\n          if (firstGSTTotalAmount) {\r\n            const value = firstGSTTotalAmount[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"totalAmountAfterDiscount\") {\r\n\r\n          const firstafterdiscountTotalAmount = this.Details[0][\"totalAmountsAfterDiscount\"]?.[0]; // Get first meterreading object safely\r\n\r\n          if (firstafterdiscountTotalAmount) {\r\n            const value = firstafterdiscountTotalAmount[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          }\r\n        }\r\n\r\n\r\n        else if (key.trim() == \"slabs\") {\r\n\r\n          let itemsSlabs = this.Details[0][\"slabdetails\"];\r\n\r\n          let slabsdetails = \"\";\r\n          if (itemsSlabs != null) {\r\n            itemsSlabs.forEach(function (item) {\r\n              slabsdetails += \"<tr><td>\" + item.srno + \"</td><td>\" + item.slabes + \"</td><td>\" + item.slabrate + \"</td></tr>\";\r\n            })\r\n\r\n            const value = slabsdetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \" <tr><td> No Records Found  </td></tr>  \";\r\n          }\r\n        }\r\n        else if (key.trim() == \"paymenthistory\") {\r\n          let itemsPayment = this.Details[0][\"paymenthistory\"];\r\n          let paymentdetails = \"\";\r\n          if (itemsPayment != null) {\r\n            itemsPayment.forEach(function (item) {\r\n              paymentdetails += \"<tr><td>\" + item.paymentdate + \"</td><td style='text-align: right;'>\" + item.consumption + \"</td><td style='text-align: right;'>\" + item.nettotal + \"</td><td style='text-align: right;'>\" + item.amountdue + \"</td><td style='text-align: right;'>\" + item.paymentamount + \"</td></tr>\";\r\n            })\r\n\r\n            const value = paymentdetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \" <tr><td colspan='5' align='center' style='color:#ad0101; text-align:center;'> No Records Found  </td></tr>  \";\r\n          }\r\n\r\n        }\r\n        else if (key.trim() == \"servicedetails\") {\r\n          let itemsService = this.Details[0][\"servicedetails\"];\r\n\r\n          let servicedetails = \"\";\r\n          if (itemsService != null) {\r\n            itemsService.forEach(function (item) {\r\n              servicedetails += \"<tr><td>\" + item.ServiceName + \"</td><td style='text-align: right;'>\" + item.Rate + \"</td></tr>\";\r\n            })\r\n\r\n            const value = servicedetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n          }\r\n        }\r\n        else if (key.trim() == \"GST_Adjustment\") {\r\n\r\n          let itemsAdjustments = this.Details[0][\"adjustments\"];\r\n\r\n\r\n          let adjustmentsDetails = \"\";\r\n          if (itemsAdjustments != null) {\r\n            itemsAdjustments.forEach(function (item) {\r\n              adjustmentsDetails += \"<tr><td>\" + item.adjustment_name + \" :\" + \"</td><td style='text-align: right;'>\" + item.adjustment_amount + \"</td></td></tr>\";\r\n            })\r\n\r\n            const value = adjustmentsDetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n        }\r\n\r\n        else if (key.trim() == \"slab_Unit\") {\r\n          let itemsService = this.Details[0][\"slabdatadetails\"];\r\n          let slab_Unit = \"\";\r\n          if (itemsService != null) {\r\n            itemsService.forEach(function (item) {\r\n              slab_Unit += item.slabrate;\r\n            })\r\n\r\n            const value = slab_Unit;\r\n            return value !== undefined ? value : match;\r\n          }\r\n        }\r\n        else if (key.trim() == \"transaction_history\") {\r\n\r\n          let itemsPayment = this.Details[0][\"transaction_history\"];\r\n\r\n          let paymentdetails = \"\";\r\n          if (itemsPayment != null) {\r\n            itemsPayment.forEach(function (item) {\r\n              paymentdetails += `<tr> <td bgcolor=\"#fff\" align=\"left\" valign=\"top\" style=\"vertical-align: top; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 0.9em;text-align:left;width:150px\"> ${item.paymentdate}</td>\r\n                <td bgcolor=\"#fff\" align=\"left\" valign=\"top\" style=\"vertical-align: top; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 0.9em;text-align:left;width:150px\">${item.paymentamount}</td>\r\n                <td bgcolor=\"#fff\" align=\"left\" valign=\"top\" style=\"vertical-align: top; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 0.9em;text-align:left;width:150px\">${item.status}</td>\r\n              </tr>`;\r\n            })\r\n\r\n            const value = paymentdetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \" <tr><td colspan='5' align='center' style='color:#ad0101; text-align:center;'> No Records Found  </td></tr>  \";\r\n          }\r\n\r\n        }\r\n\r\n        else if (key.trim() == \"transaction_data\") {\r\n          let itemsPayment = this.Details[0][\"transaction_data\"];\r\n\r\n          let paymentdetails = \"\";\r\n          if (itemsPayment != null) {\r\n            itemsPayment.forEach(function (item) {\r\n              paymentdetails += `<tr> <td bgcolor=\"#fff\" align=\"left\" valign=\"top\" style=\"vertical-align: top; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 0.9em;text-align:left;width:150px\"> ${item.paymentdate}</td>\r\n                <td bgcolor=\"#fff\" align=\"left\" valign=\"top\" style=\"vertical-align: top; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 0.9em;text-align:left;width:150px\">${item.billnumber}</td>\r\n                <td bgcolor=\"#fff\" align=\"left\" valign=\"top\" style=\"vertical-align: top; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 0.9em;text-align:left;width:150px\">${item.paymentamount}</td>\r\n              </tr>`;\r\n            })\r\n\r\n            const value = paymentdetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \" <tr><td colspan='5' align='center' style='color:#ad0101; text-align:center;'> No Records Found  </td></tr>  \";\r\n          }\r\n\r\n        }\r\n\r\n\r\n        else if (key.trim() == \"adjustments\") {\r\n\r\n          let itemsAdjustments = this.Details[0][\"adjustments\"];\r\n\r\n\r\n          let adjustmentsDetails = \"\";\r\n          if (itemsAdjustments != null) {\r\n            itemsAdjustments.forEach(function (item) {\r\n\r\n              adjustmentsDetails += \"<tr><td colspan='3' style='text-align: right; vertical-align: middle; font-size: 0.9em; font-weight: bold; font-family: Arial, Helvetica, sans-serif;'>\" + item.adjustment_name + \" :\" + \"</td><td style='padding-right: 10px; text-align: right; vertical-align: middle; font-size: 0.9em; width: 173px; font-family: Arial, Helvetica, sans-serif;'>\" + item.adjustment_amount + \"</td></td></tr>\";\r\n            })\r\n\r\n            const value = adjustmentsDetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n        }\r\n        else if ([\"meterno\", \"currentreading\", \"previousreading\", \"difference\", \"readingdate\", \"billdays\", \"multiplyfactor\", \"consumption\", \"billedunit\", \"sanctionedload\", \"meterreadingstartdate\", \"meterreadingenddate\", \"readingdifference\", \"metertype\", \"meterrate\" , \"statuscode\" , \"Energisation_Date\"].includes(\r\n          key.trim()\r\n        )\r\n        ) {\r\n          const firstMeter = this.Details[0][\"meterreading\"]?.[0]; // Get first meterreading object safely\r\n          console.log(\"First meter reading:\", firstMeter);\r\n\r\n          if (firstMeter != null) {\r\n            const value = firstMeter[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          } else {\r\n            return \"\"; // Return empty if no meter reading exists\r\n          }\r\n        }\r\n        else if (\r\n          [\"lastbillamount\", \"paymentamount\", \"additional_activity\", \"balancebeforenewcharges\", \"newcharges\", \"newchargesdueby\", \"amount_of_last_bill\", \"payment_received\", \"balance_before_new_charges\", \"DueAmountNew\", \"payment_date\"].includes(\r\n            key.trim()\r\n          )\r\n        ) {\r\n          const lastbillDetails = this.Details[0][\"lastpaymentdetails\"]?.[0]; // Get first meterreading object safely\r\n\r\n\r\n          if (lastbillDetails != null) {\r\n            const value = lastbillDetails[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          } else {\r\n            return \"\"; // Return empty if no meter reading exists\r\n          }\r\n        }\r\n\r\n        else if (\r\n          [\"month_names\", \"monthly_consumption\", \"monthly_cost\", \"year\", \"next_year\"].includes(\r\n            key.trim()\r\n          )\r\n        ) {\r\n          const lastbillDetails = this.Details[0][\"chartdetails\"]?.[0]; // Get first meterreading object safely\r\n\r\n\r\n          if (lastbillDetails != null) {\r\n            const value = lastbillDetails[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          } else {\r\n            return \"\"; // Return empty if no meter reading exists\r\n          }\r\n        }\r\n\r\n        else if ([\"current_year_consumption\", \"last_year_consumption\", \"current_year_service_days\", \"last_year_service_days\", \"current_year_per_day_consumption\", \"last_year_per_day_consumption\", \"current_year_per_day_cost\", \"last_year_per_day_cost\", \"current_year\", \"last_year\"].includes(key.trim())) {\r\n          const meterreadingDetails = this.Details[0][\"meterreadingdetails\"]?.[0]; // Get first meterreading object safely\r\n\r\n\r\n          if (meterreadingDetails != null) {\r\n            const value = meterreadingDetails[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          } else {\r\n            return \"\"; // Return empty if no meter reading exists\r\n          }\r\n        }\r\n        else if ([\"paymentamount\", \"amountdue\", \"nettotal\", \"allamountdue\", \"totalbalance\", \"balencebeforenewchrge\", \"totaldueafterall\", \"RemainingDue\"].includes(key.trim())) {\r\n\r\n          const PaymentDetails = this.Details[0][\"PaymentDetails\"]?.[0]; // Get first meterreading object safely\r\n\r\n\r\n          if (PaymentDetails != null) {\r\n            const value = PaymentDetails[key.trim()];\r\n            return value !== undefined && value !== null ? value : \"\";\r\n          } else {\r\n            return \"\"; // Return empty if no meter reading exists\r\n          }\r\n        }\r\n        /*End Code Electric Meter Invoice Template Dated: 10 March-2025  */\r\n\r\n        else if (key.trim() == \"paymentterms\") {\r\n\r\n          let paymentterms = this.Details[0][\"paymentterms\"];\r\n          let symbol = this.Details[0][\"symbol\"];\r\n          if (paymentterms && Array.isArray(paymentterms)) {\r\n            //console.log('payment terms', paymentterms);\r\n\r\n            let paymentdetail = \"<div class='payment-advice'><h4 style='border-top: 1px #ccc dashed; padding: 20px 0 0 0;''>Payment Terms</h3> <table width='100%'><thead><tr><th style='text-align:center;'>Description</th><th style='text-align:center;'>Due Date</th><th style='text-align:right;'>Amount (\" + symbol + \" )</th></tr></thead><tbody>  \";\r\n\r\n            paymentterms.forEach(function (term) {\r\n              paymentdetail += \"<tr><td style='text-align:center;'> \" + term.note + \"</td><td style='text-align:center;'>\" + term.due_date + \"</td><td>\" + term.due_amount + \"</td></tr>\"\r\n            })\r\n            paymentdetail += \" </tbody></table></div>\";\r\n            const value = paymentdetail;\r\n\r\n            //console.log ('value ', value);\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            console.log('No payment terms available');\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"itemspostpaid\") {\r\n\r\n          //debugger\r\n          console.log('item match found', match)\r\n          let items = this.Details[0][\"itemlist\"];\r\n          let itemTemplate = \"\"\r\n          if (items != null) {\r\n            items.forEach(function (item) {\r\n              itemTemplate += \"<tr><td>\" + item.productname + \"</td><td>\" + item.consumption + \"</td><td>\" + item.slabrate + \"</td></tr>\";\r\n            })\r\n            const value = itemTemplate;\r\n\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else if (key.trim() == \"discounttaxadjustments\") {\r\n\r\n          //debugger\r\n          let itemsAdjustments = this.Details[0][\"adjustments\"];\r\n\r\n\r\n          let adjustmentsDetails = \"\";\r\n          let type = \"\";\r\n          if (itemsAdjustments != null) {\r\n            itemsAdjustments.forEach(function (item) {\r\n              if (item.adjustment_operation == 1) {\r\n                type = \"tax\"\r\n              }\r\n              else {\r\n                type = \"discount\"\r\n              }\r\n              adjustmentsDetails += \"<table width='100%'><tr><td style='padding:0px;font-size: 14px;border:none; '>\" + item.adjustment_name + \"</td><td style='width:80px; text-align:right;font-size: 14px;font-weight:400;padding:0px;border:none;'>\" + item.adjustment_amount + \"</td></tr></table>\";\r\n            })\r\n\r\n            const value = adjustmentsDetails;\r\n            return value !== undefined ? value : match;\r\n          }\r\n          else {\r\n            return \"\";\r\n          }\r\n        }\r\n        else {\r\n          const value = this.Details[0][key.trim()];\r\n          return value !== undefined ? value : match;\r\n        }\r\n        vm.isLoading = false;\r\n\r\n      });\r\n\r\n      vm.isLoading = false;\r\n    }\r\n  },\r\n\r\n  created() {\r\n    console.log(\"this.Details\", this.Details)\r\n    console.log(\"meter reading\", this.Details[0][\"items\"])\r\n    console.log(\"amountNo\", this.Details.accountnumber)\r\n    if (this.Details.length > 0 && this.Details[0].invoice_template[0]) {\r\n      this.invoiceTemplate = this.Details[0].invoice_template[0].template_content;\r\n\r\n      this.imagepath = this.Details.company_logo;\r\n      this.generateBarcode();\r\n    }\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    formatAmount(value) {\r\n      return new Intl.NumberFormat('en-IN', {\r\n        minimumFractionDigits: 2,\r\n        maximumFractionDigits: 2\r\n      }).format(value);\r\n    },\r\n    generateBarcode() {\r\n\r\n      //JsBarcode(\"#accountNoBarCode\", this.accountNumber);\r\n      if (this.accountNumber) {\r\n        JsBarcode(\"#accountNoBarCode\", this.accountNumber, {\r\n          format: \"code39\", height: 30,\r\n          width: 2, displayValue: false\r\n        });\r\n      }\r\n    },\r\n\r\n    async printInvoice() {\r\n      //debugger;\r\n      const svgElement = document.getElementById(\"accountNoBarCode\"); // SVG Barcode\r\n\r\n      const logoElement = document.querySelectorAll('img');\r\n\r\n      //if (!svgElement || !logoElement) {\r\n      //console.error(\"SVG barcode or logo image not found.\");\r\n      //return;\r\n      //}\r\n\r\n      // Convert SVG to PNG\r\n      const barcodePngData = \"\";\r\n      if (svgElement != null) {\r\n        const svgData = new XMLSerializer().serializeToString(svgElement);\r\n      }\r\n      const canvas = document.createElement(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const img = new Image();\r\n\r\n      //img.onload = () => {\r\n      canvas.width = img.width;\r\n      canvas.height = img.height;\r\n      ctx.drawImage(img, 0, 0);\r\n      //if(svgElement!=null)\r\n      //{\r\n      //barcodePngData = canvas.toDataURL(\"image/png\"); // SVG  PNG\r\n      //}\r\n\r\n\r\n      // Ensure logo image is included in the print HTML\r\n      //const logoSrc = logoElement.src; // Get logo image source\r\n      let base64Image = \"\";\r\n      const match = this.parsedHtml.match(/<img[^>]*src=[\"']([^\"']+)[\"'][^>]*>/i);\r\n      if (match) {\r\n        const logoSrc = match[1]; //  This is the logo URL\r\n        if (logoSrc) {\r\n          base64Image = await this.ConvertLogoBase64(logoSrc);\r\n        }\r\n      }\r\n\r\n      let updatedHtml = \"\";\r\n      // Replace SVG with PNG inside the invoice HTML\r\n      if (svgElement != null) {\r\n        updatedHtml = this.parsedHtml\r\n          .replace(/<svg.*?<\\/svg>/s, `<img src=\"${barcodePngData}\" style=\"max-width: 100%;\" />`)\r\n          .replace(/<img id=\"invoiceLogo\".*?>/s, `<img src=\"${base64Image}\" style=\"max-width: 150px;\" />`);\r\n      }\r\n      else {\r\n        updatedHtml = this.parsedHtml.replace(/<img id=\"invoiceLogo\".*?>/s, `<img src=\"${base64Image}\" style=\"max-width: 150px;\" />`);\r\n      }\r\n\r\n\r\n      // Match the <img> tag with id=\"invoiceLogo\"\r\n\r\n\r\n      // Create an iframe for printing\r\n      const iframe = document.createElement(\"iframe\");\r\n      iframe.style.position = \"absolute\";\r\n      iframe.style.width = \"0\";\r\n      iframe.style.height = \"0\";\r\n      iframe.style.border = \"none\";\r\n\r\n      document.body.appendChild(iframe);\r\n\r\n      const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;\r\n\r\n      iframeDoc.open();\r\n      iframeDoc.write(`\r\n      <!DOCTYPE html>\r\n      <html>\r\n        <head>\r\n          <title>Invoice</title>\r\n          <style>\r\n            body { font-family: Arial, sans-serif; margin: 20px; }\r\n            table { width: 100%; border-collapse: collapse; margin-top: 20px; }\r\n            th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\r\n            img { display: block; margin-bottom: 10px; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          ${updatedHtml}\r\n        </body>\r\n      </html>\r\n    `);\r\n      iframeDoc.close();\r\n\r\n      // const barcodeImg = iframeDoc.getElementById(\"barcodeImage\");\r\n      // console.log(\"barcodeImg\",barcodeImg)\r\n      //if (barcodeImg) {\r\n      // barcodeImg.onload = () => {\r\n\r\n      // iframe.contentWindow.focus();\r\n      // iframe.contentWindow.print();\r\n      //setTimeout(() => document.body.removeChild(iframe), 1000);\r\n      //};\r\n      //} \r\n      //else {\r\n      // Fallback if barcode image is not found\r\n      iframe.contentWindow.focus();\r\n      iframe.contentWindow.print();\r\n      setTimeout(() => document.body.removeChild(iframe), 500);\r\n      //}\r\n      //};\r\n\r\n      img.src = svgUrl;\r\n\r\n\r\n\r\n    },\r\n    printInvoiceOld() {\r\n      const iframe = document.createElement('iframe');\r\n      iframe.style.position = 'absolute';\r\n      iframe.style.width = '0';\r\n      iframe.style.height = '0';\r\n      iframe.style.border = 'none';\r\n\r\n      document.body.appendChild(iframe);\r\n\r\n      const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;\r\n      iframeDoc.open();\r\n      iframeDoc.write(`\r\n          <!DOCTYPE html>\r\n          <html>\r\n            <head>\r\n              <title>Invoice</title>\r\n              <style>\r\n                body { font-family: Arial, sans-serif; margin: 20px; }\r\n                table { width: 100%; border-collapse: collapse; margin-top: 20px; }\r\n                th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\r\n              </style>\r\n            </head>\r\n            <body>\r\n              ${this.parsedHtml}\r\n            </body>\r\n          </html>\r\n        `);\r\n      iframeDoc.close();\r\n\r\n      const barcodeImg = iframeDoc.getElementById(\"barcodeImage\");\r\n\r\n      if (barcodeImg) {\r\n        barcodeImg.onload = () => {\r\n\r\n          iframe.contentWindow.focus();\r\n          iframe.contentWindow.print();\r\n          setTimeout(() => document.body.removeChild(iframe), 1000);\r\n        };\r\n      } else {\r\n        // Fallback if barcode image is not found\r\n        iframe.contentWindow.focus();\r\n        iframe.contentWindow.print();\r\n        setTimeout(() => document.body.removeChild(iframe), 1000);\r\n      }\r\n    },\r\n    async ConvertLogoBase64(logoUrl) {\r\n      try {\r\n        let params = `imageUrl=${encodeURIComponent(logoUrl)}`;\r\n        const response = await DataServices.getConvertBase64(params);\r\n        //debugger;\r\n        if (response.status === 200 && response.data && response.data.base64Image) {\r\n          // Return with proper prefix for direct <img> usage\r\n          const base64WithPrefix = response.data.base64Image;\r\n          //this.logoBase64 = base64WithPrefix;\r\n\r\n          return base64WithPrefix;\r\n        } else {\r\n          throw new Error(\"Invalid Base64 response\");\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error converting logo:\", error);\r\n        this.ShowAlert(this.$t(\"UnknownErrorOccur\"), \"failure\", true, this.$t(\"Alert\"));\r\n        return null;\r\n      }\r\n    },\r\n\r\n    async downloadInvoice() {\r\n      //debugger;\r\n      var vueObj = this;\r\n      vueObj.isLoading = true;\r\n\r\n      const doc = new jsPDF({\r\n        unit: 'mm',\r\n        format: 'a4',\r\n      });\r\n\r\n      const pageWidth = 210;\r\n      const pageHeight = 297;\r\n      const margin = 5;\r\n      const contentWidth = pageWidth - 2 * margin;\r\n      const contentHeight = pageHeight - 2 * margin;\r\n\r\n      // Create a temporary div to hold the dynamic HTML content\r\n      const element = document.createElement('div');\r\n      element.innerHTML = this.parsedHtml;\r\n      element.style.width = `${contentWidth}mm`;\r\n      element.style.height = 'auto';\r\n      element.style.boxSizing = 'border-box';\r\n      element.style.padding = '10mm';\r\n\r\n      document.body.appendChild(element);\r\n\r\n      const elementWidth = element.offsetWidth;\r\n      const elementHeight = element.offsetHeight;\r\n\r\n      const scaleX = contentWidth / elementWidth;\r\n      const scaleY = contentHeight / elementHeight;\r\n      const scaleFactor = Math.min(scaleX, scaleY);\r\n      //debugger;\r\n      // Ensure images are loaded and convert them to Base64\r\n      const images = element.querySelectorAll('img');\r\n      document.body.removeChild(element);\r\n      for (let i = 0; i < images.length; i++) {\r\n        const img = images[i];\r\n\r\n        const base64Image = await this.ConvertLogoBase64(img.src);\r\n        //img.src = \"https://flowhcm.com/wp-content/uploads/elementor/thumbs/logo-qbr1xyrgrwh5tzxp8yebwu9spwdca2sgibytxozfay.webp\";\r\n\r\n        img.src = base64Image;\r\n      }\r\n\r\n\r\n      // Remove the temporary element from the document\r\n\r\n\r\n      console.log(\"pdf element : \", element.innerHTML)\r\n\r\n      // Render the HTML to the PDF using jsPDF\r\n      doc.html(element, {\r\n        x: margin,\r\n        y: margin,\r\n        html2canvas: {\r\n          scale: scaleFactor,\r\n          logging: true,\r\n          useCORS: true,\r\n        },\r\n        callback: function (doc) {\r\n          vueObj.isLoading = false;\r\n          doc.save('invoice.pdf');\r\n        },\r\n      });\r\n    },\r\n\r\n\r\n    downloadInvoice111111() {\r\n      //debugger;\r\n      const vueObj = this;\r\n      vueObj.isLoading = true;\r\n\r\n      const doc = new jsPDF({\r\n        unit: 'mm',\r\n        format: 'a4',\r\n      });\r\n\r\n      const pageWidth = 210;\r\n      const pageHeight = 297;\r\n      const margin = 5;\r\n      const contentWidth = pageWidth - 2 * margin;\r\n      const contentHeight = pageHeight - 2 * margin;\r\n\r\n      // Create a new DOM element from the parsed HTML\r\n      const element = document.createElement('div');\r\n      element.innerHTML = this.parsedHtml;\r\n      element.style.width = `${contentWidth}mm`;\r\n      element.style.boxSizing = 'border-box';\r\n      element.style.padding = '10mm';\r\n\r\n      // Set crossorigin=\"anonymous\" on all images inside the content\r\n      const tempDiv = document.createElement('div');\r\n      tempDiv.innerHTML = this.parsedHtml;\r\n      tempDiv.querySelectorAll('img').forEach((img) => {\r\n        img.setAttribute('crossorigin', 'anonymous');\r\n      });\r\n      element.innerHTML = tempDiv.innerHTML;\r\n\r\n      // Append to DOM temporarily\r\n      document.body.appendChild(element);\r\n\r\n      const elementWidth = element.offsetWidth;\r\n      const elementHeight = element.offsetHeight;\r\n\r\n      const scaleX = contentWidth / elementWidth;\r\n      const scaleY = contentHeight / elementHeight;\r\n      const scaleFactor = Math.min(scaleX, scaleY);\r\n\r\n      // Wait for images to load before rendering\r\n      const images = element.querySelectorAll('img');\r\n      const promises = Array.from(images).map((img) => {\r\n        return new Promise((resolve) => {\r\n          if (img.complete) {\r\n            resolve();\r\n          } else {\r\n            img.onload = () => resolve();\r\n            img.onerror = () => resolve(); // Resolve even if image fails\r\n          }\r\n        });\r\n      });\r\n\r\n      Promise.all(promises).then(() => {\r\n        // Add small delay before rendering to ensure styles and images are ready\r\n        setTimeout(() => {\r\n          doc.html(element, {\r\n            x: margin,\r\n            y: margin,\r\n            html2canvas: {\r\n              scale: scaleFactor,\r\n              useCORS: true,\r\n              logging: false,\r\n            },\r\n            callback: function (doc) {\r\n              vueObj.isLoading = false;\r\n              doc.save('invoice.pdf');\r\n              document.body.removeChild(element);\r\n            },\r\n          });\r\n        }, 200); // Adjust delay if needed\r\n      });\r\n    }, InvoicebacktoPlanDetails() {\r\n      if (this.hitFrom == 'Plans') {\r\n        this.$emit('backtoPlanDetails');\r\n      }\r\n      else {\r\n        this.$emit('backtoInvoiceList');\r\n      }\r\n    },\r\n    renderChart() {\r\n\r\n      this.$nextTick(() => {\r\n\r\n        if (document.querySelector(\"#invoiceChart\") && this.Details.length > 0) {\r\n          let chartDetails = this.Details[0].BillChartData;\r\n\r\n          try {\r\n\r\n            // let categories = JSON.parse(chartDetails.month_names.replace(/'/g, '\"')); // Fix invalid quotes\r\n            // let seriesData = chartDetails.monthly_consumption\r\n            //   .replace(/\\[|\\]/g, '') // Remove square brackets\r\n            //   .split(',') // Split string into an array\r\n            //   .map(value => parseFloat(value.replace(/,/g, '')) || 0); // Remove commas & convert to numbers        \r\n\r\n\r\n            // // Ensure arrays are valid\r\n            // if (!Array.isArray(categories) || !Array.isArray(seriesData)) {\r\n            //   console.error(\"Invalid data format:\", categories, seriesData);\r\n            //   return;\r\n            // }\r\n            // // Add year and nextyear to chart categories or as labels\r\n            // categories.unshift(chartDetails.year); // Adding the year at the start of the categories\r\n            // categories.push(chartDetails.next_year); // Adding next year at the end of the categories\r\n\r\n            // seriesData.unshift(0); // Assuming 0 for year data\r\n            // seriesData.push(0); // Assuming 0 for next year data\r\n\r\n            let data = [];\r\n            let categories = [];\r\n\r\n            chartDetails.forEach(element => {\r\n              if (element.MonthlySales !== undefined) {\r\n                data.push(element.MonthlySales);\r\n                categories.push(element.MonthName);\r\n              }\r\n            });\r\n\r\n            let options = {\r\n              ...this.chartOptions,\r\n              xaxis: {\r\n                categories: categories\r\n              },\r\n              series: [{\r\n                name: \"Monthly Consumption\",\r\n                data: data\r\n              }]\r\n            };\r\n\r\n            let chart = new ApexCharts(document.querySelector(\"#invoiceChart\"), options);\r\n            chart.render();\r\n\r\n          } catch (error) {\r\n            console.error(\"Error parsing chart data:\", error);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n\r\n\r\n  }\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceTemplate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceTemplate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InvoiceTemplate.vue?vue&type=template&id=83831d0c\"\nimport script from \"./InvoiceTemplate.vue?vue&type=script&lang=js\"\nexport * from \"./InvoiceTemplate.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=style&index=0&id=2273132f&prod&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4b9afa9f\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintInvoiceSlip.vue?vue&type=style&index=0&id=53b0216e&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"History\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[(_vm.InvoiceHistory.length)?_c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-6 col-lg-3\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t(\"InvoiceNumber\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.InvoiceHistory[0].MainInvoiceNumber))])]),_c('div',{staticClass:\"col-md-6 col-lg-3\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t(\"IssueDate\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.InvoiceHistory[0].MainInvoiceIssueDate))])]),_c('div',{staticClass:\"col-md-6 col-lg-3\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t(\"DueDate\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.InvoiceHistory[0].MainInvoiceDueDate))])]),_c('div',{staticClass:\"col-md-6 col-lg-3\"},[_c('label',[_c('b',[_vm._v(_vm._s(_vm.$t(\"Amount\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.$n(_vm.InvoiceHistory[0].MainInvocieNetAmount , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode)))+\" \")])])]),(_vm.InvoiceHistory[0].InvoiceListingGrid.Count > 0)?_c('div',{staticClass:\"listing mt-2\"},[_c('div',{staticClass:\"table-responsive\",attrs:{\"id\":\"divmemb\"}},[_c('table',{staticClass:\"table table-bordered dt-responsive nowrap mt-0 w-100\"},[_c('thead',{staticClass:\"thead-bg\"},[_c('tr',[_vm._m(0),_c('th',{staticClass:\"td2 tdcm\"},[_c('span',[_vm._v(\"Amount \"+_vm._s(_vm.GetUserInfo.Currency))])]),_vm._m(1),_vm._m(2),_vm._m(3)])]),(_vm.InvoiceHistory[0].InvoiceListingGrid.Count > 0)?_c('tbody',_vm._l((_vm.InvoiceHistory[0].InvoiceListingGrid),function(childInvoice,index){return _c('tr',{key:index},[_c('td',[_vm._v(\" \"+_vm._s(childInvoice.BillNumber)+\" \")]),_c('td',{staticClass:\"tdcm\"},[_vm._v(_vm._s(childInvoice.BillNetTotal.tofixed(2))+\" \")]),_c('td',{staticClass:\"tdcm\"},[_vm._v(\" \"+_vm._s(childInvoice.IssueDate)+\" \")]),_c('td',{staticClass:\"tdcm\"},[_vm._v(\" \"+_vm._s(childInvoice.BillDueDate)+\" \")]),_c('td',{staticClass:\"tdcm\"},[_c('span',{staticClass:\"px-2 py-1 text-white text-center\",class:_vm.getStatusClass(childInvoice.StatusCode)},[_vm._v(\" \"+_vm._s(childInvoice.StatusName)+\" \")])])])}),0):_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-center text-danger py-3\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" \"+_vm._s(_vm.$t('NoRecordfound'))+\" \")])])])])])]):_vm._e(),_c('div',{staticClass:\"listing\",attrs:{\"id\":\"divPostComment\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('ValidationProvider',{ref:\"commentValidator\",staticClass:\"tt_textarea_span position-relative\",attrs:{\"rules\":\"required\",\"name\":\"title\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ errors }){return [_c('label',[_vm._v(\"Comment:\"),_c('span',{staticClass:\"mandatory\"},[_vm._v(\"*\")])]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.comment),expression:\"comment\"}],staticClass:\"form-control\",class:errors[0] ? 'is-invalid' : '',attrs:{\"name\":\"title\"},domProps:{\"value\":(_vm.comment)},on:{\"keydown\":_vm.textCounter,\"keyup\":_vm.textCounter,\"mouseout\":_vm.textCounter,\"input\":function($event){if($event.target.composing)return;_vm.comment=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"invalid-feedback\"},[_vm._v(_vm._s(errors[0] ? _vm.$t('Comment') : ''))])]}}],null,false,414446076)}),_c('br'),_c('small',[_c('strong',[_c('span',{staticClass:\"alert-warning px-2 mr-2\",attrs:{\"id\":\"txtCount\"}},[_vm._v(_vm._s(_vm.textCountertlength))])]),_vm._v(\" \"+_vm._s(_vm.$t('CharactersLeft'))+\" \")])],1)]),_c('div',{staticClass:\"row flex-row-reverse\"},[_c('div',{staticClass:\"col-lg-6 text-right\"},[_c('div',{staticClass:\"search-btm-btn\"},[_c('a',{staticClass:\"btn btn-success\",attrs:{\"href\":\"javascript:;\",\"id\":\"saveComment\",\"name\":\"aSave\",\"title\":\"PostNewComment\"},on:{\"click\":_vm.SaveComment}},[_c('i',{staticClass:\"fa fa-save pr-2\"}),_vm._v(_vm._s(_vm.$t(\"PostNewComment\")))]),_c('a',{staticClass:\"btn btn-danger ml-2\",attrs:{\"href\":\"javascript:;\",\"title\":\"Cancel\"},on:{\"click\":_vm.Close}},[_c('i',{staticClass:\"fa fa-close pr-2\"}),_vm._v(_vm._s(_vm.$t(\"Cancel\")))])])]),_c('div',{staticClass:\"col-lg-6\"},[_c('div',{staticClass:\"py-2 text-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t('MandatoryString'))+\" \")])])])]),_c('div',{staticClass:\"clearfix\"}),_c('div',{staticClass:\"w-100 activity-tab mt-3\",attrs:{\"id\":\"accordion\"}},_vm._l((_vm.InvoiceHistory[0].CommentList),function(item,index){return _c('div',{key:index,staticClass:\"card\"},[_c('div',{staticClass:\"card-header\"},[_c('a',{staticClass:\"card-link\",attrs:{\"data-toggle\":\"collapse\",\"href\":'#CommentAccordion' + index}},[_c('div',{staticClass:\"conversation-date heading-border\"},[_c('span',[_vm._v(_vm._s(item.DateGroup))])])])]),_c('div',{staticClass:\"collapse show\",attrs:{\"id\":'CommentAccordion' + index,\"data-parent\":\"#accordion\"}},_vm._l((item.CommentList),function(data,i){return _c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"conversation-main\"},[_c('div',{staticClass:\"conversation-time\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.FormatDateToTime(data.CommnetAt ))+\" \")])]),_c('div',{staticClass:\"conversation-box-con\"},[_c('div',{staticClass:\"conversation-box\"},[_c('div',{staticClass:\"name-circle light-yellow\"},[(item.AVATAR!=null)?_c('img',{staticClass:\"img-circle avatar\",attrs:{\"src\":'https://cogniterblob.blob.core.windows.net/' +_vm.GetUserInfo.ContainerName + '/Upload/UserProfileImage/' + item.AVATAR,\"width\":\"51\",\"height\":\"51\",\"alt\":\"Image\"}}):_c('img',{staticClass:\"img-circle avatar\",attrs:{\"src\":\"/Content/images/DefaultImages/avatar-icon.jpg\",\"width\":\"51\",\"height\":\"51\",\"alt\":\"Image\"}})]),_c('div',{staticClass:\"conversation-header addednote-ticket\"},[_c('span',[_c('span',{staticClass:\"sender-name\"}),_c('span',{staticClass:\"sender-department\",attrs:{\"title\":data.Comment}},[_vm._v(\" \"+_vm._s(data.Comment))])])]),_c('div',{staticClass:\"conversation-content\"},[_c('div',{staticClass:\"col-12 p-0 notesdata\"},[_c('h6',{staticClass:\"text-muted time\"},[_c('i',[_c('b',[_vm._v(_vm._s(data.CommentByName))]),_vm._v(\", Posted on: \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\" \"+_vm._s(data.CommnetAt)+\" \")])])])])])])])])])}),0)])}),0)]):_vm._e()])])])])],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('th',{staticClass:\"td1\"},[_c('span',[_vm._v(\"InvoiceNumber\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('th',{staticClass:\"td3 tdcm\"},[_c('span',[_vm._v(\"DueDate\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('th',{staticClass:\"td4 tdcm\"},[_c('span',[_vm._v(\"PaymentDate\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('th',{staticClass:\"td4 tdcm\"},[_c('span',[_vm._v(\" Status\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"my-popups\">\r\n            <loader :is-visible=\"isLoading\"></loader>\r\n            <div class=\"modal d-block\">\r\n                <div class=\"modal-dialog modal-dialog-centered\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header theme-primary partition-full d-flex\">\r\n                            <h5 class=\"modal-title\">{{ $t(\"History\") }}</h5>\r\n                            <button type=\"button\" class=\"close\" @click=\"Close\">\r\n                                <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"modal-body\">\r\n                            <div v-if=\"InvoiceHistory.length\">\r\n                                <div class=\"row\">\r\n                                    <!-- {{ InvoiceHistory }} -->\r\n                                    <div class=\"col-md-6 col-lg-3\">\r\n                                        <label><b>{{ $t(\"InvoiceNumber\") }}:</b> {{ InvoiceHistory[0].MainInvoiceNumber\r\n                                            }}</label>\r\n                                    </div>\r\n                                    <div class=\"col-md-6 col-lg-3\">\r\n                                        <label><b>{{ $t(\"IssueDate\") }}:</b> {{ InvoiceHistory[0].MainInvoiceIssueDate\r\n                                            }}</label>\r\n                                    </div>\r\n                                    <div class=\"col-md-6 col-lg-3\">\r\n                                        <label><b>{{ $t(\"DueDate\") }}:</b> {{ InvoiceHistory[0].MainInvoiceDueDate\r\n                                            }}</label>\r\n                                    </div>\r\n                                    <div class=\"col-md-6 col-lg-3\">\r\n                                        <label><b>{{ $t(\"Amount\") }}:</b> {{ $n(InvoiceHistory[0].MainInvocieNetAmount , 'currency', $getLocaleByCurrency(CurrencyCode)) }} </label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"listing mt-2\" v-if=\"InvoiceHistory[0].InvoiceListingGrid.Count > 0\">\r\n                                    <div id=\"divmemb\" class=\"table-responsive\">\r\n                                        <table class=\"table table-bordered dt-responsive nowrap mt-0 w-100\">\r\n                                            <thead class=\"thead-bg\">\r\n                                                <tr>\r\n                                                    <th class=\"td1\">\r\n                                                        <span>InvoiceNumber</span>\r\n                                                    </th>\r\n                                                    <th class=\"td2 tdcm\">\r\n                                                        <span>Amount {{GetUserInfo.Currency}}</span>\r\n                                                    </th>\r\n                                                    <th class=\"td3 tdcm\">\r\n                                                        <span>DueDate</span>\r\n                                                    </th>\r\n                                                    <th class=\"td4 tdcm\">\r\n                                                        <span>PaymentDate</span>\r\n                                                    </th>\r\n                                                    <th class=\"td4 tdcm\">\r\n                                                    <span> Status</span>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody v-if=\"InvoiceHistory[0].InvoiceListingGrid.Count > 0\">\r\n                                                <!-- @if (Model.InvoiceListingGrid.Count > 0)\r\n                                                { -->\r\n                                                    <!-- foreach (var childInvoice in Model.InvoiceListingGrid)\r\n                                                    { -->\r\n                                                    <tr v-for=\"(childInvoice,index) in InvoiceHistory[0].InvoiceListingGrid\" :key=\"index\"> \r\n                                                        <td>\r\n                                                            {{ childInvoice.BillNumber }}\r\n                                                        </td>\r\n                                                        <td class=\"tdcm\">{{ childInvoice.BillNetTotal.tofixed(2) }}\r\n                                                        </td>\r\n                                                        <td class=\"tdcm\">\r\n                                                            {{childInvoice.IssueDate}}\r\n                                                        </td>\r\n                                                        <td class=\"tdcm\">\r\n                                                        {{childInvoice.BillDueDate}}\r\n                                                        </td>\r\n                                                        <!-- <td class=\"tdcm\">\r\n                                                            @switch (@childInvoice.StatusCode)\r\n                                                            {\r\n                                                                case \"CLBSND\":\r\n                                                                <span class=\"bg-success px-2 py-1 text-white text-center\">@childInvoice.StatusName</span>break;\r\n                                                                case \"CLBDSPT\":\r\n                                                                <span class=\"bg-info px-2 py-1 text-white text-center\">@childInvoice.StatusName</span>break;\r\n                                                                case \"CLBPAD\":\r\n                                                                <span class=\"bg-primary px-2 py-1 text-white text-center\">@childInvoice.StatusName</span>break;\r\n                                                                case \"CLBRSTP\":\r\n                                                                <span class=\"bg-danger px-2 py-1 text-white text-center\">@childInvoice.StatusName</span>break;\r\n                                                                case \"CLBBDBT\":\r\n                                                                <span class=\"bg-dark px-2 py-1 text-white text-center\">@childInvoice.StatusName</span>break;\r\n                                                                case \"CLBDFT\":\r\n                                                                <span class=\"bg-warning px-2 py-1 text-white text-center\">@childInvoice.StatusName</span>break;\r\n                                                            }\r\n                                                        </td> -->\r\n                                                        <td class=\"tdcm\">\r\n                                                            <span :class=\"getStatusClass(childInvoice.StatusCode)\" class=\"px-2 py-1 text-white text-center\">\r\n                                                                {{ childInvoice.StatusName }}\r\n                                                                </span>\r\n                                                        </td>\r\n                                                    </tr>\r\n                                            </tbody>\r\n                                            <tbody v-else>\r\n                                                <tr>\r\n                                                    <td colspan=\"5\" class=\"text-center text-danger py-3\">\r\n                                                        {{$t('NoRecordfound') }}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div id=\"divPostComment\" class=\"listing\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-md-12\">\r\n                                            <ValidationProvider rules=\"required\" v-slot=\"{ errors }\"\r\n                                                class=\"tt_textarea_span position-relative\" name=\"title\" ref=\"commentValidator\">\r\n                                                <label>Comment:<span class=\"mandatory\">*</span></label>\r\n                                                <textarea name=\"title\" class=\"form-control \" v-model=\"comment\" v-on:keydown=\"textCounter\" v-on:keyup=\"textCounter\" v-on:mouseout=\"textCounter\"    \r\n                                                    :class=\"errors[0] ? 'is-invalid' : ''\" />\r\n                                                <span class=\"invalid-feedback\">{{ errors[0] ? $t('Comment') : ''\r\n                                                    }}</span>\r\n                                            </ValidationProvider>\r\n                                            <br />\r\n                                             <small>\r\n                                                 <strong> <span class=\"alert-warning px-2 mr-2\" id=\"txtCount\">{{ textCountertlength }}</span> </strong>\r\n                                                    {{ $t('CharactersLeft') }}\r\n                                             </small>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"row flex-row-reverse\">\r\n                                        <div class=\"col-lg-6 text-right\">\r\n                                            <div class=\"search-btm-btn\">\r\n                                                <a href=\"javascript:;\" class=\"btn btn-success\" id=\"saveComment\"\r\n                                                    name=\"aSave\" title=\"PostNewComment\" @click=\"SaveComment\"><i\r\n                                                        class=\"fa fa-save pr-2\"></i>{{ $t(\"PostNewComment\") }}</a>\r\n                                                <a class=\"btn btn-danger ml-2\" href=\"javascript:;\"\r\n                                                    @click=\"Close\" title=\"Cancel\"><i\r\n                                                        class=\"fa fa-close pr-2\"></i>{{ $t(\"Cancel\") }}</a>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"col-lg-6\">\r\n                                            <div class=\"py-2 text-danger\">\r\n                                                {{ $t('MandatoryString') }}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"clearfix\"></div>\r\n                                <div id=\"accordion\" class=\"w-100 activity-tab mt-3\">\r\n                                    <div class=\"card\" v-for=\"(item, index) in InvoiceHistory[0].CommentList\"\r\n                                                                :key=\"index\">\r\n                                                                <div class=\"card-header\">\r\n                                                                    <a class=\"card-link\" data-toggle=\"collapse\"\r\n                                                                        :href=\"'#CommentAccordion' + index\">\r\n                                                                        <div class=\"conversation-date heading-border\">\r\n                                                                            <span>{{\r\n                                                                               item.DateGroup\r\n                                                                                }}</span>\r\n                                                                        </div>\r\n                                                                    </a>\r\n                                                                </div>\r\n                                                                <div :id=\"'CommentAccordion' + index\" class=\"collapse show\"\r\n                                                                    data-parent=\"#accordion\">\r\n                                                                    <div class=\"card-body\" v-for=\"(data,i) in item.CommentList\">\r\n                                                                        <div class=\"conversation-main\">\r\n                                                                            \r\n                                                                            <div class=\"conversation-time\"><span>\r\n                                                {{FormatDateToTime(data.CommnetAt ) }}\r\n                                                                                    </span></div>\r\n                                                                            <div class=\"conversation-box-con\">\r\n                                                                                <div class=\"conversation-box\">\r\n                                                                                    <div class=\"name-circle light-yellow\">\r\n                                                                                        <img class=\"img-circle avatar\" v-if=\"item.AVATAR!=null\"\r\n                                                                                            :src=\"'https://cogniterblob.blob.core.windows.net/' +GetUserInfo.ContainerName + '/Upload/UserProfileImage/' + item.AVATAR\"\r\n                                                                                            width=\"51\" height=\"51\"\r\n                                                                                            alt=\"Image\">\r\n                                                                                            <img v-else class=\"img-circle avatar\" src=\"/Content/images/DefaultImages/avatar-icon.jpg\" width=\"51\" height=\"51\" alt=\"Image\" />\r\n                                                                                    </div>\r\n                                                                                    <div\r\n                                                                                        class=\"conversation-header addednote-ticket\">\r\n                                                                                        <span>\r\n                                                                                            <span\r\n                                                                                                class=\"sender-name\"></span>\r\n                                                                                            <span class=\"sender-department\"\r\n                                                                                                :title=\"data.Comment\">\r\n                                                                                                {{ data.Comment }}</span>\r\n                                                                                        </span>\r\n                                                                                    </div>\r\n                                                                                    <div class=\"conversation-content\">\r\n                                                                                        <div class=\"col-12 p-0 notesdata\">\r\n\r\n                                                                                            <h6 class=\"text-muted time\">\r\n                                                                                                <i><b>{{ data.CommentByName\r\n                                                                                                        }}</b>,\r\n                                                                                                    Posted on: <span\r\n                                                                                                        class=\"text-danger\">\r\n                                                                                                       {{data.CommnetAt}}  \r\n                                                                                                         </span> </i></h6>\r\n                                                                                        </div>\r\n                                                                                    </div>\r\n                                                                                </div>\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\nimport moment from 'moment';\r\nexport default {\r\n    props: {\r\n        BillId: { type: Number }\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            InvoiceHistory: [],\r\n            textCountertlength: 2000,\r\n            comment:'',\r\n            CurrencyCode: 'PKR'\r\n        };\r\n    },\r\n    created() {\r\n        var vm=this;\r\n        this.fetchData();\r\n        vm.CurrencyCode = vm.GetUserInfo.Currency.replace(/[()]/g, '');\r\n    },\r\n    methods: {\r\n        async fetchData() {\r\n            debugger\r\n            this.isLoading = true;\r\n            try {\r\n                debugger\r\n                const response = await DataService.InvoiceHistory(`invoiceId=${this.BillId}`);\r\n                const groupedData = this.groupInvoiceData(response.data);\r\n                this.InvoiceHistory = groupedData;\r\n\r\n            } catch (error) {\r\n                console.error(\"Error fetching invoice data\", error);\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        },\r\n        groupInvoiceData(data) {\r\n            const grouped = [];\r\n            debugger;\r\n            data.forEach((info) => {\r\n                let invoice = grouped.find((g) => g.MainInvoiceId === info.BILL_ID);\r\n                if (!invoice) {\r\n                    invoice = {\r\n                        MainInvoiceId: info.BILL_ID,\r\n                        MainClientId: info.BILL_TO,\r\n                        MainInvoiceNumber: info.BILL_NUMBER,\r\n                        MainInvocieNetAmount: info.BILL_NET_TOTAL || 0,\r\n                        MainInvoiceDueDate: new Date(info.DUE_DATE).toLocaleDateString(),\r\n                        MainInvoiceIssueDate: new Date(info.ISSUE_DATE).toLocaleDateString(),\r\n                        MainInvocieAmount: info.AMOUNT || 0,\r\n                        CommentList: [],\r\n                        InvoiceListingGrid: []\r\n                    };\r\n                    grouped.push(invoice);\r\n                }\r\n                this.addInvoiceDetails(invoice, info);\r\n            });\r\n            return grouped;\r\n        },\r\n        addInvoiceDetails(invoice, info) {\r\n            if (!invoice.CommentList) {\r\n                invoice.CommentList = [];\r\n            }\r\n\r\n            if (info.ISPARENT === 1 && info.COMMENT) {\r\n                let createdDate = new Date(info.CREATED_AT);\r\n                let dateKey = `${String(createdDate.getDate()).padStart(2, '0')}-${createdDate.toLocaleString('en-US', { month: 'short' })}-${createdDate.getFullYear()}`;\r\n\r\n                // Find the existing group for this dateKey\r\n                let existingGroup = invoice.CommentList.find(group => group.DateGroup === dateKey);\r\n\r\n                if (!existingGroup) {\r\n                    // Create a new group if it doesn't exist\r\n                    existingGroup = {\r\n                        DateGroup: dateKey,\r\n                        CommentList: []\r\n                    };\r\n                    invoice.CommentList.push(existingGroup);\r\n                }\r\n\r\n                // Add the comment to the group\r\n                existingGroup.CommentList.push({\r\n                    CommnetAt: info.CREATED_AT ? new Date(info.CREATED_AT).toLocaleString() : '',\r\n                    Comment: info.COMMENT,\r\n                    CommentByName: info.CLIENT_NAME || 'Unknown Client',\r\n                    UserTypeName: info.USER_TYPE_NAME || 'Unknown Type',\r\n                    AVATAR: info.AVATAR\r\n                });\r\n            }\r\n\r\n            if (info.ISPARENT === 0) {\r\n                if (!invoice.InvoiceListingGrid) {\r\n                    invoice.InvoiceListingGrid = [];\r\n                }\r\n\r\n                invoice.InvoiceListingGrid.push({\r\n                    BillId: info.BILL_ID,\r\n                    BillNumber: info.BILL_NUMBER,\r\n                    ClientName: info.CLIENT_NAME,\r\n                    ProjectName: info.PROJECT_NAME,\r\n                    BillDueDate: new Date(info.DUE_DATE).toLocaleDateString(),\r\n                    IssueDate: new Date(info.ISSUE_DATE).toLocaleDateString(),\r\n                    BillNetTotal: info.BILL_NET_TOTAL || 0,\r\n                    StatusName: info.STATUS_NAME\r\n                });\r\n            }\r\n        },\r\n        Close() {\r\n            this.$parent.isInvoiceHistory = false;\r\n        },\r\n        textCounter() {\r\n            this.textCountertlength = 2000 - this.comment.length\r\n        },\r\n        FormatDateToTime(Getdate) {\r\n            \r\n            const date = new Date(Getdate.replace(/(\\d{2})\\/(\\d{2})\\/(\\d{4}), (\\d{2}):(\\d{2}):(\\d{2})/, '$2/$1/$3 $4:$5:$6'));\r\n\r\n            let hours = date.getHours();\r\n            let minutes = date.getMinutes();\r\n            let ampm = hours >= 12 ? 'PM' : 'AM';\r\n\r\n            // Convert to 12-hour format\r\n            hours = hours % 12;\r\n            hours = hours ? hours : 12; // the hour '0' should be '12'\r\n            minutes = minutes < 10 ? '0' + minutes : minutes;\r\n\r\n            const timeString = `${hours}:${minutes} ${ampm}`;\r\n            console.log(timeString);\r\n            return timeString;\r\n\r\n        },\r\n        async SaveComment() {\r\n            var params = {\r\n                invoiceId: this.BillId,\r\n                comment: this.comment,\r\n                invoiceNo: this.InvoiceHistory[0].MainInvoiceNumber,\r\n                clientId: this.InvoiceHistory[0].MainClientId\r\n            };\r\n            debugger;\r\n            let param =JSON.stringify(params);\r\n            const response = await DataService.CommentOnInvoice(param);\r\n            if (response.data.Status == \"Success\") {\r\n                var notificationData={\r\n                    message:response.data.Comment,\r\n                    notificationFor:response.data.NotificationFor,\r\n                    typeCode:'CB_INV_COMMENT',\r\n                    referenceId:response.data.InvoiceId,\r\n                    referenceId2:0\r\n                }\r\n                let data =JSON.stringify(notificationData);\r\n                const res = await DataService.InsertNotification(data);\r\n                this.comment = '';\r\n                this.$refs.commentValidator.reset();\r\n                this.fetchData();\r\n            }\r\n             else {\r\n                  this.ShowAlert(this.$t(\"ErrorWhileProcessingRequest\"), \"failure\", true, this.$t(\"Alert\"));\r\n             }\r\n        },\r\n        getStatusClass(statusCode) {\r\n            switch (statusCode) {\r\n                case \"CLBSND\":\r\n                return \"bg-success\";\r\n                case \"CLBDSPT\":\r\n                return \"bg-info\";\r\n                case \"CLBPAD\":\r\n                return \"bg-primary\";\r\n                case \"CLBRSTP\":\r\n                return \"bg-danger\";\r\n                case \"CLBBDBT\":\r\n                return \"bg-dark\";\r\n                case \"CLBDFT\":\r\n                return \"bg-warning\";\r\n                default:\r\n                return \"bg-secondary\";\r\n        }\r\n    }\r\n\r\n    },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceHistory.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceHistory.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InvoiceHistory.vue?vue&type=template&id=4dceaebb\"\nimport script from \"./InvoiceHistory.vue?vue&type=script&lang=js\"\nexport * from \"./InvoiceHistory.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=style&index=0&id=2273132f&prod&scoped=true&lang=css\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".word-color[data-v-2273132f]{color:#007bff}.pdf-color[data-v-2273132f]{color:#e2211b}.text-color[data-v-2273132f]{color:#f0ad4e}.excel-color[data-v-2273132f]{color:#28a745}.default-color[data-v-2273132f]{color:#6c757d}.file-icon[data-v-2273132f]{font-size:20px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".m-0[data-v-53b0216e],.ps[data-v-53b0216e]{margin:0}.ps[data-v-53b0216e]{padding:5px 0}.invoice-container[data-v-53b0216e]{max-width:1100px;width:1100px;min-width:1100px;margin:0 auto;background:#fff;padding:20px;border:1px solid #ddd;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.1);float:left}.header[data-v-53b0216e]{margin-bottom:20px}.header img[data-v-53b0216e]{max-height:50px}.invoice-details[data-v-53b0216e],.payment-advice[data-v-53b0216e]{margin-bottom:20px;width:100%;float:left}.invoice-details table.secondtable[data-v-53b0216e],.payment-advice table.secondtable[data-v-53b0216e]{width:100%;border-collapse:collapse;margin-top:10px}table.secondtable td[data-v-53b0216e],table.secondtable th[data-v-53b0216e]{border:1px solid #ddd;padding:10px;text-align:left}table.secondtable th[data-v-53b0216e]{background-color:#f4f4f4}.totals[data-v-53b0216e]{float:right;margin-top:10px;text-align:right;width:100%}.totals div[data-v-53b0216e]{margin-bottom:5px}.footer[data-v-53b0216e]{text-align:center;font-size:.9em;color:#666;margin-top:20px;width:100%;display:inline-block}@media (max-width:600px){.header[data-v-53b0216e]{flex-direction:column;align-items:flex-start}.totals[data-v-53b0216e]{float:none;text-align:left}}table.secondtable tbody td[data-v-53b0216e]{text-align:left}.header .div1[data-v-53b0216e]{width:49%;float:left!important}.header .div3[data-v-53b0216e]{width:40%;float:right!important}.header .div2[data-v-53b0216e]{width:100%;float:left!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintInvoiceSlip.vue?vue&type=style&index=0&id=53b0216e&prod&scoped=true&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"346f5de7\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"Attachment\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('dynamic-form',{ref:\"fileForm\",attrs:{\"mandatorytext\":_vm.MandatoryString,\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.uploadFile}}),_c('AttachmentList',{ref:\"AttachmentList\",attrs:{\"BillId\":_vm.BillId}})],1)])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"listing mt-2\",attrs:{\"id\":\"divAttachmentsList\"}},[_c('div',{staticClass:\"heading-border mb-2\"},[_c('h5',{staticClass:\"h5\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"AttachmentList\")))])])]),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-bordered dt-responsive nowrap mt-0 w-100\",attrs:{\"id\":\"tbllistingdata\"}},[_c('thead',{staticClass:\"thead-bg\"},[_c('tr',[_c('th',{staticClass:\"ui-resizable\",attrs:{\"id\":\"th-FILENAME\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"FileName\")))])]),_c('th',{staticClass:\"ui-resizable\",attrs:{\"id\":\"th-CREATEDAT\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"CreatedAt\")))])]),_c('th',{staticClass:\"ui-resizable\",attrs:{\"id\":\"th-CREATEDBY\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"CreatedBy\")))])]),_c('th',{staticClass:\"ui-resizable\",attrs:{\"id\":\"th-FILETYPE\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"FileType\")))])]),_c('th',{staticClass:\"ui-resizable\",attrs:{\"id\":\"th-DESCRIPTION\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Description\")))])]),_c('th',{staticClass:\"text-center nonresize\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Download\")))])]),_c('th',{staticClass:\"text-center nonresize\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Delete\")))])])])]),_c('tbody',[(_vm.filteredAttachmentList.length === 0)?_c('tr',[_c('td',{staticClass:\"text-center text-danger no-record\",attrs:{\"colspan\":\"7\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"NoRecordfound\"))+\" \")])]):_vm._e(),_vm._l((_vm.filteredAttachmentList),function(attachment,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(attachment.file_name))]),_c('td',[_vm._v(_vm._s(_vm.$options.filters.formatDate(attachment.created_at)))]),_c('td',[_vm._v(_vm._s(attachment.created_by))]),_c('td',[_c('i',{class:['file-icon', _vm.getIconClass(attachment.Extension), _vm.getColorClass(attachment.Extension)]}),_vm._v(\" \"+_vm._s(attachment.Extension)+\" \")]),_c('td',[_vm._v(_vm._s(_vm.truncate(attachment.file_description || 'No Description', 30)))]),_c('td',{staticClass:\"text-center\"},[_c('a',{staticClass:\"download\",attrs:{\"title\":\"Download File\"},on:{\"click\":function($event){return _vm.downloadAttachment(attachment)}}},[_c('i',{staticClass:\"fa fa-download text-success\"})])]),_c('td',{staticClass:\"text-center\"},[_c('a',{staticClass:\"delete\",attrs:{\"title\":\"Delete\"},on:{\"click\":function($event){return _vm.deleteAttachment(attachment.attachment_id)}}},[_c('i',{staticClass:\"fa fa-trash text-danger\"})])])])})],2)])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"listing mt-2\" id=\"divAttachmentsList\">\r\n            <div class=\"heading-border mb-2\">\r\n                <h5 class=\"h5\"><span>{{ $t(\"AttachmentList\") }}</span></h5>\r\n            </div>\r\n            <div class=\"table-responsive\">\r\n                <table id=\"tbllistingdata\" class=\"table table-bordered dt-responsive nowrap mt-0 w-100\">\r\n                    <thead class=\"thead-bg\">\r\n                        <tr>\r\n                            <th id=\"th-FILENAME\" class=\"ui-resizable\">\r\n                                <span>{{ $t(\"FileName\") }}</span>\r\n                            </th>\r\n                            <th id=\"th-CREATEDAT\" class=\"ui-resizable\">\r\n                                <span>{{ $t(\"CreatedAt\") }}</span>\r\n                            </th>\r\n                            <th id=\"th-CREATEDBY\" class=\"ui-resizable\">\r\n                                <span>{{ $t(\"CreatedBy\") }}</span>\r\n                            </th>\r\n                            <th id=\"th-FILETYPE\" class=\"ui-resizable\">\r\n                                <span>{{ $t(\"FileType\") }}</span>\r\n                            </th>\r\n                            <th id=\"th-DESCRIPTION\" class=\"ui-resizable\">\r\n                                <span>{{ $t(\"Description\") }}</span>\r\n                            </th>\r\n                            <th class=\"text-center nonresize\">\r\n                                <span>{{ $t(\"Download\") }}</span>\r\n                            </th>\r\n                            <th class=\"text-center nonresize\">\r\n                                <span>{{ $t(\"Delete\") }}</span>\r\n                            </th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-if=\"filteredAttachmentList.length === 0\">\r\n                            <td colspan=\"7\" class=\"text-center text-danger no-record\">\r\n                                {{ $t(\"NoRecordfound\") }}\r\n                            </td>\r\n                        </tr>\r\n                        <tr v-for=\"(attachment, index) in filteredAttachmentList\" :key=\"index\">\r\n                            <td>{{ attachment.file_name }}</td>\r\n                            <td>{{ $options.filters.formatDate(attachment.created_at) }}</td>\r\n                            <td>{{ attachment.created_by }}</td>\r\n                            <td>\r\n                                <i\r\n                                    :class=\"['file-icon', getIconClass(attachment.Extension), getColorClass(attachment.Extension)]\"></i>\r\n                                {{ attachment.Extension }}\r\n                            </td>\r\n                            <td>{{ truncate(attachment.file_description || 'No Description', 30) }}</td>\r\n                            <td class=\"text-center\">\r\n                                <a @click=\"downloadAttachment(attachment)\" class=\"download\" title=\"Download File\">\r\n                                    <i class=\"fa fa-download text-success\"></i>\r\n                                </a>\r\n                            </td>\r\n                            <td class=\"text-center\">\r\n                                <a @click=\"deleteAttachment(attachment.attachment_id)\" class=\"delete\" title=\"Delete\">\r\n                                    <i class=\"fa fa-trash text-danger\"></i>\r\n                                </a>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\n\r\nexport default {\r\n    props: {\r\n        BillId: {\r\n            type: Number,\r\n        },\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            attachmentList: [],\r\n        };\r\n    },\r\n    computed: {\r\n        filteredAttachmentList() {\r\n            return this.attachmentList;\r\n        }\r\n    },\r\n    async created() {\r\n        console.log(\"billId\", this.BillId);\r\n        await this.getBillAttachMentList();\r\n    },\r\n    methods: {\r\n        truncate(text, length) {\r\n            return text.length > length ? text.substring(0, length) + '...' : text;\r\n        },\r\n        getIconClass(extension) {\r\n            switch (extension.toLowerCase()) {\r\n                case 'doc':\r\n                case 'docx':\r\n                    return 'fa fa-file-word';\r\n                case 'pdf':\r\n                    return 'fa fa-file-pdf';\r\n                case 'txt':\r\n                    return 'fa fa-file-text';\r\n                case 'xls':\r\n                case 'xlsx':\r\n                    return 'fa fa-file-excel';\r\n                default:\r\n                    return 'fa fa-file';\r\n            }\r\n        },\r\n        getColorClass(extension) {\r\n            switch (extension.toLowerCase()) {\r\n                case 'doc':\r\n                case 'docx':\r\n                    return 'word-color';\r\n                case 'pdf':\r\n                    return 'pdf-color';\r\n                case 'txt':\r\n                    return 'text-color';\r\n                case 'xls':\r\n                case 'xlsx':\r\n                    return 'excel-color';\r\n                default:\r\n                    return 'default-color';\r\n            }\r\n        },\r\n        // formatDate(dateString) {\r\n        //     // Format the date (you can use libraries like moment.js or day.js, or use vanilla JS)\r\n        //     const date = new Date(dateString);\r\n        //     return date.toLocaleDateString('en-US', {\r\n        //         weekday: 'short',\r\n        //         year: 'numeric',\r\n        //         month: 'short',\r\n        //         day: 'numeric',\r\n        //         hour: 'numeric',\r\n        //         minute: 'numeric',\r\n        //         second: 'numeric',\r\n        //     });\r\n        // },\r\n        async getBillAttachMentList() {\r\n            this.$parent.isLoading = true;\r\n            this.attachmentList = [];\r\n            try {\r\n                let params = `billId=${this.BillId}`\r\n                const response = await DataService.GetBillAttachMentList(params);\r\n                if (response.status === 200) {\r\n                    this.$parent.isLoading = false;\r\n                    if (response.data.result != '' || response.data.result != null) {\r\n                        this.attachmentList = JSON.parse(response.data.result).data;\r\n\r\n                    }\r\n                } else {\r\n                    this.$parent.isLoading = false;\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching attachment list:', error);\r\n            }\r\n        },\r\n\r\n        downloadAttachment(attachmentDetails) {\r\n\r\n            try {\r\n                if (!attachmentDetails || !attachmentDetails.file_path || !attachmentDetails.file_name) {\r\n                    throw new Error('Invalid attachment details.');\r\n                }\r\n                var fileLink = document.createElement('a');\r\n                fileLink.href = attachmentDetails.file_path;\r\n                fileLink.setAttribute('download', attachmentDetails.file_name);\r\n                document.body.appendChild(fileLink);\r\n                fileLink.click();\r\n                document.body.removeChild(fileLink);\r\n            } catch (error) {\r\n                console.error('Error downloading attachment:', error);\r\n            }\r\n        },\r\n\r\n\r\n        async deleteAttachment(attachmentId) {\r\n            try {\r\n\r\n                const confirmDelete = await new Promise((resolve, reject) => {\r\n                    this.confirmR(this.$t('Are you sure you want to delete this attachment?'), true, false, function (result) {\r\n                        resolve(result);\r\n                    });\r\n                });\r\n                this.$parent.isLoading = true;\r\n                if (confirmDelete == undefined) {\r\n                    const url = `documentId=${attachmentId}`;\r\n                    const response = await DataService.DeleteAttachment(url);\r\n                    if (response.status === 200) {\r\n                        this.$parent.isLoading = false;\r\n                        if (response.data.result.Result == '1') {\r\n                            this.ShowAlert(this.$t('deleteBillAttachment'), \"success\");\r\n                            this.getBillAttachMentList();\r\n                        }\r\n\r\n                    } else {\r\n                        this.ShowAlert(this.$t(\"UnknownError\"), \"failure\", this.$t('Alert'));\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error deleting attachment:', error);\r\n            }\r\n        }\r\n\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Icon color classes */\r\n.word-color {\r\n    color: #007bff;\r\n    /* Blue for Word documents */\r\n}\r\n\r\n.pdf-color {\r\n    color: #e2211b;\r\n    /* Red for PDF files */\r\n}\r\n\r\n.text-color {\r\n    color: #f0ad4e;\r\n    /* Orange for text files */\r\n}\r\n\r\n.excel-color {\r\n    color: #28a745;\r\n    /* Green for Excel files */\r\n}\r\n\r\n\r\n.default-color {\r\n    color: #6c757d;\r\n    /* Gray for unknown file types */\r\n}\r\n\r\n/* Optional: Customize icon size */\r\n.file-icon {\r\n    font-size: 20px;\r\n    /* Adjust icon size */\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AttachmentList.vue?vue&type=template&id=2273132f&scoped=true\"\nimport script from \"./AttachmentList.vue?vue&type=script&lang=js\"\nexport * from \"./AttachmentList.vue?vue&type=script&lang=js\"\nimport style0 from \"./AttachmentList.vue?vue&type=style&index=0&id=2273132f&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2273132f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <section>\r\n        <div class=\"my-popups\">\r\n            <loader :is-visible=\"isLoading\"></loader>\r\n            <div class=\"modal d-block\">\r\n                <div class=\"modal-dialog modal-dialog-centered\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header theme-primary partition-full d-flex\">\r\n                            <h5 class=\"modal-title\">{{ $t(\"Attachment\") }}</h5>\r\n                            <button type=\"button\" class=\"close\" v-on:click=\"Close\">\r\n                                <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"modal-body\">\r\n                            <dynamic-form ref=\"fileForm\" :mandatorytext='MandatoryString' :buttons=\"buttons\"\r\n                                :schema=\"FormSchema\" v-on:OnSubmit=\"uploadFile\">\r\n\r\n                            </dynamic-form>\r\n\r\n                            <AttachmentList ref=\"AttachmentList\" :BillId=\"BillId\"></AttachmentList>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\nimport AttachmentList from './AttachmentList.vue';\r\nexport default {\r\n\r\n    components: {\r\n        AttachmentList\r\n    },\r\n    props: {\r\n        BillId: {\r\n            type: Number,\r\n        },\r\n\r\n    },\r\n    data() {\r\n\r\n        return {\r\n            MandatoryString: this.$t('MandatoryString'),\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"double\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('FileName'),\r\n                            name: \"FileName\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                //\r\n                            },\r\n                            validationRules: { \"required\": true, max: 2000 },\r\n                        },\r\n                        {\r\n                            astype: \"FileField\",\r\n                            showLabel: false,\r\n                            label: this.$t('AttachItemImage'),\r\n                            name: \"AttachItemImage\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            FieldIndex: 0,\r\n                            validationRules: { \"required\": true },\r\n                            config: {\r\n                                maxSize: 5,\r\n                                accept: [\r\n                                    {\r\n                                        fileType: 'doc',\r\n                                        iconClass: 'fa-file-word-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'pdf',\r\n                                        iconClass: 'fa-file-pdf-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'docx',\r\n                                        iconClass: 'fa-file-word-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'txt',\r\n                                        iconClass: 'fa-file-text-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'xls',\r\n                                        iconClass: 'fa-file-excel-o'\r\n                                    },\r\n                                    {\r\n                                        fileType: 'xlsx',\r\n                                        iconClass: 'fa-file-excel-o'\r\n                                    }\r\n                                ],\r\n\r\n                                // onClickSelectedFiles: this.onDeleteSelectedFiles,\r\n                                onDeleteSelectedFiles: this.onDeleteSelectedFiles,\r\n                                onChange: this.GetBase64String,\r\n                                showSelectedFiles: [],\r\n                                showAddIcon: false,\r\n                                onAddButtonClick: this.AddFileMore,\r\n                                multiple: false\r\n                            },\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"TextAreaField\",\r\n                            label: this.$t('Description'),\r\n                            name: \"Description\",\r\n                            value: \"\",\r\n                            placeholder: \"\",\r\n                            config: {\r\n                                rows: 3\r\n                            },\r\n                            validationRules: { \"required\": false, max: 2000 },\r\n                        },\r\n                    ]\r\n                },\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    value: 'Y',\r\n                    text: \"<i class='fa fa-upload pr-2 pr-2'></i>Upload\",\r\n                    // onClick: this.uploadfile\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Cancel\",\r\n                    onClick: this.Close\r\n                }\r\n            ],\r\n            isLoading: false\r\n        }\r\n    },\r\n\r\n    created() {\r\n\r\n        //\r\n        console.log(\"FormSchema\", this.FormSchema);\r\n\r\n    },\r\n    methods: {\r\n\r\n        Close() {\r\n            var vm = this;\r\n            vm.$parent.isAttachment = false;\r\n\r\n\r\n        },\r\n        onDeleteSelectedFiles(item) {\r\n            debugger;\r\n            this.$delete(this.FormSchema[0].Data[1].config, 'showSelectedFiles');\r\n        },\r\n        GetBase64String(evt) {\r\n            try {\r\n                var vm = this;\r\n                vm.fileData = [];\r\n                var f = evt.target.files[0]; // FileList object\r\n                var reader = new FileReader();\r\n                reader.onload = (function (theFile) {\r\n                    return function (e) {\r\n                        var binaryData = e.target.result;\r\n                        var base64StringEncoded = window.btoa(binaryData);\r\n                        var fileName = f.name;\r\n                        vm.fileName = fileName;\r\n                        var n = fileName.lastIndexOf(\".\");\r\n                        var extensionName = fileName.substring(n + 1, fileName.length);\r\n                        vm.fileExt += \".\" + extensionName;\r\n                        var attachemnetMime = '{\"ContentType\":\"' + f.type + '\",\"Size\":\"' + f.size + '\",\"Extension\":\"' + extensionName + '\"}';\r\n                        var fileSize = f.size;\r\n                        vm.fileSize = fileSize;\r\n                        var fileObj = {\r\n                            attachement_mime: attachemnetMime,\r\n                            fileName: fileName,\r\n                            base64String: base64StringEncoded,\r\n                            fileSize: f.size,\r\n                            contentType: f.type\r\n                        };\r\n                        vm.fileData.push(fileObj);\r\n                    };\r\n                })(f);\r\n                reader.readAsBinaryString(f);\r\n            }\r\n            catch (ex) {\r\n                //\r\n            }\r\n        },\r\n\r\n        async uploadFile(data, item) {\r\n          \r\n            try {\r\n                if (this.fileData == undefined)\r\n                    return\r\n                this.isLoading = true;\r\n                let obj = {\r\n                    file_Name: data.FileName,\r\n                    file_Description: data.Description,\r\n                    invoice_id: this.BillId,\r\n                    attachment: JSON.stringify(this.fileData)\r\n                };\r\n                let formData = new FormData();\r\n                formData.append(\"postString\", JSON.stringify(obj));\r\n                const response = await DataService.SaveBillAttachment(formData);\r\n                if (response.status === 200) {\r\n                    this.isLoading = false;\r\n                    if (response.data.Status == 'Success') {\r\n                        this.FormSchema[0].Data[0].value = '';\r\n                        this.FormSchema[0].Data[1].value = [];\r\n                        this.FormSchema[1].Data[0].value = '';\r\n                        this.$refs.fileForm.validateForm.reset();\r\n                        this.onDeleteSelectedFiles();\r\n                        this.$refs.AttachmentList.getBillAttachMentList();\r\n                        this.ShowAlert(this.$t('SaveBillAttachment'), \"success\");\r\n                    }\r\n                    else if (response.data.status == 'Exceeds') {\r\n                        this.ShowAlert(this.$t(\"ExceedBillAttachmentLimit\"), \"Warning\", this.$t('Alert'));\r\n                    }\r\n                    else {\r\n                        this.ShowAlert(this.$t(\"UnknownError\"), \"failure\", this.$t('Alert'));\r\n                    }\r\n                } else {\r\n                    this.isLoading = false;\r\n                    console.error(\"Upload failed:\", response);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error uploading file:\", error);\r\n            }\r\n        }\r\n\r\n    },\r\n\r\n}\r\n\r\n</script>\r\n<style></style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachment.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Attachment.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Attachment.vue?vue&type=template&id=e160d88c\"\nimport script from \"./Attachment.vue?vue&type=script&lang=js\"\nexport * from \"./Attachment.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"PaySlipListing\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center flex-wrap\"}),_c('div',{staticClass:\"listing\"},[_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-bordered dt-responsive nowrap mt-0\"},[_c('thead',{staticClass:\"thead-bg\"},[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t(\"Serial#\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Bill#\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Payment Date\")))]),_c('th',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.$t(\"Amount\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Status\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Reference number\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Payment mode\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Action\")))])])]),_c('tbody',_vm._l((_vm.transaction_history),function(transaction,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index+ 1))]),_c('td',[_vm._v(_vm._s(transaction.bill_number))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$options.filters.formatDateTime(transaction.payment_date)))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\" \"+_vm._s(_vm.$n(transaction.bill_record_amount, \"currency\", _vm.$getLocaleByCurrency(_vm.CurrencyCode)))+\" \")]),_c('td',[_vm._v(_vm._s(transaction.PaymentStatus))]),_c('td',[_vm._v(_vm._s(transaction.transaction_ref_id))]),_c('td',[_vm._v(_vm._s(transaction.Payment_Mode))]),_c('td',[_c('a',{staticClass:\"btn btn-info mr-2\",attrs:{\"href\":\"javascript:;\",\"title\":_vm.$t('ViewSlip')},on:{\"click\":function($event){return _vm.PrintPaySlip(transaction.bill_record_id)}}},[_c('em',{staticClass:\"fa fa-eye pr-2\"}),_vm._v(_vm._s(_vm.$t('ViewSlip'))+\" \")])])])}),0)])])])])])])])],1),(_vm.IsPrint)?_c('PrintPaySlip',{attrs:{\"BillRecordData\":_vm.BillRecordData}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",staticStyle:{\"width\":\"1140px\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"Pay Slip\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"invoice-container\",staticStyle:{\"padding\":\"5px\"},attrs:{\"id\":\"printArea\"}},[_c('h2',{staticStyle:{\"margin-top\":\"0\",\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"text-align\":\"center\",\"font-size\":\"18px\",\"background\":\"#f2f2f2\",\"padding\":\"7px\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"PaymentReceipt\"))+\" \")]),_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-bottom\":\"5px\",\"border-bottom\":\"1px dashed #d9d8d8\",\"margin-bottom\":\"10px\"}},[_c('img',{staticStyle:{\"margin-right\":\"10px\",\"width\":\"300px\"},attrs:{\"src\":_vm.CompanyLogo,\"alt\":\"Company Logo\"}}),_c('div',{staticClass:\"div1\",staticStyle:{\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_c('p',{staticStyle:{\"font-size\":\"20px\",\"font-weight\":\"bold\",\"color\":\"black\",\"padding\":\"1px 0px\"}},[_vm._v(\" \"+_vm._s(_vm.CompanyName)+\" \")]),_c('p',[_vm._v(_vm._s(_vm.CompanyAddress))]),_c('p',[_vm._v(_vm._s(_vm.CompanyZipCode)+\", \"+_vm._s(_vm.CompanyCountry))])])]),_c('div',{staticStyle:{\"clear\":\"both\"}}),_c('div',{staticClass:\"header float-left w-100 p-2 mb-0\"},[_c('div',{staticClass:\"div1\",staticStyle:{\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t(\"ClientName\"))+\":\")]),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.BillTo))])]),_c('p',[_c('b',[_vm._v(_vm._s(_vm.$t(\"Address\"))+\":\")]),_vm._v(\" \"),_c('strong',[_vm._v(_vm._s(_vm.address))])])]),_c('div',{staticClass:\"div3\",staticStyle:{\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"display\":\"flex\",\"flex-direction\":\"column\",\"gap\":\"0px\"}},[_c('p',{staticClass:\"ps\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\",\"align-items\":\"center\",\"white-space\":\"nowrap\"}},[_c('b',[_vm._v(_vm._s(_vm.$t(\"InvoiceNumber\"))+\":\")]),_vm._v(\" \"+_vm._s(_vm.Billno)+\" \")]),_c('p',{staticClass:\"ps\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\",\"align-items\":\"center\",\"white-space\":\"nowrap\"}},[_c('b',[_vm._v(_vm._s(_vm.$t(\"ReceiptNumber\"))+\" :\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.Billrecordid))])]),_c('p',{staticClass:\"ps\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\",\"align-items\":\"center\",\"white-space\":\"nowrap\"}},[_c('b',[_vm._v(_vm._s(_vm.$t(\"PaymentDate\"))+\" :\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.paymentdate))])])])]),_c('div',{staticClass:\"payment-advice\"},[_c('table',{staticClass:\"secondtable\"},[_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\"}},[_vm._v(_vm._s(_vm.$t(\"ReceivedFrom\")))]),_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\"}},[_vm._v(_vm._s(_vm.$t(\"Status\")))]),_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\",\"width\":\"500px\"}},[_vm._v(_vm._s(_vm.$t(\"PaymentMethod\")))])]),_c('tr',[_c('td',{staticStyle:{\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(_vm.BillTo))]),_c('td',{staticStyle:{\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(_vm.PaymentStatus))]),_c('td',{staticStyle:{\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(_vm.PaymentMode))])])])]),_c('table',{staticClass:\"secondtable float-right\",staticStyle:{\"width\":\"500px\"}},[_c('tbody',[_c('tr',[_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\"}},[_vm._v(_vm._s(_vm.$t(\"PreviousPayment\")))]),_c('td',{staticStyle:{\"text-align\":\"right\",\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(_vm.$n(_vm.PreviousPayment, \"currency\", _vm.$getLocaleByCurrency(_vm.CurrencyCode)))+\" \")])]),_c('tr',[_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\"}},[_vm._v(_vm._s(_vm.$t(\"AmountReceived\")))]),_c('td',{staticStyle:{\"text-align\":\"right\",\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(_vm.$n(_vm.BillAmount, \"currency\", _vm.$getLocaleByCurrency(_vm.CurrencyCode))))])]),_c('tr',[_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\"}},[_vm._v(_vm._s(_vm.$t(\"TransactionRefrenceNumber\")))]),_c('td',{staticStyle:{\"text-align\":\"right\",\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\"}},[_vm._v(_vm._s(_vm.TransactionRefNumber))])]),_c('tr',[_c('td',{staticStyle:{\"font-weight\":\"600\",\"color\":\"#737373\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1em\",\"background\":\"rgb(249 249 249)\"}},[_vm._v(_vm._s(_vm.$t(\"TotalAmount\")))]),_c('td',{staticStyle:{\"text-align\":\"right\",\"color\":\"#000\",\"font-family\":\"Arial, Helvetica, sans-serif\",\"font-size\":\"1.20em\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.$n(_vm.TotalAmount, \"currency\", _vm.$getLocaleByCurrency(_vm.CurrencyCode))))])])])])])])]),_c('div',{staticClass:\"modal-footer text-right pr-0 pb-0\",staticStyle:{\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0\"},[_c('a',{class:{ 'btn btn-success mr-2': true },attrs:{\"href\":\"javascript:;\",\"title\":_vm.$t('Print')},on:{\"click\":function($event){return _vm.PrintPaySlip('printArea')}}},[_c('em',{staticClass:\"fa fa-print pr-2\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$t(\"Print\"))+\" \")]),_c('a',{staticClass:\"btn btn-primary delete-btn mr-2\",attrs:{\"title\":\"Close\"},on:{\"click\":function($event){return _vm.Close()}}},[_c('i',{staticClass:\"fa fa-times pr-2\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(_vm._s(_vm.$t(\"Close\"))+\" \")])])])])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"my-popups\">\r\n    <loader :is-visible=\"isLoading\"></loader>\r\n    <div class=\"modal d-block\">\r\n        <div class=\"modal-dialog modal-dialog-centered\" style=\"width:1140px;\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header theme-primary partition-full d-flex\">\r\n                    <h5 class=\"modal-title\">{{ $t(\"Pay Slip\") }}</h5>\r\n                    <button type=\"button\" class=\"close\" @click=\"Close\">\r\n                        <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class=\"modal-body\">\r\n                    <div class=\"invoice-container\" id=\"printArea\" style=\"padding:5px;\">\r\n\r\n                        <h2 style=\"margin-top: 0; color: #000; font-family: Arial, Helvetica, sans-serif; text-align: center; font-size: 18px; background: #f2f2f2; padding: 7px;\">\r\n                                {{ $t(\"PaymentReceipt\") }}\r\n                            </h2>\r\n\r\n                        <!-- Header -->\r\n                        \r\n                                                <!-- Left Section: Logo and Address -->\r\n                                                   <!-- Right Section: Payment Receipt Title -->\r\n                           \r\n                            <div style=\"width: 100%; display: flex; justify-content: space-between; align-items: center; padding-bottom: 5px; border-bottom: 1px dashed #d9d8d8; margin-bottom: 10px;\">\r\n                                <img :src=\"CompanyLogo\" style=\"margin-right: 10px; width:300px;\" alt=\"Company Logo\" />\r\n                                <div class=\"div1\" style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">\r\n                                    <p style=\"font-size: 20px; font-weight: bold; color: black;  padding: 1px 0px;\">\r\n                                        {{ CompanyName }}\r\n                                    </p>\r\n                                    <p>{{ CompanyAddress }}</p>\r\n                                    <p>{{ CompanyZipCode }}, {{ CompanyCountry }}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                          \r\n                        \r\n\r\n                        <div style=\"clear:both\"></div>\r\n                        <div class=\"header float-left w-100 p-2 mb-0\">\r\n                            <div class=\"div1\" style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">\r\n                                <p> <b>{{ $t(\"ClientName\") }}:</b> <strong>{{ BillTo }}</strong></p>\r\n                                <p> <b>{{ $t(\"Address\") }}:</b> <strong>{{ address }}</strong></p>\r\n                            </div>\r\n                            <!-- <div class=\"div1\" style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">\r\n                                <p> <b>{{ $t(\"Address\") }}:</b> <strong>{{ address }}</strong></p>\r\n                            </div> -->\r\n                            <div class=\"div3\" style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em; display: flex; flex-direction: column; gap: 0px;\">\r\n                                <!-- <p class=\"ps\" style=\"display: flex; justify-content: space-between; align-items: center; white-space: nowrap;\">\r\n                                    <b>{{ $t(\"InvoiceDate\") }}:</b> {{InvoiceDate }}\r\n                                </p> -->\r\n                                <p class=\"ps\" style=\"display: flex; justify-content:end; align-items: center; white-space: nowrap;\">\r\n                                    <b>{{ $t(\"InvoiceNumber\") }}:</b> {{ Billno }}\r\n                                </p>\r\n                                <p class=\"ps\" style=\"display: flex; justify-content: end; align-items: center; white-space: nowrap;\">\r\n                                    <b>{{ $t(\"ReceiptNumber\") }} :</b> <span>{{ Billrecordid }}</span>\r\n                                </p>\r\n\r\n                                <p class=\"ps\" style=\"display: flex; justify-content: end; align-items: center; white-space: nowrap;\">\r\n                                    <b>{{ $t(\"PaymentDate\") }} :</b> <span>{{ paymentdate }}</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"payment-advice\">\r\n\r\n\r\n                                 <table class=\"secondtable\" >\r\n                                  \r\n                                  <tbody>\r\n                                   <tr>\r\n                                       <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"ReceivedFrom\") }}</td>\r\n                                       <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"Status\") }}</td>\r\n                                       <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249); width:500px;\">{{ $t(\"PaymentMethod\") }}</td>\r\n                                        \r\n                                    </tr>\r\n                                    <tr>\r\n                                       <td style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ BillTo }}</td>\r\n                                       <td style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ PaymentStatus }}</td>\r\n                                       <td style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ PaymentMode }}</td>\r\n                                    </tr>\r\n                                  </tbody>\r\n                                 </table>\r\n\r\n                            <table class=\"secondtable float-right\" style=\"width:500px;\">\r\n                                <tbody>\r\n                                   \r\n                                   \r\n                                    <!-- <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"ReceivedFrom\") }}</td>\r\n                                        <td style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ BillTo }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"Status\") }}</td>\r\n                                        <td style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ PaymentStatus }}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"PaymentMethod\") }}</td>\r\n                                        <td style=\"color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ PaymentMode }}</td>\r\n                                    </tr> -->\r\n                                   \r\n                                  \r\n                                    <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"PreviousPayment\") }}</td>\r\n                                        <td style=\"text-align:right; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ $n(PreviousPayment, \"currency\", $getLocaleByCurrency(CurrencyCode))}}\r\n                                          </td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"AmountReceived\") }}</td>\r\n                                        <td style=\"text-align:right; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ $n(BillAmount, \"currency\", $getLocaleByCurrency(CurrencyCode))}}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"TransactionRefrenceNumber\") }}</td>\r\n                                        <td style=\"text-align:right; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1em;\">{{ TransactionRefNumber }}</td>\r\n                                    </tr>\r\n                                     <tr>\r\n                                        <td style=\"font-weight: 600; color: #737373; font-family: Arial, Helvetica, sans-serif; font-size: 1em; background:rgb(249 249 249)\">{{ $t(\"TotalAmount\") }}</td>\r\n                                        <td style=\"text-align:right; color: #000; font-family: Arial, Helvetica, sans-serif; font-size: 1.20em; font-weight:600;\">{{ $n(TotalAmount, \"currency\", $getLocaleByCurrency(CurrencyCode))}}</td>\r\n                                    </tr>\r\n                                    \r\n\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer text-right pr-0 pb-0\" style=\"margin-bottom: 10px;\">\r\n                    <div class=\"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0\">\r\n                        <a href=\"javascript:;\" :class=\"{ 'btn btn-success mr-2': true }\" v-on:click=\"PrintPaySlip('printArea')\" :title=\"$t('Print')\">\r\n                            <em class=\"fa fa-print pr-2\" aria-hidden=\"true\"></em>\r\n                            {{ $t(\"Print\") }}\r\n                        </a>\r\n                        <a title=\"Close\" v-on:click=\"Close()\" class=\"btn btn-primary delete-btn mr-2\"><i class=\"fa fa-times pr-2\" aria-hidden=\"true\"></i>{{ $t(\"Close\") }} </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\nimport PrintPaySlip from './PrintInvoiceSlip.vue';\r\nexport default {\r\n    components: {\r\n        PrintPaySlip\r\n    },\r\n    props: {\r\n        BillRecordData: {\r\n            type: Object,\r\n            required: true,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            CompanyLogo: null,\r\n            InvoiceDate: '',\r\n            PaymentMode: 'Cash',\r\n            BillAmount: 0,\r\n            TransactionRefNumber: null,\r\n            BillTo: null,\r\n            Billrecordid:null,\r\n            //CompanyAddress:null,\r\n            Billno: '',\r\n            paymentdate:null,\r\n            paymentdate:'',\r\n            Notes: '',\r\n            PaymentStatus: '',\r\n            CurrencyCode: 'PKR'\r\n        };\r\n    },\r\n    created() {\r\n        var vm=this;\r\n        this.FetchData();\r\n        vm.CurrencyCode = vm.GetUserInfo.Currency.replace(/[()]/g, '');\r\n    },\r\n    methods: {\r\n\r\n        formatFullAddress(item) {\r\n            return [\r\n            item.user_address_1,\r\n            item.user_address_2,\r\n            item.user_state,\r\n            item.country_name,\r\n            item.user_zipcode\r\n            ]\r\n            .filter(part => part && part.trim() !== '')\r\n            .join(', ');\r\n        },\r\n        FetchData: async function () {\r\n            debugger\r\n            var vm = this;\r\n            var BillRecordData = vm.BillRecordData;\r\n            \r\n            vm.CompanyLogo = BillRecordData.company_logo;\r\n            vm.InvoiceDate = vm.$options.filters.formatDateTime(BillRecordData.payment_date);\r\n            vm.PaymentMode = BillRecordData.Payment_Mode;\r\n            vm.CompanyName = BillRecordData.company_name;\r\n            vm.CompanyAddress = BillRecordData.company_address || 'No Address Provided';\r\n            vm.CompanyZipCode = BillRecordData.company_zipcode || 'No Zip Code Provided';\r\n            vm.CompanyCountry = BillRecordData.company_country || 'No Country Provided';\r\n            vm.BillAmount = BillRecordData.TotalAmountRecived;\r\n            vm.TransactionRefNumber = BillRecordData.Transaction_Reference_Number;\r\n            vm.Billrecordid = BillRecordData.bill_record_id;\r\n            vm.BillTo = BillRecordData.ClientName;\r\n            vm.Billno = BillRecordData.Bill_number;\r\n            vm.address = BillRecordData.user_address_1 && BillRecordData.user_address_1.trim() !== '' ? this.formatFullAddress(BillRecordData) : 'N/A';\r\n            vm.paymentdate = vm.$options.filters.formatDateTime(BillRecordData.payment_date);\r\n            vm.Notes = BillRecordData.Notes;\r\n            vm.TotalAmount = BillRecordData.TotalAmount;\r\n            vm.PreviousPayment = BillRecordData.PreviousPayment;\r\n            vm.PaymentStatus = BillRecordData.PaymentStatus;\r\n        },\r\n        PrintPaySlip(divId) {\r\n            debugger\r\n            const printContents = document.getElementById(divId).innerHTML;\r\n            const iframe = document.createElement('iframe');\r\n            iframe.style.position = 'absolute';\r\n            iframe.style.width = '0px';\r\n            iframe.style.height = '0px';\r\n            iframe.style.border = 'none';\r\n            document.body.appendChild(iframe);\r\n            const doc = iframe.contentWindow.document;\r\n            doc.open();\r\n            doc.write('<html><head><title>Print</title>');\r\n            doc.write('<style>');\r\n            const styles = document.querySelectorAll('style, link[rel=\"stylesheet\"]');\r\n            styles.forEach(style => {\r\n                doc.write(style.outerHTML);\r\n            });\r\n            doc.write('</style></head><body>');\r\n            doc.write(printContents);\r\n            doc.write('</body></html>');\r\n            doc.close();\r\n            iframe.contentWindow.focus();\r\n            iframe.contentWindow.print();\r\n            iframe.remove();\r\n        },\r\n        Close() {\r\n            var vm = this;\r\n            vm.$parent.IsPrint = false;\r\n        }\r\n    },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.m-0 {\r\n    margin: 0px;\r\n}\r\n\r\n.ps {\r\n    padding: 5px 0px;\r\n    margin: 0px;\r\n}\r\n\r\n.invoice-container {\r\n    max-width: 1100px;\r\n    width:1100px;\r\n    min-width: 1100px;\r\n    margin: 0 auto;\r\n    background: #fff;\r\n    padding: 20px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 5px;\r\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n    float:left;\r\n}\r\n\r\n.header {\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.header img {\r\n    max-height: 50px;\r\n}\r\n\r\n.invoice-details,\r\n.payment-advice {\r\n    margin-bottom: 20px;\r\n    width: 100%;\r\n    float: left;\r\n}\r\n\r\n.invoice-details table.secondtable,\r\n.payment-advice table.secondtable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top: 10px;\r\n}\r\n\r\ntable.secondtable th,\r\ntable.secondtable td {\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    text-align: left;\r\n}\r\n\r\ntable.secondtable th {\r\n    background-color: #f4f4f4;\r\n}\r\n\r\n.totals {\r\n    float: right;\r\n    margin-top: 10px;\r\n    text-align: right;\r\n    width: 100%;\r\n}\r\n\r\n.totals div {\r\n    margin-bottom: 5px;\r\n}\r\n\r\n.footer {\r\n    text-align: center;\r\n    font-size: 0.9em;\r\n    color: #666;\r\n    margin-top: 20px;\r\n    width: 100%;\r\n    display: inline-block;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n    .header {\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n    }\r\n\r\n    .totals {\r\n        float: none;\r\n        text-align: left;\r\n    }\r\n}\r\n/* \r\ntable.secondtable tbody td {\r\n    text-align: right;\r\n} */\r\n\r\ntable.secondtable tbody td {\r\n    text-align: left;\r\n}\r\n\r\n.header .div1 {\r\n    width: 49%;\r\n    float: left !important;\r\n}\r\n\r\n.header .div3 {\r\n    width: 40%;\r\n    float: right !important;\r\n}\r\n\r\n.header .div2 {\r\n    width: 100%;\r\n    float: left !important;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintInvoiceSlip.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintInvoiceSlip.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PrintInvoiceSlip.vue?vue&type=template&id=53b0216e&scoped=true\"\nimport script from \"./PrintInvoiceSlip.vue?vue&type=script&lang=js\"\nexport * from \"./PrintInvoiceSlip.vue?vue&type=script&lang=js\"\nimport style0 from \"./PrintInvoiceSlip.vue?vue&type=style&index=0&id=53b0216e&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53b0216e\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n<section>\r\n    <div class=\"my-popups\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"modal d-block\">\r\n            <div class=\"modal-dialog modal-dialog-centered\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header theme-primary partition-full d-flex\">\r\n                        <h5 class=\"modal-title\">{{ $t(\"PaySlipListing\") }}</h5>\r\n                        <button type=\"button\" class=\"close\" @click=\"Close\">\r\n                            <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <div class=\"d-flex justify-content-between align-items-center flex-wrap\">\r\n                        </div>\r\n                        <div class=\"listing\">\r\n                        <div class=\"table-responsive\">\r\n                             <table class=\"table table-bordered dt-responsive nowrap mt-0\">\r\n                                            <thead class=\"thead-bg\">\r\n                                                <tr>\r\n                                                    <th>{{ $t(\"Serial#\") }}</th>\r\n                                                    <th>{{ $t(\"Bill#\") }}</th>\r\n                                                    <th>{{ $t(\"Payment Date\") }}</th>\r\n                                                    <th style=\"text-align: center;\">{{ $t(\"Amount\") }}</th>\r\n                                                    <th>{{ $t(\"Status\") }}</th>\r\n                                                    <th>{{ $t(\"Reference number\") }}</th>\r\n                                                    <th>{{ $t(\"Payment mode\") }}</th>\r\n                                                    <th>{{ $t(\"Action\") }}</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr v-for=\"(transaction, index) in transaction_history\" :key=\"index\">\r\n                                                    <td>{{ index+ 1 }}</td>\r\n                                                    <td>{{ transaction.bill_number }}</td>\r\n                                                    <td> {{$options.filters.formatDateTime(transaction.payment_date) }}</td>\r\n                                                    <td style=\"text-align: right;\">\r\n                                                        {{ $n(transaction.bill_record_amount, \"currency\", $getLocaleByCurrency(CurrencyCode)) }}\r\n                                                    </td>\r\n                                                    <td>{{ transaction.PaymentStatus }}</td>\r\n                                                    <td>{{ transaction.transaction_ref_id }}</td>\r\n                                                    <td>{{ transaction.Payment_Mode}}</td>\r\n                                                    <td><a href=\"javascript:;\" :title=\"$t('ViewSlip')\" class=\"btn btn-info mr-2\" v-on:click=\"PrintPaySlip(transaction.bill_record_id)\" ><em class=\"fa fa-eye pr-2\"></em>{{ $t('ViewSlip') }} </a></td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>                            \r\n                                 </div>\r\n                            </div>\r\n                          \r\n                                   \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <PrintPaySlip v-if=\"IsPrint\" :BillRecordData=\"BillRecordData\"></PrintPaySlip>\r\n</section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\nimport PrintPaySlip from './PrintInvoiceSlip.vue';\r\nexport default {\r\n    components: { PrintPaySlip},\r\n    props: {\r\n        BillId: {\r\n            type: Number,\r\n            required: true,\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            InvoiceHistory: [],\r\n            textCountertlength: 2000,\r\n            comment: '',\r\n            company_logo: '',\r\n            invoicedate: '',\r\n            transaction_history: [],\r\n            BillNumber: '',\r\n            mode: 'cash',\r\n            IsPrint: false,\r\n            BillRecordData: [],\r\n            CurrencyCode: 'PKR'\r\n        };\r\n    },\r\n    created() {\r\n        var vm=this;\r\n        this.FetchData();\r\n        vm.CurrencyCode = vm.GetUserInfo.Currency.replace(/[()]/g, '');\r\n    },\r\n    methods: {\r\n         FetchData: async function () {\r\n            debugger\r\n            var vueObj = this;\r\n            var url = `invoiceId=${vueObj.BillId}`;\r\n            await DataService.GetInvoicePaymentDetails(url).then(function (response) {\r\n                if (response.data != \"\" && response.data != null) {\r\n                if (response.data.length > 0) {\r\n                    vueObj.transaction_history = response.data;\r\n                }\r\n            }         \r\n            });\r\n        },\r\n        Close() { \r\n            var vm = this;\r\n            vm.$parent.isPaySlip = false;\r\n        },\r\n         PrintPaySlip:async function(InvoiceRecordId) {\r\n           var vueObj = this;\r\n            var url = `invoiceId=${vueObj.BillId}&invoiceRecordId=${InvoiceRecordId}`;\r\n            await DataService.GetInvoicePaymentRecord(url).then(function (response) {\r\n                if (response.data != \"\" && response.data != null) {\r\n                if (response.data.length > 0) {\r\n                    vueObj.BillRecordData = response.data[0];\r\n                    vueObj.IsPrint=true;\r\n                }\r\n            }         \r\n            });\r\n        }\r\n\r\n    },\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoicePaySlip.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoicePaySlip.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InvoicePaySlip.vue?vue&type=template&id=5eb60c6e\"\nimport script from \"./InvoicePaySlip.vue?vue&type=script&lang=js\"\nexport * from \"./InvoicePaySlip.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}