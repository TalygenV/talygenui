{"version":3,"sources":["webpack:///./src/views/Client/AddClient.vue","webpack:///src/views/Client/AddClient.vue","webpack:///./src/views/Client/AddClient.vue?6306","webpack:///./src/views/Client/AddClient.vue?ff3e"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","ref","buttons","FormSchema","on","OnSubmit","staticRenderFns","data","MandatoryString","companyId","userId","ModelData","ClientId","ParentId","IsEmailExist","layoutType","Data","astype","label","name","value","validationRules","disabled","type","class","text","onClick","Close","isVisible","created","vm","GetUserInfo","ID","user_type","UserType","CompanyId","methods","formfields","val","GetClientDetail","Email","ShowAlert","$router","push","params","email","id","Url","DataServices","GetClientDetailByEmail","then","response","emailExist","clientdetail","user_id","parent_id","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,UAAU,CAACE,YAAY,gBAAgB,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,aAAaL,EAAIM,aAAaJ,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,gCAAgC,CAACF,EAAG,OAAO,CAACE,YAAY,qBAAqB,CAACJ,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,iBAAiBP,EAAG,OAAO,CAACE,YAAY,eAAe,CAACF,EAAG,aAAa,CAACE,YAAY,sCAAsCC,MAAM,CAAC,GAAK,kBAAkB,CAACH,EAAG,KAAK,CAACE,YAAY,4BAA4BF,EAAG,MAAMF,EAAIO,GAAG,IAAIP,EAAIQ,GAAGR,EAAIS,GAAG,eAAe,QAAQ,SAASP,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,eAAe,CAACQ,IAAI,cAAcL,MAAM,CAAC,KAAO,KAAK,QAAUL,EAAIW,QAAQ,OAASX,EAAIY,YAAYC,GAAG,CAAC,SAAWb,EAAIc,aAAa,IAAI,IAEpyBC,EAAkB,G,wBCsBP,GACfC,OACA,OACAV,WAAA,EACAW,gBAAA,oDACAC,UAAA,KACAC,OAAA,KACAC,UAAA,GACAC,SAAA,EACAC,SAAA,KACAC,cAAA,EACAX,WAAA,EACAY,WAAA,OACAC,KAAA,EACAC,OAAA,YACAC,MAAA,KAAAlB,GAAA,SACAmB,KAAA,QACAC,MAAA,GACAC,gBAAA,2BACAC,UAAA,MAKApB,QAAA,CACA,CACAqB,KAAA,SACAC,MAAA,0BACAC,KAAA,kEACAC,QAAA,KAAAC,OAEA,CACAJ,KAAA,SACAC,MAAA,6BACAC,KAAA,oDACAG,WAAA,MAMAC,QAAA,iBACA,IAAAC,EAAA,KACAA,EAAApB,OAAAoB,EAAAC,YAAAC,GACAF,EAAAG,UAAAH,EAAAC,YAAAG,SACAJ,EAAArB,UAAAqB,EAAAC,YAAAI,WAEAC,QAAA,CACA,eAAAC,EAAAC,GACA,IAAAR,EAAA,WACA,KAAAS,gBAAAF,EAAAG,OACA,GAAAV,EAAAhB,cAAA,GAAAgB,EAAAlB,UACA,MAAAkB,EAAAjB,WACAiB,EAAAjB,SAAA,GAGAiB,EAAAW,UAAAX,EAAA9B,GAAA,iBAAA8B,EAAA9B,GAAA,wBAAA8B,EAAA9B,GAAA,WAEA,KAAA0C,QAAAC,KAAA,CAAAxB,KAAA,kBAAAyB,OAAA,CAAAC,MAAAR,EAAAG,MAAAM,GAAA,MAGAP,gBAAA,eAAAC,GACA,IAAAV,EAAA,KACA,IAAAiB,EAAA,WAAAP,QACAQ,OAAAC,uBAAAF,GAAAG,MAAA,SAAAC,GACArB,EAAAhB,aAAAqC,EAAA5C,KAAA6C,WACA,GAAAtB,EAAAhB,eACAgB,EAAAnB,UAAAwC,EAAA5C,KACAuB,EAAAlB,SAAAuC,EAAA5C,KAAA8C,aAAAC,QACAxB,EAAAjB,SAAAsC,EAAA5C,KAAA8C,aAAAE,eAIA5B,MAAA,WACA,IAAAG,EAAA,KACAA,EAAAY,QAAAC,KAAA,CAAAxB,KAAA,qBCnGiW,I,YCO7VqC,EAAY,eACd,EACAlE,EACAgB,GACA,EACA,KACA,KACA,MAIa,aAAAkD,E","file":"js/chunk-2d21ab57.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"main-content\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[_c('span',{staticClass:\"p-name text-white\"},[_vm._v(\" \"+_vm._s(_vm.$t('AddClient')))]),_c('span',{staticClass:\"float-right\"},[_c('RouterLink',{staticClass:\"p-action-btn text-white float-right\",attrs:{\"to\":\"/Client/Index\"}},[_c('em',{staticClass:\"fa fa-angle-double-left\"}),_c('br'),_vm._v(\" \"+_vm._s(_vm.$t('BacktoList'))+\" \")])],1)])])]),_c('div',{staticClass:\"border p-3\"},[_c('dynamic-form',{ref:\"dynamicform\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.OnSubmit}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section class=\"main-content\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12 padding-t_8\">\r\n                <div class=\"theme-primary partition-full\">\r\n                    <span class=\"p-name text-white\"> {{ $t('AddClient') }}</span>\r\n                    <span class=\"float-right\">\r\n                        <RouterLink to=\"/Client/Index\" class=\"p-action-btn text-white float-right\">\r\n                            <em class=\"fa fa-angle-double-left\"></em>\r\n                            <br />\r\n                            {{ $t('BacktoList') }}\r\n                        </RouterLink>\r\n                    </span> \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"border p-3\">\r\n            <dynamic-form ref=\"dynamicform\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"OnSubmit\"></dynamic-form>\r\n        </div>\r\n    </section>\r\n</template>\r\n<script>\r\nimport DataServices from \"../../services/DataService\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            MandatoryString:'Fields marked with an asterisk (*) are mandatory.',\r\n            companyId: null,\r\n            userId: null,\r\n            ModelData:[],\r\n            ClientId: 0,\r\n            ParentId: null,\r\n            IsEmailExist: false,\r\n            FormSchema: [{\r\n                    layoutType: \"four\",\r\n                    Data: [{\r\n                        astype: \"TextField\",\r\n                        label: this.$t('Email'),\r\n                        name: \"Email\",\r\n                        value: \"\",\r\n                        validationRules: [{\"email\": true},{\"required\": true}],\r\n                        disabled: false,\r\n                    }, \r\n                    ]\r\n                },\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-warning formbtn\",\r\n                    text: \"<i class='fa fa-angle-double-left pr-2'></i>Back to Client List\",\r\n                    onClick: this.Close,\r\n                },\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-primary text-white\",\r\n                    text: \"Next<i class='fa fa-angle-double-right pl-2'></i>\",\r\n                    isVisible: true,\r\n\r\n                },\r\n            ],\r\n        }\r\n    },\r\n    created: async function () {\r\n        var vm = this;\r\n        vm.userId = vm.GetUserInfo.ID;\r\n        vm.user_type= vm.GetUserInfo.UserType;\r\n        vm.companyId = vm.GetUserInfo.CompanyId;\r\n    },\r\n    methods: {\r\n        async OnSubmit(formfields, val) {\r\n            var vm = this;\r\n            await this.GetClientDetail(formfields.Email);\r\n            if(vm.IsEmailExist==true && vm.ClientId !=0){\r\n                if (vm.ParentId == null) {\r\n                    vm.ParentId = 0;\r\n                }\r\n                //this.$router.push({ name: 'UpdateClient', params: { id: vm.ClientId, parentId: vm.ParentId} });\r\n                vm.ShowAlert(vm.$t('AlreadyExists', [vm.$t('Email')]), \"failure\", true, vm.$t('Alert'));\r\n            }else{\r\n                this.$router.push({ name: 'AssociateClient', params: { email: formfields.Email, id: 0} });\r\n            }\r\n        },\r\n        GetClientDetail: async function (Email) {\r\n            var vm = this;\r\n            let Url = `emailId=${Email}`\r\n            await DataServices.GetClientDetailByEmail(Url).then(function (response) {\r\n                vm.IsEmailExist=response.data.emailExist;\r\n                if(vm.IsEmailExist==true){\r\n                    vm.ModelData = response.data;\r\n                    vm.ClientId = response.data.clientdetail.user_id;\r\n                    vm.ParentId= response.data.clientdetail.parent_id;\r\n                }\r\n            });\r\n        },\r\n        Close: function () {\r\n            var vm=this;\r\n            vm.$router.push({ name: 'ClientListing' });\r\n        }\r\n\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddClient.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddClient.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddClient.vue?vue&type=template&id=5c6084b2\"\nimport script from \"./AddClient.vue?vue&type=script&lang=js\"\nexport * from \"./AddClient.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}