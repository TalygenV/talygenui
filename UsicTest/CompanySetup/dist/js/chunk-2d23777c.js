(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d23777c"],{faf1:function(e,t,c){"use strict";c.r(t);var a=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-12"},[t("div",{staticClass:"container-fluid p-0"},[t("div",{attrs:{id:"divShowlistingData"}},[t("div",{staticClass:"listing float-none"},[e._m(0),t("div",{staticClass:"table-responsive",attrs:{id:"divListing"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",staticStyle:{width:"100%"},attrs:{id:"moduleList"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{staticClass:"gray"},[t("th",{staticStyle:{"min-width":"300px"},attrs:{colspan:"2"}},[e._v("Manage Notifications")]),t("th",{staticClass:"text-center",staticStyle:{width:"90px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"90px"}},[e._v("Email Notifications")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_1","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_1","email")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_1"}})])]),t("th",{staticClass:"text-center",staticStyle:{width:"90px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"90px"}},[e._v("TALYGEN Inbox Notifications")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_2","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_2","inbox")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_2"}})])]),t("th",{staticClass:"text-center",staticStyle:{width:"102px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"102px"}},[e._v("Mobile Notification")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_3","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_3","mobile")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_3"}})])]),t("th",{staticClass:"text-center",staticStyle:{width:"102px"},attrs:{scope:"col"}},[t("span",{staticClass:"font-weight-normal float-left m-1",staticStyle:{"min-width":"102px"}},[e._v("Push Notification")]),t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkupper_4","data-change-id":"no"},on:{click:function(t){return e.checkAllRowCheckboxes(t,"chk_4","push")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkupper_4"}})])])])]),e._l(e.GetNotificationData,(function(c,a){return t("tbody",{attrs:{id:"accordionEx"}},[t("tr",{staticClass:"high-bar",attrs:{id:"MainColumn"+a}},[t("td",[t("span",{staticClass:"table-plus-minus"},[t("a",{staticClass:"collapsed",attrs:{"data-parent":"#accordionEx","data-target":"#ColumnCollapse"+a,href:"javascript:;","aria-expanded":"false","aria-controls":"ColumnCollapse"+a,"data-toggle":"collapse"},on:{click:function(t){return e.toggleAccordion(a)}}},[t("em",{class:e.activeIndex===a?"fa fa-minus pt-0":"fa fa-plus pt-0",attrs:{"aria-hidden":"true"}})])])]),t("td",[e._v(" "+e._s(c.ModuleName)+" ")]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_1"+c.ModuleId,"data-change-id":"no",name:"email"},domProps:{value:c.ModuleId,checked:1==c.IS_EMAIL_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_1"+c.ModuleId,"email",a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_1"+c.ModuleId}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_2"+c.ModuleId,"data-change-id":"no",name:"inbox"},domProps:{value:c.ModuleId,checked:1==c.IS_INBOX_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_2"+c.ModuleId,"inbox",a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_2"+c.ModuleId}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_3"+c.ModuleId,"data-change-id":"no",name:"mobile"},domProps:{value:c.ModuleId,checked:1==c.IS_MOBILE_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_3"+c.ModuleId,"mobile",a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_3"+c.ModuleId}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chk_4"+c.ModuleId,"data-change-id":"no",name:"push"},domProps:{value:c.ModuleId,checked:1==c.IS_PUSH_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllCheckboxes(t,"chk_4"+c.ModuleId,"push",a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chk_4"+c.ModuleId}})])])]),e._l(c.GroupedSubmodule,(function(i){return c.GroupedSubmodule.length>0?t("tr",{staticClass:"rowdata collapse collapseAppointment gray",attrs:{id:"ColumnCollapse"+a,"aria-labelledby":"MainColumn"+a,"data-parent":"#accordionEx"}},[t("td"),t("td",[e._v(" "+e._s(i.TYPE_NAME)+" ")]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_1"+i.ID,"data-change-id":"no",name:"email"},domProps:{value:i.ID,checked:1==i.IS_EMAIL_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_1"+i.ID}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_2"+i.ID,"data-change-id":"no",name:"inbox"},domProps:{value:i.ID,checked:1==i.IS_INBOX_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_2"+i.ID}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_3"+i.ID,"data-change-id":"no",name:"mobile"},domProps:{value:i.ID,checked:1==i.IS_MOBILE_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_3"+i.ID}})])]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"deletable custom-control-input",attrs:{type:"checkbox",id:"chkinner_4"+i.ID,"data-change-id":"no",name:"push"},domProps:{value:i.ID,checked:1==i.IS_PUSH_NOTIFICATION?"checked":""},on:{click:function(t){return e.checkAllOuterMainCheckboxes(t,a)}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkinner_4"+i.ID}})])])]):e._e()}))],2)}))],2)]),t("div",{staticClass:"col-lg-12"},[t("div",{staticClass:"float-right mt-3"},[t("a",{staticClass:"btn btn-success mr-2",attrs:{title:"Save"},on:{click:e.SubmitNotification}},[t("em",{staticClass:"fa fa-save p-1"}),e._v(" "+e._s(e.$t("Submit")))]),t("a",{staticClass:"btn btn-danger",attrs:{title:"Cancel"}},[t("em",{staticClass:"fa fa-close p-1"}),e._v(" "+e._s(e.$t("Cancel")))])])])])])])])])],1)},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 py-2"},[t("div",{staticClass:"mr-2 d-inline-block"},[t("span",{staticClass:"legends_high colorboxsquare"}),e._v("Select one or more Notification Type(s) ")])])])}],s=(c("14d9"),c("9769")),o={components:{},data(){return{recordId:0,showCompanyNotification:!1,noRecord:!1,isLoading:!1,GetNotificationData:[],GetMainModuleData:[],activeIndex:null,UserId:this.GetUserInfo.ID}},async created(){var e=this;await e.FetchData(),setTimeout((function(){e.checkAllCheckboxes()}),1e3)},methods:{toggleAccordion(e){this.activeIndex=this.activeIndex===e?null:e},async FetchData(){var e=this,t="userId="+e.UserId;e.isLoading=!0,e.GetNotificationData=[],await s["a"].GetNotificationTypes(t).then(t=>{if(e.isLoading=!1,null!=t.data){var c=[],a=null;c=t.data.result,c.forEach(t=>{if(t.MODULE_ID==a){var c=e.GetNotificationData.findIndex(e=>e.ModuleId==a);c>-1&&e.GetNotificationData[c].GroupedSubmodule.push(t)}else{var i=[];i.push(t),e.GetNotificationData.push({ModuleName:t.MODULE_NAME,ModuleId:t.MODULE_ID,IS_EMAIL_NOTIFICATION:t.IS_EMAIL_NOTIFICATION,IS_INBOX_NOTIFICATION:t.IS_INBOX_NOTIFICATION,IS_MOBILE_NOTIFICATION:t.IS_MOBILE_NOTIFICATION,IS_PUSH_NOTIFICATION:t.IS_PUSH_NOTIFICATION,GroupedSubmodule:i}),a=t.MODULE_ID}})}})},CheckMainCheckboxes(e,t){for(var c=document.getElementsByTagName("input"),a=0;a<c.length;a++)"checkbox"==c[a].type&&c[a].id.includes(e)&&(c[a].checked=t)},checkAllinnerCheckboxes(e,t){var c=this;c.GetNotificationData.forEach(a=>{a.ModuleId===parseInt(t.value)&&a.GroupedSubmodule.forEach(i=>{"email"==e?(i.IS_EMAIL_NOTIFICATION=1==t.checked?1:0,a.IS_EMAIL_NOTIFICATION=1==t.checked?1:0):"inbox"==e?(i.IS_INBOX_NOTIFICATION=1==t.checked?1:0,a.IS_INBOX_NOTIFICATION=1==t.checked?1:0):"mobile"==e?(i.IS_MOBILE_NOTIFICATION=1==t.checked?1:0,a.IS_MOBILE_NOTIFICATION=1==t.checked?1:0):"push"==e&&(i.IS_PUSH_NOTIFICATION=1==t.checked?1:0,a.IS_PUSH_NOTIFICATION=1==t.checked?1:0);var s=c.GetMainModuleData.find(e=>e.id===i.ID);void 0!=s?(s.id=i.ID,s.email=i.IS_EMAIL_NOTIFICATION,s.inbox=i.IS_INBOX_NOTIFICATION,s.mobile=i.IS_MOBILE_NOTIFICATION,s.push=i.IS_PUSH_NOTIFICATION):c.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION,push:i.IS_PUSH_NOTIFICATION})})})},checkAllCheckboxes(e,t,c,a){var i=this,s=!0;if(void 0!=e)i.GetNotificationData.forEach((t,o)=>{t.GroupedSubmodule.forEach((t,s)=>{(e.target.value==t.MODULE_ID&&a==o&&"email"==c||e.target.value==t.MODULE_ID&&a==o&&"inbox"==c||e.target.value==t.MODULE_ID&&a==o&&"mobile"==c||e.target.value==t.MODULE_ID&&a==o&&"push"==c)&&i.checkAllinnerCheckboxes(c,e.target)}),(0==t.IS_EMAIL_NOTIFICATION&&"email"==c||0==t.IS_INBOX_NOTIFICATION&&"inbox"==c||0==t.IS_MOBILE_NOTIFICATION&&"mobile"==c||0==t.IS_PUSH_NOTIFICATION&&"push"==c)&&(s=!1)}),"email"==c?0==s?i.CheckMainCheckboxes("chkupper_1",""):i.CheckMainCheckboxes("chkupper_1","checked"):"inbox"==c?0==s?i.CheckMainCheckboxes("chkupper_2",""):i.CheckMainCheckboxes("chkupper_2","checked"):"mobile"==c?0==s?i.CheckMainCheckboxes("chkupper_3",""):i.CheckMainCheckboxes("chkupper_3","checked"):"push"==c&&(0==s?i.CheckMainCheckboxes("chkupper_4",""):i.CheckMainCheckboxes("chkupper_4","checked"));else for(var o=document.getElementsByClassName("deletable custom-control-input"),l=0;l<o.length;l++)if("checkbox"==o[l].type)if((o[l].id.includes("chk_1")||o[l].id.includes("chkinner_1"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_1")||o[l].id.includes("chkinner_1")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_1","");break}i.CheckMainCheckboxes("chkupper_1","checked")}else if((o[l].id.includes("chk_2")||o[l].id.includes("chkinner_2"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_2")||o[l].id.includes("chkinner_2")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_2","");break}i.CheckMainCheckboxes("chkupper_2","checked")}else if((o[l].id.includes("chk_3")||o[l].id.includes("chkinner_3"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_3")||o[l].id.includes("chkinner_3")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_3","");break}i.CheckMainCheckboxes("chkupper_3","checked")}else if((o[l].id.includes("chk_4")||o[l].id.includes("chkinner_4"))&&void 0!=t?t==o[l].id:o[l].id.includes("chk_4")||o[l].id.includes("chkinner_4")){if(1!=o[l].checked){i.CheckMainCheckboxes("chkupper_4","");break}i.CheckMainCheckboxes("chkupper_4","checked")}},async SubmitNotification(){var e=this;let t="";t=e.GetMainModuleData.map(e=>`${e.id}^${e.email}^${e.inbox}^${e.mobile}^${e.push}`).join(",");const c={IDs:t,User_Id:e.UserId};var a=new FormData;a.append("postString",JSON.stringify(c)),await s["a"].AddNotificationData(a).then(t=>{"DATA SAVED SUCESSFULLY!"==t.data[0].Value?(e.GetNotificationData=[],e.FetchData(),this.ShowAlert(this.$t("Notification successfully updated"),"success",!1,this.$t("Alert"))):this.ShowAlert(this.$t("ErrorWhileSavingRecords"),"danger",!1,this.$t("Alert"))}).catch(e=>{console.log(e)})},checkAllRowCheckboxes(e,t,c){for(var a=this,i=document.getElementsByClassName("deletable custom-control-input"),s=0;s<i.length;s++)"checkbox"==i[s].type&&i[s].id.includes(t)&&a.GetNotificationData.forEach(t=>{t.GroupedSubmodule.forEach(i=>{"email"==c?(i.IS_EMAIL_NOTIFICATION=1==e.target.checked?1:0,t.IS_EMAIL_NOTIFICATION=1==e.target.checked?1:0):"inbox"==c?(i.IS_INBOX_NOTIFICATION=1==e.target.checked?1:0,t.IS_INBOX_NOTIFICATION=1==e.target.checked?1:0):"mobile"==c?(i.IS_MOBILE_NOTIFICATION=1==e.target.checked?1:0,t.IS_MOBILE_NOTIFICATION=1==e.target.checked?1:0):"push"==c&&(i.IS_PUSH_NOTIFICATION=1==e.target.checked?1:0,t.IS_PUSH_NOTIFICATION=1==e.target.checked?1:0);var s=a.GetMainModuleData.find(e=>e.id===i.ID);void 0!=s?(s.id=i.ID,s.email=i.IS_EMAIL_NOTIFICATION,s.inbox=i.IS_INBOX_NOTIFICATION,s.mobile=i.IS_MOBILE_NOTIFICATION,s.push=i.IS_PUSH_NOTIFICATION):a.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION,push:i.IS_PUSH_NOTIFICATION})})})},checkAllOuterMainCheckboxes(e,t){var c=this,a=!0,i=!0;c.GetNotificationData.forEach((s,o)=>{s.GroupedSubmodule.forEach((i,l)=>{if("email"==e.target.name&&i.ID==e.target.value?i.IS_EMAIL_NOTIFICATION=1==e.target.checked?1:0:"inbox"==e.target.name&&i.ID==e.target.value?i.IS_INBOX_NOTIFICATION=1==e.target.checked?1:0:"mobile"==e.target.name&&i.ID==e.target.value?i.IS_MOBILE_NOTIFICATION=1==e.target.checked?1:0:"push"==e.target.name&&i.ID==e.target.value&&(i.IS_PUSH_NOTIFICATION=1==e.target.checked?1:0),t==o&&i.ID==e.target.value){var n=c.GetMainModuleData.find(e=>e.id===i.ID);void 0!=n?(n.id=i.ID,n.email=i.IS_EMAIL_NOTIFICATION,n.inbox=i.IS_INBOX_NOTIFICATION,n.mobile=i.IS_MOBILE_NOTIFICATION,n.push=i.IS_PUSH_NOTIFICATION):c.GetMainModuleData.push({id:i.ID,email:i.IS_EMAIL_NOTIFICATION,inbox:i.IS_INBOX_NOTIFICATION,mobile:i.IS_MOBILE_NOTIFICATION,push:i.IS_PUSH_NOTIFICATION})}0==i.IS_EMAIL_NOTIFICATION&&t==o&&"email"==e.target.name?(s.IS_EMAIL_NOTIFICATION=0,a=!1):0==i.IS_INBOX_NOTIFICATION&&t==o&&"inbox"==e.target.name?(s.IS_INBOX_NOTIFICATION=0,a=!1):0==i.IS_MOBILE_NOTIFICATION&&t==o&&"mobile"==e.target.name?(s.IS_MOBILE_NOTIFICATION=0,a=!1):0==i.IS_PUSH_NOTIFICATION&&t==o&&"push"==e.target.name&&(s.IS_PUSH_NOTIFICATION=0,a=!1)}),a&&t==o&&"email"==e.target.name?s.IS_EMAIL_NOTIFICATION=1:a&&t==o&&"inbox"==e.target.name?s.IS_INBOX_NOTIFICATION=1:a&&t==o&&"mobile"==e.target.name?s.IS_MOBILE_NOTIFICATION=1:a&&t==o&&"push"==e.target.name&&(s.IS_PUSH_NOTIFICATION=1),(0==s.IS_EMAIL_NOTIFICATION&&"email"==e.target.name||0==s.IS_INBOX_NOTIFICATION&&"inbox"==e.target.name||0==s.IS_MOBILE_NOTIFICATION&&"mobile"==e.target.name||0==s.IS_PUSH_NOTIFICATION&&"push"==e.target.name)&&(i=!1),"email"==e.target.name?i?c.CheckMainCheckboxes("chkupper_1","checked"):c.CheckMainCheckboxes("chkupper_1",""):"inbox"==e.target.name?i?c.CheckMainCheckboxes("chkupper_2","checked"):c.CheckMainCheckboxes("chkupper_2",""):"mobile"==e.target.name?i?c.CheckMainCheckboxes("chkupper_3","checked"):c.CheckMainCheckboxes("chkupper_3",""):"push"==e.target.name&&(i?c.CheckMainCheckboxes("chkupper_4","checked"):c.CheckMainCheckboxes("chkupper_4",""))})}}},l=o,n=c("2877"),I=Object(n["a"])(l,a,i,!1,null,null,null);t["default"]=I.exports}}]);
//# sourceMappingURL=chunk-2d23777c.js.map