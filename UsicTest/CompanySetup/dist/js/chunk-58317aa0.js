(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58317aa0"],{"25e4":function(t,e,a){var i=a("b6b5");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("67f00dc1",i,!0,{sourceMap:!1,shadowMode:!1})},"43e9":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("div",[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"row mt-2 ml-1 mr-1"},[e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!0,ModuleName:"CompanyDirectory",SubModuleCode:"CompanyDirectory",IdentityColumn:"user_title_id",HeaderText:t.$t("UserTitle"),ListData:t.DirectoryData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,IsSearchFieldsOnTop:!1,SortExp:t.SortExp,SortBy:t.SortBy,SearchPosition:"top",SearchFields:t.topSearchFields,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchData,IsFilterApplied:!!t.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["DETAIL"==a.column.COLUMN_NAME?[e("em",{staticClass:"applyjobicon details",attrs:{id:"ancDetails",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Details"},on:{click:function(e){return t.Detail(a.row.userid)}}},[e("i",{staticClass:"fa fa-file-text-o action-icon text-info"})])]:t._e()]}}])})],1),t.showContactDetail?e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("ContactDetail")]),e("button",{staticClass:"close",attrs:{type:"button","data-original-title":"Close"},on:{click:function(e){return t.CloseContactDetail()}}},[e("em",{staticClass:"fa fa-times"})])]),e("div",{staticClass:"border p-3"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Communication")]),e("small",{staticClass:"float-right icon_add add cursorpointer",attrs:{id:"AddCommunication",title:"AddCommunicationService",checkprivilege:"yes"},on:{click:function(e){return t.AddCommunication()}}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddNew"))+" ")])])]),e("div",[t.showCommunication?e("AddCommunication",{attrs:{Userid:t.Userid,Items:t.Item,ModuleName:t.MODULENAME,SubModule:t.SubModuleCode,title:t.ManageUserTitle,emitName:"addReloadData"},on:{close:function(e){t.showCommunication=!1},addReloadData:function(e){t.FetchCommunication(),t.showCommunication=!1}}}):t._e(),e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,ModuleName:"CompanyDirectory",SubModuleCode:"CompanyDirectory",IdentityColumn:"user_title_id",HeaderText:t.$t("UserTitle"),ListData:t.CommunicationData,HeaderData:t.Header1,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords1,IsSearchFieldsOnTop:!1,SortExp:t.SortExp,SortBy:t.SortBy,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchCommunication,IsFilterApplied:!!t.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod1,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata1},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["Edit"==a.column.COLUMN_NAME?[e("em",{staticClass:"editicon enable editrecord",attrs:{id:"ancEditEmail",title:"Edit"},on:{click:function(e){return t.EditCommunication(a.row)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})])]:t._e(),"Delete"==a.column.COLUMN_NAME?[e("em",{staticClass:"enable delete",attrs:{title:"Delete",id:"ancDelEmail",url:"email"},on:{click:function(e){return t.DeleteCommunication(a.row,"Communication")}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])]:t._e()]}}],null,!1,770267704)})],1)]),e("div",{staticClass:"border p-3"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Address")]),e("small",{staticClass:"float-right icon_add add cursorpointer",attrs:{id:"AddAddress",title:"AddAddressService",checkprivilege:"yes"},on:{click:function(e){return t.AddAddress()}}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddNew"))+" ")])])]),e("div",[t.showAddAddress?e("AddAddress",{attrs:{Userid:t.Userid,Items:t.Item1,ModuleName:t.MODULENAME,SubModule:t.SubModuleCode,title:t.ManageUserTitle,emitName:"addReloadData"},on:{close:function(e){t.showAddAddress=!1},addReloadData:function(e){t.FetchCommunication(),t.showAddAddress=!1}}}):t._e(),e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,ModuleName:"CompanyDirectory",SubModuleCode:"CompanyDirectory",IdentityColumn:"user_title_id",HeaderText:t.$t("UserTitle"),ListData:t.AddressData,HeaderData:t.Header2,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords2,IsSearchFieldsOnTop:!1,SortExp:t.SortExp,SortBy:t.SortBy,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchCommunication,IsFilterApplied:!!t.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod1,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata1},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["Edit"==a.column.COLUMN_NAME?[e("em",{staticClass:"editicon enable editrecord text-center",attrs:{title:"Edit"},on:{click:function(e){return t.EditAddress(a.row)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})])]:t._e(),"Delete"==a.column.COLUMN_NAME?[e("em",{staticClass:"enable delete text-center",attrs:{title:"Delete"},on:{click:function(e){return t.DeleteCommunication(a.row,"Address")}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])]:t._e()]}}],null,!1,94903704)})],1)]),e("div",{staticClass:"border p-3"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v("Contact Number")]),e("small",{staticClass:"float-right icon_add add cursorpointer",attrs:{id:"AddContactNumber",title:"AddContactNumberService",checkprivilege:"yes"},on:{click:function(e){return t.AddContactNumber()}}},[e("i",{staticClass:"fa fa-plus pr-2"}),t._v(t._s(t.$t("AddNew"))+" ")])])]),e("div",[t.showContactNumber?e("ContactNumber",{attrs:{Userid:t.Userid,Items:t.Item2,ModuleName:t.MODULENAME,SubModule:t.SubModuleCode,title:t.ManageUserTitle,emitName:"addReloadData"},on:{close:function(e){t.showContactNumber=!1},addReloadData:function(e){t.FetchCommunication(),t.showContactNumber=!1}}}):t._e(),e("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,ModuleName:"CompanyDirectory",SubModuleCode:"CompanyDirectory",IdentityColumn:"user_title_id",HeaderText:t.$t("UserTitle"),ListData:t.ContactNumberData,HeaderData:t.Header3,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords3,IsSearchFieldsOnTop:!1,SortExp:t.SortExp,SortBy:t.SortBy,RenderRowActionMethod:t.renderActions,ListDataCallBackFunction:t.FetchCommunication,IsFilterApplied:!!t.searchCondition,LegendArray:[],sourcetype:"",NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod1,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata1},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["Edit"==a.column.COLUMN_NAME?[e("em",{staticClass:"editicon enable editrecord text-center",attrs:{title:"Edit"},on:{click:function(e){return t.EditContactNumber(a.row)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})])]:t._e(),"Delete"==a.column.COLUMN_NAME?[e("em",{staticClass:"enable delete text-center",attrs:{title:"Delete",url:"email"},on:{click:function(e){return t.DeleteCommunication(a.row,"ContactNumber")}}},[e("i",{staticClass:"fa fa-trash text-danger action-icon"})])]:t._e()]}}],null,!1,1009145161)})],1)])])])])]):t._e()],1)},s=[],o=a("9769");let n=[{fieldName:"Search by User Name",fieldType:"text",fieldSearchConditionName:["username"],isSearch:!0,value:null}];function l(t,e,a){let i={};i["moduleName"]=e,i["type"]=a}var r={topsearchSchema:n,bindleftCommonSearchdropdown:l},c=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[t._v(t._s(t.$t("Communication")))]),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e("em",{staticClass:"fa fa-files-o pr-2"}),t._v(t._s(t.$t("GuideForUser")))]),e("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("CommunicationGuide"))}})])])])]),e("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"p-0"},[e("dynamic-form",{ref:"addCommunication",attrs:{schema:t.FormSchema,buttons:t.buttons},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-ScreenName",fn:function({data:a}){return[e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.fieldInfo.value,expression:"data.fieldInfo.value"}],class:{"form-control w-100":!0,"is-invalid":""!=a.error.length},attrs:{type:"text",name:t.ScreenName},domProps:{value:a.fieldInfo.value},on:{input:function(e){e.target.composing||t.$set(a.fieldInfo,"value",e.target.value)}}}),""!=a.error.length?e("span",{staticClass:"invalid-feedback",attrs:{name:"ScreenName"}},[t._v(t._s(a.error))]):t._e()])]}}])})],1)])])])])])])])])])},d=[],u=(a("14d9"),a("ed09")),m=a("7bb1"),h=a("b9b9");Object(m["d"])("required",{validate(t){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(t)}},message:"The {_field_} is required"});var p=Object(u["b"])({name:"Manage Departemts",components:{ValidationObserver:m["b"],ValidationProvider:m["c"]},props:{Userid:{type:Number},Items:{type:Array},addApiUrl:{type:String},emitName:{type:String},ModuleName:{type:String},SubModule:{type:String},title:{type:String},recordId:{type:Number}},data(){return{editor:this.CLASSIC_EDITOR,FormSchema:[{layoutType:"double",Data:[{astype:"SelectField",label:this.$t("CommunicationType"),name:"CommunicationType",value:"",placeholder:"Communication Type",config:{options:[]},validationRules:{required:!0}},{astype:"SlotField",label:this.$t("Address/Screen Name"),name:"ScreenName",value:"",placeholder:"",validationRules:{required:!0}}]},{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Note/Description"),name:"Description",value:"",placeholder:this.$t("Note/Description"),validationRules:""},{astype:"toggleField",label:this.$t("Visible To Client"),name:"is_visible",value:"",placeholder:"",validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],TypeData:[],emailValidate:{},emailValidateemails:{},isLoading:!1}},created:function(){var t=this;t.GetEmailTypes(),t.Items.emailId>0&&(t.FormSchema[0].Data[0].value=t.Items.typeId,t.FormSchema[0].Data[1].value=t.Items.screenName,t.FormSchema[1].Data[0].value=t.Items.userEmailDesc,t.FormSchema[1].Data[1].value=t.Items.isVisibleToClient),setTimeout(()=>{this.$refs.addCommunication.UpdateKeyValue()},200)},methods:{getForm:function(t){var e=this;e.isLoading=!0;var a=`recordId=${t}&moduleName=${e.ModuleName}&subModuleCode=${e.SubModule}`;o["a"].GetDynamicForm(a).then((function(t){null!=t&&null!=t.data&&(e.isMapFeature=t.data.isFsmLocating,t.data.data,e.FormSchema=Object(h["a"])(t.data.data),console.log("tis",e.FormSchema),e.FormSchema.length>0&&(e.FormSchema[0].visibility=!1),e.isLoading=!1)}))},async GetEmailTypes(){var t=this;t.isLoading=!0,await o["a"].GetEmailTypes().then(e=>{null!=JSON.parse(e.data)&&(t.TypeData=[],t.TypeData=JSON.parse(e.data),t.TypeData.forEach((e,a)=>{t.FormSchema[0].Data[0].config.options.push({name:e.CARRIER_TYPE_NAME,value:e.CARRIER_TYPE_ID})}),t.isLoading=!1),t.isLoading=!1})},async onSubmit(){let t=Object(h["b"])(this.FormSchema);o["a"].DepartmentAdd(t,this.addApiUrl).then(t=>{null!=t.data.Result&&t.data.Result.MAIN_ID>0?(this.ShowAlert(this.$t("SavedSuccessfully"),"success",!1,this.$t("Alert")),this.$emit(this.emitName)):this.ShowAlert(this.$t(t.data.Status),"danger",!1,this.$t("Alert"))})},closePopup(){this.$emit("close")},onSubmit:function(t){var e=this,a={user_email_id:e.Items.emailId>0?e.Items.emailId:0,Userid:e.Userid,typeId:t.CommunicationType,ScreenName:t.ScreenName,Description:t.Description,is_visible:t.is_visible,addToDir:!0,is_default:!1},i=new FormData;i.append("postString",JSON.stringify(a)),o["a"].AddUpdateEmail(i).then(t=>{if(null!=t.data){const a=JSON.parse(t.data);1==a.status_id&&"add"==a.status_msg?(e.ShowAlert(e.$t("AddCommunication"),"success",e.$t("Alert")),e.closePopup(),e.$parent.FetchCommunication(),e.isLoading=!1):2==a.status_id&&"updated"==a.status_msg?(e.ShowAlert(e.$t("UpdatedCommunication"),"success",e.$t("Alert")),e.closePopup(),e.$parent.FetchCommunication(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.closePopup(),e.isLoading=!1)}})}}}),C=p,S=(a("5ab0"),a("2877")),A=Object(S["a"])(C,c,d,!1,null,null,null),b=A.exports,f=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("div",{staticClass:"my-popups"},[e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog ui-draggable",staticStyle:{display:"inline-block"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header ui-draggable-handle"},[e("h5",{staticClass:"modal-title",attrs:{id:"ui-id-26"}},[t._v(t._s(t.$t("Address")))]),e("button",{staticClass:"close",attrs:{type:"button",title:"","data-original-title":"Close"},on:{click:function(e){return t.$emit("close")}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide text-white",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e("em",{staticClass:"fa fa-files-o pr-2"}),t._v(t._s(t.$t("GuideForUser")))]),e("div",{staticClass:"divancuserguide collapse overflow-auto",attrs:{id:"collapseReplyUG"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[e("div",{staticClass:"con",domProps:{innerHTML:t._s(t.$t("AddressGuide"))}})])])])]),e("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"backgroundPopup"}},[e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"p-0"},[e("dynamic-form",{ref:"addAddress",staticClass:"daterangecontrolHS",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1)])])])])])])])])])},v=[];Object(m["d"])("required",{validate(t){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(t)}},message:"The {_field_} is required"});var g=Object(u["b"])({name:"Manage Departemts",components:{ValidationObserver:m["b"],ValidationProvider:m["c"]},props:{Userid:{type:Number},Items:{type:Array},addApiUrl:{type:String},emitName:{type:String},ModuleName:{type:String},SubModule:{type:String},title:{type:String},recordId:{type:Number}},data(){return{editor:this.CLASSIC_EDITOR,department:{name:"",status:{name:"active",id:1},visibaleToclients:!1,visibaleToTicting:!1,description:""},FormSchema:[{layoutType:"double",Data:[{astype:"TextField",label:this.$t("AddressLine1"),name:"AddressLine1",value:"",placeholder:"Address Line 1",validationRules:{required:!0},disabled:!1},{astype:"TextField",label:this.$t("AddressLine2"),name:"AddressLine2",value:"",placeholder:"Address Line 2",validationRules:{required:!1},disabled:!1},{astype:"SelectField",label:this.$t("Country"),name:"Country",value:"",placeholder:"",validationRules:{required:!0,max:250},config:{option_request_url:"https://usictestapi.talygen.com/Common/DR/V1.1/api/Common/GetDDLData?moduleName=CRM&type=COUNTRIES",token:this.GetUserInfo.Token,onChange:this.onChangeDropdown}},{astype:"SelectField",label:this.$t("State/Province"),name:"State",value:"",placeholder:"",config:{options:[]}},{astype:"TextField",label:this.$t("City"),name:"City",value:"",placeholder:"City",validationRules:{required:!1},disabled:!1},{astype:"TextField",label:this.$t("ZipCode"),name:"ZipCode",value:"",placeholder:"Zip Code",validationRules:{required:!1},disabled:!1},{astype:"TextField",label:this.$t("Note/Description About Address"),name:"NoteDescription",value:"",placeholder:"Note/Description About Address",validationRules:{required:!1},disabled:!1},{astype:"toggleField",label:this.$t("Visible To Client"),name:"VisibleToClient",value:"",placeholder:"",validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.closePopup}],isLoading:!1,StateData:[]}},created:function(){var t=this;t.Items.addressId>0&&(t.FormSchema[0].Data[0].value=t.Items.userAddress1,t.FormSchema[0].Data[1].value=t.Items.userAddress2,t.FormSchema[0].Data[2].value=t.Items.countryId,t.onChangeDropdown(t.Items.countryId),setTimeout(()=>{t.FormSchema[0].Data[3].value=t.Items.userStateId},300),t.FormSchema[0].Data[4].value=t.Items.userCity,t.FormSchema[0].Data[5].value=t.Items.userZipCode,t.FormSchema[0].Data[6].value=t.Items.userAddressDesc,t.FormSchema[0].Data[7].value=t.Items.isVisibleToClient),setTimeout(()=>{this.$refs.addAddress.UpdateKeyValue()},200)},methods:{async onChangeDropdown(t){var e=this,a="object"===typeof t?t.target.value:t,i="countryId="+a;await o["a"].GetStateListByCountryId(i).then((function(t){e.StateData=JSON.parse(t.data).data,e.StateData=e.StateData.map(t=>({name:t.name,value:t.state_id})),$.each(e.FormSchema,(function(t,a){$.each(a.Data,(function(t,a){"State"==a.name&&(a.value="",a.config.options=e.StateData)}))}))}))},onSubmit:function(t){var e=this,a={user_address_id:e.Items.addressId>0?e.Items.addressId:0,Userid:e.Userid,address1:t.AddressLine1,address2:t.AddressLine2,countryId:t.Country,stateId:t.State,stateName:t.State>0?e.StateData.find(e=>e.value===t.State).name:"",city:t.City,zipcode:t.ZipCode,desc:t.NoteDescription,is_visible:t.VisibleToClient,addToDir:!0},i=new FormData;i.append("postString",JSON.stringify(a)),o["a"].AddUpdateAddress(i).then(t=>{if(null!=t.data){const a=JSON.parse(t.data);1==a.status_id&&"add"==a.status_msg?(e.ShowAlert(e.$t("AddedAddress"),"success",e.$t("Alert")),e.closePopup(),e.$parent.FetchCommunication(),e.isLoading=!1):2==a.status_id&&"updated"==a.status_msg?(e.ShowAlert(e.$t("UpdatedAddress"),"success",e.$t("Alert")),e.closePopup(),e.$parent.FetchCommunication(),e.isLoading=!1):(e.ShowAlert(e.$t("UnknownError"),"failure",e.$t("Alert")),e.closePopup(),e.isLoading=!1)}})},getForm:function(t){var e=this;e.isLoading=!0;var a=`recordId=${t}&moduleName=${e.ModuleName}&subModuleCode=${e.SubModule}`;o["a"].GetDynamicForm(a).then((function(t){null!=t&&null!=t.data&&(e.isMapFeature=t.data.isFsmLocating,t.data.data,e.FormSchema=Object(h["a"])(t.data.data),console.log("tis",e.FormSchema),e.FormSchema.length>0&&(e.FormSchema[0].visibility=!1),e.isLoading=!1)}))},closePopup(){this.$emit("close")}}}),D=g,_=(a("adcf"),Object(S["a"])(D,f,v,!1,null,null,null)),y=_.exports,I=a("4ea2"),N={components:{AddCommunication:b,AddAddress:y,ContactNumber:I["a"]},data(){return{showContactDetail:!1,showCommunication:!1,showAddAddress:!1,showContactNumber:!1,Userid:0,noRecord:!1,isLoading:!1,DirectoryData:[],CommunicationData:[],AddressData:[],ContactNumberData:[],TotalRecords:0,TotalRecords1:0,TotalRecords2:0,TotalRecords3:0,listheaderbuttons:null,topSearchFields:r.topsearchSchema,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,listActions:null,searchCondition:null,conditionForInstantSearch:"",SortBy:null,SortExp:null,MODULENAME:"CompanyDirectory",SUBMODULECODE:"CompanyDirectory",privilegeParams:null,sharetype:"",Item:[],Item1:[],Item2:[],Headers:[{COLUMN_NAME:"username",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"username",DISPLAY_ORDER:1},{COLUMN_NAME:"address",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"address",DISPLAY_ORDER:2},{COLUMN_NAME:"contactnumber",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"contactnumber",DISPLAY_ORDER:3},{COLUMN_NAME:"DETAIL",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"DETAIL",DISPLAY_ORDER:4,settings:{isInSlot:!0}}],Header1:[{COLUMN_NAME:"screenName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"screenName",DISPLAY_ORDER:1},{COLUMN_NAME:"communicationType",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"communicationType",DISPLAY_ORDER:2},{COLUMN_NAME:"Edit",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Edit",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"Delete",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Delete"),DISPLAY_ORDER:9,settings:{isInSlot:!0}}],Header2:[{COLUMN_NAME:"address",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"address",DISPLAY_ORDER:1},{COLUMN_NAME:"Edit",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Edit",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"Delete",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Delete"),DISPLAY_ORDER:9,settings:{isInSlot:!0}}],Header3:[{COLUMN_NAME:"contact",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"contact",DISPLAY_ORDER:1},{COLUMN_NAME:"description",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"description",DISPLAY_ORDER:2},{COLUMN_NAME:"Edit",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Edit",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"Delete",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("Delete"),DISPLAY_ORDER:9,settings:{isInSlot:!0}}]}},mounted(){r.topsearchSchema.forEach(t=>{t.value="",t.isSearch=!1})},created:function(){var t=this;t.privilegeParams="controller=User&action=",t.FetchData()},methods:{renderActions:function(t){console.log(t)},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"ActiveMultipleListing":this.UpdateStatus("Active");break;case"InactiveMultipleListing":this.UpdateStatus("Inactive");break;case"commonDeleteData":this.commonDeleteData();break;case"AddUserTitle":this.showUserTitle=!0;break}},actionButtonClick:function(t,e,a,i){},sortdata:async function(t){var e="sort tb_headerSortDown";this.SortBy=t,t===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",e="sort tb_headerSortUp"):(this.SortExp="ASC",e="sort tb_headerSortDown")),await this.FetchData(),$("#th-"+t+"  span:first-child").attr("class",e)},pagerMethod:async function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,await this.FetchData()},leftCommonSearch:async function(t){this.PageNumber=t.PageNumber,this.isPaged=1,"undefined"!=typeof t.searchCondition?this.searchCondition=t.searchCondition:this.searchCondition="",await this.FetchData()},Detail:function(t){var e=this;e.Userid=t,e.showContactDetail=!0,e.FetchCommunication()},CloseContactDetail:function(){var t=this;t.showContactDetail=!1},AddCommunication:function(){var t=this;t.showCommunication=!0},EditCommunication:function(t){var e=this;e.Item=t,e.showCommunication=!0},AddAddress:function(){var t=this;t.showAddAddress=!0},EditAddress:function(t){var e=this;e.Item1=t,e.showAddAddress=!0},AddContactNumber:function(){var t=this;t.showContactNumber=!0},EditContactNumber:function(t){var e=this;e.Item2=t,e.showContactNumber=!0},DeleteCommunication:function(t,e){var a=this;a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t(e),(function(){var i="";i="Communication"==e?`?UserId=${a.Userid}&RecordId=${t.emailId}&Type=${e}`:"Address"==e?`?UserId=${a.Userid}&RecordId=${t.addressId}&Type=${e}`:`?UserId=${a.Userid}&RecordId=${t.phoneId}&Type=${e}`,o["a"].DeleteRecords(i).then(t=>{if(null!=t.data){const e=JSON.parse(t.data)[0];1==e.status_id&&"Communication"==e.status_msg?(a.ShowAlert(a.$t("DeletedSuccess",[a.$t("Communication")]),"success",!0,a.$t("Alert")),a.FetchCommunication(),a.isLoading=!1):1==e.status_id&&"Address"==e.status_msg?(a.ShowAlert(a.$t("DeletedSuccess",[a.$t("Address")]),"success",!0,a.$t("Alert")),a.FetchCommunication(),a.isLoading=!1):1==e.status_id&&"ContactNumber"==e.status_msg?(a.ShowAlert(a.$t("DeletedSuccess",[a.$t("ContactNumber")]),"success",!0,a.$t("Alert")),a.FetchCommunication(),a.isLoading=!1):(a.ShowAlert(a.$t("DeletedError",[a.$t("Record")]),"failure",!0,a.$t("Alert")),a.isLoading=!1)}})}))},FetchData:async function(){var t=this;this.isLoading=!0;var e=`pageSize=${t.PageSize}&pageNum=${t.PageNumber}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&search=${""==t.searchCondition?null:t.searchCondition}`;await o["a"].DirectoryListing(e).then((function(e){e.data.length>0?(t.DirectoryData=e.data,t.TotalRecords=t.DirectoryData[0].total,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.noRecord=!1,t.isLoading=!1):(t.noRecord=!0,t.DirectoryData=[],t.TotalRecords=0,t.isLoading=!1),setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1}))},FetchCommunication:async function(){var t=this;this.isLoading=!0;var e="UserId="+t.Userid;await o["a"].GetContactsofUser(e).then((function(e){e.data.item1.length>0?t.CommunicationData=e.data.item1:t.CommunicationData=[],e.data.item2.length>0?t.AddressData=e.data.item2:t.AddressData=[],e.data.item3.length>0?t.ContactNumberData=e.data.item3:t.ContactNumberData=[],setTimeout((function(){t.ResponsiveDataTable("tablelistingdata")}),500),t.isLoading=!1}))}}},E=N,L=Object(S["a"])(E,i,s,!1,null,null,null);e["default"]=L.exports},"4ea2":function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"right-content right-content-expand"},[e("section",{staticClass:"main-content",attrs:{id:"main-content"}},[e("section",{staticClass:"main-content"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"border p-3 col-lg-12"},[e("dynamic-form",{ref:"dynamicForm",attrs:{lang:"en",buttons:t.buttons,mandatorytext:t.$t("MandatoryString"),schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{staticClass:"listing mt-2"},[e("div",{staticClass:"conversation-date heading-border"},[e("span",[t._v(t._s(t.$t("ContactNumber")))])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"d-inline-block"},[e("span",{staticClass:"legend-pending colorboxsquare"}),t._v(t._s(t.$t("Communication"))+" "+t._s(t.$t("VisibleToClient"))+" ")])])]),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"Addresslist"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectAll,expression:"selectAll"}],staticClass:"AddressChkAll custom-control-input",attrs:{type:"checkbox",id:"chkAll_0",name:"checkbox"},domProps:{checked:Array.isArray(t.selectAll)?t._i(t.selectAll,null)>-1:t.selectAll},on:{change:[function(e){var a=t.selectAll,i=e.target,s=!!i.checked;if(Array.isArray(a)){var o=null,n=t._i(a,o);i.checked?n<0&&(t.selectAll=a.concat([o])):n>-1&&(t.selectAll=a.slice(0,n).concat(a.slice(n+1)))}else t.selectAll=s},t.toggleSelectAll]}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chkAll_0"}})])]),t._m(0),e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("ContactNumber")))])]),e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("PhoneDescription")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("CompanyDirectory"))+" ")])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Edit")))])]),e("th",{staticClass:"text-center"},[e("span",[t._v(t._s(t.$t("Delete")))])])])]),e("tbody",[t._l(t.PhoneData.data,(function(a,i){return e("tr",{key:a.user_phone_id,class:1==a.is_visible?"text-center high-bar":"text-center"},[e("td",{staticClass:"text-center"},[e("div",{staticClass:"custom-control custom-checkbox"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selected,expression:"phone.selected"}],staticClass:"chkItems custom-control-input",attrs:{type:"checkbox",id:"chk_"+a.user_phone_id},domProps:{checked:Array.isArray(a.selected)?t._i(a.selected,null)>-1:a.selected},on:{change:function(e){var i=a.selected,s=e.target,o=!!s.checked;if(Array.isArray(i)){var n=null,l=t._i(i,n);s.checked?l<0&&t.$set(a,"selected",i.concat([n])):l>-1&&t.$set(a,"selected",i.slice(0,l).concat(i.slice(l+1)))}else t.$set(a,"selected",o)}}}),e("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"chk_"+a.user_phone_id}})])]),e("td",{staticClass:"text-center"},[t._v(t._s(a.ROWNUMBER))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.user_phone))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.user_phone_desc))]),e("td",{staticClass:"text-center"},[t._v(t._s(a.add_to_directory?"Yes":"No"))]),e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"enable",attrs:{"data-placement":"left",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Edit"},on:{click:function(e){return t.Edit(a)}}},[e("em",{staticClass:"fa fa-pencil text-success action-icon"})])]),e("td",{staticClass:"text-center single-action"},[e("a",{staticClass:"enable",attrs:{"data-placement":"left",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Delete","aria-describedby":"tooltip845041"},on:{click:function(e){return t.Delete(a)}}},[e("em",{staticClass:"fa fa-trash action-icon text-danger"})])])])})),0==t.PhoneData.data.length?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"7"}},[t._v(" "+t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])])])},s=[function(){var t=this,e=t._self._c;t._self._setupProxy;return e("th",{staticClass:"text-center"},[e("span",[t._v("#")])])}],o=a("ed09"),n=a("7bb1"),l=a("9769");Object(n["d"])("required",{validate(t){return console.log("checkk"),{required:!0,valid:-1===["",null,void 0].indexOf(t)}},message:"The {_field_} is required"});var r=Object(o["b"])({name:"Manage Contact",components:{ValidationObserver:n["b"],ValidationProvider:n["c"]},props:{UserId:{type:Number},IsClient:{type:String}},data(){return{FormSchema:[{layoutType:"double",Data:[{astype:"NumericField",label:this.$t("ContactNumber"),name:"ContactNumber",value:"",placeholder:this.$t("ContactNumber"),validationRules:{required:!0},disabled:!1},{astype:"TextField",label:this.$t("PhoneDescription"),name:"PhoneDescription",value:"",placeholder:this.$t("PhoneDescription"),validationRules:{required:!0},disabled:!1},{astype:"toggleField",label:this.$t("IsinCompanyDirectory"),name:"CompanyDirectory",value:"",placeholder:"",validationRules:{required:!1}},{astype:"toggleField",label:this.$t("VisibleToClient"),name:"VisibleToClient",value:"",placeholder:"",validationRules:{required:!1},config:{onChange:this.VisibleToClient}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Clear}],isLoading:!1,phoneId:0,pageNo:1,pageSize:10,PhoneData:[]}},created:function(){var t=this;t.FetchData(),"Client"==t.IsClient?t.FormSchema[0].Data[3].visibility=!1:t.FormSchema[0].Data[3].visibility=!0},methods:{FetchData:function(){var t=this;t.isLoading=!0;var e=`pageNum=${t.pageNo}&pageSize=${t.pageSize}&sortBy=&sortExp=&userId=${t.UserId}`;l["a"].GetUserPhoneList(e).then((function(e){t.PhoneData=JSON.parse(e.data)}))},Edit:function(t){var e=this;e.phoneId=t.user_phone_id,e.FormSchema[0].Data[0].value=t.user_phone,e.FormSchema[0].Data[1].value=t.user_phone_desc,e.FormSchema[0].Data[2].value=t.add_to_directory,"Client"==e.IsClient?e.FormSchema[0].Data[3].visibility=!1:e.FormSchema[0].Data[3].value=t.is_visible},Delete:function(t){var e=this;e.phoneId=t.user_phone_id,e.phoneId>0?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("AddtionalPhone"),(function(){var t=`phoneId=${e.phoneId}&userId=${e.UserId}`;l["a"].DeleteAddtionalPhone(t).then((function(t){"Deletion successful"==t.data.Message?(e.ShowAlert(e.$t("DeletedSuccess",[e.$t("Record")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("Record")]),"failure",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1},onSubmit:function(t){var e=this,a={userPhoneId:e.phoneId>0?e.phoneId:0,userid:e.UserId,phone:t.ContactNumber,Description:t.PhoneDescription,isVisible:t.VisibleToClient,addToDir:t.CompanyDirectory,isVisibletoCA:!0},i=JSON.stringify(a);l["a"].AddUpdateContact(i).then(t=>{if(null!=t.data){JSON.parse(t.data);null!=t&&null!=t.data&&t.data>0?(e.ShowAlert(e.$t("RecordsSavedSuccessfully"),"success"),e.isLoading=!1,e.Clear(),e.FetchData()):(e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert")),e.isLoading=!1,e.FetchData())}})},Clear:function(){var t=this;t.phoneId=0,t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.FormSchema[0].Data[3].value="",t.$refs.dynamicForm.validateForm.reset()},closePopup(){this.$emit("close")},VisibleToClient(){var t=this;t.confirmR(t.$t("Are you sure you want to make this Visible to Client?"),!0,!1,(function(t){}),(function(){t.cancelAction()}))},cancelAction(){this.FormSchema[0].Data[3].value=1!=this.FormSchema[0].Data[3].value}}}),c=r,d=(a("8f73"),a("2877")),u=Object(d["a"])(c,i,s,!1,null,null,null);e["a"]=u.exports},"5ab0":function(t,e,a){"use strict";a("f0a2")},"8f73":function(t,e,a){"use strict";a("ef94")},adcf:function(t,e,a){"use strict";a("25e4")},b6b5:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),t.exports=e},ca21:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),t.exports=e},ef94:function(t,e,a){var i=a("ca21");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("7aeb7f3c",i,!0,{sourceMap:!1,shadowMode:!1})},f0a2:function(t,e,a){var i=a("fd93");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("1d815c4b",i,!0,{sourceMap:!1,shadowMode:!1})},fd93:function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".singleselectlook .multiselect__select:before{z-index:99}.singleselectlook .multiselect__tags{padding:8px 30px 0 8px!important;min-height:36px!important}.singleselectlook .multiselect__input{margin-bottom:0}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-58317aa0.js.map