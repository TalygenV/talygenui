{"version":3,"sources":["webpack:///./src/components/Modals/modalUserResetPassword.vue","webpack:///src/components/Modals/modalUserResetPassword.vue","webpack:///./src/components/Modals/modalUserResetPassword.vue?11ef","webpack:///./src/components/Modals/modalUserResetPassword.vue?81b6"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_s","$t","on","ClosePopUp","_m","domProps","isLoading","ref","buttons","FormSchema","staticRenderFns","props","UserResetPasswordData","type","Object","data","ResetPasswordByAdmin","token","layoutType","Data","astype","label","name","value","placeholder","visibility","config","options","showAddIcon","disabled","validationRules","class","text","onClick","onSubmit","GenerateRandomPassword","vm","GetUserInfo","Token","email_id","GetPasswordPolicyByCompanyId","methods","$parent","CloseUserResetPasswordPopUp","event","$refs","refResetPassword","validateForm","validate","then","valid","newPassword","confirmPassword","ShowAlert","AdminResetPasswordModel","UserId","user_id","Email","NewPassword","ConfirmPassword","DataService","response","status","console","log","error","undefined","is_generate_random_password_required","catch","err","x","y","temp","result","password","component"],"mappings":"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","file":"js/chunk-2d229bbb.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"my-popups\"},[_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered ui-draggable\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header ui-draggable-handle py-1\"},[_c('h4',{staticClass:\"modal-title mt-2 pt-2 mb-2\",attrs:{\"name\":\"header\"}},[_vm._v(\" \"+_vm._s(_vm.$t('ResetPasswordHeading'))+\" \")]),_c('button',{staticClass:\"close\",on:{\"click\":_vm.ClosePopUp}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})]),_c('span',{staticClass:\"user-guide p-2\"},[_vm._m(0),_c('div',{staticClass:\"divancuserguide collapse overflow-auto\",attrs:{\"id\":\"collapseReplyUG\"}},[_c('div',{staticClass:\"custom-scrollbar-js\",attrs:{\"id\":\"scrollbarreplyuserguideMangeView\"}},[_c('div',{staticClass:\"con\",domProps:{\"innerHTML\":_vm._s(_vm.$t('UserGuideResetPassword'))}})])])])]),_c('div',{staticClass:\"listing py-3 px-3\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('dynamic-form',{ref:\"refResetPassword\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema}})],1)])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{staticClass:\"ancuserguide text-white\",attrs:{\"data-toggle\":\"collapse\",\"href\":\"#collapseReplyUG\",\"role\":\"button\",\"aria-expanded\":\"false\",\"aria-controls\":\"collapseExample\"}},[_c('em',{staticClass:\"fa fa-files-o pr-2\"}),_vm._v(\"User Guide\")])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"my-popups\">\r\n            <div class=\"modal d-block \">\r\n                <div class=\"modal-dialog modal-dialog-centered ui-draggable\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header ui-draggable-handle py-1 \">\r\n                            <h4 name=\"header\" class=\"modal-title mt-2 pt-2 mb-2\">\r\n                                {{ $t('ResetPasswordHeading') }}\r\n                            </h4>\r\n                            <button class=\"close\" v-on:click=\"ClosePopUp\"><em aria-hidden=\"true\"\r\n                                    class=\"fa fa-times\"></em>\r\n                            </button>\r\n                            <span class=\"user-guide p-2 \">\r\n                                <a class=\"ancuserguide text-white\" data-toggle=\"collapse\" href=\"#collapseReplyUG\"\r\n                                    role=\"button\" aria-expanded=\"false\" aria-controls=\"collapseExample\"> <em\r\n                                        class=\"fa fa-files-o pr-2\"></em>User Guide</a>\r\n                                <div id=\"collapseReplyUG\" class=\"divancuserguide collapse overflow-auto\">\r\n                                    <div id=\"scrollbarreplyuserguideMangeView\" class=\"custom-scrollbar-js\">\r\n                                        <div class=\"con\" v-html=\"$t('UserGuideResetPassword')\"></div>\r\n                                    </div>\r\n                                </div>\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"listing py-3 px-3\">\r\n                            <loader :is-visible=\"isLoading\"></loader>\r\n                            <dynamic-form lang=\"en\" ref=\"refResetPassword\" :buttons=\"buttons\"\r\n                                :schema=\"FormSchema\"></dynamic-form>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../services/DataService';\r\nexport default {\r\n    props: {\r\n        UserResetPasswordData: {\r\n            type: Object\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n\r\n            ResetPasswordByAdmin: [],\r\n            token: null,\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"triple\",\r\n                    Data: [\r\n                        {\r\n                            astype: \"TextField\",\r\n                            label: this.$t('Email'),\r\n                            name: \"Email\",\r\n                            value: \"\",\r\n                            placeholder: \"Enter Title\",\r\n                            visibility: true,\r\n                            config: {\r\n                                options: [],\r\n                                showAddIcon: false,\r\n                            },\r\n                            disabled: true,\r\n                            validationRules: \"\",\r\n                        },\r\n                        {\r\n                            astype: \"PasswordField\",\r\n                            label: this.$t('NewPassword'),\r\n                            name: \"NewPassword\",\r\n                            value: \"\",\r\n                            placeholder: \"Enter New Password\",\r\n                            visibility: true,\r\n                            config: {\r\n                                options: [],\r\n                                showAddIcon: false,\r\n                            },\r\n                            validationRules: {\r\n                                'required' : true,\r\n                                'min':6,\r\n                                'regex':/^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+{}\\[\\]:;\"'<>,.?/\\\\|`~]).*$/\r\n                            },\r\n                        },\r\n                        {\r\n                            astype: \"PasswordField\",\r\n                            label: this.$t('ConfirmPassword'),\r\n                            name: \"ConfirmPassword\",\r\n                            value: \"\",\r\n                            placeholder: \"Enter Confirm Password\",\r\n                            visibility: true,\r\n                            config: {\r\n                                options: [],\r\n                                showAddIcon: false,\r\n                            },\r\n                            validationRules: {\r\n                                'required' : true,\r\n                                'min':6,\r\n                                'regex':/^(?=.*[a-zA-Z])(?=.*\\d)(?=.*[!@#$%^&*()_+{}\\[\\]:;\"'<>,.?/\\\\|`~]).*$/\r\n                            },\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success save\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Reset Password\",\r\n                    onClick: this.onSubmit\r\n                },\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-primary disabled\",\r\n                    text: \"<i class='fa fa-key pr-2'></i>Random Password\",\r\n                    onClick: this.GenerateRandomPassword\r\n                }\r\n            ],\r\n            isLoading: false,\r\n        }\r\n    },\r\n    async created() {\r\n\r\n        var vm = this;\r\n        vm.token = this.GetUserInfo.Token;\r\n        vm.FormSchema[0].Data[0].value = vm.UserResetPasswordData.email_id;\r\n        await vm.GetPasswordPolicyByCompanyId();\r\n    },\r\n\r\n    methods: {\r\n        ClosePopUp() {\r\n            var vm = this;\r\n            vm.$parent.CloseUserResetPasswordPopUp();\r\n        },\r\n        async onSubmit(event, data) {\r\n       \r\n            var vm = this;\r\n            vm.$refs.refResetPassword.validateForm.validate().then(async function (valid) {\r\n                if(valid){\r\n                    const newPassword = vm.FormSchema[0].Data[1].value;\r\n                    const confirmPassword = vm.FormSchema[0].Data[2].value;\r\n\r\n                    // const newPassword = event.NewPassword;\r\n                    // const confirmPassword = event.ConfirmPassword;\r\n                    //const specialChars = /[!@#$%^&*(),.?\":{}|<>]/\r\n\r\n                    if (newPassword !== confirmPassword) {\r\n                \r\n                        //alert(this.$t('Passwords do not match!'));\r\n                        vm.ShowAlert(vm.$t(\"Passwords do not match Please enter the correct password!\"), \"danger\", vm.$t('Alert'));\r\n\r\n                        return;\r\n                    }\r\n                    else if (newPassword == confirmPassword) {\r\n                    \r\n                        //alert(this.$t('Passwords  match!'));\r\n                        //return;\r\n                    }\r\n                    vm.isLoading = true;\r\n                    try {\r\n                        //const url = `UserId=${vm.UserResetPasswordData.user_id}&Email=${vm.UserResetPasswordData.email_id}&Token=${vm.token}&NewPassword=${newPassword}&ConfirmPassword=${confirmPassword}`;\r\n                        let AdminResetPasswordModel = {\r\n                            UserId: vm.UserResetPasswordData.user_id,\r\n                            Email: vm.UserResetPasswordData.email_id,\r\n                            Token: vm.token,\r\n                            NewPassword: newPassword,\r\n                            ConfirmPassword: confirmPassword\r\n                        }\r\n                        \r\n                        //const response = await DataService.ResetPasswordByAdmin(url);\r\n                        await DataService.ResetPasswordByAdmin(AdminResetPasswordModel).then(response => {\r\n                            if (response.data.status === 'Success') {\r\n                                vm.ShowAlert(vm.$t(\"Your password has been reset successfully. Please login with your new password\"), \"success\", vm.$t('Alert'));\r\n\r\n                            }\r\n                            console.log(response);\r\n                            vm.isLoading = false;\r\n                            vm.ClosePopUp();\r\n                        })\r\n\r\n                    } catch (error) {\r\n                        //console.error(error);\r\n                        vm.isLoading = false;\r\n                    }\r\n                }\r\n            })\r\n            \r\n\r\n\r\n        },\r\n        async GetPasswordPolicyByCompanyId(){\r\n            var vm = this;\r\n            await DataService.GetPasswordPolicyByCompanyId().then(response=>{\r\n                if(response.data != \"\" && response.data != null && response.data != undefined){\r\n                    vm.buttons[1].class = response.data.is_generate_random_password_required ? 'btn btn-primary' : 'btn btn-primary disabled';\r\n                }\r\n            }).catch(err=>{\r\n                console.log(err);\r\n            })\r\n        },\r\n        GenerateRandomPassword(x,y){\r\n            var vm = this;\r\n            var temp = {\r\n                UserId: vm.UserResetPasswordData.user_id,\r\n                Email: vm.UserResetPasswordData.email_id,\r\n                Token: \"\",\r\n                NewPassword: vm.FormSchema[0].Data[1].value,\r\n                ConfirmPassword: vm.FormSchema[0].Data[2].value\r\n            }\r\n            vm.isLoading = true;\r\n            DataService.GenerateRandomPassword(temp).then(response=>{\r\n                if(response.data.status == 0 && response.data.result == 'Email'){\r\n                    vm.ShowAlert(vm.$t(\"RandomPasswordSuccessMsg\"), 'success', true, vm.$t('Alert'));\r\n                }else if(response.data.status != 0 && response.data.result == 'Email'){\r\n                    vm.ShowAlert(vm.$t(\"RandomPasswordMailFailureMsg\",[vm.$t(response.data.password)]), 'failure', true, vm.$t('Alert'));\r\n                }\r\n                else{\r\n                    vm.ShowAlert(vm.$t(\"AddedError\",[vm.$t('User')]), 'failure', true, vm.$t('Alert'));\r\n                }\r\n                vm.isLoading = false;\r\n            }).catch(err=>{\r\n                console.log(err);\r\n            })\r\n        }\r\n        // GenerateRandomPassword() {\r\n        //     const randomPassword = Math.random().toString(36).slice(-8);\r\n        //     this.FormSchema[0].Data[1].value = randomPassword;\r\n        //     this.FormSchema[0].Data[2].value = randomPassword;\r\n        // }\r\n    },\r\n\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalUserResetPassword.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./modalUserResetPassword.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./modalUserResetPassword.vue?vue&type=template&id=3ccd3b4e\"\nimport script from \"./modalUserResetPassword.vue?vue&type=script&lang=js\"\nexport * from \"./modalUserResetPassword.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}