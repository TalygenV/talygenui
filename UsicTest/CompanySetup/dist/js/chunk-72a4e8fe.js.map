{"version":3,"sources":["webpack:///./src/views/Client/Subscription/AddCommentModal.vue","webpack:///src/views/Client/Subscription/AddCommentModal.vue","webpack:///./src/views/Client/Subscription/AddCommentModal.vue?1786","webpack:///./src/views/Client/Subscription/AddCommentModal.vue?f41f","webpack:///./src/views/Client/Subscription/Subscription.vue","webpack:///./src/views/Client/Subscription/schema.js","webpack:///src/views/Client/Subscription/Subscription.vue","webpack:///./src/views/Client/Subscription/Subscription.vue?75c6","webpack:///./src/views/Client/Subscription/Subscription.vue?7396"],"names":["render","_vm","this","_c","_self","staticClass","attrs","isLoading","_v","_s","$t","on","Close","ref","buttons","FormSchema","onSubmit","staticRenderFns","props","MappingId","type","Object","required","String","planNamesStr","data","layoutType","Data","astype","label","name","value","placeholder","config","options","validationRules","disabled","class","text","isVisible","onClick","companyId","userId","created","vm","GetUserInfo","ID","CompanyId","GetStatusList","methods","Url","DataService","GetDDLData","then","response","getprojectlist","DATA","forEach","item","push","$refs","defaultStatus","UpdateKeyValue","formfields","val","status_name","itm","Status","payload","StatusId","IsFor","Module","Submodule","Comment","StatusName","PlanName","CommonUpdateStatus","JSON","stringify","_response$data","status","ShowAlert","$parent","fetchSubscriptions","FetchData","IsComment","component","renderActions","subscriptionListing","subscriptionListHeaders","headerButtons","TotalRecords","leftSearchFields","sortExp","sortBy","commonHeaderButtonClick","pagerMethod","leftCommonSearch","scopedSlots","_u","key","fn","column","COLUMN_NAME","row","PLAN_ID","PLAN_NAME","_e","getStatusClassList","STATUS_NAME","$n","PRICE","$getLocaleByCurrency","CurrencyCode","ChangeStatus","subscriptionHeaders","DATA_TYPE","SORTABLE","VISIBLE","DISPLAY_NAME","DISPLAY_ORDER","settings","clickEvent","isInSlot","leftsearchSchema","fieldName","fieldType","fieldIcon","fieldSearchConditionName","paramName","isSearch","listOptions","id","title","iconClass","callbackfunction","isdisabled","isvisible","isEnabledOnSelectedRow","listActions","icon","additionalSpan","components","AddComment","schema","pageSize","pageNumber","getDropdownData","Currency","replace","getStatusNameById","StatusListForListing","find","x","STATUS_ID","STATUS","event","ChangeStatusModal","commonDeleteData","$","not","each","length","ids","split","map","parseInt","trim","filter","plan","includes","Mapping_id","join","returnClass","searchprms","ths","str","getSubscriptionListing","res","parse","result","isCheckBoxDisabled","totalRecords","y","PageNumber","PageSize","self","rtnActionArray","actionItem","action","searchConditionJson"],"mappings":"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","file":"js/chunk-72a4e8fe.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t('Comment')))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('dynamic-form',{ref:\"defaultStatus\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema},on:{\"OnSubmit\":_vm.onSubmit}})],1)])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"my-popups\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"modal d-block\">\r\n            <div class=\"modal-dialog modal-dialog-centered\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header theme-primary partition-full  d-flex\">\r\n                        <h4 class=\"modal-title\">{{ $t('Comment') }}</h4>\r\n                        <button type=\"button\" class=\"close\" v-on:click=\"Close\">\r\n                            <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                        </button>                        \r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <dynamic-form ref=\"defaultStatus\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\"\r\n                            v-on:OnSubmit=\"onSubmit\"></dynamic-form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport DataService from '../../../services/DataService'\r\nexport default {\r\n    props: {\r\n        MappingId: {\r\n            type: Object,\r\n            required: true\r\n        },\r\n         type: {\r\n            type: String,\r\n            required: true\r\n        },\r\n        planNamesStr: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    },\r\n    data(){\r\n        return{\r\n            isLoading:false,\r\n            FormSchema:[\r\n            {\r\n                    layoutType: \"single\",\r\n                    Data: [\r\n                         {\r\n                            astype: \"SelectField\",\r\n                            label: this.$t('Status'),\r\n                            name: \"Status\",\r\n                            value: \"\",\r\n                            placeholder: \"Status\",\r\n                            config: {\r\n                                options: [],\r\n                              \r\n                            },\r\n                            validationRules: {\r\n                                \"required\": true\r\n                            },\r\n                        },\r\n                    {\r\n                            astype: \"TextAreaField\",\r\n                            label: this.$t('Comment'),\r\n                            name: \"Comment\",\r\n                            value: \"\",\r\n                            placeholder: this.$t('Enter Comment'),\r\n                            validationRules: {\r\n                                \"required\": true\r\n                            },                         \r\n                            disabled: false,\r\n                        },\r\n                    ]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save\",\r\n                    isVisible:true,                    \r\n                   \r\n                },               \r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Cancel\",\r\n                    onClick: this.Close,\r\n                },\r\n            ],\r\n            companyId:null,\r\n            userId:null\r\n        }\r\n    },\r\n    created:function(){        \r\n        var vm=this;\r\n        vm.userId = vm.GetUserInfo.ID;\r\n        vm.companyId = vm.GetUserInfo.CompanyId;\r\n        vm.GetStatusList();\r\n    },\r\n    methods:{\r\n          GetStatusList() {\r\n            var vm = this;\r\n            let Url = `id=&moduleName=Billing&type=Subscription_Status&search=&refId=`\r\n            DataService.GetDDLData(Url).then(response => {\r\n                debugger\r\n                if (response.data != '' && response.data != null) {\r\n                    vm.getprojectlist = response.data.DATA;\r\n\r\n                    vm.getprojectlist.forEach((item) => {\r\n                        (vm.FormSchema)[0].Data[0].config.options.push({\r\n                            value: item.value,\r\n                            name: item.name\r\n                        })\r\n                    })\r\n\r\n                    vm.$refs.defaultStatus.UpdateKeyValue();\r\n                }\r\n\r\n            })\r\n        },\r\n        onSubmit(formfields, val){            \r\n            var vm = this;\r\n            var status_name = '';\r\n            vm.getprojectlist.forEach(function (itm) {\r\n                  if(itm.value==formfields.Status){\r\n                    status_name = itm.name\r\n                  }\r\n            });\r\n            const payload = {\r\n                    ID: vm.MappingId,\r\n                    StatusId: formfields.Status,\r\n                    IsFor: \"TALYGEN_CLIENT_PLAN_Mapping\",\r\n                    Module: \"Billing\",\r\n                    Submodule: \"Subscription\",\r\n                    Comment: formfields.Comment,\r\n                    StatusName: status_name,\r\n                    PlanName: vm.planNamesStr\r\n                    };\r\n                    DataService.CommonUpdateStatus(JSON.stringify(payload)).then(response => {\r\n                    if (response?.data?.status === 'Success') {\r\n                        vm.ShowAlert(vm.$t(\"RecordUpdatedSuccessfully\"), \"success\",vm.$t('Alert'));\r\n                        this.Close();\r\n                        if(vm.type=='Subscription'){\r\n                          this.$parent.fetchSubscriptions();\r\n                        }else{\r\n                          this.$parent.FetchData();  \r\n                        }\r\n                    } else {\r\n                        this.ShowAlert(this.$t(\"UnknownErrorOccur\"), \"failure\", true, this.$t(\"Alert\"));\r\n                    }\r\n                    });\r\n        },\r\n        Close:function(){\r\n            this.$parent.IsComment=false;\r\n        }\r\n        \r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCommentModal.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCommentModal.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddCommentModal.vue?vue&type=template&id=20635b0b\"\nimport script from \"./AddCommentModal.vue?vue&type=script&lang=js\"\nexport * from \"./AddCommentModal.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('tg-list',{attrs:{\"IsShowAction\":false,\"showCheckBox\":true,\"ModuleName\":\"Billing\",\"listType\":['List'],\"RenderRowActionMethod\":_vm.renderActions,\"SubModuleCode\":\"Billing\",\"IdentityColumn\":\"Mapping_id\",\"HeaderText\":\"Subscriptions\",\"ListData\":_vm.subscriptionListing,\"HeaderData\":_vm.subscriptionListHeaders,\"callbackfunction\":_vm.fetchSubscriptions,\"HeaderButtons\":_vm.headerButtons,\"TotalRecords\":_vm.TotalRecords,\"SearchFields\":_vm.leftSearchFields,\"ListDataCallBackFunction\":_vm.fetchSubscriptions,\"LegendArray\":[],\"SortExp\":_vm.sortExp,\"SortBy\":_vm.sortBy,\"NorecordfoundText\":_vm.$t('NoRecordfound')},on:{\"HeaderButtonClick\":_vm.commonHeaderButtonClick,\"PagerButtonClick\":_vm.pagerMethod,\"LeftsearchButtonClick\":_vm.leftCommonSearch},scopedSlots:_vm._u([{key:\"slotdata\",fn:function({ data }){return [(data.column.COLUMN_NAME == 'PLAN_NAME')?[_c('span',[_c('a',{attrs:{\"href\":'/Plan/ManageSubscriptionPlanDetail/' +  data.row.PLAN_ID}},[_vm._v(\" \"+_vm._s(data.row.PLAN_NAME)+\" \")])])]:_vm._e(),(data.column.COLUMN_NAME == 'STATUS_NAME')?[_c('span',{class:_vm.getStatusClassList(data.row.STATUS_NAME, 'STATUS_NAME')},[_vm._v(\" \"+_vm._s(data.row.STATUS_NAME)+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'PRICE')?[_c('span',[_vm._v(_vm._s(_vm.$n(data.row.PRICE, \"currency\", _vm.$getLocaleByCurrency(_vm.CurrencyCode))))])]:_vm._e()]}}])}),(_vm.IsComment)?_c('AddComment',{attrs:{\"MappingId\":_vm.MappingId,\"type\":_vm.type,\"planNamesStr\":_vm.planNamesStr},on:{\"ChangeStatus\":_vm.ChangeStatus}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const subscriptionHeaders = [\r\n    {\r\n        COLUMN_NAME: \"USER_NAME\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,\r\n        DISPLAY_NAME: \"Client Name\",\r\n        DISPLAY_ORDER: 1,\r\n        settings: {\r\n            clickEvent: true\r\n        }\r\n    },\r\n    {\r\n        COLUMN_NAME: \"PLAN_NAME\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,\r\n        DISPLAY_NAME: \"Plan Name\",\r\n        DISPLAY_ORDER: 2,\r\n        settings: {\r\n            isInSlot: true\r\n        }\r\n    },\r\n    {\r\n        COLUMN_NAME: \"ServiceNames\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,\r\n        DISPLAY_NAME: \"Service Name\",\r\n        DISPLAY_ORDER: 3,\r\n    },\r\n    {\r\n        COLUMN_NAME: \"STATUS_NAME\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,  \r\n        DISPLAY_NAME: \"Status\",\r\n        DISPLAY_ORDER: 4,\r\n        settings: {\r\n            isInSlot: true\r\n        }\r\n    },\r\n    {\r\n        COLUMN_NAME: \"FREQUANCY\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,\r\n        DISPLAY_NAME: \"Frequancy\",\r\n        DISPLAY_ORDER: 5,\r\n    },\r\n    {\r\n        COLUMN_NAME: \"PRICE\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,\r\n        DISPLAY_NAME: \"Price\",\r\n        DISPLAY_ORDER: 6,\r\n        settings: {\r\n            isInSlot: true\r\n        }\r\n    },\r\n    {\r\n        COLUMN_NAME: \"UNITS\",\r\n        DATA_TYPE: \"text\",\r\n        SORTABLE: false,\r\n        VISIBLE: true,\r\n        DISPLAY_NAME: \"Units\",\r\n        DISPLAY_ORDER: 7,\r\n    },  \r\n]\r\n\r\nlet leftsearchSchema = [\r\n    {\r\n        fieldName: 'Clients',\r\n        fieldType: \"text\",\r\n        fieldIcon: \"fa-file-text-o\",\r\n        fieldSearchConditionName: ['clientName'],\r\n        paramName: \"clientName\",\r\n        placeholder: \"Search by client name\",\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: [],\r\n    },\r\n    {\r\n        fieldName: 'Plans',\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa-file-text-o\",\r\n        fieldSearchConditionName: ['plans'],\r\n        paramName: \"plans\",\r\n        isSearch: false,\r\n        value: \"\",  \r\n        listOptions: [],\r\n    }\r\n]\r\n\r\nlet headerButtons = [\r\n    {\r\n        id: 'ChangeStatus',\r\n        title: 'Change Status',\r\n        iconClass: 'fa fa-check',\r\n        callbackfunction: 'ChangeStatus',\r\n        isdisabled: true,\r\n        isvisible: true,\r\n        isEnabledOnSelectedRow: true\r\n    }\r\n]\r\nlet listActions = [\r\n    {\r\n        title: 'View',\r\n        // href: '/viewcustomreport',\r\n        callbackfunction: 'ViewPlamDetails',\r\n        icon: 'fa fa-eye action-icon',\r\n        additionalSpan: ''\r\n    },\r\n]\r\nexport default { subscriptionHeaders, leftsearchSchema, listActions, headerButtons};","\r\n<template>\r\n    <section>\r\n        <tg-list\r\n            :IsShowAction=\"false\"\r\n            :showCheckBox=\"true\"\r\n            ModuleName=\"Billing\"\r\n            :listType=\"['List']\"\r\n            :RenderRowActionMethod=\"renderActions\"\r\n            v-on:HeaderButtonClick=\"commonHeaderButtonClick\"\r\n            SubModuleCode=\"Billing\"\r\n            IdentityColumn=\"Mapping_id\"\r\n            HeaderText=\"Subscriptions\"\r\n            :ListData=\"subscriptionListing\"\r\n            :HeaderData=\"subscriptionListHeaders\"\r\n            :callbackfunction=\"fetchSubscriptions\"\r\n            :HeaderButtons=\"headerButtons\"\r\n            :TotalRecords=\"TotalRecords\"\r\n            :SearchFields=\"leftSearchFields\"\r\n            :ListDataCallBackFunction=\"fetchSubscriptions\"\r\n            :LegendArray=\"[]\"\r\n            :SortExp=\"sortExp\"\r\n            :SortBy=\"sortBy\"\r\n            :NorecordfoundText=\"$t('NoRecordfound')\"\r\n            v-on:PagerButtonClick=\"pagerMethod\"\r\n            v-on:LeftsearchButtonClick=\"leftCommonSearch\"\r\n            >\r\n            <template v-slot:slotdata=\"{ data }\">\r\n                <template v-if=\"data.column.COLUMN_NAME == 'PLAN_NAME'\">\r\n                    <span> <a :href=\"'/Plan/ManageSubscriptionPlanDetail/' +  data.row.PLAN_ID\"> {{ data.row.PLAN_NAME }} </a> </span>\r\n                </template>\r\n                        <template v-if=\"data.column.COLUMN_NAME == 'STATUS_NAME'\">\r\n                    <span v-bind:class=\"getStatusClassList(data.row.STATUS_NAME, 'STATUS_NAME')\"\r\n                        >\r\n                        {{ data.row.STATUS_NAME }}\r\n                    </span>\r\n                </template>\r\n                    <template v-if=\"data.column.COLUMN_NAME == 'PRICE'\">\r\n                        <span>{{ $n(data.row.PRICE, \"currency\", $getLocaleByCurrency(CurrencyCode))}}</span>\r\n                </template>\r\n            </template>\r\n        </tg-list>\r\n        <AddComment v-if=\"IsComment\" @ChangeStatus=\"ChangeStatus\" :MappingId=\"MappingId\" :type=\"type\" :planNamesStr=\"planNamesStr\"></AddComment>\r\n    </section>\r\n</template>\r\n<script>\r\n    import DataService from '../../../services/DataService';\r\n    import schema from './schema';\r\n    import AddComment from './AddCommentModal.vue'\r\n    import Vue from 'vue';\r\n    export default {\r\n           components: { AddComment },\r\n        data() {\r\n            return {\r\n                subscriptionListing: [],\r\n                subscriptionListHeaders: schema.subscriptionHeaders ,\r\n                TotalRecords: 0,\r\n                leftSearchFields: schema.leftsearchSchema,\r\n                listActions: schema.listActions,\r\n                headerButtons: schema.headerButtons,\r\n                sortExp: '',\r\n                sortBy: '',\r\n                pageSize: 10,\r\n                pageNumber: 1,\r\n                IsComment: false,\r\n                MappingId: '',\r\n                type: 'Subscription',\r\n                planNamesStr: '',\r\n                CurrencyCode: 'PKR'\r\n            }\r\n        },\r\n        created: function() {\r\n            var vm=this;\r\n            this.fetchSubscriptions();\r\n            this.getDropdownData(\"PLANS\");\r\n            vm.CurrencyCode = vm.GetUserInfo.Currency.replace(/[()]/g, '');\r\n        },\r\n        methods: {\r\n            getStatusNameById(id) {\r\n            const status = this.StatusListForListing.find(x => x.STATUS_ID === id);\r\n            return status ? status.STATUS : '';\r\n            },\r\n            getDropdownData: function(type) {\r\n                var vm = this;\r\n                let Url = `id=&moduleName=CLIENT&type=${type}&search=`\r\n                DataService.GetDDLData(Url).then(response => {\r\n                    if (response.data != '' && response.data != null) {\r\n                        vm.leftSearchFields.forEach(function(item){\r\n                            if(item.fieldName == \"Plans\" && type == \"PLANS\") {\r\n                                item.listOptions = response.data.DATA\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                })\r\n            },\r\n             commonHeaderButtonClick: function (event) {\r\n            switch (event.callbackfunction) {\r\n                case \"ChangeStatus\":\r\n                    this.ChangeStatusModal();\r\n                    break;\r\n                case \"commonDeleteData\":\r\n                    this.commonDeleteData();\r\n                    break;\r\n            }\r\n            },\r\n        ChangeStatusModal: function (id) {\r\n            var vm = this;\r\n            debugger\r\n            var val = \"\";\r\n            vm.isLoading = true;\r\n            if (id == null) {\r\n                $('.chkItems:checkbox:checked').not(\"[id^='chkAll_0']\").each(function () {\r\n                    if (val.length > 0)\r\n                        val += ',';\r\n                    val += $(this).val();\r\n                });\r\n            }\r\n            else {\r\n                val = id;\r\n            }\r\n            if (val != null) {\r\n                vm.MappingId=val;\r\n                var ids = vm.MappingId.split(',').map(id => parseInt(id.trim()));\r\n\r\n                 vm.planNamesStr = vm.subscriptionListing\r\n                .filter(plan => ids.includes(plan.Mapping_id))\r\n                .map(plan => plan.PLAN_NAME)\r\n                .join(', ');\r\n                  vm.IsComment= true;\r\n            }\r\n            else {\r\n                vm.ShowAlert(vm.$t(\"Selectanyrecordtodelete\"));\r\n            }\r\n            vm.isLoading = false;\r\n        },\r\n           getStatusClassList: function (status) {\r\n                let returnClass = '';\r\n\r\n                switch (status) {\r\n                    case 'Active':\r\n                        returnClass = 'px-2 text-center text-white d-block bg-success'; // Green\r\n                        break;\r\n                    case 'Pending Activation':\r\n                        returnClass = 'px-2 text-center text-dark d-block bg-warning'; // Yellow\r\n                        break;\r\n                    case 'Past Due':\r\n                        returnClass = 'px-2 text-center bg-warning text-white d-block'; // Orange (custom)\r\n                        break;\r\n                    case 'Paused':\r\n                        returnClass = 'px-2 text-center text-white d-block bg-danger'; \r\n                        break;\r\n                    case 'Grace Period':\r\n                        returnClass = 'px-2 text-center text-white d-block bg-teal'; // Teal (custom)\r\n                        break;\r\n                    case 'Suspended':\r\n                        returnClass = 'px-2 bg-primary text-center text-white d-block'; // Custom orange\r\n                        break;\r\n                    case 'Cancelled':\r\n                        returnClass = 'px-2 text-center text-white d-block bg-danger'; // Red\r\n                        break;\r\n                    case 'Inactive':\r\n                        returnClass = 'px-2 text-center text-white d-block bg-danger'; // Red\r\n                        break;\r\n                    case 'Churned':\r\n                        returnClass = 'px-2 bg-secondary text-center text-white d-block'; // Dark Gray\r\n                        break;\r\n                    default:\r\n                        returnClass = 'px-2 text-center text-white d-block bg-secondary'; // Fallback gray\r\n                }\r\n\r\n                return returnClass;\r\n            },\r\n            fetchSubscriptions: async function(searchprms) {\r\n                let ths = this;\r\n                let str = \"sortBy=\" + this.sortBy + \"&sortExp=\" + this.sortExp + \"&pageNumber=\" + this.pageNumber + \"&pageSize=\" + this.pageSize;\r\n                if(typeof(searchprms) != \"undefined\" && searchprms != \"\") {\r\n                    str = str + \"&\" + searchprms;\r\n                }\r\n                await DataService.getSubscriptionListing(str).then(function(res){\r\n                    if(res != null && res.data != null && res.data.status == \"Success\"){\r\n                        ths.subscriptionListing = JSON.parse(res.data.result);\r\n                        for (var row in ths.subscriptionListing) {\r\n                            ths.subscriptionListing[row].isCheckBoxDisabled = false;\r\n                            if (ths.subscriptionListing[row].STATUS_NAME == 'Inactive' || ths.subscriptionListing[row].STATUS_NAME == 'Cancelled') {\r\n                               ths.subscriptionListing[row].isCheckBoxDisabled = true;\r\n                            } else {\r\n                               ths.subscriptionListing[row].isCheckBoxDisabled = false;\r\n                            }\r\n                        }\r\n                        if(ths.subscriptionListing.length > 0) {\r\n                            ths.TotalRecords =  ths.subscriptionListing[0].totalRecords;\r\n                            ths.headerButtons[0].isdisabled = true;\r\n                        } else {\r\n                            ths.TotalRecords = 0\r\n                        }\r\n                    }\r\n                });\r\n            },\r\n            pagerMethod: function(x, y) {\r\n                this.pageNumber = x.PageNumber;\r\n                this.pageSize = x.PageSize;\r\n                this.fetchSubscriptions();\r\n            },\r\n            renderActions: function (row) {            \r\n                var self = this;\r\n                let rtnActionArray = [];\r\n                self.listActions.forEach(actionItem => {\r\n                    let action = { ...actionItem };\r\n                    switch (action.title) {\r\n                        case 'View':\r\n                            action.isVisible = true;\r\n                            break;\r\n                        case 'Delete':\r\n                            action.isVisible = true;\r\n                            break;\r\n                        case 'Share':\r\n                            action.isVisible = false;\r\n                            break;\r\n                        default: {\r\n                            action.isVisible = true;\r\n                        }\r\n                    }\r\n                    rtnActionArray.push(action);\r\n                });\r\n                return rtnActionArray;\r\n            }, \r\n            leftCommonSearch: function(x, y) {\r\n                this.fetchSubscriptions(x.searchConditionJson);\r\n            }\r\n        },\r\n    }\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscription.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Subscription.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Subscription.vue?vue&type=template&id=7d30a954\"\nimport script from \"./Subscription.vue?vue&type=script&lang=js\"\nexport * from \"./Subscription.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}