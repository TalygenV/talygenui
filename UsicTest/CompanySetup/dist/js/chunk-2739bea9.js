(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2739bea9"],{"4cd6":function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".slider.round{width:71px}",""]),e.exports=t},"4ff0":function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".multiselect{z-index:9999!important}",""]),e.exports=t},"76ab":function(e,t,a){"use strict";a("feee")},8508:function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".modal-open{overflow:inherit!important}.iconsize{font-size:21px}",""]),e.exports=t},"851b":function(e,t,a){"use strict";a("a8bd")},"869d":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("tg-list",{ref:"tgList",attrs:{listType:["List"],IsShowAction:!0,showCheckBox:!0,ModuleName:"PROJECT",SubModuleCode:"Team",IdentityColumn:"team_id",HeaderText:e.$t("Team"),ListData:e.ListingData,HeaderData:e.Headers,widgets:e.widgets,HeaderButtons:e.Buttons,TotalRecords:e.TotalRecords,RenderRowActionMethod:e.renderActions,ListDataCallBackFunction:e.FetchTeamList,SortExp:e.SortExp,SortBy:e.SortBy,NorecordfoundText:e.$t("NoRecordfound"),SearchFields:e.leftSearchFields,LegendArray:e.LegendArray},on:{PagerButtonClick:e.pagerMethod,HeaderButtonClick:e.commonHeaderButtonClick,SortdataButtonClick:e.sortdata,LeftsearchButtonClick:e.leftCommonSearch,ActionButtonClick:e.actionButtonClick},scopedSlots:e._u([{key:"slotdata",fn:function({data:a}){return["Team_name"==a.column.COLUMN_NAME?[t("span",{staticStyle:{color:"dodgerblue",cursor:"pointer"},on:{click:function(t){return e.AddTeam(a.row)}}},[e._v(e._s(a.row.Team_name))])]:e._e(),"Module_name"==a.column.COLUMN_NAME?[null==a.row.Module_name?t("span",[e._v(" N/A")]):t("span",[e._v(e._s(a.row.Module_name))])]:e._e(),"Number"==a.column.COLUMN_NAME?[null==a.row.Number?t("a",{staticClass:"text-dark",attrs:{href:"javascript:;","data-placement":"left"},on:{click:function(t){return e.AssignedUser(a.row.team_id,a.row)}}},[t("em",{staticClass:"fa fa-user-plus"})]):t("a",{staticClass:"text-dark",attrs:{href:"javascript:;"},on:{click:function(t){return e.AssignedUser(a.row.team_id,a.row)}}},[t("em",{staticClass:"iconsize fa fa-user"}),t("span",{staticClass:"noti-circle noti-blue"},[e._v(e._s(a.row.Number))])])]:e._e(),"CountAssociatedProject"==a.column.COLUMN_NAME?[t("a",{staticClass:"text-dark",attrs:{href:"javascript:;"},on:{click:function(t){return e.AssociatedProject(a.row.team_id)}}},[t("em",{staticClass:"iconsize fa fa-briefcase"}),t("span",{staticClass:"noti-circle noti-blue"},[e._v(e._s(a.row.CountAssociatedProject))])])]:e._e()]}}])}),e.isAddTeam?t("AddTeam",{attrs:{TeamId:e.TeamId}}):e._e(),e.IsAssignedUser?t("AssignedUser",{attrs:{TeamId:e.TeamId,AssigenedUser:e.AssigenedUser}}):e._e(),e.IsTeam?t("AssociatedProject",{attrs:{TeamId:e.TeamId},on:{CloseAssociatedProject:e.CloseAssociatedProject}}):e._e()],1)},i=[];a("14d9");let l=[{title:"Add Team",iconClass:"fa fa-plus pr-2 ",callbackfunction:"AddTeam",additionalClass:"",isdisabled:!1,isvisible:!0},{title:"Delete",iconClass:"fa fa-trash",callbackfunction:"DeleteTeam",additionalClass:"",isdisabled:!0,isvisible:!0,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],r=[{title:"Delete",href:"javascript:void(0)",callbackfunction:"DeleteTeam",icon:"fa fa-trash-o action-icon text-danger",additionalSpan:""},{title:"Edit",icon:"fa fa-pencil action-icon",additionalSpan:"",callbackfunction:"EditTeam"}],o=[{fieldName:"TeamName",fieldType:"text",fieldIcon:"fa fa-user",fieldSearchConditionName:["CL.UserNames"],isSearch:!1,value:"",listOptions:[]},{fieldName:"LeadName",fieldType:"text",fieldIcon:"fa fa-user-circle-o",fieldSearchConditionName:["PMU.UserNames"],isSearch:!1,value:"",listOptions:[]}];var n={buttons:l,listActions:r,leftsearchSchema:o},c=a("9769"),d=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Assign"))+" "+e._s(e.$t("User")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[t("dynamic-form",{ref:"AssignTagForm",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.MandatoryString},scopedSlots:e._u([{key:"tgslot-AssignUser",fn:function({data:a}){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6 float-left"},[t("Field",{attrs:{name:"AssignUser",rules:{required:!0}},scopedSlots:e._u([{key:"default",fn:function({errors:a}){return[t("multiselect",{staticClass:"form-group border-0 p-0 mb-0 mr-1",attrs:{mode:"tag",placeholder:e.$t("Select User"),multiple:!0,options:e.TeamMemberData,label:"name","track-by":"value",taggable:!0,id:"exampleFormControlSelect1"},model:{value:e.UserSelect,callback:function(t){e.UserSelect=t},expression:"UserSelect"}})]}}],null,!0)})],1),t("div",{staticClass:"col-lg-6 float-left"},[t("a",{staticClass:"btn btn-success float-left",attrs:{type:"submit"},on:{click:e.SaveAssociateUser}},[e._v("Associate User")])])])]}},{key:"tgslot-AssociateUserList",fn:function({data:a}){return[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header float-left",staticStyle:{"max-height":"530px"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"mainTable"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticClass:"text-center"},[e._v(e._s(e.$t("UserName")))]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("AliasName")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("Show"))+" "+e._s(e.$t("AliasName")))])]),t("th",{staticClass:"text-center"},[t("span",[e._v(e._s(e.$t("Action")))])])])]),t("tbody",[0==e.UserList.length?t("tr",{attrs:{id:"trnorecords"}},[t("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"12"}},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")])]):e._e(),e._l(e.UserList,(function(a,s){return t("tr",{key:a.userId},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a.UserName)+" ")]),t("td",{staticClass:"text-center"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.is_Alias_Name,expression:"member.is_Alias_Name"}],class:{"form-control":!0},attrs:{type:"text"},domProps:{value:a.is_Alias_Name},on:{input:function(t){t.target.composing||e.$set(a,"is_Alias_Name",t.target.value)}}})]),t("td",{staticClass:"text-center"},[t("div",{staticClass:"custom-control custom-checkbox"},[t("input",{staticClass:"chkAlias checkboxAlias custom-control-input",class:{"form-control":!0},attrs:{type:"checkbox",id:"checkboxidd"+a.userId,name:"chkk_"+a.userId},domProps:{checked:"1"==a.show_alias_Name},on:{change:function(t){return e.checkboxAlias(t,a)}}}),t("label",{staticClass:"custom-control-label universal-custom-control-label pt-1",attrs:{for:"checkboxidd"+a.userId}})])]),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{typetitle:"Delete",typefor:"Delete",value:a.value,title:"Delete"},on:{click:function(t){return e.DeAssociateUserWithTeam(a.userId)}}},[t("em",{staticClass:"fa fa-trash-o action-icon text-danger",class:{disabled:1==a.is_lead}})])])])}))],2)])])])]}}])})],1)])])])],1)},m=[],u={props:{TeamId:{type:Number,Required:!0},AssigenedUser:{type:Object,Required:!0}},data(){return{MandatoryString:"Fields marked with an asterisk (*) are mandatory.",isLoading:!1,UserSelect:[],UserList:[],FormSchema:[{layoutType:"single",Data:[{astype:"SlotField",label:this.$t("Assign User"),name:"AssignUser",mode:"tag",multiple:!1,value:"",config:{options:[]},placeholder:this.$t("Select Status"),validationRules:{required:!1,max:100}}]},{layoutType:"single",group_name:"Associate User List",Data:[{astype:"SlotField",name:"AssociateUserList",showLabel:!1,value:"",placeholder:this.$t("Select Status"),validationRules:{required:!1,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",onClick:this.OnSubmit},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.Close}],TeamMemberData:[]}},created:async function(){var e=this;e.GetUsers(),null!=e.AssigenedUser&&setTimeout((function(){e.BindAssigenedUsers()}),1e3)},methods:{GetUsers(){var e=this,t="id=&moduleName=PROJECT&type=COMPANY_USER_LIST_FOR_COMPANY_SETUP&search=&refId=";c["a"].GetDDLData(t).then(t=>{if(200===t.status&&t.data.DATA&&t.data.DATA.length>0){let a=t.data.DATA;if(e.TeamMemberData=[],e.AssigenedUser&&e.AssigenedUser.UserId){let t=e.AssigenedUser.UserId?e.AssigenedUser.UserId.split(",").map(e=>e.trim()):[];a=a.filter(e=>!t.includes(e.value.toString()))}a.forEach(t=>{e.TeamMemberData.push({value:t.value,name:t.first_value})})}})},BindAssigenedUsers(){var e=this,t=e.AssigenedUser;let a=t.Team_Lead_Id?t.Team_Lead_Id.split(","):[],s=t.UserId?t.UserId.split(","):[],i=t.UserName?t.UserName.split(","):[],l=t.is_Alias_Name?t.is_Alias_Name.split(",").filter(e=>e&&""!==e.trim()):i,r=t.show_alias_Name?t.show_alias_Name.split(","):[],o=[];s.forEach((e,s)=>{let n=o.find(t=>t.userId===parseInt(e));n?a.includes(e)&&(n.is_lead=1):o.push({team_id:t.team_id,userId:parseInt(e),UserName:i[s]||"",is_lead:a.includes(e)?1:0,is_Alias_Name:l[s]||"",show_alias_Name:r[s]||""})}),e.UserList=o},SaveAssociateUser:async function(){var e=this;if(e.isLoading=!0,!(e.UserSelect.length>0))return e.isLoading=!1,e.ShowAlert(e.$t("PleasSelectAtLeast"),"failure",!0,e.$t("Alert")),!1;var t="";e.UserSelect.forEach(e=>{t+=e.value,t+=","});var a={TeamId:e.TeamId,UserId:t},s=JSON.stringify(a);c["a"].AssociateUserWithTeam(s).then((function(t){e.isLoading=!1,t.data.result.DATA.length>0?"EXIST"==t.data.result.DATA[0].VALUE?e.ShowAlert(e.$t("AlreadyExists",[e.$t("TeamMember")]),"warning",!0,e.$t("Alert")):(e.ShowAlert(e.$t("AddedSuccess",[e.$t("TeamMember")]),"success",!0,e.$t("Alert")),e.$parent.FetchTeamList(),e.Close()):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}))},DeAssociateUserWithTeam(e){var t=this;t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("User"),(function(){t.isLoading=!0;var a={TeamId:t.TeamId,UserId:e},s=JSON.stringify(a);c["a"].DeAssociateUserWithTeam(s).then((function(e){t.isLoading=!1,e.data.result.DATA.length>0?(t.ShowAlert(t.$t("RecordUpdatedSuccessfully"),"success",!0,t.$t("Alert")),t.$parent.FetchTeamList(),t.Close()):t.ShowAlert(t.$t("UnknownErrorOccur"),"failure",!0,t.$t("Alert"))}))}))},Close:function(){var e=this;e.$parent.IsAssignedUser=!1},checkboxAlias:function(e,t){var a=this;e.target.checked?a.UserList=a.UserList.map(e=>e.userId===t.userId?{...e,show_alias_Name:!0}:e):a.UserList=a.UserList.map(e=>e.userId===t.userId?{...e,show_alias_Name:!1}:e)},OnSubmit(){var e=this;if(!(e.UserList.length>0))return e.isLoading=!1,e.ShowAlert(e.$t("PleasSelectAtLeast"),"failure",!0,e.$t("Alert")),!1;var t={TeamId:e.TeamId,Type:"User",UserData:e.UserList},a=JSON.stringify(t);c["a"].SaveTeam(a).then((function(t){e.isLoading=!1,t.data.result.DATA.length>0?(e.ShowAlert(e.$t("RecordUpdatedSuccessfully"),"success",!0,e.$t("Alert")),e.$parent.FetchTeamList(),e.Close()):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}))}}},h=u,A=(a("76ab"),a("2877")),f=Object(A["a"])(h,d,m,!1,null,null,null),p=f.exports,v=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal my-popups right fade",attrs:{id:"modalAddTeam",role:"dialog"}},[t("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.CloseAddClose()}}},[t("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("AddTeam")))])]),t("div",{staticClass:"modal-body"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("dynamic-form",{ref:"AddTeamForm",attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema,mandatorytext:e.MandatoryString},on:{OnSubmit:e.OnSubmit}})],1)])])])},T=[],g={props:{TeamId:{type:Array,Required:!0}},data(){return{isLoading:!1,ProjectBackLogId:0,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("TeamName"),name:"TeamName",value:"",placeholder:this.$t("Enter Team Name"),validationRules:{required:!0,max:100}},{astype:"MultiSelectField",label:this.$t("TeamUser"),name:"TeamUsers",mode:"tag",value:"",config:{options:[]},placeholder:this.$t("Team User"),validationRules:{required:!0,max:100}},{astype:"MultiSelectField",label:this.$t("TeamLead"),name:"TeamLead",value:"",mode:"tag",config:{options:[]},placeholder:this.$t("Team Lead"),validationRules:{required:!0,max:100}},{astype:"MultiSelectField",label:this.$t("Skill"),name:"Skill",mode:"tag",value:"",config:{options:[]},placeholder:this.$t("Select Skill"),validationRules:{required:!1,max:100}},{astype:"toggleField",label:this.$t("GlobalTeam"),name:"GlobalTeam",value:"",config:{options:[],onChange:this.onChangeGlobalTeam},validationRules:{required:!1,max:100}},{astype:"SelectField",label:this.$t("TeamAssociate"),name:"User",value:"",visibility:!0,config:{options:[]},placeholder:this.$t("Select Team Associate"),validationRules:{required:!0,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save",isVisible:!0},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.CloseAddClose}],projectId:null,TeamMemberData:[],UserId:0,NewTeamId:0,UserList:[],SkillData:[],ModuleData:[]}},created:async function(){var e=this;e.isLoading=!0,await e.GetUser(),await e.GetSkill(),await e.TeamAssociate(),null!=e.TeamId&&setTimeout((function(){e.BindTeamDeatils()}),1e3),e.isLoading=!1},methods:{async GetUser(){var e=this,t="id=&moduleName=&type=TEAM_USER_LIST&search=&refId=";await c["a"].GetDDLData(t).then(t=>{200==t.status&&(void 0==t.data.DATA&&null==t.data.DATA||t.data.DATA.length>0&&(e.UserList=t.data.DATA,e.UserList.forEach(t=>{let a={value:t.value,name:t.name};e.FormSchema[0].Data[1].config.options.push(a),e.FormSchema[0].Data[2].config.options.push(a)}),e.$refs.AddTeamForm.UpdateKeyValue()))})},async GetSkill(){var e=this,t="id=&moduleName=&type=USER_SKILLS&search=&refId=";await c["a"].GetDDLData(t).then(t=>{200==t.status&&(void 0==t.data.DATA&&null==t.data.DATA||t.data.DATA.length>0&&(e.SkillData=t.data.DATA,e.SkillData.forEach(t=>{let a={value:t.value,name:t.name};e.FormSchema[0].Data[3].config.options.push(a)}),e.$refs.AddTeamForm.UpdateKeyValue()))})},async TeamAssociate(){var e=this,t="id=&moduleName=&type=PHASE_TYPE&search=&refId=";await c["a"].GetDDLData(t).then(t=>{200==t.status&&(void 0==t.data.DATA&&null==t.data.DATA||t.data.DATA.length>0&&(e.ModuleData=t.data.DATA,e.ModuleData.forEach(t=>{let a={value:t.value,name:t.name};e.FormSchema[0].Data[5].config.options.push(a)}),e.$refs.AddTeamForm.UpdateKeyValue()))})},CloseAddClose(){this.$parent.isAddTeam=!1,$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),setTimeout((function(){$("#modalAddTeam").modal("show")}),1e3)},OnSubmit:async function(){var e=this;e.isLoading=!0;var t="",a="",s="";e.FormSchema[0].Data[3].value.forEach(e=>{t+=e.value,t+=","}),e.FormSchema[0].Data[1].value.forEach(e=>{a+=e.value,a+=","}),e.FormSchema[0].Data[2].value.forEach(e=>{s+=e.value,s+=","});let i=a.split(",").filter(e=>e),l=s.split(",").filter(e=>e);i=i.filter(e=>!l.includes(e)),a=i.join(","),s=l.join(",");var r={TeamId:e.NewTeamId,Type:"Team",TeamName:e.FormSchema[0].Data[0].value,TeamUser:a,TeamLeadId:s,UserId:e.UserId,SkillId:t,GlobalTeam:e.FormSchema[0].Data[4].value,ModuleId:1==e.FormSchema[0].Data[4].value?0:e.FormSchema[0].Data[5].value,StatusId:1001};await c["a"].SaveTeam(JSON.stringify(r)).then((function(t){e.isLoading=!1,t.data.result.DATA.length>0?"TEAM_UPDATED"==t.data.result.DATA[0].VALUE?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Team")]),"success",!0,e.$t("Alert")),e.CloseAddClose(),e.$parent.FetchTeamList()):"TEAM_EXISTS"==t.data.result.DATA[0].VALUE?e.ShowAlert(e.$t("AlreadyExists",[e.$t("Team memeber")]),"warning",!0,e.$t("Alert")):(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Team ")]),"success",!0,e.$t("Alert")),e.CloseAddClose(),e.$parent.FetchTeamList()):e.ShowAlert(e.$t("UnknownErrorOccur"),"failure",!0,e.$t("Alert"))}))},onChangeGlobalTeam(e,t){var a=this;t.value?(a.FormSchema[0].Data[5].visibility=!1,a.FormSchema[0].Data[5].validationRules.required=!1):(a.FormSchema[0].Data[5].visibility=!0,a.FormSchema[0].Data[5].validationRules.required=!0)},BindTeamDeatils(){var e=this;e.NewTeamId=e.TeamId.team_id,e.FormSchema[0].Data[0].value=e.TeamId.Team_name;const t=e.TeamId.UserId.split(",");var a=e.UserList.filter(e=>t.includes(e.value));const s=e.TeamId.Team_Lead_Id.split(",");var i=e.UserList.filter(e=>s.includes(e.value)),l=(e.UserList.filter(e=>!a.includes(e)&&!i.includes(e)),[]);a.forEach(e=>{var t={value:e.value,label:e.name};l.push(t)}),e.FormSchema[0].Data[1].value=l;var r=[];i.forEach(e=>{var t={value:e.value,label:e.name};r.push(t)}),e.FormSchema[0].Data[2].value=r;const o=e.TeamId.SkilsName.split(",");var n=e.SkillData.filter(e=>o.includes(e.name)),c=[];if(n.forEach(e=>{var t={value:e.value,label:e.name};c.push(t)}),e.FormSchema[0].Data[3].value=c,e.FormSchema[0].Data[4].value=e.TeamId.is_global,e.TeamId.is_global)e.FormSchema[0].Data[5].visibility=!1;else{e.FormSchema[0].Data[5].visibility=!0;const t=e.TeamId.Module_name;var d=e.ModuleData.filter(e=>t.includes(e.name));e.FormSchema[0].Data[5].value=d[0].value}}}},S=g,_=(a("971c"),Object(A["a"])(S,v,T,!1,null,null,null)),b=_.exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"my-popups"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[t("h4",{staticClass:"modal-title"},[e._v(e._s(e.$t("Associated"))+" "+e._s(e.$t("Project")))]),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),t("div",{staticClass:"modal-body"},[0===e.ActivityData.length?t("div",{staticClass:"text-center text-danger p-2"},[e._v(" No record(s) found ")]):t("div",{staticClass:"card mb-3 probx"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 mbspc"},[t("div",{staticClass:"activity-tab"},e._l(e.ActivityData,(function(a,s){return t("div",{key:s,staticClass:"card"},[t("div",{staticClass:"card-header"},[t("a",{staticClass:"card-link",staticStyle:{color:"rgb(0, 0, 0)"},attrs:{"data-toggle":"collapse",href:"#collapseOnes"+s,"aria-expanded":"true"}},[t("div",{staticClass:"conversation-date heading-border"},[t("span",[t("i",{staticClass:"fa fa-angle-down rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),e._v(" "+e._s(a.project_name)+" ")])])])]),t("div",{class:{collapse:!0,show:0===s||s>=0&&e.isCollapsed},attrs:{id:"collapseOnes"+s}},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"row",staticStyle:{"max-height":"200px","overflow-y":"auto"}},[t("div",{staticClass:"col-md-12 mbspc"},e._l(a.taskname,(function(a,s){return t("div",{key:s,staticClass:"row"},[t("div",{staticClass:"col-md-3 col-lg-3"},[e._m(0,!0),e._m(1,!0),e._v(" "+e._s(e.TruncateStr(a.task_name,25))+" ")]),t("div",{staticClass:"col-md-3 col-lg-3"},[t("div",{staticClass:"cont_start"},[t("em",{staticClass:"fa fa-user mr-2"}),t("span",{staticClass:"blue-time"},[e._v(" "+e._s(Array.isArray(a.username)&&a.username.length?a.username[0].name:"-")+" ")])])]),t("div",{staticClass:"col-md-2 col-lg-2"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("PlanStartDate"))+":")]),e._v(" "+e._s(e.$options.filters.formatDate(a.planned_start_date))+" ")])])]),t("div",{staticClass:"col-md-2 col-lg-2"},[t("div",{staticClass:"form-group"},[t("label",[t("b",[e._v(e._s(e.$t("PlanEndDate"))+":")]),e._v(" "+e._s(e.$options.filters.formatDate(a.planned_end_date))+" ")])])]),t("div",{staticClass:"col-md-2 col-lg-2 float-right"},[void 0!=a.STATUS_NAME?t("span",{staticClass:"text-center text-white d-block",style:{backgroundColor:a.status_bg_color}},[e._v(" "+e._s(a.STATUS_NAME)+" ")]):t("span",{staticClass:"text-center d-block"},[e._v("N/A")])])])})),0)])])])])})),0)])])])]),t("div",{staticClass:"row pt-2"},[t("div",{staticClass:"col-6"}),t("div",{staticClass:"text-end text-right col-6"},[t("button",{staticClass:"btn btn-danger",staticStyle:{"margin-left":"5px"},attrs:{type:"button"},on:{click:e.Close}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel"))+" ")])])])])])])])],1)},D=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"iconplus"},[t("i",{staticClass:"fa fa-check-circle"})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"circle-oicon"},[t("i",{staticClass:"fa fa-list"})])}],y={props:{TeamId:{type:Number,required:!0}},data(){return{isLoading:!1,ActivityData:[],isCollapsed:!1}},created(){this.TeamId>0&&this.GetProjectDetails(this.TeamId)},methods:{GetProjectDetails(e){var t=this,a="TeamId="+e;t.isLoading=!0,c["a"].GetProjectDetails(a).then(e=>{t.isLoading=!1;let a=e.data.result.DATA;Array.isArray(a)?t.ActivityData=a:a&&Array.isArray(a.Data)?t.ActivityData=a.Data:t.ActivityData=[]}).catch(()=>{t.isLoading=!1,t.ActivityData=[]})},Close(){this.$emit("CloseAssociatedProject")}}},L=y,I=Object(A["a"])(L,C,D,!1,null,null,null),U=I.exports,E={components:{AddTeam:b,AssignedUser:p,AssociatedProject:U},data(){return{TotalRecords:0,isLoading:!1,CompanyId:null,PageSize:10,PageNumber:1,isPaged:1,TotalPages:0,widgets:[],TeamId:0,LegendArray:[],SortBy:"",SortExp:"",listActions:n.listActions,Headers:n.TableHeader,IsAssignedUser:!1,leftSearchFields:n.leftsearchSchema,Buttons:n.buttons,ListingData:[],searchCondition:"",AssigenedUser:"",isAddTeam:!1,Headers:[{COLUMN_NAME:"Team_name",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("TeamName"),DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"Team_lead",DATA_TYPE:"string",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("LeadName"),DISPLAY_ORDER:2},{COLUMN_NAME:"Module_name",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("moduleName"),DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"SkilsName",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("skils"),DISPLAY_ORDER:3},{COLUMN_NAME:"Number",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TeamUsers"),DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"CountAssociatedProject",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("AssociatedProject"),DISPLAY_ORDER:3,settings:{isInSlot:!0}}],IsTeam:!1}},created:async function(){this.CompanyId=this.GetUserInfo.CompanyId,this.userId=this.GetUserInfo.ID,this.FetchTeamList()},methods:{leftCommonSearch:function(e){if(this.PageNumber=e.PageNumber,this.isPaged=1,"undefined"!=typeof e.searchCondition)if(""!=e.searchConditionJson){const t=e.searchConditionJson.split("=")[1];this.fav=t}else this.searchCondition=e.searchCondition;else this.searchCondition="";this.FetchTeamList()},renderActions:function(e){var t=this;let a=[];return t.listActions.forEach(e=>{let t={...e};switch(t.title){case"Edit":t.isVisible=!0;break;case"Delete":t.isVisible=!0;break;default:t.isVisible=!0}a.push(t)}),a},pagerMethod:function(e){this.PageSize=e.PageSize,this.PageNumber=e.PageNumber,this.FetchTeamList()},actionButtonClick:function(e,t){switch(e){case"DeleteTeam":this.commonDeleteData(t.team_id);break;case"EditTeam":this.AddTeam(t);break}},commonHeaderButtonClick:async function(e){var t=this;switch(e.callbackfunction){case"AddTeam":t.AddTeam(null);break;case"DeleteTeam":t.commonDeleteData();break}},sortdata:function(e){var t="sort tb_headerSortDown";this.SortBy=e,e===this.SortBy&&(""==this.SortExp?(this.SortExp="ASC",t="sort tb_headerSortDown"):"ASC"==this.SortExp?(this.SortExp="DESC",t="sort tb_headerSortUp"):(this.SortExp="ASC",t="sort tb_headerSortDown")),this.FetchTeamList(),$("#"+e+"  span:first-child").attr("class",t)},commonDeleteData:function(e){var t=this,a="";t.isLoading=!0,null==e?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a=e,null!=a?t.confirmR(t.$t("ConfirmDelete"),!0,t.$t("Delete")+"  "+t.$t("Team"),(function(){var e="TeamId="+a;c["a"].DeleteTeam(e).then((function(e){t.isLoading=!1,e.data.result.DATA.length>0&&"TEAM_DELETED"==e.data.result.DATA[0].VALUE?($("#DeleteMultiple").addClass("disabled"),t.ShowAlert(t.$t("DeletedSuccess",[t.$t("Team")]),"success",!0,t.$t("Alert")),t.FetchTeamList()):t.ShowAlert(t.$t("DeletedError",[t.$t("Team")]),"Success",!0,t.$t("Alert"))}))})):t.ShowAlert(t.$t("Selectanyrecordtodelete")),t.isLoading=!1},AddTeam(e){this.TeamId=e,this.isAddTeam=!0,setTimeout((function(){$("#modalAddTeam").modal("show")}),1e3)},FetchTeamList:async function(){var e=this;e.isLoading=!0;var t=`teamname=&leadname=&pageSize=${e.PageSize}&pageNum=${e.PageNumber}&sortBy=${e.SortBy}&sortExp=${e.SortExp}`;c["a"].FetchTeamList(t).then(t=>{e.isLoading=!1,t.data.result.Data.length>0?(e.ListingData=t.data.result.Data,e.TotalRecords=t.data.result.Data[0].TotalRecord,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=e.PageNumber,e.ListingData.forEach(e=>{Vue.set(e,"isSelected",!1),e.meter_count>0?Vue.set(e,"isCheckBoxDisabled",!0):Vue.set(e,"isCheckBoxDisabled",!1)})):(e.ListingData=[],e.TotalRecords=0),setTimeout((function(){e.ResponsiveDataTable("tablelistingdata")}),500)})},AssignedUser:function(e,t){this.TeamId=e,this.AssigenedUser=t,this.IsAssignedUser=!0},AssociatedProject(e){var t=this;t.TeamId=e,t.IsTeam=!0},CloseAssociatedProject(){var e=this;e.IsTeam=!1}}},k=E,N=(a("851b"),Object(A["a"])(k,s,i,!1,null,null,null));t["default"]=N.exports},"971c":function(e,t,a){"use strict";a("f6c8")},a8bd:function(e,t,a){var s=a("8508");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("b96ca0aa",s,!0,{sourceMap:!1,shadowMode:!1})},f6c8:function(e,t,a){var s=a("4cd6");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("793ffb0e",s,!0,{sourceMap:!1,shadowMode:!1})},feee:function(e,t,a){var s=a("4ff0");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("321e7234",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-2739bea9.js.map