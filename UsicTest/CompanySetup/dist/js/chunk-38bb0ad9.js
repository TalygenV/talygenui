(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-38bb0ad9"],{"1c34":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{ref:"printArea",staticClass:"invoice-container mt-3 border p-2"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"text-center"},[e("h4",{staticStyle:{"margin-top":"0",color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"center","font-size":"18px",background:"#f2f2f2",padding:"10px"}},["0"==t.invoice||""==t.invoice||null==t.invoice?e("span",[t._v("Wallet Recharge Receipt")]):e("span",[t._v("Invoice Payment Receipt")])])]),e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between","align-items":"center","padding-bottom":"5px","border-bottom":"1px dashed rgb(217, 216, 216)","margin-bottom":"10px"}},[t.ReceiptData.company_logo?e("img",{staticStyle:{width:"200px"},attrs:{src:t.ReceiptData.company_logo,alt:"Company Logo"}}):t._e(),e("div",{staticClass:"div1",staticStyle:{color:"rgb(0, 0, 0)","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[e("p",{staticStyle:{"font-weight":"600","font-size":"16px"}},[t._v(" "+t._s(t.ReceiptData.company_name)+" ")]),e("p",[t._v(" "+t._s(t.ReceiptData.company_address||"No Address Provided")+" ")]),e("p",[t._v(" "+t._s((t.ReceiptData.company_zipcode||"No Zip Code Provided")+", "+(t.ReceiptData.company_country||"No Country Provided"))+" ")])])]),e("div",{staticStyle:{clear:"both"}}),e("div",{staticClass:"header float-left w-100 p-2 mb-0"},[e("div",{staticClass:"float-left col-md-6 p-0",staticStyle:{color:"rgb(0, 0, 0)","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[e("p",[e("strong",[t._v("Client Name:")]),t._v(" "),e("strong",[t._v(t._s(t.ReceiptData.firstname||"---"))])]),e("p",[e("strong",[t._v("Address:")]),t._v(" "),e("strong",[t._v(t._s(t.address))])])]),e("div",{staticClass:"float-left col-md-6 p-0",staticStyle:{color:"rgb(0, 0, 0)","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",display:"flex","flex-direction":"column",gap:"0px"}},[e("p",{staticClass:"ps",staticStyle:{display:"flex","justify-content":"end","align-items":"center","white-space":"nowrap"}}),t.invoice&&"0"!==t.invoice?e("p",{staticClass:"ps",staticStyle:{display:"flex","justify-content":"end","align-items":"center","white-space":"nowrap"}},[e("b",[t._v("Invoice Number:")]),t._v(" "+t._s(t.ReceiptData.bill_id||"---")+" ")]):t._e()])]),e("div",{staticStyle:{clear:"both"}}),e("table",{staticClass:"table table-bordered mt-0 border mb-2 secondtable"},[e("tbody",[t._m(0),e("tr",[e("td",{staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.ReceiptData.payment_source||"---"))]),e("td",{staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.ReceiptData.txnid||"---"))]),e("td",{staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.ReceiptData.created_at?t.$options.filters.formatDateTime(t.ReceiptData.created_at):"---"))]),e("td",{staticStyle:{"font-family":"Arial, Helvetica, sans-serif","font-size":"1em"},style:{color:t.ReceiptData.status&&"success"===t.ReceiptData.status.toLowerCase()?"green":"red"}},[t._v(" "+t._s(t.ReceiptData.status||"---"))])])])]),e("table",{staticClass:"table table-bordered mt-0 text-right border float-right secondtable",staticStyle:{width:"400px"}},[e("tbody",[e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v("Total Amount")]),e("td",{staticStyle:{"text-align":"right",color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1.20em","font-weight":"600"}},[t._v("Rs "+t._s((parseFloat(t.ReceiptData.previous_payment||0)+parseFloat(t.ReceiptData.amount||0)).toFixed(2)))])])])]),e("div",{staticStyle:{clear:"both"}}),e("p",{staticClass:"mt-1 fw-bold",class:t.isPaymentSuccess?"alert alert-success text-center":"alert alert-danger text-center"},[t.isPaymentSuccess?e("span",[t._v(" Thank you! Your transaction has been processed successfully. ")]):e("span",[t._v(" Your transaction has failed. Please try again. ")])]),e("div",{staticClass:"text-right mt-3 no-print"},[e("button",{staticClass:"btn btn-success mr-2",on:{click:t.PrintPaySlip}},[e("em",{staticClass:"fa fa-print"}),t._v(" Print ")]),e("router-link",{staticClass:"btn btn-danger",attrs:{to:"/ClientBill/InvoiceListing"}},[e("em",{staticClass:"fa fa-close"}),t._v(" Close")])],1)],1)},i=[function(){var t=this,e=t._self._c;return e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)",width:"400px"}},[t._v("Payment Method")]),e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)",width:"400px"}},[t._v("Transaction ID")]),e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)",width:"400px"}},[t._v("Payment Date")]),e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v("Status")])])}],o=a("9769"),n={data(){return{txnid:"",invoice:"",CurrencyCode:"",isLoading:!1,ReceiptData:{},address:""}},computed:{isPaymentSuccess(){if(!this.ReceiptData.status)return!1;const t=this.ReceiptData.status.toLowerCase();return"failed"!==t&&"failure"!==t}},created(){this.CurrencyCode=this.GetUserInfo.Currency.replace(/[()]/g,""),this.invoice=this.$route.query.invoice||"",this.txnid=this.$route.query.txnid||"",this.GetClientReceiptData()},methods:{formatFullAddress(t){return[t.user_address_1,t.user_address_2,t.user_city,t.user_state,t.user_zipcode,t.user_country].filter(t=>t&&""!==t.trim()).join(", ")},PrintPaySlip(){this.$nextTick(()=>{const t=this.$refs.printArea;if(!t)return;const e=t.innerHTML,a=document.createElement("iframe");a.style.position="absolute",a.style.width="0",a.style.height="0",a.style.border="none",document.body.appendChild(a);const s=a.contentWindow.document;s.open(),s.write("<html><head><title>Print</title>"),document.querySelectorAll("style, link[rel='stylesheet']").forEach(t=>s.write(t.outerHTML)),s.write("</head><body>"),s.write(e),s.write("</body></html>"),s.close(),a.contentWindow.focus(),a.contentWindow.print(),setTimeout(()=>a.remove(),500)})},GetClientReceiptData(){this.isLoading=!0;const t="TransactionId="+this.txnid;o["a"].GetClientReceiptData(t).then(t=>{var e;if(!t.data)return this.ReceiptData={},void(this.address="N/A");const a=t=>null!==t&&void 0!==t&&""!==t?t:"";let s={};try{s=t.data.response_Json?JSON.parse(t.data.response_Json):{}}catch(n){console.error("JSON parse error:",n)}if("RazorPay"===this.$route.query.mode){var i;const e=s.Attributes||{};return this.ReceiptData={bill_id:(null===(i=s)||void 0===i||null===(i=i.Attributes)||void 0===i||null===(i=i.notes)||void 0===i?void 0:i.billId)||"---",company_logo:a(t.data.company_Logo),company_name:a(t.data.company_Name),company_address:a(t.data.company_Address),company_city:a(t.data.company_City),company_state:a(t.data.company_State),company_country:a(t.data.company_Country),company_zipcode:a(t.data.company_ZipCode),user_address_1:a(s.user_address_1),user_address_2:a(s.user_address_2),user_city:a(s.user_city),user_state:a(s.user_state),user_zipcode:a(s.user_zipcode),user_country:a(s.user_country),firstname:e.card?e.card.name:"",txnid:this.txnid,amount:e.amount?e.amount/100:0,status:"captured"===e.status?"Success":"Failed",payment_source:"RazorPay",created_at:e.created_at?new Date(1e3*e.created_at):null},void(this.address=this.formatFullAddress(this.ReceiptData)||"N/A")}let o="";s.udf2?o=s.udf2:null!==(e=s)&&void 0!==e&&null!==(e=e.Attributes)&&void 0!==e&&null!==(e=e.notes)&&void 0!==e&&e.billId?o=s.Attributes.notes.billId:(t.data.InvoiceId||s.InvoiceId)&&(o=t.data.InvoiceId||s.InvoiceId),this.ReceiptData={bill_id:o||"---",company_logo:a(t.data.company_Logo),company_name:a(t.data.company_Name),company_address:a(t.data.company_Address),company_city:a(t.data.company_City),company_state:a(t.data.company_State),company_country:a(t.data.company_Country),company_zipcode:a(t.data.company_ZipCode),user_address_1:a(s.user_address_1),user_address_2:a(s.user_address_2),user_city:a(s.user_city),user_state:a(s.user_state),user_zipcode:a(s.user_zipcode),user_country:a(s.user_country),txnid:s.txnid||t.data.transaction_id||"",firstname:a(s.firstname||s.client_name),payment_source:a(s.payment_source),status:a(s.status),amount:null!=s.amount?s.amount:"",created_at:t.data.created_At?new Date(t.data.created_At):null},this.address=this.formatFullAddress(this.ReceiptData)||"N/A"}).catch(t=>{console.error("Error fetching receipt data:",t),this.ReceiptData={},this.address="N/A"}).finally(()=>{this.isLoading=!1})}}},r=n,c=(a("6903"),a("2877")),d=Object(c["a"])(r,s,i,!1,null,"6de33d35",null);e["default"]=d.exports},"45fb":function(t,e,a){var s=a("a28a");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("bdfa705a",s,!0,{sourceMap:!1,shadowMode:!1})},6903:function(t,e,a){"use strict";a("45fb")},a28a:function(t,e,a){var s=a("4bad");e=s(!1),e.push([t.i,"table.secondtable[data-v-6de33d35]{width:100%;border-collapse:collapse;margin-top:10px}table.secondtable td[data-v-6de33d35],table.secondtable th[data-v-6de33d35]{border:1px solid #ddd!important;padding:10px;text-align:left}table.secondtable th[data-v-6de33d35]{background-color:#f4f4f4}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-38bb0ad9.js.map