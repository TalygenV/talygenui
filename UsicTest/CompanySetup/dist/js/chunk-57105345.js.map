{"version":3,"sources":["webpack:///./src/views/ClientBill/ClientBillListing.vue","webpack:///./src/views/ClientBill/ClientBillListingSchema.js","webpack:///./src/views/ClientBill/PaymentHistroy.vue","webpack:///src/views/ClientBill/PaymentHistroy.vue","webpack:///./src/views/ClientBill/PaymentHistroy.vue?0a2d","webpack:///./src/views/ClientBill/PaymentHistroy.vue?e8b5","webpack:///./src/views/ClientBill/PayNow.vue","webpack:///src/views/ClientBill/PayNow.vue","webpack:///./src/views/ClientBill/PayNow.vue?1ce9","webpack:///./src/views/ClientBill/PayNow.vue?d7ad","webpack:///./src/views/Client/ClientDetails/InvoiceHistoryChange.vue","webpack:///src/views/Client/ClientDetails/InvoiceHistoryChange.vue","webpack:///./src/views/Client/ClientDetails/InvoiceHistoryChange.vue?98b6","webpack:///./src/views/Client/ClientDetails/InvoiceHistoryChange.vue?9647","webpack:///src/views/ClientBill/ClientBillListing.vue","webpack:///./src/views/ClientBill/ClientBillListing.vue?72bd","webpack:///./src/views/ClientBill/ClientBillListing.vue?27ff","webpack:///./src/views/Client/ClientDetails/SendBill.vue","webpack:///src/views/Client/ClientDetails/SendBill.vue","webpack:///./src/views/Client/ClientDetails/SendBill.vue?a328","webpack:///./src/views/Client/ClientDetails/SendBill.vue?5bcb"],"names":["render","_vm","this","_c","_self","isInvoice","staticClass","attrs","isLoading","widgets","renderActions","CilentBillListing","Headers","FetchData","SearchSchema","listheaderbuttons","TotalRecords","LegendArray","sortExp","sortBy","$t","on","leftCommonSearch","pagerMethod","actionButtonClick","commonHeaderButtonClick","sortdata","scopedSlots","_u","key","fn","data","column","COLUMN_NAME","class","getStatusClass","row","STATUS_NAME","_v","_s","getStatusLabel","_e","$event","handleEdit","BILL_NUMBER","COMPANY_NAME","openPaymentHistory","$n","BILL_NET_TOTAL","$getLocaleByCurrency","ISO_CODE","CONVERT_AMOUNT","$options","filters","formatDate","CREATED_AT","BILL_DUE_DATE","getInvoiceBillingPeriod","CONVERT_OUTSTANDING_AMOUNT","isAttachment","billId","isPaymentHistory","BillId","isPayment","PaymentData","isInvoiceHistory","isSendBill","InvoiceBillId","isPaySlip","isInvoiceHistoryChange","isTemplate","templatedata","backtoInvoiceList","staticRenderFns","buttons","id","title","href","iconClass","callbackfunction","additionalClass","isdisabled","isvisible","isEnabledOnSelectedRow","fieldName","fieldType","fieldIcon","fieldSearchConditionName","isSearch","value","paramName","listOptions","name","datePickerConfig","formate","async","bindleftCommonSearchdropdown","ths","modulename","filtername","vm","param","response","DataService","GetleftSearchDropdownData","parsedData","clientList","JSON","parse","projectList","state","statusType","invoiceDurationList","length","forEach","item","Name","Id","trim","idValue","split","push","error","console","map","STATUS_ID","STATE_NAME","STATE_ID","Value","closePaymentHistroy","paymentHistoryData","MainInvoiceNumber","formatDateMonth","MainInvoiceIssueDate","MainInvoiceDueDate","MainInvocieAdvacncedRecived","CurrencyCode","MainInvoiceFlatDiscount","MainInvocieNetAmount","formattedAmount","MainInvoiceCompanyIsoCode","paymentList","totalPayments","_l","childInvoice","index","MainNote","PaymentDate","formatAmount","Amount","totalPaid","style","color","outstandingAmount","props","type","Number","computed","toFixed","reduce","sum","payment","created","GetUserInfo","Currency","replace","methods","$parent","params","GetPaymentHistoryPopUp","PaymentLists","dateTimeString","datePart","timePart","day","month","year","date","Date","months","formattedDay","String","getDate","padStart","formattedMonth","getMonth","formattedYear","getFullYear","amount","component","ClosePayment","paymentDetailsData","formatDateM","BILL_ISSUE_DATE","PAID","paymentDate","HAS_MULIPLE_TERMS","paymentTermsData","termsPaymentRow","NOTES","DUE_ON","directives","rawName","DUE_AMOUNT","expression","domProps","target","composing","$set","total_disable_class_bg","IS_FULL_PAYMENT","_q","AMOUNT_RECEIVED","checkAmountReceived","SaveMultipleTerms","IsAlreadyPaid","Notes","RefNo","BillDate","BillMode","$$selectedVal","Array","prototype","filter","call","options","o","selected","val","_value","multiple","SavePartialPayment","isSaving","BillPayNow","invoiceId","BILL_ID","GetInvoicePartailPaymentDetails","then","$","each","paymentTerm","TERM_ID","AMOUNT_RECEIVED_OLD","AMOUNT_RECIEVED","currentDate","billNetTotal","parseFloat","paid","log","Math","abs","ShowAlert","obj","INVOICEID","AMOUNT","DATETIME","SaveInvoicePartialPayment","Status","receiptNumber","receiptRegex","test","amountToPay","previousPaidAmount","nowPaying","result","validateReceiptNumber","amountRecieved","ReferenceNumber","PaymentMode","Close","InvoiceHistoryDetails","bill_history_changed_at","bill_number","bill_to","project_name","bill_issue_date","bill_due_date","bill_net_total","bill_date_from","bill_date_to","bill_due_date_comment","Terms","Template_Name","handleViewBill","components","InvoiceTemplate","fetchData","GetInvoiceHistoryDetails","invoiceId_Enc","invoiceHistoryId_Enc","getInvoiceBillHistoryDetails","textCounter","textCountertlength","comment","moment","format","statusCode","Attachment","PaymentHistroy","PayNow","InvoiceHistory","SendBill","InvoicePaySlip","InvoiceHistoryChange","isPaged","DATA_TYPE","SORTABLE","VISIBLE","DISPLAY_NAME","DISPLAY_ORDER","ClientBillListingSchema","listActions","icon","isDisabled","additionalSpan","pageSize","pageNum","searchCondition","GroupStart","GroupEnd","CurrentPage","TotalPages","noRecords","text","inoviceStats","UserType","Widget","url","GetInvoiceStatistics","durationObj","period","dueObj","dueAmount","receivedObj","amountRecived","vueObj","parmas","GetClientBillListing","settings","isInSlot","TOTAL_RECORDS","ceil","noRecord","OpenPlanDetail","event","mannualBill","DownloadBillList","MarkStatus","BackToList","self","rtnActionArray","actionItem","action","isVisible","STATUS_CODE","handleSendBill","clickPaySlip","handlePayment","handleInvoiceHistory","handleInvoiceHistoryChange","handleAttachment","$router","dateRangeFrom","DATE_RANGE_FROM","dateRangeTo","DATE_RANGE_TO","getAmount","isoCode","getOutstanding","PageSize","PageNumber","searchConditionJson","ConvertJSONToCSV","filename","showHeader","excludeColumns","headerMap","CLIENT_NAME","PROJECT_NAME","PARENT_INVOICE","PAYMENT_CREATED_AT","isArray","headers","Object","keys","filteredHeaders","header","includes","mappedHeaders","rows","mappedHeader","originalHeader","indexOf","cellValue","undefined","join","csvContent","concat","blob","Blob","link","document","createElement","setAttribute","URL","createObjectURL","click","status","selectedBillIds","selectedParicalPaidOrPaid","selectedInvoiceNumber","isSelected","invoiceLabel","unselectLabel","billIds","UpdateStatus","resourcestatus","msg","confirmR","UpdateClientInvoiceStatus","ERROR_CODE","getInvoiceDetails","UserName","form","Subject","subjectError","validateSubject","ref","valid","errors","emails","entry","required","field","email","isEditing","editRecipient","UpdateEmailsArray","addNewRecipient","deleteRecipient","sendMeCopy","staticStyle","_i","$$a","$$el","$$c","checked","$$v","$$i","slice","includePdf","Message","testLength","sendInvoice","Reciepients","SendMeCopy","IncludePdf","UserId","ID","Email","ReportType","ReportName","IsDetail","IsSummary","InvoiceTo","CompanyName","SubModuleCode","TemplateName","editableRecipient","nextId","currentEditingIndex","Send","EMAIL_ID","INVOICE_TO","USER_ID","updateRecipient","invoiceTo","companyName","$refs","emailRecipient","validate","catch","splice","substring","validateEmail","regex","emailString","SendInvoice","stringify","err"],"mappings":"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AAxB,SACA2B,EAAAvC,WAAA,UAAArR,EAAA8T,aAAA,UAAA9T,EAAA8T,aAAA,WAAA9T,EAAA8T,YACA,MACA,sBACAF,EAAAC,WAAA,EACA,MACA,6BACAD,EAAAC,WAAA,EACA,MACA,iBACAD,EAAAC,WAAA,EACA,MAIAH,EAAArO,KAAAuO,KAEAF,GAGAtU,kBAAAuD,EAAAoC,GACA,IAAAf,EAAA,KACA,OAAArB,GACA,iBACAqB,EAAAzD,WAAAwE,GACA,MACA,qBACAf,EAAAuL,eAAAxK,GACA,MACA,qBACAf,EAAA+P,eAAAhP,GACA,MACA,iBACA,KAAAiP,aAAAjP,GACA,MACA,oBACAf,EAAAiQ,cAAAlP,GACA,MACA,2BACAf,EAAAkQ,qBAAAnP,GACA,MACA,iCACAf,EAAAmQ,2BAAApP,GACA,MACA,uBACAf,EAAAoQ,iBAAArP,GACA,QAKAyO,aACA,KAAAa,QAAAhP,KAAA,kBAEAtF,eAAAC,GAEA,OAAAA,EAAA8T,aACA,aACA,6CACA,cACA,6CACA,aACA,6CACA,cACA,4CACA,cACA,4CACA,aACA,6CACA,cACA,4CACA,iBACA,4CACA,cACA,0CACA,aACA,6CACA,mBACA,6CACA,eACA,4CACA,kBACA,0CACA,iBACA,6CACA,kBACA,4CACA,aACA,6CAGA,UACA,6CACA,QACA,iDAIA1T,eAAAJ,GACA,OAAAA,EAAA8T,aACA,aACA,aACA,cACA,iBACA,aACA,aACA,cACA,0BACA,cACA,iBACA,aACA,cACA,cACA,kBACA,iBACA,sBACA,cACA,qBACA,aACA,kBACA,mBACA,iBACA,eACA,eACA,kBACA,uBACA,iBACA,gBACA,kBACA,sBACA,aACA,gBAGA,UACA,gBACA,QACA,OAAA9T,EAAA8T,cAGAzS,wBAAA0D,GACA,MAAAuP,EAAAvP,EAAAwP,gBACArE,IAAAnL,EAAAwP,iBAAApE,OAAA,cACA,GACAqE,EAAAzP,EAAA0P,cACAvE,IAAAnL,EAAA0P,eAAAtE,OAAA,cACA,GACA,SAAAmE,OAAAE,KAEAE,UAAA3P,GACA,MAAA4P,EAAA5P,EAAAjE,SAC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","file":"js/chunk-57105345.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isInvoice)?_c('div',{staticClass:\"ClientBillListing\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('tg-list',{attrs:{\"IsShowAction\":true,\"showCheckBox\":true,\"ModuleName\":\"Billing\",\"listType\":['List'],\"widgets\":_vm.widgets,\"RenderRowActionMethod\":_vm.renderActions,\"SubModuleCode\":\"Billing\",\"IdentityColumn\":\"BILL_ID\",\"ListData\":_vm.CilentBillListing,\"HeaderData\":_vm.Headers,\"callbackfunction\":_vm.FetchData,\"SearchFields\":_vm.SearchSchema,\"HeaderButtons\":_vm.listheaderbuttons,\"TotalRecords\":_vm.TotalRecords,\"ListDataCallBackFunction\":_vm.FetchData,\"LegendArray\":_vm.LegendArray,\"SortExp\":_vm.sortExp,\"SortBy\":_vm.sortBy,\"NorecordfoundText\":_vm.$t('NoRecordfound'),\"isShowHeaderText\":true,\"HeaderText\":_vm.$t('Bills')},on:{\"LeftsearchButtonClick\":_vm.leftCommonSearch,\"PagerButtonClick\":_vm.pagerMethod,\"ActionButtonClick\":_vm.actionButtonClick,\"HeaderButtonClick\":_vm.commonHeaderButtonClick,\"SortdataButtonClick\":_vm.sortdata},scopedSlots:_vm._u([{key:\"slotdata\",fn:function({ data }){return [(data.column.COLUMN_NAME == 'STATUS')?[_c('span',{class:_vm.getStatusClass(data.row),attrs:{\"title\":data.row.STATUS_NAME}},[_vm._v(\" \"+_vm._s(_vm.getStatusLabel(data.row))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'BILL_NUMBER')?[(data.row.STATUS_NAME != 'Paid' && data.row.STATUS_NAME != 'Bad Debt' && data.row.STATUS_NAME != 'Partial Paid' && data.row.STATUS_NAME != 'Cancelled' && data.row.STATUS_NAME !='Cancel')?_c('div',[_c('a',{attrs:{\"href\":\"javascript:;\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){return _vm.handleEdit(data.row)}}},[_vm._v(_vm._s(data.row.BILL_NUMBER))])]):_c('div',[_vm._v(\" \"+_vm._s(data.row.BILL_NUMBER)+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'Company')?[_c('span',[_vm._v(_vm._s(data.row.COMPANY_NAME))])]:_vm._e(),(data.column.COLUMN_NAME == 'BILL_NET_TOTAL')?[_c('a',{attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.openPaymentHistory(data.row)}}},[_c('i',{attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"+_vm._s(_vm.$n(data.row.BILL_NET_TOTAL, \"currency\", _vm.$getLocaleByCurrency(data.row.ISO_CODE)))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'CONVERT_AMOUNT')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.$n(data.row.CONVERT_AMOUNT, \"currency\", _vm.$getLocaleByCurrency(data.row.ISO_CODE)))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'BILL_ISSUE_DATE')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.$options.filters.formatDate(data.row.CREATED_AT))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'BILL_DUE_DATE')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.$options.filters.formatDate(data.row.BILL_DUE_DATE))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'BILLING_PERIOD')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.getInvoiceBillingPeriod(data.row))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'Outstanding')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.$n(data.row.BILL_NET_TOTAL, \"currency\", _vm.$getLocaleByCurrency(data.row.ISO_CODE)))+\" \")])]:_vm._e(),(data.column.COLUMN_NAME == 'CONVERT_OUTSTANDING_AMOUNT')?[_c('span',[_vm._v(\" \"+_vm._s(_vm.$n(data.row.CONVERT_OUTSTANDING_AMOUNT, \"currency\", _vm.$getLocaleByCurrency(data.row.ISO_CODE)))+\" \")])]:_vm._e()]}}],null,false,1425316164)}),(_vm.isAttachment)?_c('Attachment',{attrs:{\"BillId\":_vm.billId}}):_vm._e(),(_vm.isPaymentHistory)?_c('PaymentHistroy',{attrs:{\"BillId\":_vm.BillId}}):_vm._e(),(_vm.isPayment)?_c('PayNow',{attrs:{\"PaymentData\":_vm.PaymentData}}):_vm._e(),(_vm.isInvoiceHistory)?_c('InvoiceHistory',{attrs:{\"BillId\":_vm.BillId}}):_vm._e(),(_vm.isSendBill)?_c('SendBill',{attrs:{\"BillId\":_vm.BillId,\"InvoiceBillId\":_vm.InvoiceBillId}}):_vm._e(),(_vm.isPaySlip)?_c('InvoicePaySlip',{attrs:{\"BillId\":_vm.billId}}):_vm._e(),(_vm.isInvoiceHistoryChange)?_c('InvoiceHistoryChange',{attrs:{\"BillId\":_vm.BillId}}):_vm._e()],1):_c('div',[(_vm.isTemplate)?_c('InvoiceTemplate',{attrs:{\"details\":_vm.templatedata,\"hitFrom\":'MainInvoice'},on:{\"backtoInvoiceList\":_vm.backtoInvoiceList}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import DataService from \"../../services/DataService\";\r\nlet buttons =\r\n    [\r\n\r\n        {\r\n            id: 'manualBillButton',\r\n            title:'manual Bill',\r\n            href: '/ClientBill/Create/0',\r\n            iconClass: 'fa fa-plus',\r\n            callbackfunction: 'mannualBill',\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n\r\n        {\r\n            title: 'Download',\r\n            iconClass: 'fa-download',\r\n            callbackfunction: 'download',\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n        {\r\n            title: 'Mark As Sent',\r\n            iconClass: 'fa-paper-plane',\r\n            callbackfunction: 'markAsSent',\r\n            isEnabledOnSelectedRow: true,\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n        {\r\n            title: 'Mark As Paid',\r\n            iconClass: 'fa fa-money',\r\n            callbackfunction: 'markAsPaid',\r\n            isEnabledOnSelectedRow: true,\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n        {\r\n            title: 'Mark as Disputed',\r\n            iconClass: 'fa fa-gavel',\r\n            callbackfunction: 'markAsDisputed',\r\n            isEnabledOnSelectedRow: true,\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n        {\r\n            title: 'Mark as Bad Debt',\r\n            iconClass: 'fa fa-credit-card-alt',\r\n            callbackfunction: 'markAsBadDebt',\r\n            isEnabledOnSelectedRow: true,\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n        {\r\n            title: 'Mark as Cancelled',\r\n            iconClass: 'fa fa-times',\r\n            callbackfunction: 'markAsCancelled',\r\n            isEnabledOnSelectedRow: true,\r\n            additionalClass: '',\r\n            isdisabled: false,\r\n            isvisible: true,\r\n        },\r\n\r\n    ];\r\nlet SearchSchema = [\r\n    {\r\n        fieldName: 'InvoiceType',\r\n        fieldType: \"radio\",\r\n        fieldIcon: \"fa fa-exclamation-circle\",\r\n        fieldSearchConditionName: [''],\r\n        isSearch: false,\r\n        value: \"\",\r\n        paramName: \"isRecurring\",\r\n        listOptions: [{\r\n            value: '0',\r\n            name: 'Bill'\r\n        }, {\r\n            value: '1',\r\n            name: 'Recurring'\r\n        }]\r\n    },\r\n    {\r\n        fieldName: 'BillNumber',\r\n        fieldType: \"text\",\r\n        fieldIcon: \"fa fa-file\",\r\n        paramName: \"invoiceNum\",\r\n        fieldSearchConditionName: [''],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: \"Client\",\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa fa-user\",\r\n        paramName: \"clientId\",\r\n        fieldSearchConditionName: [''],\r\n        isSearch: false,\r\n        value: '',\r\n        listOptions: []\r\n    },\r\n    {\r\n        fieldName: 'InvoiceBillIssueDate',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-calendar\",\r\n        fieldSearchConditionName: [''],\r\n        paramName: \"stringbillIssueDateFrom\",\r\n        isSearch: false,\r\n        value: \"\",\r\n        datePickerConfig: {\r\n            formate: 'yyyy-mm-dd',\r\n        },\r\n    }, {\r\n        fieldName: 'InvoiceBillIssueDateTo',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-calendar\",\r\n        paramName: \"stringbillIssueDateTo\",\r\n        fieldSearchConditionName: [''],\r\n        isSearch: false,\r\n        value: \"\",\r\n        datePickerConfig: {\r\n            formate: 'yyyy-mm-dd',\r\n        },\r\n    },\r\n\r\n    {\r\n        fieldName: 'InvoiceBillingPeriod',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-clock-o\",\r\n        fieldSearchConditionName: [''],\r\n        paramName: \"timePeriodFrom\",\r\n        isSearch: false,\r\n        value: \"\",\r\n        datePickerConfig: {\r\n            formate: 'yyyy-mm-dd',\r\n        },\r\n    }, {\r\n        fieldName: 'InvoiceBillingPeriodTo',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-clock-o\",\r\n        paramName: \"timePeriodTo\",\r\n        fieldSearchConditionName: [''],\r\n        isSearch: false,\r\n        value: \"\",\r\n        datePickerConfig: {\r\n            formate: 'yyyy-mm-dd',\r\n        },\r\n    },\r\n\r\n    {\r\n        fieldName: 'DueDateFrom',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-calendar\",\r\n        fieldSearchConditionName: [''],\r\n        paramName: \"stringbillDueDateFrom\",\r\n        isSearch: false,\r\n        value: \"\",\r\n        datePickerConfig: {\r\n            formate: 'yyyy-mm-dd',\r\n        },\r\n    }, {\r\n        fieldName: 'DueDateTo',\r\n        fieldType: \"date\",\r\n        fieldIcon: \"fa fa-calendar\",\r\n        paramName: \"stringbillDueDateTo\",\r\n        fieldSearchConditionName: [''],\r\n        isSearch: false,\r\n        value: \"\",\r\n        datePickerConfig: {\r\n            formate: 'yyyy-mm-dd',\r\n        },\r\n    },\r\n\r\n    {\r\n        fieldName: 'InvoiceStatus',\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa fa-circle-o-notch\",\r\n        paramName: \"statusId\",\r\n        fieldSearchConditionName: [\"\"],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: [],\r\n    },\r\n    {\r\n        fieldName: 'Project',\r\n        fieldType: \"ddl-check\",\r\n        fieldIcon: \"fa fa-file-text-o\",\r\n        paramName: \"projectId\",\r\n        fieldSearchConditionName: [\"\"],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: [],\r\n    },\r\n    {\r\n        fieldName: 'STATE',\r\n        fieldType: \"radio\",\r\n        fieldIcon: \"fa fa-database\",\r\n        paramName: \"state\",\r\n        fieldSearchConditionName: [\"\"],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: [],\r\n    },\r\n    {\r\n        fieldName: 'Frequency',\r\n        fieldType: \"radio\",\r\n        fieldIcon: \"fa fa-forumbee\",\r\n        paramName: \"frequency\",\r\n        fieldSearchConditionName: [\"\"],\r\n        isSearch: false,\r\n        value: \"\",\r\n        listOptions: [],\r\n    },\r\n\r\n\r\n];\r\n\r\nasync function bindleftCommonSearchdropdown(ths, modulename, filtername) {\r\n    var vm = ths;\r\n    let param = `reqForm=leftSearch`;\r\n\r\n    try {\r\n        const response = await DataService.GetleftSearchDropdownData(param);\r\n        if (response.data != null) {\r\n            const parsedData = {\r\n                clientList: JSON.parse(response.data.clientList).data,\r\n                projectList: JSON.parse(response.data.projectList).data,\r\n                state: JSON.parse(response.data.state).data,\r\n                statusType: JSON.parse(response.data.statusType).data,\r\n                invoiceDurationList: JSON.parse(response.data.invoiceDurationList)\r\n            };\r\n            if (parsedData.clientList.length > 0) {\r\n                vm.SearchSchema[2].listOptions = [];\r\n                parsedData.clientList.forEach(item => {\r\n                    if (item.Name && item.Id && typeof item.Id === 'string' && item.Id.trim() !== '') {\r\n                        try {\r\n                            const idValue = item.Id.split('^')[0];\r\n                            vm.SearchSchema[2].listOptions.push({\r\n                                name: item.Name,\r\n                                value: idValue\r\n                            });\r\n                        } catch (error) {\r\n                            console.error('Error splitting item.Id for', item, error);\r\n                        }\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n            if (parsedData.statusType.length > 0) {\r\n                vm.SearchSchema[9].listOptions = parsedData.statusType.map(item => ({\r\n                    name: item.STATUS_NAME,\r\n                    value: item.STATUS_ID\r\n                }));\r\n            }\r\n\r\n\r\n            if (parsedData.projectList.length > 0) {\r\n                vm.SearchSchema[10].listOptions = parsedData.projectList.map(item => ({\r\n                    name: item.Name,\r\n                    value: item.Id\r\n                }));\r\n            }\r\n\r\n            if (parsedData.state.length > 0) {\r\n                vm.SearchSchema[11].listOptions = parsedData.state.map(item => ({\r\n                    name: item.STATE_NAME,\r\n                    value: item.STATE_ID\r\n                }));\r\n            }\r\n\r\n\r\n            if (parsedData.invoiceDurationList.length > 0) {\r\n                vm.SearchSchema[12].listOptions = parsedData.invoiceDurationList.map(item => ({\r\n                    name: item.Name,\r\n                    value: item.Value\r\n                }));\r\n            }\r\n        }\r\n    } catch (error) {\r\n        console.error('Error fetching dropdown data:', error);\r\n    }\r\n}\r\n\r\n\r\nexport default { buttons, SearchSchema, bindleftCommonSearchdropdown };","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block dialog\"},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"PaymentHistory\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.closePaymentHistroy}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"card-body float-left p-0 col-12 float-left\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"BillNumber\"))+\": \"+_vm._s(_vm.paymentHistoryData.MainInvoiceNumber))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"IssueDate\"))+\": \"+_vm._s(_vm.formatDateMonth( _vm.paymentHistoryData.MainInvoiceIssueDate )))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"DueDate\"))+\": \"+_vm._s(_vm.formatDateMonth( _vm.paymentHistoryData.MainInvoiceDueDate )))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Advance (PKR): \"),(\n                                                _vm.paymentHistoryData.MainInvocieAdvacncedRecived ==\n                                                0\n                                            )?_c('span',[_vm._v(_vm._s(_vm.$n(0.00 , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode))))]):_vm._e(),(\n                                                _vm.paymentHistoryData.MainInvocieAdvacncedRecived !=\n                                                0\n                                            )?_c('span',[_vm._v(_vm._s(_vm.$n(_vm.paymentHistoryData.MainInvocieAdvacncedRecived , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode))))]):_vm._e()])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Discount Flat Rate (PKR): \"),(\n                                                _vm.paymentHistoryData.MainInvoiceFlatDiscount == 0\n                                            )?_c('span',[_vm._v(_vm._s(_vm.$n(0.00 , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode))))]):_vm._e(),(\n                                                _vm.paymentHistoryData.MainInvoiceFlatDiscount != 0\n                                            )?_c('span',[_vm._v(\" \"+_vm._s(_vm.$n(_vm.paymentHistoryData.MainInvoiceFlatDiscount , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode))))]):_vm._e()])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Amount (PKR): \"),(!_vm.paymentHistoryData || _vm.paymentHistoryData.MainInvocieNetAmount == 0)?_c('span',[_vm._v(\"0.00\")]):_c('span',[_vm._v(_vm._s(_vm.$n(_vm.formattedAmount , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode))))])])])])]),_c('div',{staticClass:\"listing\"},[_c('div',{staticClass:\"table-responsive table-fix-header\"},[_c('table',{staticClass:\"table-sorting table table-bordered my-0\",attrs:{\"id\":\"maintable\"}},[_c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',{attrs:{\"width\":\"30%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Notes\")))])]),_c('th',{attrs:{\"width\":\"20%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"PaymentDate\")))])]),_c('th',{staticClass:\"text-right\",attrs:{\"width\":\"20%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Amount\"))+\" (\"+_vm._s(_vm.paymentHistoryData.MainInvoiceCompanyIsoCode)+\")\")])]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"30%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Action\")))])])])]),_c('tbody',[(!_vm.paymentList || _vm.paymentList.length == 0)?_c('tr',[_c('td',{staticClass:\"text-center text-danger\",attrs:{\"colspan\":\"4\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"NoPaymentFound\"))+\" \")])]):(\n                                                _vm.paymentList &&\n                                                _vm.paymentList.length > 0 &&\n                                                _vm.totalPayments < _vm.MainInvocieNetAmount\n                                            )?_vm._l((_vm.paymentList),function(childInvoice,index){return _c('tr',{key:index,staticClass:\"myrow\"},[_c('td',[_c('span',[_vm._v(_vm._s(childInvoice.MainNote))])]),_c('td',[_c('span',[_vm._v(_vm._s(_vm.formatDateMonth(childInvoice.PaymentDate)))])]),_c('td',{staticClass:\"text-right\"},[_c('span',[_vm._v(_vm._s(_vm.formatAmount(childInvoice.Amount)))])]),_c('td',{staticClass:\"text-center\"})])}):_vm._e()],2),_c('tfoot',[_c('tr',[_c('td'),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"NetAmountPaid\"))+\": \")]),_c('td',{staticClass:\"text-right font-weight-bold\"},[_vm._v(\" \"+_vm._s(_vm.$n(_vm.formatAmount(_vm.totalPaid) , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode)))+\" \")]),_c('td')]),_c('tr',[_c('td'),_c('td',{staticClass:\"text-right\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"OutStandingAmount\"))+\" \")]),_c('td',{staticClass:\"text-right font-weight-bold\"},[_c('span',{style:({\n                                                        color:\n                                                            _vm.outstandingAmount < 0 ? 'green' : 'red',\n                                                    })},[_vm._v(\" \"+_vm._s(_vm.$n(_vm.formatAmount(_vm.outstandingAmount) , 'currency', _vm.$getLocaleByCurrency(_vm.CurrencyCode)))+\" \")])]),_c('td')])])])])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('div',{staticClass:\"col-lg-6 text-right p-0\"},[_c('a',{staticClass:\"btn btn-danger formbtn text-white\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.closePaymentHistroy}},[_c('em',{staticClass:\"fa fa-close pr-2\"}),_vm._v(_vm._s(_vm.$t(\"Cancel\")))])])])])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <transition name=\"modal\">\r\n        <div class=\"my-popups\">\r\n            <loader :is-visible=\"isLoading\"></loader>\r\n            <div class=\"modal d-block dialog\">\r\n                <div class=\"modal-dialog\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header theme-primary partition-full\">\r\n                            <h4 class=\"modal-title\">{{ $t(\"PaymentHistory\") }}</h4>\r\n                            <button type=\"button\" class=\"close\" v-on:click=\"closePaymentHistroy\">\r\n                                <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"modal-body\">\r\n                            <div class=\"card-body float-left p-0 col-12 float-left\">\r\n                                <div class=\"row\">\r\n                                    <div class=\"col-md-4 col-lg-4\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>{{ $t(\"BillNumber\") }}:\r\n                                                {{ paymentHistoryData.MainInvoiceNumber }}</label>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-md-4 col-lg-4\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>{{ $t(\"IssueDate\") }}:\r\n                                                {{\r\n                                                    formatDateMonth(\r\n                                                        paymentHistoryData.MainInvoiceIssueDate\r\n                                                    )\r\n                                                }}</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4 col-lg-4\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>{{ $t(\"DueDate\") }}:\r\n                                                {{\r\n                                                    formatDateMonth(\r\n                                                        paymentHistoryData.MainInvoiceDueDate\r\n                                                    )\r\n                                                }}</label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4 col-lg-4\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Advance (PKR):\r\n                                                <span v-if=\"\r\n                                                    paymentHistoryData.MainInvocieAdvacncedRecived ==\r\n                                                    0\r\n                                                \">{{ $n(0.00 , 'currency', $getLocaleByCurrency(CurrencyCode)) }}</span>\r\n                                                <span v-if=\"\r\n                                                    paymentHistoryData.MainInvocieAdvacncedRecived !=\r\n                                                    0\r\n                                                \">{{ $n(paymentHistoryData.MainInvocieAdvacncedRecived , 'currency', $getLocaleByCurrency(CurrencyCode)) }}</span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4 col-lg-4\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Discount Flat Rate (PKR):\r\n                                                <span v-if=\"\r\n                                                    paymentHistoryData.MainInvoiceFlatDiscount == 0\r\n                                                \">{{ $n(0.00 , 'currency', $getLocaleByCurrency(CurrencyCode)) }}</span>\r\n                                                <span v-if=\"\r\n                                                    paymentHistoryData.MainInvoiceFlatDiscount != 0\r\n                                                \"> {{ $n(paymentHistoryData.MainInvoiceFlatDiscount , 'currency', $getLocaleByCurrency(CurrencyCode)) }}</span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"col-md-4 col-lg-4\">\r\n                                        <div class=\"form-group\">\r\n                                            <label>Amount (PKR):\r\n                                                <span\r\n                                                    v-if=\"!paymentHistoryData || paymentHistoryData.MainInvocieNetAmount == 0\">0.00</span>\r\n                                                <span v-else>{{ $n(formattedAmount , 'currency', $getLocaleByCurrency(CurrencyCode)) }}</span>\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"listing\">\r\n                                    <div class=\"table-responsive table-fix-header\">\r\n                                        <table id=\"maintable\" class=\"table-sorting table table-bordered my-0\">\r\n                                            <thead class=\"thead-light\">\r\n                                                <tr>\r\n                                                    <th width=\"30%\">\r\n                                                        <span>{{ $t(\"Notes\") }}</span>\r\n                                                    </th>\r\n                                                    <th width=\"20%\">\r\n                                                        <span>{{ $t(\"PaymentDate\") }}</span>\r\n                                                    </th>\r\n                                                    <th width=\"20%\" class=\"text-right\">\r\n                                                        <span>{{ $t(\"Amount\") }} ({{\r\n                                                            paymentHistoryData.MainInvoiceCompanyIsoCode\r\n                                                        }})</span>\r\n                                                    </th>\r\n                                                    <th width=\"30%\" class=\"text-center\">\r\n                                                        <span>{{ $t(\"Action\") }}</span>\r\n                                                    </th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody>\r\n                                                <tr v-if=\"!paymentList || paymentList.length == 0\">\r\n                                                    <td colspan=\"4\" class=\"text-center text-danger\">\r\n                                                        {{ $t(\"NoPaymentFound\") }}\r\n                                                    </td>\r\n                                                </tr>\r\n                                                <!-- Check if payment list is available -->\r\n                                                <tr v-else-if=\"\r\n                                                    paymentList &&\r\n                                                    paymentList.length > 0 &&\r\n                                                    totalPayments < MainInvocieNetAmount\r\n                                                \" v-for=\"(childInvoice, index) in paymentList\" :key=\"index\"\r\n                                                    class=\"myrow\">\r\n                                                    <td>\r\n                                                        <span>{{ childInvoice.MainNote }}</span>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <span>{{\r\n                                                            formatDateMonth(childInvoice.PaymentDate)\r\n                                                        }}</span>\r\n                                                    </td>\r\n                                                    <td class=\"text-right\">\r\n                                                        <span>{{\r\n                                                            formatAmount(childInvoice.Amount)\r\n                                                        }}</span>\r\n                                                    </td>\r\n                                                    <td class=\"text-center\">\r\n                                                        <!-- <a v-if=\"userType !== 'CL'\" href=\"javascript:;\" class=\"pay_hist_edit EditAnchor\" title=\"Edit\">\r\n                                                                <i class=\"fa fa-pencil text-success action-icon\"></i>\r\n                                                                </a>\r\n                                                                <a v-if=\"userType !== 'CL'\" href=\"javascript:;\" class=\"pay_hist_update UpdateAnchor\" style=\"display: none\" title=\"Update\">\r\n                                                                <i class=\"fa fa-clock-o text-secondary action-icon\"></i>\r\n                                                                </a>\r\n                                                                <a v-if=\"userType !== 'CL'\" href=\"javascript:;\" class=\"pay_hist_cancel UpdateCancelAnchor\" style=\"display: none\" title=\"Cancel\">\r\n                                                                <i class=\"fa fa-trash text-danger action-icon\"></i>\r\n                                                                </a> -->\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                            <tfoot>\r\n                                                <tr>\r\n                                                    <td></td>\r\n                                                    <td class=\"text-right\">\r\n                                                        {{ $t(\"NetAmountPaid\") }}:\r\n                                                    </td>\r\n                                                    <td class=\"text-right font-weight-bold\">\r\n                                                             {{ $n(formatAmount(totalPaid) , 'currency', $getLocaleByCurrency(CurrencyCode)) }}\r\n                                                    </td>\r\n                                                    <td></td>\r\n                                                </tr>\r\n                                                <tr>\r\n                                                    <td></td>\r\n                                                    <td class=\"text-right\">\r\n                                                        {{ $t(\"OutStandingAmount\") }}\r\n                                                    </td>\r\n                                                    <td class=\"text-right font-weight-bold\">\r\n                                                        <span :style=\"{\r\n                                                            color:\r\n                                                                outstandingAmount < 0 ? 'green' : 'red',\r\n                                                        }\">\r\n                                                     {{ $n(formatAmount(outstandingAmount) , 'currency', $getLocaleByCurrency(CurrencyCode)) }} \r\n                                                        </span>\r\n                                                    </td>\r\n                                                    <td></td>\r\n                                                </tr>\r\n                                            </tfoot>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"modal-footer\">\r\n                            <div class=\"col-lg-6 text-right p-0\">\r\n                                <a href=\"javascript:;\" class=\"btn btn-danger formbtn text-white\"\r\n                                    v-on:click=\"closePaymentHistroy\"><em class=\"fa fa-close pr-2\"></em>{{ $t(\"Cancel\")\r\n                                    }}</a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </transition>\r\n</template>\r\n<script>\r\nimport DataService from '../../services/DataService';\r\nexport default {\r\n\r\n    props: {\r\n        BillId: {\r\n            type: Number,\r\n        },\r\n\r\n    },\r\n    computed: {\r\n        formattedAmount() {\r\n            return this.paymentHistoryData.MainInvocieNetAmount.toFixed(2);\r\n        }\r\n        ,\r\n        totalPaid() {\r\n            return this.paymentList.reduce((sum, payment) => sum + payment.Amount, 0);\r\n        },\r\n        outstandingAmount() {\r\n            return this.MainInvocieNetAmount - this.totalPaid;\r\n        },\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            paymentHistoryData: [],\r\n            paymentList: [],\r\n            MainInvocieNetAmount: 0,\r\n            totalPayments: 0,\r\n            CurrencyCode: 'PKR'\r\n        }\r\n    },\r\n    created() {\r\n        var vm =this;\r\n        this.openPaymentHistory();\r\n        vm.CurrencyCode = vm.GetUserInfo.Currency.replace(/[()]/g, '');\r\n\r\n    },\r\n    methods: {\r\n        closePaymentHistroy() {\r\n            this.$parent.isPaymentHistory = false\r\n        },\r\n        async openPaymentHistory() {\r\n            debugger;\r\n            const vm = this;\r\n            const params = `invoiceId=${this.BillId}`;\r\n            try {\r\n                const response = await DataService.GetPaymentHistoryPopUp(params);\r\n                if (response.data) {\r\n                    vm.paymentHistoryData = response.data;\r\n                    vm.paymentList = response.data.PaymentLists;\r\n                    vm.MainInvocieNetAmount = response.data.MainInvocieNetAmount;\r\n                    vm.totalPayments = vm.paymentList.reduce((sum, payment) => sum + payment.Amount, 0);\r\n                } else {\r\n                    vm.paymentHistoryData = [];\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching payment history:', error);\r\n\r\n            }\r\n        },\r\n        formatDateMonth(dateTimeString) {\r\n            if (!dateTimeString) return \"\";\r\n            //debugger;\r\n            const [datePart, timePart] = dateTimeString.split(\" \"); // ['06-11-2024', '06:00:09']\r\n            const [day, month, year] = datePart.split(\"-\"); // ['06', '11', '2024']\r\n            const date = new Date(`${year}-${month}-${day}T00:00:00`);\r\n            const months = [\r\n                \"Jan\",\r\n                \"Feb\",\r\n                \"Mar\",\r\n                \"Apr\",\r\n                \"May\",\r\n                \"Jun\",\r\n                \"Jul\",\r\n                \"Aug\",\r\n                \"Sep\",\r\n                \"Oct\",\r\n                \"Nov\",\r\n                \"Dec\",\r\n            ];\r\n            const formattedDay = String(date.getDate()).padStart(2, \"0\");\r\n            const formattedMonth = months[date.getMonth()];\r\n            const formattedYear = date.getFullYear();\r\n            return `${formattedMonth}-${formattedDay}-${formattedYear}`;\r\n        },\r\n        formatAmount(amount) {\r\n            debugger;\r\n            return amount.toFixed(2);\r\n\r\n        },\r\n    },\r\n}\r\n</script>\r\n<style lang=\"\">\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentHistroy.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentHistroy.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PaymentHistroy.vue?vue&type=template&id=24692211\"\nimport script from \"./PaymentHistroy.vue?vue&type=script&lang=js\"\nexport * from \"./PaymentHistroy.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('transition',{attrs:{\"name\":\"modal\"}},[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block dialog\"},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full\"},[_c('h4',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"Payment\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.ClosePayment}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"card-body float-left p-0 col-12 float-left\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"BillNumber\"))+\": \"+_vm._s(_vm.paymentDetailsData[0].BILL_NUMBER))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"IssueDate\"))+\": \"+_vm._s(_vm.formatDateM(_vm.paymentDetailsData[0].BILL_ISSUE_DATE)))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"DueDate\"))+\": \"+_vm._s(_vm.formatDateM(_vm.paymentDetailsData[0].BILL_DUE_DATE)))])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Total Amount (\"+_vm._s(_vm.paymentDetailsData[0].ISO_CODE)+\"): \"),(_vm.paymentDetailsData[0].BILL_NET_TOTAL == 0)?_c('span',[_vm._v(\"0.00\")]):_vm._e(),(_vm.paymentDetailsData[0].BILL_NET_TOTAL != 0)?_c('span',[_vm._v(\" \"+_vm._s(_vm.$n(_vm.paymentDetailsData[0].BILL_NET_TOTAL, \"currency\", _vm.$getLocaleByCurrency(_vm.paymentDetailsData[0].ISO_CODE))))]):_vm._e()])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Paid Amount Till Now (\"+_vm._s(_vm.paymentDetailsData[0].ISO_CODE)+\"): \"),(_vm.paymentDetailsData[0].PAID>0)?_c('span',[_vm._v(_vm._s(_vm.$n(_vm.paymentDetailsData[0].PAID, \"currency\", _vm.$getLocaleByCurrency(_vm.paymentDetailsData[0].ISO_CODE))))]):_c('span',[_vm._v(\"0.00\")])])])]),_c('div',{staticClass:\"col-md-4 col-lg-4\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(\"Payment Date:\")]),_c('span',[_vm._v(\" \"+_vm._s(_vm.paymentDate)+\" \")])])]),_c('div',{staticClass:\"clearfix\"}),(_vm.paymentDetailsData[0].HAS_MULIPLE_TERMS)?_c('div',{staticClass:\"listing mt-2 col-lg-12\"},[_c('div',{staticClass:\"table-responsive table-fix-header\"},[_c('table',{staticClass:\"table-sorting table table-bordered my-0\",attrs:{\"id\":\"maintable\"}},[_c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',{attrs:{\"width\":\"25%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Notes\")))])]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"20%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Due Date\"))+\" \")])]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"20%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Due Amount\"))+\" (\"+_vm._s(_vm.paymentTermsData[0].ISO_CODE)+\")\")])]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"20%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Mark Payment\")))])]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"15%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Action\")))])])])]),_c('tbody',[(\r\n                                !_vm.paymentTermsData ||\r\n                                _vm.paymentTermsData.length == 0\r\n                              )?_c('tr',[_c('td',{staticClass:\"text-center text-danger\",attrs:{\"colspan\":\"5\"}},[_vm._v(\" \"+_vm._s(_vm.$t(\"NoPaymentFound\"))+\" \")])]):(\r\n                                _vm.paymentTermsData && _vm.paymentTermsData.length > 0\r\n                              )?_vm._l((_vm.paymentTermsData),function(termsPaymentRow,index){return _c('tr',{key:index,staticClass:\"myrow\"},[_c('td',[_c('span',[_vm._v(_vm._s(termsPaymentRow.NOTES)+\" \")])]),_c('td',{staticClass:\"text-center\"},[_c('span',[_vm._v(_vm._s(_vm.formatDateM(termsPaymentRow.DUE_ON))+\" \")])]),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(termsPaymentRow.DUE_AMOUNT),expression:\"termsPaymentRow.DUE_AMOUNT\"}],staticClass:\"form-control\",attrs:{\"id\":\"txtduedamount\",\"maxlength\":\"12\",\"readonly\":\"\"},domProps:{\"value\":(termsPaymentRow.DUE_AMOUNT)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(termsPaymentRow, \"DUE_AMOUNT\", $event.target.value)}}})]),_c('td',[_c('label',{staticClass:\"mr-2\",class:{\r\n                                    total_disable_class_bg:\r\n                                      termsPaymentRow.DUE_AMOUNT === 0.0\r\n                                  }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(termsPaymentRow.IS_FULL_PAYMENT),expression:\"termsPaymentRow.IS_FULL_PAYMENT\"}],attrs:{\"type\":\"radio\",\"value\":\"1\"},domProps:{\"checked\":termsPaymentRow.IS_FULL_PAYMENT === '1',\"checked\":_vm._q(termsPaymentRow.IS_FULL_PAYMENT,\"1\")},on:{\"change\":function($event){return _vm.$set(termsPaymentRow, \"IS_FULL_PAYMENT\", \"1\")}}}),_vm._v(\" Full Payment \")]),_c('label',{class:{\r\n                                    total_disable_class_bg:\r\n                                      termsPaymentRow.DUE_AMOUNT === 0.0\r\n                                  }},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(termsPaymentRow.IS_FULL_PAYMENT),expression:\"termsPaymentRow.IS_FULL_PAYMENT\"}],attrs:{\"type\":\"radio\",\"value\":\"0\"},domProps:{\"checked\":termsPaymentRow.IS_FULL_PAYMENT === '0',\"checked\":_vm._q(termsPaymentRow.IS_FULL_PAYMENT,\"0\")},on:{\"change\":function($event){return _vm.$set(termsPaymentRow, \"IS_FULL_PAYMENT\", \"0\")}}}),_vm._v(\" Partial \")]),(termsPaymentRow.IS_FULL_PAYMENT === '0')?_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(termsPaymentRow.AMOUNT_RECEIVED),expression:\"termsPaymentRow.AMOUNT_RECEIVED\"}],staticClass:\"form-control\",class:{\r\n                                    total_disable_class_bg:\r\n                                      termsPaymentRow.DUE_AMOUNT === 0.0\r\n                                  },attrs:{\"type\":\"number\",\"id\":\"txtrecivedamount\",\"maxlength\":\"12\"},domProps:{\"value\":(termsPaymentRow.AMOUNT_RECEIVED)},on:{\"blur\":function($event){return _vm.checkAmountReceived(termsPaymentRow)},\"input\":function($event){if($event.target.composing)return;_vm.$set(termsPaymentRow, \"AMOUNT_RECEIVED\", $event.target.value)}}})]):_vm._e()]),_c('td',{staticClass:\"text-center\"},[_c('div',{staticClass:\"col-lg-12\"},[(_vm.paymentDetailsData[0].HAS_MULIPLE_TERMS)?_c('div',[_c('span',{attrs:{\"id\":\"submitField\"}},[_c('a',{staticClass:\"submitbtn btn btn-success\",class:{\r\n                                          total_disable_class_bg:\r\n                                            termsPaymentRow.DUE_AMOUNT === 0.0,\r\n                                        },attrs:{\"id\":\"SaveMultipleTerms\",\"title\":\"Save\",\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.SaveMultipleTerms(termsPaymentRow)}}},[_c('i',{staticClass:\"fa fa-save pr-2\"}),_vm._v(\"Save\")])])]):_vm._e()])])])}):_vm._e()],2)])])]):_vm._e(),(!_vm.paymentDetailsData[0].HAS_MULIPLE_TERMS && _vm.IsAlreadyPaid==false)?_c('div',{staticClass:\"listing mt-2 col-lg-12\"},[_c('div',{staticClass:\"table-responsive table-fix-header\"},[_c('table',{staticClass:\"table-sorting table table-bordered my-0\",attrs:{\"id\":\"maintable\"}},[_c('thead',{staticClass:\"thead-light\"},[_c('tr',[_c('th',{attrs:{\"width\":\"25%\"}},[_c('label',{staticClass:\"float-left\"},[_vm._v(\"Notes:\")]),_c('span',{staticClass:\"mandatory float-left\"},[_vm._v(\"*\")])]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"15%\"}},[_c('label',{staticClass:\"float-left\"},[_vm._v(\"Amount:\")]),_c('span',{staticClass:\"mandatory float-left\"},[_vm._v(\"*\")])]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"15%\"}},[_c('label',{staticClass:\"float-left\"},[_vm._v(\"Refrence number:\")]),_c('span',{staticClass:\"mandatory float-left\"},[_vm._v(\"*\")])]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"15%\"}},[_c('label',{staticClass:\"float-left\"},[_vm._v(\"Bill Date:\")]),_c('span',{staticClass:\"mandatory float-left\"},[_vm._v(\"*\")])]),_c('th',{staticClass:\"text-left\",attrs:{\"width\":\"15%\"}},[_c('label',{staticClass:\"float-left\"},[_vm._v(\"Payment Mode:\")]),_c('span',{staticClass:\"mandatory float-left\"},[_vm._v(\"*\")])]),_c('th',{staticClass:\"text-center\",attrs:{\"width\":\"15%\"}},[_c('span',[_vm._v(_vm._s(_vm.$t(\"Action\")))])])])]),_c('tbody',[_c('tr',[_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Notes),expression:\"Notes\"}],staticClass:\"form-control\",attrs:{\"name\":\"Notes\",\"id\":\"txtNotes\",\"rows\":\"2\",\"cols\":\"100\"},domProps:{\"value\":(_vm.Notes)},on:{\"input\":function($event){if($event.target.composing)return;_vm.Notes=$event.target.value}}})]),_c('td',[(_vm.paymentDetailsData.length > 0 && (_vm.paymentDetailsData[0].BILL_NET_TOTAL || 0) - (_vm.paymentDetailsData[0].PAID || 0) <= 0)?_c('span',{staticClass:\"fullPaid\"},[_vm._v(\"Paid\")]):_c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"txtamount\",\"onkeypress\":\"return event.key !== '-' && this.value.length < 12\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing)return;_vm.amount=$event.target.value}}})])]),_c('td',[_c('span',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.RefNo),expression:\"RefNo\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"txtamount\",\"maxlength\":\"18\"},domProps:{\"value\":(_vm.RefNo)},on:{\"input\":function($event){if($event.target.composing)return;_vm.RefNo=$event.target.value}}})])]),_c('td',[_c('span',[_vm._v(_vm._s(_vm.BillDate))])]),_c('td',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.BillMode),expression:\"BillMode\"}],staticClass:\"form-control\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.BillMode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"Cash\"}},[_vm._v(\"Cash\")]),_c('option',{attrs:{\"value\":\"Cheque\"}},[_vm._v(\"Cheque\")]),_c('option',{attrs:{\"value\":\"Online\"}},[_vm._v(\"Online\")]),_c('option',{attrs:{\"value\":\"DD\"}},[_vm._v(\"DD\")])])]),_c('td',{staticClass:\"text-center\"},[_c('div',{staticClass:\"col-lg-12\"},[(!_vm.paymentDetailsData[0].HAS_MULIPLE_TERMS)?_c('a',{staticClass:\"submitbtn btn btn-success mr-2\",attrs:{\"id\":\"MakePartialPay\",\"title\":\"Save\",\"href\":\"javascript:;\"},on:{\"click\":_vm.SavePartialPayment}},[_c('i',{staticClass:\"fa fa-save pr-2\"}),_vm._v(\"Save\")]):_vm._e()])])])])])])]):_vm._e(),(_vm.IsAlreadyPaid==true)?_c('div',{staticClass:\"mt-2 col-lg-12\"},[_c('div',{staticClass:\"alert alert-danger text-center\",attrs:{\"role\":\"alert\"}},[_vm._v(\" \"+_vm._s(_vm.$t('InvoiceAlreadyPaid'))+\" \")])]):_vm._e(),_c('div',{staticClass:\"col-lg-12 text-right mt-3\"},[_c('a',{staticClass:\"btn btn-danger formbtn text-white\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":_vm.ClosePayment}},[_c('em',{staticClass:\"fa fa-close pr-2\"}),_vm._v(_vm._s(_vm.$t(\"Cancel\")))])])])])])])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<transition name=\"modal\">\r\n      <div class=\"my-popups\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <div class=\"modal d-block dialog\">\r\n          <div class=\"modal-dialog\">\r\n            <div class=\"modal-content\">\r\n              <div class=\"modal-header theme-primary partition-full\">\r\n                <h4 class=\"modal-title\">{{ $t(\"Payment\") }}</h4>\r\n                <button type=\"button\" class=\"close\" v-on:click=\"ClosePayment\">\r\n                  <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                </button>\r\n              </div>\r\n              <div class=\"modal-body\">\r\n                <div class=\"card-body float-left p-0 col-12 float-left\">\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-4 col-lg-4\">\r\n                      <div class=\"form-group\">\r\n                        <label>{{ $t(\"BillNumber\") }}:\r\n                          {{ paymentDetailsData[0].BILL_NUMBER }}</label>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-4 col-lg-4\">\r\n                      <div class=\"form-group\">\r\n                        <label>{{ $t(\"IssueDate\") }}:\r\n                          {{\r\n                          formatDateM(paymentDetailsData[0].BILL_ISSUE_DATE)\r\n                          }}</label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 col-lg-4\">\r\n                      <div class=\"form-group\">\r\n                        <label>{{ $t(\"DueDate\") }}:\r\n                          {{\r\n                          formatDateM(paymentDetailsData[0].BILL_DUE_DATE)\r\n                          }}</label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 col-lg-4\">\r\n                      <div class=\"form-group\">\r\n                        <label>Total Amount ({{ paymentDetailsData[0].ISO_CODE }}):\r\n                          <span v-if=\"paymentDetailsData[0].BILL_NET_TOTAL == 0\">0.00</span>\r\n                           <span v-if=\"paymentDetailsData[0].BILL_NET_TOTAL != 0\"> {{ $n(paymentDetailsData[0].BILL_NET_TOTAL, \"currency\", $getLocaleByCurrency(paymentDetailsData[0].ISO_CODE))}}</span>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-4 col-lg-4\">\r\n                      <div class=\"form-group\">\r\n                        <label>Paid Amount Till Now ({{\r\n                          paymentDetailsData[0].ISO_CODE\r\n                          }}):\r\n                            <span v-if=\"paymentDetailsData[0].PAID>0\">{{ $n(paymentDetailsData[0].PAID, \"currency\", $getLocaleByCurrency(paymentDetailsData[0].ISO_CODE))}}</span>\r\n                            <span v-else\r\n                            >0.00</span>\r\n                        </label>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-4 col-lg-4\">\r\n                      <div class=\"form-group\">\r\n                        <label>Payment Date:</label>\r\n                        <span> {{ paymentDate }} </span>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <!-- \r\n                                     <div class=\"clearfix\"></div>\r\n                                         <div class=\"col-lg-12\">\r\n                                        <label>Payment Date:<span class=\"mandatory\">*</span></label>\r\n                                       <input id=\"PaymentDate\" class=\"form-control\" v-model=\"paymentDate\" readonly/>\r\n                                     </div> -->\r\n\r\n                    <div class=\"clearfix\"></div>\r\n\r\n                    <div class=\"listing mt-2 col-lg-12\" v-if=\"paymentDetailsData[0].HAS_MULIPLE_TERMS\">\r\n                      <div class=\"table-responsive table-fix-header\">\r\n                        <table id=\"maintable\" class=\"table-sorting table table-bordered my-0\">\r\n                          <thead class=\"thead-light\">\r\n                            <tr>\r\n                              <th width=\"25%\">\r\n                                <span>{{ $t(\"Notes\") }}</span>\r\n                              </th>\r\n                              <th width=\"20%\" class=\"text-center\">\r\n                                <span>{{ $t(\"Due Date\") }} </span>\r\n                              </th>\r\n                              <th width=\"20%\" class=\"text-left\">\r\n                                <span>{{ $t(\"Due Amount\") }} ({{\r\n                                  paymentTermsData[0].ISO_CODE\r\n                                  }})</span>\r\n                              </th>\r\n                              <th width=\"20%\" class=\"text-left\">\r\n                                <span>{{ $t(\"Mark Payment\") }}</span>\r\n                              </th>\r\n                              <th width=\"15%\" class=\"text-center\">\r\n                                <span>{{ $t(\"Action\") }}</span>\r\n                              </th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <tr v-if=\"\r\n                                !paymentTermsData ||\r\n                                paymentTermsData.length == 0\r\n                              \">\r\n                              <td colspan=\"5\" class=\"text-center text-danger\">\r\n                                {{ $t(\"NoPaymentFound\") }}\r\n                              </td>\r\n                            </tr>\r\n                            <!-- Check if payment list is available -->\r\n                            <tr v-else-if=\"\r\n                                paymentTermsData && paymentTermsData.length > 0\r\n                              \" v-for=\"(\r\n                                termsPaymentRow, index\r\n                              ) in paymentTermsData\" :key=\"index\" class=\"myrow\">\r\n                              <td>\r\n                                <span>{{ termsPaymentRow.NOTES }} </span>\r\n                              </td>\r\n                              <td class=\"text-center\">\r\n                                <span>{{ formatDateM(termsPaymentRow.DUE_ON) }}\r\n                                </span>\r\n                              </td>\r\n                              <td>\r\n                                <input class=\"form-control\" id=\"txtduedamount\" v-model=\"termsPaymentRow.DUE_AMOUNT\"\r\n                                  maxlength=\"12\" readonly />\r\n                              </td>\r\n                              <td>\r\n                                <label class=\"mr-2\" :class=\"{\r\n                                    total_disable_class_bg:\r\n                                      termsPaymentRow.DUE_AMOUNT === 0.0\r\n                                  }\">\r\n                                  <input type=\"radio\" value=\"1\" v-model=\"termsPaymentRow.IS_FULL_PAYMENT\" :checked=\"\r\n                                      termsPaymentRow.IS_FULL_PAYMENT === '1'\r\n                                    \" />\r\n                                  Full Payment\r\n                                </label>\r\n                                <label :class=\"{\r\n                                    total_disable_class_bg:\r\n                                      termsPaymentRow.DUE_AMOUNT === 0.0\r\n                                  }\">\r\n                                  <input type=\"radio\" value=\"0\" v-model=\"termsPaymentRow.IS_FULL_PAYMENT\" :checked=\"\r\n                                      termsPaymentRow.IS_FULL_PAYMENT === '0'\r\n                                    \" />\r\n                                  Partial\r\n                                </label>\r\n\r\n                                <div v-if=\"termsPaymentRow.IS_FULL_PAYMENT === '0'\">\r\n                                  <input type=\"number\" class=\"form-control\" id=\"txtrecivedamount\"\r\n                                    v-model=\"termsPaymentRow.AMOUNT_RECEIVED\" maxlength=\"12\"\r\n                                    @blur=\"checkAmountReceived(termsPaymentRow)\" :class=\"{\r\n                                    total_disable_class_bg:\r\n                                      termsPaymentRow.DUE_AMOUNT === 0.0\r\n                                  }\" />\r\n                                </div>\r\n                              </td>\r\n                              <td class=\"text-center\">\r\n                                <div class=\"col-lg-12\">\r\n                                  <div v-if=\"paymentDetailsData[0].HAS_MULIPLE_TERMS\">\r\n                                    <span id=\"submitField\">\r\n                                      <a id=\"SaveMultipleTerms\" title=\"Save\" :class=\"{\r\n                                          total_disable_class_bg:\r\n                                            termsPaymentRow.DUE_AMOUNT === 0.0,\r\n                                        }\" @click=\"\r\n                                          SaveMultipleTerms(termsPaymentRow)\r\n                                        \" class=\"submitbtn btn btn-success\" href=\"javascript:;\"><i\r\n                                          class=\"fa fa-save pr-2\"></i>Save</a>\r\n                                    </span>\r\n                                  </div>\r\n\r\n                                  <!-- @*<a class=\"btn btn-danger text-white\" id=\"PartialPopupCancel\" title=\"@Resources.Cancel\"><i class=\"fa fa-close pr-2\"></i>@Resources.Cancel</a>*@ -->\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div class=\"listing mt-2 col-lg-12\" v-if=\"!paymentDetailsData[0].HAS_MULIPLE_TERMS && IsAlreadyPaid==false\">\r\n                      <div class=\"table-responsive table-fix-header\">\r\n                        <table id=\"maintable\" class=\"table-sorting table table-bordered my-0\">\r\n                          <thead class=\"thead-light\">\r\n                             <tr>\r\n                              <th width=\"25%\">\r\n                               \r\n                                 <label class=\"float-left\">Notes:</label><span class=\"mandatory float-left\">*</span>\r\n                              </th>\r\n\r\n                              <th width=\"15%\" class=\"text-left\">\r\n                                <label class=\"float-left\">Amount:</label><span class=\"mandatory float-left\">*</span>\r\n                              </th>\r\n\r\n                              <th width=\"15%\" class=\"text-left\">\r\n                                <label class=\"float-left\">Refrence number:</label><span class=\"mandatory float-left\">*</span>\r\n                              </th>\r\n\r\n                              <th width=\"15%\" class=\"text-left\">\r\n                                <label class=\"float-left\">Bill Date:</label><span class=\"mandatory float-left\">*</span>\r\n                              </th>\r\n                               <th width=\"15%\" class=\"text-left\">\r\n                                <label class=\"float-left\">Payment Mode:</label><span class=\"mandatory float-left\">*</span>\r\n                              </th>\r\n\r\n                              <th width=\"15%\" class=\"text-center\">\r\n                                <span>{{ $t(\"Action\") }}</span>\r\n                              </th>\r\n                            </tr>\r\n                          </thead>\r\n                          <tbody>\r\n                            <!-- Check if payment list is available -->\r\n                             <tr>\r\n                              <td>\r\n                                <textarea name=\"Notes\" id=\"txtNotes\" v-model=\"Notes\" rows=\"2\" cols=\"100\"\r\n                                  class=\"form-control\" />\r\n                              </td>\r\n\r\n                              <td>\r\n                                <span class=\"fullPaid\"\r\n                                  v-if=\"paymentDetailsData.length > 0 && (paymentDetailsData[0].BILL_NET_TOTAL || 0) - (paymentDetailsData[0].PAID || 0) <= 0\">Paid</span>\r\n                                <span v-else>\r\n                                  <input type=\"number\" class=\"form-control\" id=\"txtamount\" v-model=\"amount\"\r\n                                  onkeypress=\"return event.key !== '-' && this.value.length < 12\" />\r\n                                </span>\r\n                              </td>\r\n                              <td>\r\n                               <span>\r\n                                  <input type=\"text\" class=\"form-control\" id=\"txtamount\" v-model=\"RefNo\"\r\n                                    maxlength=\"18\" />\r\n                                </span>\r\n                              </td>\r\n                               <td>\r\n                              <span>{{BillDate}}</span>\r\n                            </td>\r\n                            <td>\r\n                             <select class=\"form-control\" v-model=\"BillMode\">\r\n                                  <option value=\"Cash\">Cash</option>\r\n                                  <option value=\"Cheque\">Cheque</option>\r\n                                   <option value=\"Online\">Online</option>\r\n                                   <option value=\"DD\">DD</option>\r\n                              </select>                   \r\n                            </td>\r\n                              <td class=\"text-center\">\r\n                                <div class=\"col-lg-12\">\r\n                                  <a v-if=\"!paymentDetailsData[0].HAS_MULIPLE_TERMS\"\r\n                                    id=\"MakePartialPay\" title=\"Save\" @click=\"SavePartialPayment\"\r\n                                    class=\"submitbtn btn btn-success mr-2\" href=\"javascript:;\"><i\r\n                                      class=\"fa fa-save pr-2\"></i>Save</a>\r\n                                </div>\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"mt-2 col-lg-12\" v-if=\"IsAlreadyPaid==true\">\r\n                    <div class=\"alert alert-danger text-center\" role=\"alert\">\r\n                     {{ $t('InvoiceAlreadyPaid') }}\r\n                    </div>\r\n                  </div>\r\n\r\n                    <div class=\"col-lg-12 text-right mt-3\">\r\n                      <a href=\"javascript:;\" class=\"btn btn-danger formbtn text-white\" v-on:click=\"ClosePayment\"><em\r\n                          class=\"fa fa-close pr-2\"></em>{{ $t(\"Cancel\") }}</a>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n</template>\r\n\r\n<script>\r\nimport DataService from \"../../services/DataService\";\r\nexport default {\r\n    props: {\r\n        PaymentData:{\r\n            type:String\r\n        }\r\n    },\r\n    data() {\r\n        return{\r\n            isSaving: false,\r\n            paymentDetailsData: [],\r\n            paymentTermsData: [],\r\n            amount: 0,\r\n            Notes: \"\", // Notes for the payment\r\n            paymentDate: \"\",\r\n            isPaySlip: false,\r\n            BillDate: '',\r\n            BillMode: 'Cash',\r\n            RefNo: 0,\r\n            IsAlreadyPaid: false\r\n        }\r\n    },\r\n    created(){\r\n      var vm = this;\r\n        this.BillPayNow(this.PaymentData);\r\n        vm.BillDate= vm.$options.filters.formatDate(new Date());\r\n    },\r\n    methods:{\r\n        async BillPayNow(item) {\r\n            debugger;\r\n            var vm = this;\r\n            vm.paymentTermsData = [];\r\n            var invoiceId = item.BILL_ID;\r\n            var params = `invoiceId=${invoiceId}`;\r\n            await DataService.GetInvoicePartailPaymentDetails(params).then(function (response) {\r\n                debugger;\r\n                if (response.data) {\r\n                vm.paymentDetailsData = response.data;\r\n                $.each(vm.paymentDetailsData, function (index, value) {\r\n                    var paymentTerm = {\r\n                    BILL_ID: value.BILL_ID,\r\n                    BILL_NUMBER: value.BILL_NUMBER,\r\n                    BILL_ISSUE_DATE: value.BILL_ISSUE_DATE,\r\n                    BILL_DUE_DATE: value.BILL_DUE_DATE,\r\n                    BILL_NET_TOTAL: value.BILL_NET_TOTAL,\r\n                    PAID: value.PAID,\r\n                    ISO_CODE: value.ISO_CODE,\r\n                    HAS_MULIPLE_TERMS: value.HAS_MULIPLE_TERMS,\r\n                    TERM_ID: value.TERM_ID,\r\n                    DUE_ON: value.DUE_ON,\r\n                    DUE_AMOUNT: value.DUE_AMOUNT,\r\n                    NOTES: value.NOTES,\r\n                    IS_FULL_PAYMENT: value.IS_FULL_PAYMENT == 1 ? \"1\" : \"0\", // Default value\r\n                    AMOUNT_RECEIVED: 0.00,\r\n                    AMOUNT_RECEIVED_OLD : value.AMOUNT_RECIEVED,\r\n                    };\r\n                    vm.paymentTermsData.push(paymentTerm);\r\n                });\r\n                //debugger;\r\n                const currentDate = new Date();\r\n\r\n                const day = String(currentDate.getDate()).padStart(2, \"0\"); // Ensure day has two digits\r\n                const month = String(currentDate.getMonth() + 1).padStart(2, \"0\"); // Add 1 to month since it's 0-indexed\r\n                const year = currentDate.getFullYear();\r\n                vm.paymentDate = `${day}-${month}-${year}`;\r\n                  vm.IsAlreadyPaid=false;\r\n                  let billNetTotal = parseFloat(typeof vm.paymentDetailsData[0].BILL_NET_TOTAL === \"string\" ? vm.paymentDetailsData[0].BILL_NET_TOTAL.replace(/,/g, \"\"): vm.paymentDetailsData[0].BILL_NET_TOTAL || 0);\r\n                  let paid = parseFloat(vm.paymentDetailsData[0].PAID || 0);\r\n                  if ((billNetTotal - paid) == 0) {\r\n                    vm.IsAlreadyPaid=true;\r\n                    // vm.ShowAlert(vm.$t('InvoiceAlreadyPaid'),\"warning\", true, vm.$t(\"Alert\"));\r\n                  }\r\n                } else {\r\n                vm.paymentDetailsData = [];\r\n                }\r\n            });\r\n        },\r\n        formatDateM(dateTimeString) {\r\n            if (!dateTimeString) return \"\";\r\n            // Parse the input ISO date string into a JavaScript Date object\r\n            const date = new Date(dateTimeString);\r\n\r\n            // Define month abbreviations\r\n            const months = [\r\n                \"Jan\",\r\n                \"Feb\",\r\n                \"Mar\",\r\n                \"Apr\",\r\n                \"May\",\r\n                \"Jun\",\r\n                \"Jul\",\r\n                \"Aug\",\r\n                \"Sep\",\r\n                \"Oct\",\r\n                \"Nov\",\r\n                \"Dec\",\r\n            ];\r\n\r\n            // Get the month abbreviation, day, and year\r\n            const formattedMonth = months[date.getMonth()]; // 0-based index\r\n            const formattedDay = date.getDate(); // Day without leading zero\r\n            const formattedYear = date.getFullYear(); // Full year\r\n\r\n            // Return the formatted date\r\n            return `${formattedMonth}-${formattedDay}-${formattedYear}`;\r\n        },\r\n       \r\n        ClosePayment: function () {\r\n            var vm = this;\r\n            vm.$parent.isPayment = false;\r\n            vm.paymentDetailsData=[];\r\n            vm.paymentTermsData=[];\r\n        },\r\n        SaveMultipleTerms(termsPaymentRow) {\r\n      var vm = this;\r\n      console.log('IS_FULL_PAYMENT :',termsPaymentRow.IS_FULL_PAYMENT)\r\n      if (termsPaymentRow.IS_FULL_PAYMENT == \"1\") {\r\n        console.log(\"PaymentOption1:\", termsPaymentRow.IS_FULL_PAYMENT);\r\n        if(parseFloat(termsPaymentRow.DUE_AMOUNT) ==parseFloat(termsPaymentRow.AMOUNT_RECEIVED_OLD))\r\n        {\r\n          console.log(\"AMOUNT_RECEIVED :\",termsPaymentRow.AMOUNT_RECEIVED_OLD)\r\n          termsPaymentRow.AMOUNT_RECEIVED = parseFloat(\r\n          (\r\n            Math.abs(termsPaymentRow.AMOUNT_RECEIVED_OLD + parseFloat(termsPaymentRow.DUE_AMOUNT))\r\n          ).toFixed(2)\r\n        );\r\n        termsPaymentRow.DUE_AMOUNT = 0.00;\r\n        \r\n        }\r\n        else\r\n        {\r\n        termsPaymentRow.AMOUNT_RECEIVED = termsPaymentRow.DUE_AMOUNT;\r\n        termsPaymentRow.DUE_AMOUNT = 0.00;\r\n        }\r\n      } else {\r\n        console.log(\"PaymentOption2:\", termsPaymentRow.IS_FULL_PAYMENT);\r\n      \r\n        if(parseFloat(termsPaymentRow.DUE_AMOUNT) ==parseFloat(termsPaymentRow.AMOUNT_RECEIVED))\r\n        {\r\n          termsPaymentRow.AMOUNT_RECEIVED = parseFloat(\r\n          (\r\n            Math.abs(termsPaymentRow.AMOUNT_RECEIVED_OLD + parseFloat(termsPaymentRow.AMOUNT_RECEIVED))\r\n          ).toFixed(2)\r\n        );\r\n          termsPaymentRow.DUE_AMOUNT = 0.00;\r\n        }\r\n        else if(parseFloat(termsPaymentRow.AMOUNT_RECEIVED)> parseFloat(termsPaymentRow.DUE_AMOUNT))\r\n        {\r\n          vm.ShowAlert(vm.$t(\"AmountNotGreaterThanDue\"), \"warning\");\r\n          return\r\n        }\r\n        else if (parseFloat(termsPaymentRow.AMOUNT_RECEIVED)<=0){\r\n          vm.ShowAlert(vm.$t(\"AmountGreaterThenZero\"), \"warning\");\r\n          return\r\n        }\r\n        else\r\n        {\r\n      termsPaymentRow.AMOUNT_RECEIVED = parseFloat(\r\n          (\r\n            Math.abs(termsPaymentRow.AMOUNT_RECEIVED_OLD + parseFloat(termsPaymentRow.AMOUNT_RECEIVED))\r\n          ).toFixed(2)\r\n        );\r\n        termsPaymentRow.DUE_AMOUNT = parseFloat(\r\n          (\r\n            Math.abs(termsPaymentRow.AMOUNT_RECEIVED - termsPaymentRow.DUE_AMOUNT)\r\n             \r\n          ).toFixed(2)\r\n        );\r\n        }\r\n      }\r\n\r\n      if (\r\n        termsPaymentRow.AMOUNT_RECEIVED != \"\" &&\r\n        termsPaymentRow.AMOUNT_RECEIVED != \"0\" &&\r\n        parseFloat(termsPaymentRow.AMOUNT_RECEIVED) != 0\r\n      ) {\r\n        // Validate amount\r\n\r\n        // Prepare data for the AJAX request\r\n        const obj = {\r\n          INVOICEID: termsPaymentRow.BILL_ID,\r\n          AMOUNT: 0,\r\n          DATETIME: vm.paymentDate,\r\n          NOTES: vm.Notes,\r\n          HAS_MULIPLE_TERMS: termsPaymentRow.HAS_MULIPLE_TERMS,\r\n          TERM_ID: termsPaymentRow.TERM_ID,\r\n          IS_FULL_PAYMENT:\r\n            termsPaymentRow.IS_FULL_PAYMENT == \"1\" ? true : false,\r\n          AMOUNT_RECEIVED: termsPaymentRow.AMOUNT_RECEIVED,\r\n          DUE_AMOUNT: termsPaymentRow.DUE_AMOUNT,\r\n        };\r\n        console.log(obj);\r\n        // Make the AJAX call (using axios)\r\n        //debugger;\r\n        DataService.SaveInvoicePartialPayment(obj).then(function (response) {\r\n          if (response.data.Status == \"Success\") {\r\n            vm.ShowAlert(vm.$t(\"AddedSuccess\", [vm.$t(\"Payment\")]), \"success\", true, vm.$t(\"Alert\"));\r\n            // vm.ShowAlert(vm.$t(\"Payment saved successfully\"), \"success\");\r\n             vm.FetchData();\r\n            vm.isPayment = false;\r\n          } else {\r\n            vm.ShowAlert(vm.$t(\"ErrorWhileProcessingRequest\"), \"warning\");\r\n          }\r\n        });\r\n      } else {\r\n        vm.ShowAlert(vm.$t(\"AmountNotValid\"), \"warning\");\r\n      }\r\n    },\r\n    async validateReceiptNumber(receiptNumber) {\r\n    const receiptRegex = /^[A-Za-z0-9]{6,}$/;\r\n    if (receiptRegex.test(receiptNumber)) {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n    },\r\n    async SavePartialPayment() {\r\n      var vm = this;\r\n      //  Prevent multiple clicks\r\n      if (vm.isSaving) return;\r\n      vm.isSaving = true;\r\n\r\n      try {\r\n        var amountToPay = vm.paymentDetailsData[0].BILL_NET_TOTAL == null ? 0 : parseFloat(\r\n          vm.paymentDetailsData[0].BILL_NET_TOTAL\r\n        ).toFixed(2);\r\n\r\n        const previousPaidAmount = vm.paymentDetailsData[0].PAID == null ? 0 : parseFloat(\r\n          vm.paymentDetailsData[0].PAID\r\n        ).toFixed(2);\r\n\r\n        var nowPaying = parseFloat(vm.amount) + parseFloat(previousPaidAmount);\r\n        var result = amountToPay - nowPaying;\r\n\r\n        if (result.toFixed(2) < 0) {\r\n          vm.ShowAlert(vm.$t(\"AmountNotMoreThanTotal\"), \"warning\");\r\n          vm.amount = 0;\r\n          vm.isSaving = false; //  re-enable\r\n          return;\r\n        }\r\n\r\n        var validateReceiptNumber = await vm.validateReceiptNumber(vm.RefNo);\r\n        if (!validateReceiptNumber) {\r\n          vm.ShowAlert(vm.$t(\"InvalidReceiptNumber\"), \"warning\");\r\n          vm.isSaving = false; //  re-enable\r\n          return;\r\n        }\r\n\r\n        if (!this.Notes) {\r\n          vm.ShowAlert(vm.$t(\"NotesRequired\"), \"warning\");\r\n          vm.isSaving = false; //  re-enable\r\n          return;\r\n        }\r\n\r\n        if (vm.amount != \"\" && vm.amount != \"0\" && parseFloat(vm.amount) != 0) {\r\n          const obj = {\r\n            INVOICEID: vm.paymentDetailsData[0].BILL_ID,\r\n            AMOUNT: vm.amount,\r\n            DATETIME: vm.paymentDate,\r\n            NOTES: vm.Notes,\r\n            HAS_MULIPLE_TERMS: vm.paymentDetailsData[0].HAS_MULIPLE_TERMS,\r\n            AMOUNT_RECEIVED: vm.amountRecieved,\r\n            ReferenceNumber: vm.RefNo,\r\n            PaymentMode: vm.BillMode\r\n          };\r\n\r\n          const response = await DataService.SaveInvoicePartialPayment(obj);\r\n          if (response.data.Status == \"Success\") {\r\n            vm.ShowAlert(vm.$t(\"AddedSuccess\", [vm.$t(\"Payment\")]), \"success\", true, vm.$t(\"Alert\"));\r\n            \r\n            vm.amount = 0;\r\n            vm.Notes = '';\r\n            vm.RefNo = '';\r\n            vm.BillMode = 'Cash';\r\n\r\n            vm.FetchData();\r\n            vm.isPayment = false;\r\n          } else {\r\n            vm.ShowAlert(vm.$t(\"ErrorWhileProcessingRequest\"), \"warning\");\r\n          }\r\n        } else {\r\n          vm.ShowAlert(vm.$t(\"AmountNotValid\"), \"warning\");\r\n        }\r\n      } finally {\r\n        vm.isSaving = false;  //  ALWAYS re-enable button\r\n      }\r\n    }\r\n    // async SavePartialPayment() {\r\n    //   var vm = this;\r\n    //   var amountToPay = vm.paymentDetailsData[0].BILL_NET_TOTAL==null?0:parseFloat(\r\n    //     vm.paymentDetailsData[0].BILL_NET_TOTAL\r\n    //   ).toFixed(2);\r\n    //   const previousPaidAmount = vm.paymentDetailsData[0].PAID==null?0:parseFloat(\r\n    //     vm.paymentDetailsData[0].PAID\r\n    //   ).toFixed(2);\r\n    //   var nowPaying = parseFloat(vm.amount) + parseFloat(previousPaidAmount);\r\n    //   var result = amountToPay - nowPaying;\r\n    //   if (result.toFixed(2) < 0) {\r\n    //     vm.ShowAlert(\r\n    //       vm.$t(\"AmountNotMoreThanTotal\"),\r\n    //       \"warning\"\r\n    //     );\r\n    //     vm.amount = 0;\r\n    //     return;\r\n    //   }\r\n    //   var validateReceiptNumber = await vm.validateReceiptNumber(vm.RefNo);\r\n    //   if(!validateReceiptNumber){\r\n    //     vm.ShowAlert(vm.$t(\"InvalidReceiptNumber\"), \"warning\");\r\n    //     return;\r\n    //   }\r\n    //   if (!this.Notes) {\r\n    //     vm.ShowAlert(vm.$t(\"NotesRequired\"), \"warning\");\r\n    //     return;\r\n    //   }\r\n    //   if (vm.amount != \"\" && vm.amount != \"0\" && parseFloat(vm.amount) != 0) {\r\n    //     const obj = {\r\n    //       INVOICEID: vm.paymentDetailsData[0].BILL_ID,\r\n    //       AMOUNT: vm.amount,\r\n    //       DATETIME: vm.paymentDate,\r\n    //       NOTES: vm.Notes,\r\n    //       HAS_MULIPLE_TERMS: vm.paymentDetailsData[0].HAS_MULIPLE_TERMS,\r\n    //       AMOUNT_RECEIVED: vm.amountRecieved,\r\n    //       ReferenceNumber: vm.RefNo,\r\n    //       PaymentMode: vm.BillMode\r\n    //     };\r\n\r\n    //     DataService.SaveInvoicePartialPayment(obj).then(function (response) {\r\n    //       if (response.data.Status == \"Success\") {\r\n    //         vm.ShowAlert(vm.$t(\"AddedSuccess\", [vm.$t(\"Payment\")]), \"success\", true, vm.$t(\"Alert\"));\r\n    //         // vm.ShowAlert(vm.$t(\"Payment saved successfully\"), \"success\");\r\n    //         vm.amount=0;\r\n    //         vm.Notes='';\r\n    //         vm.RefNo='';\r\n    //         vm.BillMode='Cash';\r\n    //         vm.$parent.FetchData();\r\n    //         vm.$parent.isPayment = false;\r\n    //       } else {\r\n    //         vm.ShowAlert(vm.$t(\"ErrorWhileProcessingRequest\"), \"warning\");\r\n    //         // vm.ShowAlert(vm.$t(\"Error while processing request\"), \"warning\");\r\n    //       }\r\n    //     });\r\n    //   } else {\r\n    //     vm.ShowAlert(vm.$t(\"AmountNotValid\"), \"warning\");\r\n    //   }\r\n    // },\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayNow.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PayNow.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PayNow.vue?vue&type=template&id=4891be90\"\nimport script from \"./PayNow.vue?vue&type=script&lang=js\"\nexport * from \"./PayNow.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"Invoice\"))+\" \"+_vm._s(_vm.$t(\"History\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[(_vm.isInvoice)?_c('div',{staticClass:\"listing mt-2\"},[_c('div',{staticClass:\"table-responsive table-fix-header\",attrs:{\"id\":\"divmemb\"}},[_c('table',{staticClass:\"table table-bordered mt-0 w-100\"},[_c('thead',{staticClass:\"thead-bg\"},[_c('tr',[_c('th',[_vm._v(_vm._s(_vm.$t(\"Change\"))+\" \"+_vm._s(' ')+\" \"+_vm._s(_vm.$t(\"Date\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Bill#\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Client\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Project\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"IssueDate\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"DueDate\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Amount\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"DateFrom\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"DateTo\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"DueDate\"))+\" \"+_vm._s(' ')+\" \"+_vm._s(_vm.$t(\"Comment\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Terms\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Template\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"Action\")))])])]),(_vm.InvoiceHistoryDetails.length > 0)?_c('tbody',_vm._l((_vm.InvoiceHistoryDetails),function(childInvoice,index){return _c('tr',{key:index},[_c('td',[_vm._v(\" \"+_vm._s(_vm.formatDate(childInvoice.bill_history_changed_at))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(childInvoice.bill_number)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(childInvoice.bill_to)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(childInvoice.project_name)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.formatDate(childInvoice. bill_issue_date))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.formatDate(childInvoice.bill_due_date))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$n(childInvoice.bill_net_total, \"currency\", _vm.$getLocaleByCurrency(childInvoice.Currency)))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.formatDate(childInvoice.bill_date_from))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(_vm.formatDate(childInvoice.bill_date_to))+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(childInvoice.bill_due_date_comment)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(childInvoice.Terms)+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(childInvoice.Template_Name)+\" \")]),_c('td',{staticClass:\"text-center mobile-action single-action\"},[_c('a',{attrs:{\"title\":\"View Bill\",\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.handleViewBill(childInvoice)}}},[_c('em',{staticClass:\"fa fa-eye action-icon\"})])])])}),0):_c('tbody',[_c('tr',[_c('td',{staticClass:\"text-center text-danger py-3\",attrs:{\"colspan\":\"13\"}},[_vm._v(\" \"+_vm._s(_vm.$t('NoRecordfound'))+\" \")])])])])])]):_c('div',[(_vm.isTemplate)?_c('InvoiceTemplate',{attrs:{\"details\":_vm.templatedata,\"hitFrom\":'MainInvoice'},on:{\"backtoInvoiceList\":_vm.backtoInvoiceList}}):_vm._e()],1)])])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"my-popups\">\r\n            <loader :is-visible=\"isLoading\"></loader>\r\n            <div class=\"modal d-block\">\r\n                <div class=\"modal-dialog modal-dialog-centered\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header theme-primary partition-full d-flex\">\r\n                            <h5 class=\"modal-title\">{{ $t(\"Invoice\") }} {{ $t(\"History\") }}</h5>\r\n                            <button type=\"button\" class=\"close\" @click=\"Close\">\r\n                                <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"modal-body\">\r\n                            \r\n                                \r\n\r\n                                <div class=\"listing mt-2\" v-if=\"isInvoice\">\r\n                                    <div id=\"divmemb\" class=\"table-responsive table-fix-header\">\r\n                                        <table class=\"table table-bordered mt-0 w-100\">\r\n                                            <thead class=\"thead-bg\">\r\n                                                <tr>\r\n                                                   <th>{{ $t(\"Change\") }} {{ ' ' }} {{ $t(\"Date\") }}</th>\r\n                                                    <th>{{ $t(\"Bill#\") }}</th>\r\n                                                    <th>{{ $t(\"Client\") }}</th>\r\n                                                    <th>{{ $t(\"Project\") }}</th>\r\n                                                    <th>{{ $t(\"IssueDate\") }}</th>\r\n                                                    <th>{{ $t(\"DueDate\") }}</th>\r\n                                                    <th>{{ $t(\"Amount\") }}</th>\r\n                                                    <th>{{ $t(\"DateFrom\") }}</th>\r\n                                                    <th>{{ $t(\"DateTo\") }}</th>\r\n                                                    <th>{{ $t(\"DueDate\") }} {{ ' ' }} {{$t(\"Comment\") }}</th>\r\n                                                    <th>{{ $t(\"Terms\")}}</th>\r\n                                                    <th>{{ $t(\"Template\")}}</th>\r\n                                                    <th>{{ $t(\"Action\") }}</th>\r\n\r\n\r\n                                                     \r\n                                                   \r\n                                                    \r\n                                                    \r\n                                                    \r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody v-if=\"InvoiceHistoryDetails.length > 0\">\r\n                                                \r\n                                                    <tr v-for=\"(childInvoice,index) in InvoiceHistoryDetails\" :key=\"index\"> \r\n                                                        <td>\r\n                                                            {{ formatDate(childInvoice.bill_history_changed_at) }}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            {{ childInvoice.bill_number }}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            {{ childInvoice.bill_to }}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            {{ childInvoice.project_name }}\r\n                                                        </td>\r\n                                                       \r\n                                                        <td>\r\n                                                            {{ formatDate(childInvoice. bill_issue_date) }}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            {{ formatDate(childInvoice.bill_due_date) }}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            {{  $n(childInvoice.bill_net_total, \"currency\", $getLocaleByCurrency(childInvoice.Currency)) }}\r\n                                                           \r\n                                                        </td>\r\n                                                         <td>\r\n                                                            {{ formatDate(childInvoice.bill_date_from) }}\r\n                                                        </td>\r\n                                                         <td>\r\n                                                            {{ formatDate(childInvoice.bill_date_to) }}\r\n                                                        </td>\r\n                                                         <td>\r\n                                                            {{ childInvoice.bill_due_date_comment }}\r\n                                                        </td>\r\n                                                        <td>\r\n                                                            {{ childInvoice.Terms }}\r\n                                                        </td>\r\n                                                          <td>\r\n                                                            {{ childInvoice.Template_Name }}\r\n                                                        </td>\r\n                                                          \r\n                                                        <td class=\"text-center mobile-action single-action\">\r\n                                                          <a title=\"View Bill\" href=\"javascript:void(0)\" @click=\"handleViewBill(childInvoice)\" >\r\n                                                          <em class=\"fa fa-eye action-icon \"></em>  \r\n                                                          </a>\r\n                                                        </td>\r\n                                                        \r\n                                                    </tr>\r\n                                            </tbody>\r\n                                            <tbody v-else>\r\n                                                <tr>\r\n                                                    <td colspan=\"13\" class=\"text-center text-danger py-3\">\r\n                                                        {{$t('NoRecordfound') }}\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n<div v-else>\r\n                                    <InvoiceTemplate v-if=\"isTemplate\" :details=\"templatedata\" \r\n            :hitFrom=\"'MainInvoice'\" @backtoInvoiceList=\"backtoInvoiceList\"/>\r\n                               \r\n                    </div>       \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n       \r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\nimport InvoiceTemplate from './InvoiceTemplate.vue';\r\nimport moment from 'moment';\r\nexport default {\r\n    name: 'ClientBillListing',\r\n    components: { InvoiceTemplate},\r\n    props: {\r\n        BillId: { type: Number }\r\n    },\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n             InvoiceHistoryDetails: [],\r\n             isTemplate: false,\r\n             templatedata: {},\r\n             isInvoice: true,\r\n           \r\n        };\r\n    },\r\n    created() {\r\n        debugger;\r\n        this.fetchData();\r\n    },\r\n    methods: {\r\n        async fetchData() {\r\n            debugger\r\n            this.isLoading = true;\r\n            try {\r\n                debugger\r\n                const response = await DataService.GetInvoiceHistoryDetails(`billId=${this.BillId}`);\r\n                //const groupedData = this.groupInvoiceData(response.data);\r\n                 //this.InvoiceHistoryDetails = response.data.result;\r\n                 this.InvoiceHistoryDetails = JSON.parse(response.data.result).data;\r\n                \r\n\r\n            } catch (error) {\r\n                console.error(\"Error fetching invoice data\", error);\r\n            } finally {\r\n                this.isLoading = false;\r\n            }\r\n        },\r\n        backtoInvoiceList() {\r\n            this.isInvoice = true;\r\n            this.isTemplate = false;\r\n           \r\n        },\r\n      async handleViewBill(item) {\r\n        //debugger\r\n            //const params = `SysStartTime=${item.SysStartTime}`;\r\n            //const params = `SysStartTime=${encodeURIComponent(item.SysStartTime)}&SysEndTime=${encodeURIComponent(item.SysEndTime)}`;\r\n             //const params = `billId=${item.invoiceId_Enc}&handleViewBill=${encodeURIComponent(item.SysStartTime)}&SysEndTime=${encodeURIComponent(item.SysEndTime)}`;\r\n             const params = `billId=${item.invoiceId_Enc}&billHistroyId=${item.invoiceHistoryId_Enc}`;\r\n            \r\n            const response = await DataService.getInvoiceBillHistoryDetails(params);\r\n            this.templatedata = response.data.result.data;\r\n            this.isInvoice = false;\r\n            this.isTemplate = true;\r\n        },\r\n       \r\n        Close() {\r\n            this.$parent.isInvoiceHistoryChange = false;\r\n        },\r\n        textCounter() {\r\n            this.textCountertlength = 2000 - this.comment.length\r\n        },\r\n        formatDate: function (value) {\r\n    if (!value) return '';\r\n    return moment(value).format('MM/DD/YYYY');\r\n},\r\n        \r\n       \r\n        getStatusClass(statusCode) {\r\n            switch (statusCode) {\r\n                case \"CLBSND\":\r\n                return \"bg-success\";\r\n                case \"CLBDSPT\":\r\n                return \"bg-info\";\r\n                case \"CLBPAD\":\r\n                return \"bg-primary\";\r\n                case \"CLBRSTP\":\r\n                return \"bg-danger\";\r\n                case \"CLBBDBT\":\r\n                return \"bg-dark\";\r\n                case \"CLBDFT\":\r\n                return \"bg-warning\";\r\n                default:\r\n                return \"bg-secondary\";\r\n        }\r\n    }\r\n\r\n    },\r\n};\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceHistoryChange.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvoiceHistoryChange.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./InvoiceHistoryChange.vue?vue&type=template&id=0bdb2c00\"\nimport script from \"./InvoiceHistoryChange.vue?vue&type=script&lang=js\"\nexport * from \"./InvoiceHistoryChange.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div class=\"ClientBillListing\" v-if=\"isInvoice\">\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <tg-list :IsShowAction=\"true\" :showCheckBox=\"true\" ModuleName=\"Billing\" :listType=\"['List']\" :widgets=\"widgets\"\r\n            :RenderRowActionMethod=\"renderActions\" SubModuleCode=\"Billing\" IdentityColumn=\"BILL_ID\"\r\n            :ListData=\"CilentBillListing\" :HeaderData=\"Headers\" :callbackfunction=\"FetchData\"\r\n            :SearchFields=\"SearchSchema\" :HeaderButtons=\"listheaderbuttons\" :TotalRecords=\"TotalRecords\"\r\n            :ListDataCallBackFunction=\"FetchData\" :LegendArray=\"LegendArray\" :SortExp=\"sortExp\" :SortBy=\"sortBy\"\r\n            :NorecordfoundText=\"$t('NoRecordfound')\" v-on:LeftsearchButtonClick=\"leftCommonSearch\"\r\n            v-on:PagerButtonClick=\"pagerMethod\" :isShowHeaderText=\"true\" v-on:ActionButtonClick=\"actionButtonClick\"\r\n            :HeaderText=\"$t('Bills')\" v-on:HeaderButtonClick=\"commonHeaderButtonClick\"\r\n            v-on:SortdataButtonClick=\"sortdata\">\r\n\r\n            <template v-slot:slotdata=\"{ data }\"> \r\n                <template v-if=\"data.column.COLUMN_NAME == 'STATUS'\">\r\n                    <span :title=\"data.row.STATUS_NAME\" :class=\"getStatusClass(data.row)\">\r\n                        {{ getStatusLabel(data.row) }}\r\n                    </span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'BILL_NUMBER'\"> \r\n                    <div v-if=\"data.row.STATUS_NAME != 'Paid' && data.row.STATUS_NAME != 'Bad Debt' && data.row.STATUS_NAME != 'Partial Paid' && data.row.STATUS_NAME != 'Cancelled' && data.row.STATUS_NAME !='Cancel'\">\r\n                        <a href=\"javascript:;\" data-toggle=\"tooltip\" @click=\"handleEdit(data.row)\">{{ data.row.BILL_NUMBER }}</a>\r\n                    </div>\r\n                    <div v-else>\r\n                        {{ data.row.BILL_NUMBER }}\r\n                    </div>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'Company'\">\r\n                    <span>{{ data.row.COMPANY_NAME }}</span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'BILL_NET_TOTAL'\">\r\n                    <a href=\"javascript:;\" @click=\"openPaymentHistory(data.row)\"><i aria-hidden=\"true\"></i>\r\n                        {{ $n(data.row.BILL_NET_TOTAL, \"currency\", $getLocaleByCurrency(data.row.ISO_CODE))}}\r\n                    </a>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'CONVERT_AMOUNT'\">\r\n                    <span>\r\n                            {{ $n(data.row.CONVERT_AMOUNT, \"currency\", $getLocaleByCurrency(data.row.ISO_CODE))}}\r\n                    </span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'BILL_ISSUE_DATE'\">\r\n                    <span>\r\n                        {{ $options.filters.formatDate(data.row.CREATED_AT) }}\r\n                    </span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'BILL_DUE_DATE'\">\r\n                    <span>\r\n                        {{ $options.filters.formatDate(data.row.BILL_DUE_DATE) }}\r\n                    </span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'BILLING_PERIOD'\">\r\n                    <span>\r\n                        {{ getInvoiceBillingPeriod(data.row) }}\r\n                    </span>\r\n                </template>\r\n\r\n                <template v-if=\"data.column.COLUMN_NAME == 'Outstanding'\">\r\n                    <span>\r\n                            {{ $n(data.row.BILL_NET_TOTAL, \"currency\", $getLocaleByCurrency(data.row.ISO_CODE))}}\r\n                    </span>\r\n                </template>\r\n                <template v-if=\"data.column.COLUMN_NAME == 'CONVERT_OUTSTANDING_AMOUNT'\">\r\n                    <span>\r\n                            {{ $n(data.row.CONVERT_OUTSTANDING_AMOUNT, \"currency\", $getLocaleByCurrency(data.row.ISO_CODE))}}\r\n                    </span>\r\n                </template>\r\n\r\n                <!-- <template v-if=\"data.column.COLUMN_NAME == 'PARENT_INVOICE'\">\r\n                    <span>\r\n                        <a href=\"javascript:;\" title=\"\" class=\"note_0 text-dark enable viewdivisionnotes float-right\"\r\n                            data-original-title=\"View\" data-toggle-tooltip=\"tooltip\">\r\n                            <i class=\"fa fa-file-text-o\" style=\"font-size:20px;\" aria-hidden=\"true\"></i>\r\n                            <span class=\"noti-circle noti-orange\">{{ data.row.PARENT_INVOICE ? data.row.PARENT_INVOICE :\r\n                                0\r\n                                }}</span>\r\n                        </a>\r\n                    </span>\r\n                </template> -->\r\n            </template>\r\n        </tg-list>\r\n\r\n        <Attachment v-if=\"isAttachment\" :BillId=\"billId\"></Attachment>\r\n        <PaymentHistroy v-if=\"isPaymentHistory\" :BillId=\"BillId\"></PaymentHistroy>\r\n        <PayNow v-if=\"isPayment\" :PaymentData=\"PaymentData\"></PayNow>\r\n        <InvoiceHistory v-if=\"isInvoiceHistory\" :BillId=\"BillId\"></InvoiceHistory>\r\n        <SendBill v-if=\"isSendBill\" :BillId=\"BillId\" :InvoiceBillId=\"InvoiceBillId\"></SendBill>\r\n        <InvoicePaySlip v-if=\"isPaySlip\" :BillId=\"billId\"></InvoicePaySlip>\r\n        <InvoiceHistoryChange v-if=\"isInvoiceHistoryChange\" :BillId=\"BillId\"></InvoiceHistoryChange>\r\n    </div>\r\n    <div v-else>\r\n        <InvoiceTemplate v-if=\"isTemplate\" :details=\"templatedata\" @backtoInvoiceList=\"backtoInvoiceList\"\r\n            :hitFrom=\"'MainInvoice'\" />\r\n    </div>\r\n</template>\r\n<script>\r\nimport DataService from '../../services/DataService';\r\nimport ClientBillListingSchema from './ClientBillListingSchema';\r\nimport Attachment from '../Client/ClientDetails/Attachment.vue'\r\nimport PaymentHistroy from './PaymentHistroy.vue';\r\nimport PayNow from './PayNow.vue'\r\nimport InvoiceTemplate from \"../Client/ClientDetails/InvoiceTemplate.vue\";\r\nimport InvoiceHistory from '../Client/ClientDetails/InvoiceHistory.vue';\r\nimport SendBill from '../Client/ClientDetails/SendBill.vue';\r\nimport InvoicePaySlip from '../Client/ClientDetails/InvoicePaySlip.vue';\r\nimport InvoiceHistoryChange from '../Client/ClientDetails/InvoiceHistoryChange.vue'\r\n\r\nimport moment from 'moment';\r\n\r\n\r\nexport default ({\r\n    name: 'ClientBillListing',\r\n    components: { Attachment, PaymentHistroy, PayNow, InvoiceTemplate, InvoiceHistory, SendBill, InvoicePaySlip,InvoiceHistoryChange},\r\n\r\n    data() {\r\n        return {\r\n            isPaymentHistory: false,\r\n            isAttachment: false,\r\n            isPaged: 1,\r\n            Headers: [\r\n                {\r\n                    COLUMN_NAME: \"BILL_NUMBER\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Bill')+'#',\r\n                    DISPLAY_ORDER: 1,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"CLIENT_NAME\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Client'),\r\n                    DISPLAY_ORDER: 2,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"Company\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Company'),\r\n                    DISPLAY_ORDER: 3,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"PROJECT_NAME\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('project_id'),\r\n                    DISPLAY_ORDER: 4,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"PARENT_INVOICE\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('ParentInvoice'),\r\n                    DISPLAY_ORDER: 5,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"BILL_NET_TOTAL\",\r\n                    DATA_TYPE: \"currency\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Amount'),\r\n                    DISPLAY_ORDER: 7,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"STATUS\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('STATUS_NAME'),\r\n                    DISPLAY_ORDER: 8,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"BILL_ISSUE_DATE\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME:  this.$t('IssueDate'),\r\n                    DISPLAY_ORDER: 6,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"BILL_DUE_DATE\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('DueDate'),\r\n                    DISPLAY_ORDER: 9,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"BILLING_PERIOD\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('BillingPeriod'),\r\n                    DISPLAY_ORDER: 5,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"RECURRING_FREQUENCY\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: true,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Frequency'),\r\n                    DISPLAY_ORDER: 5,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"BILLING_DIVISION\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('Division'),\r\n                    DISPLAY_ORDER: 5,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"STATE\",\r\n                    DATA_TYPE: \"text\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: this.$t('STATE'),\r\n                    DISPLAY_ORDER: 5,\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"CONVERT_AMOUNT\",\r\n                    DATA_TYPE: \"currency\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: `${this.$t('Amount')} ${this.GetUserInfo.Currency}`,\r\n                    DISPLAY_ORDER: 10,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"Outstanding\",\r\n                    DATA_TYPE: \"currency\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: false,\r\n                    DISPLAY_NAME: this.$t('InvoiceOutstanding'),\r\n                    DISPLAY_ORDER: 11,\r\n\r\n                },\r\n                {\r\n                    COLUMN_NAME: \"CONVERT_OUTSTANDING_AMOUNT\",\r\n                    DATA_TYPE: \"currency\",\r\n                    SORTABLE: false,\r\n                    VISIBLE: true,\r\n                    DISPLAY_NAME: `${this.$t('InvoiceOutstanding')} ${this.GetUserInfo.Currency}`,\r\n                    DISPLAY_ORDER: 12,\r\n\r\n                }\r\n\r\n\r\n            ],\r\n\r\n            listheaderbuttons: ClientBillListingSchema.buttons,\r\n            SearchSchema: ClientBillListingSchema.SearchSchema,\r\n\r\n            listActions:\r\n                [\r\n                    {\r\n                        title: 'Edit',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-pencil text-info action-icon',\r\n                        callbackfunction: 'handleEdit',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'View Bill',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-eye action-icon',\r\n                        callbackfunction: 'handleViewBill',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'Send Bill',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-eye text-info action-icon',\r\n                        callbackfunction: 'handleSendBill',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'Pay Slip',\r\n                        callbackfunction: 'clkPaySlip',\r\n                        icon: 'fa fa-print pr-2 action-icon',\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'Payment',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-usd text-info action-icon',\r\n                        callbackfunction: 'handlePayment',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'Invoice History',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-history action-icon',\r\n                        callbackfunction: 'handleInvoiceHistory',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'Invoice History Change',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-history text-info action-icon',\r\n                        callbackfunction: 'handleInvoiceHistoryChange',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n                    {\r\n                        title: 'Attachment',\r\n                        href: 'javascript:void(0)',\r\n                        icon: 'fa fa-upload text-primary action-icon',\r\n                        callbackfunction: 'handleAttachment',\r\n                        isDisabled: false,\r\n                        additionalSpan: ''\r\n                    },\r\n\r\n\r\n                ],\r\n            TotalRecords: 0,\r\n            pageSize: 10,\r\n            pageNum: 1,\r\n            sortBy: '',\r\n            searchCondition: '',\r\n            GroupStart: 1,\r\n            GroupEnd: 3,\r\n            CurrentPage: 1,\r\n            TotalPages: 0,\r\n            sortExp: '',\r\n            noRecords: false,\r\n            LegendArray: [{\r\n                class: 'legend-upcoming colorboxsquare',\r\n                text: (this.$t('Bill(s) generated from milestone'))\r\n            },\r\n            {\r\n                class: 'legend-Progress colorboxsquare',\r\n                text: (this.$t('Shared Company Invoice'))\r\n            }\r\n            ],\r\n            CilentBillListing: [],\r\n            widgets: [],\r\n            inoviceStats: {},\r\n            billId: '',\r\n            isPayment: false,\r\n            PaymentData: '',\r\n            isInvoice: true,\r\n            isTemplate: false,\r\n            templatedata: {},\r\n            isInvoiceHistory: false,\r\n            isSendBill: false,\r\n            isPaySlip: false,\r\n            UserType: null,\r\n            InvoiceBillId:'',\r\n            isInvoiceHistoryChange:false,\r\n        }\r\n    },\r\n    async created() {\r\n        var vm = this;\r\n        vm.UserType = vm.GetUserInfo.UserType;\r\n        await vm.Widget();\r\n        await vm.FetchData();\r\n        await ClientBillListingSchema.bindleftCommonSearchdropdown(vm, 'Company', 'Client');\r\n    },\r\n    methods: {\r\n\r\n        async Widget() {\r\n            var vm = this;\r\n            vm.isLoading = true;\r\n            let url = `projectId=&clientId=&invoiceNum=&isRecurring=0&amountTo=&amountFrom=&stringbillDueDateTo=&stringbillDueDateFrom=&stringbillIssueDateTo=&stringbillIssueDateFrom=&stringcreatedAtTo=&stringcreatedAtFrom=&statusId`;\r\n            try {\r\n                const response = await DataService.GetInvoiceStatistics(url);\r\n                if (response && response.data) {\r\n                    vm.inoviceStats = response.data.result;\r\n                    vm.widgets = [];\r\n                    let durationObj = {\r\n                        icon: \"fa fa-clock-o\",\r\n                        name: `Duration`,\r\n                        class: \"one_wid\",\r\n                        value: vm.inoviceStats.period != null ? vm.inoviceStats.period : \"\"\r\n                    };\r\n                    let dueObj = {\r\n                        icon: \"fa fa-dollar\",\r\n                        name: `Due ${vm.GetUserInfo.Currency}`,\r\n                        class: \"two_wid\",\r\n                        value: vm.inoviceStats.dueAmount != null ? vm.inoviceStats.dueAmount : \"0.00\"\r\n                    };\r\n                    let receivedObj = {\r\n                        icon: \"fa fa-dollar\",\r\n                        name: `Received ${vm.GetUserInfo.Currency}`,\r\n                        class: \"three_wid\",\r\n                        value: vm.inoviceStats.amountRecived != null ? vm.inoviceStats.amountRecived : \"0.00\"\r\n                    };\r\n                    vm.widgets.push(durationObj, dueObj, receivedObj);\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Error fetching invoice statistics:\", error);\r\n            } finally {\r\n                vm.isLoading = false;\r\n            }\r\n        },\r\n        async FetchData() {\r\n            var vueObj = this;\r\n            vueObj.CilentBillListing = [];\r\n            let parmas = `sortBy=${vueObj.sortBy}&sortExp=${vueObj.sortExp}&pageSize=${vueObj.pageSize}&pageNum=${vueObj.pageNum}&bill_id=0&isPaged=${vueObj.isPaged}&${this.searchCondition}`;\r\n            try {\r\n                vueObj.isLoading = true;\r\n                const response = await DataService.GetClientBillListing(parmas);\r\n                if (response.data && response.data.result) {\r\n                    vueObj.Headers.forEach((column) => {\r\n                        column.settings = null;\r\n                        if (column.COLUMN_NAME == 'STATUS'\r\n                            || column.COLUMN_NAME == 'BILL_NUMBER'\r\n                            || column.COLUMN_NAME == 'BILL_NET_TOTAL'\r\n                            || column.COLUMN_NAME == 'BILL_ISSUE_DATE'\r\n                            || column.COLUMN_NAME == 'BILL_DUE_DATE'\r\n                            || column.COLUMN_NAME == 'BILLING_PERIOD'\r\n                            || column.COLUMN_NAME == 'BILL_NET_TOTAL'\r\n                            || column.COLUMN_NAME == 'Outstanding'\r\n                            || column.COLUMN_NAME == 'CONVERT_AMOUNT'\r\n                            || column.COLUMN_NAME == 'CONVERT_OUTSTANDING_AMOUNT'\r\n                            // || column.COLUMN_NAME == 'PARENT_INVOICE'\r\n                            || column.COLUMN_NAME == 'Company') {\r\n                            column.settings = {\r\n                                isInSlot: true\r\n                            };\r\n                        }\r\n                    });\r\n\r\n\r\n\r\n                    const parsedData = JSON.parse(response.data.result); // Parse once\r\n\r\n                    if (parsedData.data.length > 0) {\r\n                        vueObj.CilentBillListing = parsedData.data;\r\n                        vueObj.TotalRecords = parsedData.data[0].TOTAL_RECORDS;\r\n                        vueObj.TotalPages = Math.ceil(vueObj.TotalRecords / vueObj.pageSize);\r\n                        vueObj.CurrentPage = vueObj.pageNum;\r\n                        vueObj.noRecord = false;\r\n                    }\r\n                    else {\r\n                        vueObj.noRecord = true;\r\n                        vueObj.TotalRecords = 0;\r\n                        vueObj.CilentBillListing = [];\r\n                        vueObj.isLoading = false;\r\n\r\n                    }\r\n\r\n                }\r\n                else {\r\n                    vueObj.noRecord = true;\r\n                    vueObj.TotalRecords = 0;\r\n                    vueObj.CilentBillListing = [];\r\n                }\r\n\r\n            } catch (error) {\r\n                console.error('Error fetching client bill listing:', error);\r\n                vueObj.noRecord = true;\r\n                vueObj.TotalRecords = 0;\r\n                vueObj.CilentBillListing = [];\r\n            } finally {\r\n                vueObj.isLoading = false;\r\n\r\n                console.log('Fetch operation complete');\r\n            }\r\n        },\r\n        OpenPlanDetail() {\r\n            debugger;\r\n        },\r\n        commonHeaderButtonClick(event) {\r\n            switch (event.callbackfunction) {\r\n                case \"mannualBill\":\r\n                    this.mannualBill(0);\r\n                    break;\r\n                case \"download\":\r\n                    this.DownloadBillList();\r\n                    break;\r\n                case \"markAsSent\":\r\n                    this.MarkStatus('CLBSND');\r\n                    break;\r\n                case \"markAsPaid\":\r\n                    this.MarkStatus('CLBPAD');\r\n                    break;\r\n                case \"markAsDisputed\":\r\n                    this.MarkStatus('CLBDSPT');\r\n                    break;\r\n                case \"markAsBadDebt\":\r\n                    this.MarkStatus('CLBBDBT');\r\n                    break;\r\n                case \"markAsCancelled\":\r\n                    this.MarkStatus('CLBCNCL');\r\n                    break;\r\n                case \"BackToList\":\r\n                    this.BackToList();\r\n                    break;\r\n            }\r\n        },\r\n\r\n        renderActions(row) {\r\n            var self = this;\r\n            let rtnActionArray = [];\r\n            self.listActions.forEach(actionItem => {\r\n                let action = { ...actionItem };\r\n                switch (action.title) {\r\n                    case 'Edit':\r\n                        action.isVisible = true;\r\n                        break\r\n                    case 'View Bill':\r\n                        action.isVisible = true;\r\n                        break\r\n                    case 'Send Bill':\r\n                        action.isVisible = true;\r\n                        break\r\n                        case \"Pay Slip\":\r\n                            action.isVisible = true;\r\n                            action.isDisabled = row.STATUS_CODE == \"CLBPAD\" || row.STATUS_CODE ==\"CLBPPAD\" ? false : true;\r\n                            break;\r\n                    case 'Payment':\r\n                        action.isVisible = self.UserType=='CL' ? false: true;\r\n                        action.isDisabled = row.STATUS_CODE == \"CLBPAD\" || row.STATUS_CODE == \"CLBSND\" || row.STATUS_CODE == \"CLBPPAD\" ? false : true;\r\n                        break\r\n                    case 'Invoice History':\r\n                        action.isVisible = true;\r\n                        break\r\n                    case 'Invoice History Change':\r\n                        action.isVisible = true;\r\n                        break\r\n                    case 'Attachment':\r\n                        action.isVisible = true;\r\n                        break\r\n\r\n\r\n                }\r\n                rtnActionArray.push(action);\r\n            });\r\n            return rtnActionArray;\r\n        },\r\n\r\n        actionButtonClick(callbackfunction, item) {\r\n            var vm = this;\r\n            switch (callbackfunction) {\r\n                case 'handleEdit':\r\n                    vm.handleEdit(item);\r\n                    break;\r\n                case 'handleViewBill':\r\n                    vm.handleViewBill(item);\r\n                    break;\r\n                case 'handleSendBill':\r\n                    vm.handleSendBill(item);\r\n                    break;\r\n                    case \"clkPaySlip\":\r\n                     this.clickPaySlip(item);\r\n                     break;\r\n                case 'handlePayment':\r\n                    vm.handlePayment(item);\r\n                    break;\r\n                case 'handleInvoiceHistory':\r\n                    vm.handleInvoiceHistory(item);\r\n                    break;\r\n                case 'handleInvoiceHistoryChange':\r\n                    vm.handleInvoiceHistoryChange(item);\r\n                    break;\r\n                case 'handleAttachment':\r\n                    vm.handleAttachment(item);\r\n                    break;\r\n\r\n            }\r\n        },\r\n\r\n        BackToList() {\r\n            this.$router.push('/Client/Index');\r\n        },\r\n        getStatusClass(row) {\r\n\r\n            switch (row.STATUS_CODE) {\r\n                case 'CLBSND':\r\n                    return \"btn btn-primary py-0 d-block font-14\";\r\n                case 'CLBDSPT':\r\n                    return \"btn btn-warning py-0 d-block font-14\";\r\n                case 'CLBPAD':\r\n                    return \"btn btn-success py-0 d-block font-14\";\r\n                case 'CLBRSTP':\r\n                    return \"btn btn-danger py-0 d-block font-14\";\r\n                case 'CLBBDBT':\r\n                    return \"btn btn-danger py-0 d-block font-14\";\r\n                case 'CLBDFT':\r\n                    return \"btn btn-warning py-0 d-block font-14\";\r\n                case 'CLBCNCL':\r\n                    return \"btn btn-danger py-0 d-block font-14\";\r\n                case 'CNCLFAILED':\r\n                    return \"btn btn-danger py-0 d-block font-14\";\r\n                case 'CLBPPAD':\r\n                    return \"btn btn-info py-0 d-block font-14\";\r\n                case 'CLBGEN':\r\n                    return \"btn btn-warning py-0 d-block font-14\";\r\n                case 'RLSTOWORKDAY':\r\n                    return \"btn btn-success py-0 d-block font-14\";\r\n                case 'CLBERROR':\r\n                    return \"btn btn-danger py-0 d-block font-14\";\r\n                case 'CANPWORKDAY':\r\n                    return \"btn btn-info py-0 d-block font-14\";\r\n                case 'CLBUPDATED':\r\n                    return \"btn btn-success py-0 d-block font-14\";\r\n                case 'SYNC_FAILED':\r\n                    return \"btn btn-danger py-0 d-block font-14\";\r\n                case 'SYNCED':\r\n                    return \"btn btn-success py-0 d-block font-14\";\r\n                // case 'BILL_ADJ':\r\n                //     return \"btn btn-primary py-0 d-block font-14\";\r\n                case 'RLS':\r\n                    return \"btn btn-success py-0 d-block font-14\";\r\n                default:\r\n                    return \"btn btn-secondary py-0 d-block font-14\"; // Default class if status is unknown\r\n            }\r\n        },\r\n\r\n        getStatusLabel(row) {\r\n            switch (row.STATUS_CODE) {\r\n                case 'CLBSND':\r\n                    return \"Sent\";\r\n                case 'CLBDSPT':\r\n                    return \"Disputed\";\r\n                case 'CLBPAD':\r\n                    return \"Paid\";\r\n                case 'CLBRSTP':\r\n                    return \"Recurring Stopped\";\r\n                case 'CLBBDBT':\r\n                    return \"Bad Debt\";\r\n                case 'CLBDFT':\r\n                    return \"Draft\";\r\n                case 'CLBCNCL':\r\n                    return \"Cancelled\";\r\n                case 'CNCLFAILED':\r\n                    return \"Cancel Failed\";\r\n                case 'CLBPPAD':\r\n                    return \"Partial Paid\";\r\n                case 'CLBGEN':\r\n                    return \"Generated\";\r\n                case 'RLSTOWORKDAY':\r\n                    return \"Released\";\r\n                case 'CLBERROR':\r\n                    return \"Failed\";\r\n                case 'CANPWORKDAY':\r\n                    return \"Cancel Pending\";\r\n                case 'CLBUPDATED':\r\n                    return \"Updated\";\r\n                case 'SYNC_FAILED':\r\n                    return \"Update Failed\";\r\n                case 'SYNCED':\r\n                    return \"Updated\";\r\n                // case 'BILL_ADJ':\r\n                //     return \"Bill-Adjustment\";\r\n                case 'RLS':\r\n                    return \"Release\";\r\n                default:\r\n                    return row.STATUS_CODE;\r\n            }\r\n        },\r\n        getInvoiceBillingPeriod(item) {\r\n            const dateRangeFrom = item.DATE_RANGE_FROM\r\n                ? moment(item.DATE_RANGE_FROM).format('MM/DD/YYYY')\r\n                : '';\r\n            const dateRangeTo = item.DATE_RANGE_TO\r\n                ? moment(item.DATE_RANGE_TO).format('MM/DD/YYYY')\r\n                : '';\r\n            return `${dateRangeFrom} - ${dateRangeTo}`;\r\n        },\r\n        getAmount(item) {\r\n            const isoCode = item.ISO_CODE;\r\n            const amount = item.BILL_NET_TOTAL;\r\n            return isoCode ? `${amount} (${isoCode})` : `${amount}`;\r\n        },\r\n        getOutstanding(item) {\r\n            const isoCode = item.ISO_CODE;\r\n            const amount = item.BILL_NET_TOTAL;\r\n            return isoCode ? `${amount} (${isoCode})` : `${amount}`;\r\n        },\r\n        pagerMethod(value) {\r\n            this.pageSize = value.PageSize;\r\n            this.pageNum = value.PageNumber;\r\n            this.FetchData();\r\n        },\r\n\r\n        sortdata(sortBy) {\r\n            this.sortBy = sortBy;\r\n            var sortExp = 'ASC';\r\n            if (this.sortExp == 'ASC') {\r\n                sortExp = 'DESC';\r\n            }\r\n            this.sortExp = sortExp;\r\n            this.sortBy = sortBy;\r\n            this.sortExp = sortExp;\r\n            this.pageNum = 1;\r\n            this.GroupStart = this.pageNum;\r\n            this.GroupEnd = this.pageNum + 2;\r\n            this.FetchData();\r\n        },\r\n        leftCommonSearch(value) {\r\n            this.PageNumber = value.PageNumber;\r\n            this.isPaged = 1;\r\n            if (typeof value.searchCondition != 'undefined') {\r\n                this.searchCondition = value.searchConditionJson;\r\n            }\r\n            else {\r\n                this.searchCondition = \"\";\r\n            }\r\n            this.FetchData();\r\n        },\r\n\r\n        handleAttachment(item) {\r\n            var vm = this;\r\n            vm.isAttachment = true;\r\n            vm.billId = item.BILL_ID\r\n        },\r\n\r\n        openPaymentHistory(data) {\r\n            debugger;\r\n            this.BillId = data.BILL_ID;\r\n            this.isPaymentHistory = true;\r\n\r\n        },\r\n        mannualBill(id) {\r\n            // When you want to create a new invoice\r\n            this.$router.push({ name: 'AddInvoice', params: { action: 'Create', id: id } });\r\n        },\r\n        async DownloadBillList() {\r\n            debugger\r\n            var vm = this;\r\n            let parmas = `sortBy=${vm.sortBy}&sortExp=${vm.sortExp}&pageSize=${vm.pageSize}&pageNum=${vm.pageNum}&bill_id=0&isPaged=${vm.isPaged}&${this.searchCondition}`;\r\n            const response = await DataService.GetClientBillListing(parmas);\r\n\r\n            debugger\r\n            if (response.data != \"\" && response.data != null) {\r\n                let data = JSON.parse(response.data.result);\r\n                if (data.data.length > 0) {\r\n                    vm.ConvertJSONToCSV(data.data, \"Invoice\", true);\r\n                }\r\n            }\r\n\r\n        },\r\n        ConvertJSONToCSV: function (data, filename, showHeader) {\r\n            const excludeColumns = [\r\n                \"BILL_ID\",\r\n                \"BILL_RECORD_AMOUNT\",\r\n                \"COMPANY_ID\",\r\n                \"COMPANY_NAME\",\r\n                \"IS_AUTO_SEND\",\r\n                \"ISO_CODE\",\r\n                \"IS_RECURRING\",\r\n                \"MILESTONE_ID\",\r\n                \"RECURRING_FREQUENCY\",\r\n                \"RECURRING_STATUS\",\r\n                \"ROWNUMBER\",\r\n                \"STATUS_CODE\",\r\n                \"TEMPLATE_ID\",\r\n                \"TIME_ROUNDING\",\r\n                \"TOTAL_RECORDS\",\r\n            ];\r\n            const headerMap = {\r\n                BILL_NUMBER: \"Invoice No\",\r\n                CLIENT_NAME: \"Contract\",\r\n                PROJECT_NAME: \"Project Name\",\r\n                PARENT_INVOICE: \"Parent Invoice\",\r\n                CREATED_AT: \"Issue Date\",\r\n                BILL_DUE_DATE: \"Due Date\",\r\n                PAYMENT_CREATED_AT: \"Payment Date\",\r\n                BILL_NET_TOTAL: \"Amount\",\r\n                STATUS_NAME: \" Status\",\r\n            };\r\n            if (data && Array.isArray(data) && data.length > 0) {\r\n                const headers = Object.keys(data[0]);\r\n                const filteredHeaders = headers.filter(\r\n                    (header) => !excludeColumns.includes(header)\r\n                );\r\n                const mappedHeaders = filteredHeaders.map(\r\n                    (header) => headerMap[header] || header\r\n                );\r\n                const rows = data.map((row) => {\r\n                    return mappedHeaders\r\n                        .map((mappedHeader) => {\r\n                            const originalHeader =\r\n                                filteredHeaders[mappedHeaders.indexOf(mappedHeader)];\r\n                            let cellValue =\r\n                                row[originalHeader] !== undefined &&\r\n                                    row[originalHeader] !== null\r\n                                    ? String(row[originalHeader])\r\n                                    : \"\";\r\n                            if (\r\n                                cellValue.includes(\",\") ||\r\n                                cellValue.includes(\"\\n\") ||\r\n                                cellValue.includes('\"')\r\n                            ) {\r\n                                cellValue = `\"${cellValue.replace(/\"/g, '\"\"')}\"`;\r\n                            }\r\n                            return cellValue;\r\n                        })\r\n                        .join(\",\");\r\n                });\r\n                const csvContent = (showHeader ? [mappedHeaders.join(\",\")] : [])\r\n                    .concat(rows)\r\n                    .join(\"\\n\");\r\n                const blob = new Blob([csvContent], {\r\n                    type: \"text/csv;charset=utf-8;\",\r\n                });\r\n                const link = document.createElement(\"a\");\r\n                link.setAttribute(\"href\", URL.createObjectURL(blob));\r\n                link.setAttribute(\"download\", `${filename}.csv`);\r\n                link.click();\r\n            } else {\r\n                console.log(\"No valid data to convert.\");\r\n            }\r\n        },\r\n        MarkStatus(status) {\r\n            debugger;\r\n            debugger\r\n            var vm = this;\r\n       \r\n            var selectedBillIds = [];\r\n            var selectedParicalPaidOrPaid = [];\r\n             var selectedInvoiceNumber = [];\r\n\r\n            vm.CilentBillListing.forEach((item) => {\r\n              var  ISDisabled=false;\r\n             \r\n                if (item.isSelected == true) {\r\n                    selectedBillIds.push(item.BILL_ID);\r\n                  if(item.STATUS_CODE==\"CLBPAD\" || item.STATUS_CODE==\"CLBPPAD\" || item.STATUS_CODE==\"CLBCNCL\") \r\n                  {\r\n                    selectedParicalPaidOrPaid.push(item.BILL_ID);\r\n                    selectedInvoiceNumber.push(item.BILL_NUMBER);\r\n                  }\r\n                  \r\n                }\r\n            });\r\n        if (selectedParicalPaidOrPaid.length > 0) {\r\n           const invoiceLabel = selectedInvoiceNumber.length > 1 ? \"invoices are\" : \"invoice is\";\r\n           const unselectLabel = selectedInvoiceNumber.length > 1 ? \"these invoices\" : \"this invoice\";\r\n            vm.ShowAlert(`${selectedInvoiceNumber.join(\", \")} - ${invoiceLabel} already paid. Please unselect ${unselectLabel} before proceeding.`,\"failure\");\r\n        // Prevent any future action\r\n       return;\r\n         }\r\n            if (selectedBillIds.length === 0) {\r\n                vm.ShowAlert(\"Please select at least one invoice.\", \"failure\");\r\n                return;\r\n            }\r\n            var billIds = selectedBillIds.join(\",\");\r\n            vm.UpdateStatus(billIds, status)\r\n        },\r\n        UpdateStatus(val, status) {\r\n            //debugger\r\n            var vm = this\r\n            var resourcestatus = \"\";\r\n            var msg = \"\";\r\n            if (status == 'CLBSND') {\r\n                resourcestatus = \"MarkSent\";\r\n            }\r\n            else if (status == 'CLBPAD') {\r\n                resourcestatus = \"MarkPaid\";\r\n            }\r\n            else if (status == 'CLBDSPT') {\r\n                resourcestatus = \"MarkDisputed\";\r\n            }\r\n            else if (status == 'CLBBDBT') {\r\n                resourcestatus = \"MarkBadDebt\";\r\n            }\r\n            else if (status == 'CLBCNCL') {\r\n                resourcestatus = \"MarkCancel\";\r\n            }\r\n            if (status == 'CANPWORKDAY') {\r\n                msg = vm.$t(\"ConfirmCancelWorkday\")\r\n            } else {\r\n                msg = vm.$t(\"InvoiceConfirm\").replace(\"?\", \" \") + \" \" + vm.$t(resourcestatus) + \"?\"\r\n\r\n            }\r\n            vm.confirmR(msg, true, false, function (result) {\r\n                if (result === undefined) {\r\n                    var url = `billIds=${val}&statusCode=${status}`;\r\n                    DataService.UpdateClientInvoiceStatus(url).then(\r\n                        (response) => {\r\n                            //debugger;\r\n                            if (response.data[0].ERROR_CODE == 1) {\r\n                                vm.ShowAlert(vm.$t(\"RecordUpdatedSuccessfully\"), \"success\");\r\n                                vm.FetchData();\r\n                            } else {\r\n                                vm.ShowAlert(\r\n                                    vm.$t(\"ErrorWhileProcessingRequest\"),\r\n                                    \"failure\"\r\n                                );\r\n                            }\r\n                        }\r\n                    );\r\n                }\r\n            })\r\n        },\r\n        async handlePayment(item) {\r\n            debugger\r\n            var vm = this;\r\n            vm.isPayment = true;\r\n            vm.PaymentData = item\r\n        },\r\n        async handleViewBill(item) {\r\n            debugger\r\n            const params = `billId=${item.invoiceId_Enc}`;\r\n            const response = await DataService.getInvoiceDetails(params);\r\n            this.templatedata = response.data.result.data;\r\n            this.isInvoice = false;\r\n            this.isTemplate = true;\r\n        },\r\n        backtoInvoiceList() {\r\n            this.isInvoice = true;\r\n            this.isTemplate = false;\r\n            this.FetchData();\r\n        },\r\n        handleInvoiceHistory(item) {\r\n            var vm = this;\r\n            vm.isInvoiceHistory = true\r\n            vm.BillId = item.BILL_ID\r\n        },\r\n        handleInvoiceHistoryChange(item) {\r\n            var vm = this;\r\n            vm.isInvoiceHistoryChange = true\r\n            vm.BillId = item.BILL_ID\r\n        },\r\n        handleSendBill(item) {\r\n            debugger\r\n            var vm = this;\r\n\r\n            vm.InvoiceBillId = item.invoiceId_Enc;\r\n            vm.isSendBill = true\r\n            vm.BillId = item.BILL_ID\r\n        },\r\n        handleEdit(item) {\r\n            // When you want to edit an existing invoice\r\n            this.$router.push({ name: 'AddInvoice', params: { action: 'Edit', id: item.BILL_ID } });\r\n\r\n        },\r\n        async clickPaySlip(item){\r\n      var vm=this;\r\n      vm.isPaySlip=true;\r\n      vm.billId=item.BILL_ID;\r\n    }\r\n\r\n\r\n    }\r\n})\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientBillListing.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClientBillListing.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ClientBillListing.vue?vue&type=template&id=b35d3d46\"\nimport script from \"./ClientBillListing.vue?vue&type=script&lang=js\"\nexport * from \"./ClientBillListing.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('div',{staticClass:\"my-popups\"},[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('div',{staticClass:\"modal d-block\"},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header theme-primary partition-full d-flex\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(_vm._s(_vm.$t(\"SendInvoice\")))]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-times\",attrs:{\"aria-hidden\":\"true\"}})])]),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"row\",attrs:{\"id\":\"divSend\"}},[_c('div',{staticClass:\"heading-border mb-2 ml-2 mr-2\"},[_c('h5',{staticClass:\"h5\"},[_c('span',[_vm._v(_vm._s(_vm.$t(\"FillSendEmailForm\")))])])]),_c('div',{staticClass:\"col-sm-12 col-lg-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"SendAs\"))+\":\")]),_c('br'),_c('span',[_vm._v(_vm._s(_vm.UserName))])])]),_c('div',{staticClass:\"col-sm-12 col-lg-6\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"Subject\"))+\": \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.Subject),expression:\"form.Subject\"}],staticClass:\"form-control\",class:{ 'is-invalid': _vm.subjectError },attrs:{\"placeholder\":\"Subject\",\"maxlength\":\"300\",\"required\":\"\"},domProps:{\"value\":(_vm.form.Subject)},on:{\"blur\":_vm.validateSubject,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"Subject\", $event.target.value)}}}),(_vm.subjectError)?_c('small',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.subjectError))]):_vm._e()])]),_c('div',{staticClass:\"col-sm-12 col-md-10 col-lg-10 col-xl-10 float-left p-2\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"Recipients\"))+\": \"),_c('span',{staticClass:\"text-danger\"},[_vm._v(\"*\")])]),_c('div',{staticClass:\"form-group\",attrs:{\"id\":\"toRecipients\"}},[_c('Form',{ref:\"emailRecipient\",staticClass:\"row\",scopedSlots:_vm._u([{key:\"default\",fn:function({ valid, errors }){return _vm._l((_vm.emails),function(entry,index){return _c('div',{key:entry.id,staticClass:\"col-lg-12\"},[_c('Field',{attrs:{\"rules\":{ required: true },\"name\":\"email\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ field, errors }){return [_c('div',{staticClass:\"col-sm-12 col-md-10 col-lg-10 col-xl-10 float-left p-2 bg-light\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(entry.email),expression:\"entry.email\"}],class:{ 'form-control ': true, 'is-invalid': errors[0], 'bg-white': index == 0 ? true : false },attrs:{\"type\":\"email\",\"disabled\":!entry.isEditing,\"readonly\":!entry.isEditing,\"placeholder\":\"Enter email\"},domProps:{\"value\":(entry.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(entry, \"email\", $event.target.value)}}}),(errors.length)?_c('span',{staticClass:\"text-danger\"},[_vm._v(_vm._s(errors[0]))]):_vm._e()]),_c('div',{staticClass:\"col-sm-12 col-md-2 col-lg-2 col-xl-2 float-left single-action mt-2\",attrs:{\"id\":\"basic-addon2\"}},[_c('a',{staticClass:\"actionicons float-left mr-3\",attrs:{\"title\":\"Edit\",\"href\":\"javascript:;\",\"data-toggle\":\"tooltip\",\"data-original-title\":\"Edit\"},on:{\"click\":function($event){return _vm.editRecipient(index)}}},[_c('i',{staticClass:\"fa fa-pencil text-success font-size-icons\"})]),(_vm.UpdateEmailsArray == index + 1)?_c('a',{staticClass:\"actionicons float-left clsforAddMore\",attrs:{\"title\":\" Add More\",\"href\":\"javascript:;\",\"data-toggle\":\"tooltip\",\"data-original-title\":\"Add More\"},on:{\"click\":function($event){return _vm.addNewRecipient(entry, index)}}},[_c('i',{staticClass:\"fa fa-plus-circle text-dark font-size-icons\"})]):_vm._e(),(index > 0)?_c('a',{staticClass:\"actionicons float-left mr-3\",attrs:{\"href\":\"javascript:;\",\"idfor\":\"ancDeleRecp\"},on:{\"click\":function($event){return _vm.deleteRecipient(index)}}},[_c('i',{staticClass:\"fa fa-trash font-size-icons text-danger\"})]):_vm._e()])]}}],null,true)})],1)})}}])})],1)])]),_c('div',{staticClass:\"col-sm-12 col-lg-6 options\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"SendMeCopy\"))+\":\")]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.sendMeCopy),expression:\"form.sendMeCopy\"}],staticClass:\"custom-control-input\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"checkbox\",\"name\":\"SendMeCopy\",\"id\":\"chk_11\"},domProps:{\"checked\":Array.isArray(_vm.form.sendMeCopy)?_vm._i(_vm.form.sendMeCopy,null)>-1:(_vm.form.sendMeCopy)},on:{\"change\":function($event){var $$a=_vm.form.sendMeCopy,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"sendMeCopy\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"sendMeCopy\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"sendMeCopy\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label universal-custom-control-label pt-1\",attrs:{\"for\":\"chk_11\"}})])])]),_c('div',{staticClass:\"col-sm-12 col-lg-6 options\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"IncludePDFInvoice\"))+\":\")]),_c('div',{staticClass:\"custom-control custom-checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.includePdf),expression:\"form.includePdf\"}],staticClass:\"custom-control-input\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"checkbox\",\"name\":\"IncludePdf\",\"id\":\"chk_12\"},domProps:{\"checked\":Array.isArray(_vm.form.includePdf)?_vm._i(_vm.form.includePdf,null)>-1:(_vm.form.includePdf)},on:{\"change\":function($event){var $$a=_vm.form.includePdf,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.form, \"includePdf\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.form, \"includePdf\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.form, \"includePdf\", $$c)}}}}),_c('label',{staticClass:\"custom-control-label universal-custom-control-label pt-1\",attrs:{\"for\":\"chk_12\"}})])])]),_c('div',{staticClass:\"col-sm-12 col-lg-12\"},[_c('div',{staticClass:\"form-group\"},[_c('label',[_vm._v(_vm._s(_vm.$t(\"Message\"))+\":\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.Message),expression:\"form.Message\"}],staticClass:\"form-control\",attrs:{\"placeholder\":\"Type your description here\",\"maxlength\":\"500\"},domProps:{\"value\":(_vm.form.Message)},on:{\"change\":_vm.testLength,\"keyup\":_vm.testLength,\"paste\":_vm.testLength,\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.form, \"Message\", $event.target.value)}}})])])]),_c('div',{staticClass:\"row flex-row-reverse\"},[_c('div',{staticClass:\"col-lg-12 text-right\"},[_c('a',{staticClass:\"btn btn-success text-white\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"title\":\"Send\",\"id\":\"aSendBill\"},on:{\"click\":_vm.sendInvoice}},[_c('i',{staticClass:\"fa fa-send pr-2\"}),_vm._v(\"Send\")]),_c('a',{staticClass:\"btn btn-danger text-white\",staticStyle:{\"cursor\":\"pointer\",\"margin-left\":\"6px\"},attrs:{\"title\":\"Cancel\",\"id\":\"aCancelBill\"},on:{\"click\":_vm.Close}},[_c('i',{staticClass:\"fa fa-close pr-2\"}),_vm._v(\"Cancel\")])])])])])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div class=\"my-popups\">\r\n            <loader :is-visible=\"isLoading\"></loader>\r\n            <div class=\"modal d-block\">\r\n                <div class=\"modal-dialog modal-dialog-centered\">\r\n                    <div class=\"modal-content\">\r\n                        <div class=\"modal-header theme-primary partition-full d-flex\">\r\n                            <h5 class=\"modal-title\">{{ $t(\"SendInvoice\") }}</h5>\r\n                            <button type=\"button\" class=\"close\" @click=\"Close\">\r\n                                <em class=\"fa fa-times\" aria-hidden=\"true\"></em>\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div class=\"modal-body\">\r\n                            <div class=\"row\" id=\"divSend\">\r\n                                <div class=\"heading-border mb-2 ml-2 mr-2\">\r\n                                    <h5 class=\"h5\">\r\n                                        <span>{{ $t(\"FillSendEmailForm\") }}</span>\r\n                                    </h5>\r\n                                </div>\r\n\r\n                                <div class=\"col-sm-12 col-lg-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>{{ $t(\"SendAs\") }}:</label><br />\r\n                                        <span>{{ UserName }}</span>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-sm-12 col-lg-6\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>{{ $t(\"Subject\") }}: <span class=\"text-danger\">*</span></label>\r\n                                        <input v-model=\"form.Subject\" class=\"form-control\"\r\n                                            :class=\"{ 'is-invalid': subjectError }\" placeholder=\"Subject\"\r\n                                            maxlength=\"300\" required @blur=\"validateSubject\" />\r\n                                        <small v-if=\"subjectError\" class=\"text-danger\">{{ subjectError }}</small>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-sm-12 col-md-10 col-lg-10 col-xl-10 float-left p-2 \">\r\n                                    <div class=\"form-group\">\r\n                                        <label>{{ $t(\"Recipients\") }}: <span class=\"text-danger\">*</span></label>\r\n                                        <div class=\"form-group \" id=\"toRecipients\">\r\n                                            <Form class=\"row\" ref=\"emailRecipient\" v-slot=\"{ valid, errors }\">\r\n                                                <div class=\"col-lg-12\" v-for=\"(entry, index) in emails\" :key=\"entry.id\">\r\n                                                    <Field :rules=\"{ required: true }\" name=\"email\"\r\n                                                        v-slot=\"{ field, errors }\">\r\n\r\n                                                        <div\r\n                                                            class=\"col-sm-12 col-md-10 col-lg-10 col-xl-10 float-left p-2 bg-light\">\r\n                                                            <input type=\"email\"\r\n                                                                v-bind:class=\"{ 'form-control ': true, 'is-invalid': errors[0], 'bg-white': index == 0 ? true : false }\"\r\n                                                                :disabled=\"!entry.isEditing\" v-model=\"entry.email\"\r\n                                                                :readonly=\"!entry.isEditing\"\r\n                                                                placeholder=\"Enter email\" />\r\n                                                            <span v-if=\"errors.length\" class=\"text-danger\">{{ errors[0]\r\n                                                            }}</span>\r\n                                                        </div>\r\n                                                        <div class=\"col-sm-12 col-md-2 col-lg-2 col-xl-2 float-left single-action mt-2\"\r\n                                                            id=\"basic-addon2\">\r\n                                                            <a title=\"Edit\" href=\"javascript:;\"\r\n                                                                @click=\"editRecipient(index)\"\r\n                                                                class=\"actionicons float-left mr-3\"\r\n                                                                data-toggle=\"tooltip\" data-original-title=\"Edit\">\r\n                                                                <i\r\n                                                                    class=\"fa fa-pencil text-success font-size-icons\"></i>\r\n                                                            </a>\r\n                                                            <a v-if=\"UpdateEmailsArray == index + 1\" title=\" Add More\"\r\n                                                                href=\"javascript:;\"\r\n                                                                @click=\"addNewRecipient(entry, index)\"\r\n                                                                class=\"actionicons float-left clsforAddMore\"\r\n                                                                data-toggle=\"tooltip\" data-original-title=\"Add More\">\r\n                                                                <i\r\n                                                                    class=\"fa fa-plus-circle text-dark font-size-icons\"></i>\r\n                                                            </a>\r\n                                                            <a v-if=\"index > 0\" href=\"javascript:;\"\r\n                                                                @click=\"deleteRecipient(index)\" idfor=\"ancDeleRecp\"\r\n                                                                class=\"actionicons float-left mr-3\">\r\n                                                                <i class=\"fa fa-trash font-size-icons text-danger\"></i>\r\n                                                            </a>\r\n                                                        </div>\r\n                                                    </Field>\r\n\r\n                                                </div>\r\n                                            </Form>\r\n                                        </div>\r\n                                        <!-- <ul class=\"options p-0\" id=\"toRecipients\" style=\"list-style:none;\">\r\n                                            <li class=\"row m-0\">\r\n                                                <div class=\"col-sm-12 col-md-10 col-lg-10 col-xl-10 float-left p-2 bg-light\">\r\n                                                    <span v-if=\"!isEditing\" @click=\"editRecipient\">\r\n                                                        {{ form.invoiceTo === 2 ? form.companyName : form.email }}\r\n                                                    </span>\r\n                                                    <input\r\n                                                        v-else\r\n                                                        type=\"text\"\r\n                                                        v-model=\"editableRecipient\"\r\n                                                        class=\"form-control\"\r\n                                                        maxlength=\"50\"\r\n                                                        @blur=\"updateRecipient\"\r\n                                                        ref=\"recipientInput\"\r\n                                                    />\r\n                                                </div>\r\n                                                <div class=\"col-sm-12 col-md-2 col-lg-2 col-xl-2 float-left single-action mt-2\">\r\n                                                    <a href=\"#\" @click.prevent=\"editRecipient\" class=\"actionicons float-left mr-3\">\r\n                                                        <i class=\"fa fa-pencil text-success font-size-icons\" alt=\"Edit\"></i>\r\n                                                    </a>\r\n                                                    <a href=\"#\" @click.prevent=\"addRecipient\" class=\"actionicons float-left clsforAddMore\">\r\n                                                        <i class=\"fa fa-plus-circle text-dark font-size-icons\" alt=\"Add More\"></i>\r\n                                                    </a>\r\n                                                </div>\r\n                                            </li>\r\n                                        </ul> -->\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-sm-12 col-lg-6 options\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>{{ $t(\"SendMeCopy\") }}:</label>\r\n                                        <div class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" name=\"SendMeCopy\" id=\"chk_11\"\r\n                                                class=\"custom-control-input\" v-model=\"form.sendMeCopy\"\r\n                                                style=\"display: none;\">\r\n                                            <label class=\"custom-control-label universal-custom-control-label pt-1\"\r\n                                                for=\"chk_11\"></label>\r\n                                        </div>\r\n\r\n                                        <!-- <input type=\"checkbox\" v-model=\"form.sendMeCopy\" /> -->\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-sm-12 col-lg-6 options\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>{{ $t(\"IncludePDFInvoice\") }}:</label>\r\n                                        <div class=\"custom-control custom-checkbox\">\r\n                                            <input type=\"checkbox\" name=\"IncludePdf\" id=\"chk_12\"\r\n                                                class=\"custom-control-input\" v-model=\"form.includePdf\"\r\n                                                style=\"display: none;\">\r\n                                            <label class=\"custom-control-label universal-custom-control-label pt-1\"\r\n                                                for=\"chk_12\"></label>\r\n                                        </div>\r\n                                        <!-- <input type=\"checkbox\" v-model=\"form.includePdf\" /> -->\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"col-sm-12 col-lg-12\">\r\n                                    <div class=\"form-group\">\r\n                                        <label>{{ $t(\"Message\") }}:</label>\r\n                                        <textarea v-model=\"form.Message\" class=\"form-control\"\r\n                                            placeholder=\"Type your description here\" maxlength=\"500\"\r\n                                            @change=\"testLength\" @keyup=\"testLength\" @paste=\"testLength\"></textarea>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row flex-row-reverse\">\r\n                                <div class=\"col-lg-12 text-right\">\r\n                                    <a class=\"btn btn-success text-white\" title=\"Send\" style=\"cursor: pointer;\"\r\n                                        id=\"aSendBill\" @click=\"sendInvoice\"><i class=\"fa fa-send pr-2\"></i>Send</a>\r\n                                    <a class=\"btn btn-danger text-white\" title=\"Cancel\"\r\n                                        style=\"cursor: pointer;margin-left: 6px\" id=\"aCancelBill\" @click=\"Close\"><i\r\n                                            class=\"fa fa-close pr-2\"></i>Cancel</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport DataService from '../../../services/DataService';\r\n\r\nexport default {\r\n    props: {\r\n        BillId: { type: Number },\r\n        InvoiceBillId: { type: String }\r\n    },\r\n    computed: {\r\n        UpdateEmailsArray() {\r\n            return this.emails ? this.emails.length : 0;\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            UserName: this.GetUserInfo.Name,\r\n            form: {\r\n                BillId: this.BillId,\r\n                Reciepients: \"\",\r\n                Subject: null,\r\n                Message: null,\r\n                SendMeCopy: false,\r\n                IncludePdf: false,\r\n                UserId: this.GetUserInfo.ID,\r\n                Name: null,\r\n                Email: null,\r\n                ReportType: \"\",\r\n                ReportName: \"TalygenInvoice\",\r\n                IsDetail: null,\r\n                IsSummary: null,\r\n                InvoiceTo: 1,\r\n                CompanyName: null,\r\n                SubModuleCode: null,\r\n                TemplateName: null\r\n\r\n            },\r\n            isEditing: false,\r\n            editableRecipient: \"\",\r\n            isLoading: false,\r\n            emails: [],\r\n            nextId: 2,\r\n            currentEditingIndex: null,\r\n            subjectError: \"\",\r\n        }\r\n    },\r\n\r\n    created() {\r\n        debugger\r\n        this.fetchData();\r\n        this.InvoiceBillId;\r\n    },\r\n    methods: {\r\n        async fetchData() {\r\n            const response = await DataService.Send(`id=${this.BillId}`);\r\n            if (response.data != null) {\r\n                let data = response.data[0]\r\n                this.form.Email = data.EMAIL_ID;\r\n                this.form.InvoiceTo = data.INVOICE_TO;\r\n                this.form.CompanyName = data.COMPANY_NAME;\r\n                this.form.UserId = data.USER_ID\r\n                var email = {\r\n                    id: 0,\r\n                    email: data.EMAIL_ID,\r\n                    isEditing: false\r\n                }\r\n                this.emails.push(email);\r\n            }\r\n        },\r\n        editRecipient(index) {\r\n            this.emails[index].isEditing = !this.emails[index].isEditing;\r\n\r\n        },\r\n        updateRecipient() {\r\n            if (this.form.invoiceTo === 2) {\r\n                this.form.companyName = this.editableRecipient;\r\n            } else {\r\n                this.form.email = this.editableRecipient;\r\n            }\r\n            this.isEditing = false;\r\n        },\r\n        addNewRecipient() {\r\n            this.$refs.emailRecipient.validate().then(result => {\r\n                if (result) {\r\n                    this.emails.push({\r\n                        id: this.nextId++,\r\n                        email: '',\r\n                        isEditing: true\r\n                    });\r\n                } else {\r\n                    console.log(\"Validation failed\");\r\n                }\r\n            }).catch(error => {\r\n                console.error(\"Validation error: \", error);\r\n            });\r\n        },\r\n        deleteRecipient(index) {\r\n            this.emails.splice(index, 1);\r\n        },\r\n        testLength(event) {\r\n            if (event.target.value.length > 500) {\r\n                event.target.value = event.target.value.substring(0, 500);\r\n            }\r\n        },\r\n        Close() {\r\n            var vm = this;\r\n            vm.$parent.isSendBill = false;\r\n        },\r\n        validateEmail(email) {\r\n            const regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$/;\r\n            return regex.test(email);\r\n        },\r\n        validateSubject() {\r\n            if (!this.form.Subject || this.form.Subject.trim() === \"\") {\r\n                this.subjectError = \"Subject is required.\";\r\n                return false;\r\n            } else {\r\n                this.subjectError = \"\";\r\n                return true;\r\n            }\r\n        },\r\n        async sendInvoice() {\r\n            \r\n            let vm = this;\r\n            vm.isLoading = true;\r\n            if (!this.validateSubject()) {\r\n                return;  // stop sending if validation fails\r\n            }\r\n            const emailString = this.emails.map(item => item.email).join(\",\");\r\n            this.form.Reciepients = emailString;\r\n\r\n            try {\r\n                const response = await DataService.SendInvoice(JSON.stringify(this.form));\r\n                if (response.data.status == \"Success\") {\r\n                    vm.isLoading = false;\r\n                    vm.ShowAlert(vm.$t(\"Invoice sent successfully!\"), \"success\");\r\n                    vm.Close();\r\n                } else {\r\n                    vm.isLoading = false\r\n                    console.error(\"API error:\", response.data);\r\n                }\r\n            } catch (err) {\r\n                console.error(\"Request failed\", err);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendBill.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SendBill.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./SendBill.vue?vue&type=template&id=239d865c\"\nimport script from \"./SendBill.vue?vue&type=script&lang=js\"\nexport * from \"./SendBill.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}