(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f1eed47"],{"7cb5":function(e,t,a){"use strict";a("fbcf")},"86c7":function(e,t,a){var s=a("4bad");t=s(!1),t.push([e.i,".task-details{margin-top:20px;padding:15px;border:1px solid #ccc;background:#f9f9f9;max-width:300px}.fc-theme-standard th{background:#2c3e50;line-height:40px}.fc-theme-standard th a{color:#fff}",""]),e.exports=t},a1aa:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("section",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"mt-2"},[t("FullCalendar",{ref:"calendar",attrs:{options:e.calendarOptions}}),e.selectedTask&&!e.isAddCloseEvent?t("div",{staticClass:"task-details"},[t("h4",[e._v(e._s(e.selectedTask.title))]),t("p",[t("strong",[e._v("Start:")]),e._v(" "+e._s(e.selectedTask.startStr))]),t("p",[t("strong",[e._v("End:")]),e._v(" "+e._s(e.selectedTask.endStr))])]):e._e()],1),e.isAddCloseEvent?t("AddEvent",{attrs:{eventData:e.selectedTask},on:{Close:e.Close}}):e._e()],1)},i=[],n=(a("13d5"),a("7516")),l=a("3cdb"),r=a("9769"),o=function(){var e=this,t=e._self._c;return t("section",[t("div",{staticClass:"my-popups"},[t("div",{staticClass:"modal d-block"},[t("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg ui-draggable"},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header ui-draggable-handle"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:e.Close}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title"},[e._v(" "+e._s(e.$t("Manage Event"))+" ")])]),t("div",{staticClass:"modal-body"},[t("div",{staticClass:"border p-3"},[t("Form",{ref:"form"},[t("dynamic-form",{ref:"dynamicform",attrs:{lang:"en",schema:e.FormSchema},on:{OnSubmit:e.onSubmit}}),[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-2",attrs:{id:"divInviteMembers"}},[t("div",{staticClass:"listing"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("Invite Member(s)")))])])]),t("div",{staticClass:"form-group mt-4"},[t("label",{staticClass:"switch w70"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.showInviteMembers,expression:"showInviteMembers"}],staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showInviteMembers)?e._i(e.showInviteMembers,null)>-1:e.showInviteMembers},on:{change:function(t){var a=e.showInviteMembers,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=null,l=e._i(a,n);s.checked?l<0&&(e.showInviteMembers=a.concat([n])):l>-1&&(e.showInviteMembers=a.slice(0,l).concat(a.slice(l+1)))}else e.showInviteMembers=i}}}),t("span",{staticClass:"slider round",staticStyle:{cursor:"default"}},[t("span",{staticClass:"slider-yes"},[e._v(e._s(e.$t("Yes")))]),t("span",{staticClass:"slider-no"},[e._v(e._s(e.$t("No")))])])])]),e.showInviteMembers?t("div",{staticClass:"table-responsive table-fix-header float-left",staticStyle:{"max-height":"350px"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblMembers"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{staticClass:"search"},[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkItems custom-control-input",attrs:{id:"chkAllManage1",type:"checkbox"},domProps:{checked:e.selectedUserIds.length===e.ListFeedBackData.data.length},on:{change:function(t){return e.onChange("chkAllCheckbox")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkAllManage1"}})])])]),t("th",[e._v(" User Name "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhField",placeholder:"Search By User Name"},on:{keyup:e.ListFilteringusername}})]),t("th",{attrs:{id:"th-EMAIL"}},[e._v(" "+e._s(e.$t("Email"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldemail",placeholder:"Search By Email"},on:{keyup:e.ListFilteringEmail}})]),t("th",{attrs:{id:"th-DESIGNATION"}},[e._v(" "+e._s(e.$t("Designation"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldDesignation",placeholder:"Search By Designation"},on:{keyup:e.ListFilteringDesignation}})]),t("th",{attrs:{id:"th-DEPARTMENT"}},[e._v(" "+e._s(e.$t("Department"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFielddepartment",placeholder:"Search By Department"},on:{keyup:e.ListFilteringDepartment}})])])]),1==e.searchfound?t("tbody",[t("tr",[t("td",{staticClass:"text-center text-danger no_records no-record",attrs:{colspan:"5"}},[e._v(" No record(s) found ")])])]):t("tbody",{attrs:{id:"tblUserList"}},e._l(0!=e.searchColumnfilter.length?e.searchColumnfilter:e.ListFeedBackData.data,(function(a,s){return t("tr",{key:a.user_id},[t("td",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkinneritem custom-control-input",attrs:{id:"chkAll"+s,type:"checkbox"},domProps:{checked:e.selectedUserIds.find(e=>e==a.user_id),value:a.user_id},on:{change:function(t){return e.onChange("innerChkBoxes")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkAll"+s}})])])]),t("td",[t("span",[e._v(e._s(a.username))])]),t("td",[t("span",[e._v(e._s(a.email_id))])]),t("td",[t("span",[e._v(e._s(a.designation_name))])]),t("td",[t("span",[e._v(e._s(a.department_name))])])])})),0)])]):e._e()])])],[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 mb-2",attrs:{id:"divInviteClient"}},[t("div",{staticClass:"listing mt-4"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("Invite Client(s)")))])])]),t("div",{staticClass:"form-group mt-4 col-sm-6 col-md-5 col-lg-5 float-left pr-1 pl-0 px-small-0"},[t("label",{staticClass:"switch w70"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.showInviteClient,expression:"showInviteClient"}],staticClass:"form-check-input custom-control-input dynamic",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.showInviteClient)?e._i(e.showInviteClient,null)>-1:e.showInviteClient},on:{change:[function(t){var a=e.showInviteClient,s=t.target,i=!!s.checked;if(Array.isArray(a)){var n=null,l=e._i(a,n);s.checked?l<0&&(e.showInviteClient=a.concat([n])):l>-1&&(e.showInviteClient=a.slice(0,l).concat(a.slice(l+1)))}else e.showInviteClient=i},e.GetProjectList]}}),t("span",{staticClass:"slider round",staticStyle:{cursor:"default"}},[t("span",{staticClass:"slider-yes"},[e._v(e._s(e.$t("Yes")))]),t("span",{staticClass:"slider-no"},[e._v(e._s(e.$t("No")))])])])]),e.showInviteClient?t("div",{staticClass:"col-sm-6 col-md-5 col-lg-5 float-left pr-1 pl-0 px-small-0 mt-4"},[t("div",{staticClass:"form-group mb-1"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.ProjectId,expression:"ProjectId"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.ProjectId=t.target.multiple?a:a[0]},e.onProjectChange]}},[t("option",{attrs:{value:""}},[e._v(e._s(e.$t("Select Project")))]),e._l(e.ProjectData,(function(a,s){return t("option",{key:s,domProps:{value:a.PROJECT_ID}},[e._v(e._s(a.PROJECT_NAME))])}))],2)])]):e._e(),e.isShowProject?t("div",{staticClass:"table-responsive table-fix-header float-left",staticStyle:{"max-height":"350px"}},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"tblMembers"}},[t("thead",{staticClass:"thead-bg"},[t("tr",{staticClass:"search"},[t("th",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkItems custom-control-input",attrs:{id:"chkAllManage2",type:"checkbox"},domProps:{checked:e.selectedUserId.length===e.ClientData.length},on:{change:function(t){return e.onChangeCheck("chkAllbox")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"chkAllManage2"}})])])]),t("th",{attrs:{id:"th-USERNAME"}},[e._v(" User Name "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldUserName",placeholder:"Search By User Name"},on:{keyup:e.FilteringUserName}})]),t("th",{attrs:{id:"th-EMAILID"}},[e._v(" "+e._s(e.$t("Email"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldEmail",placeholder:"Search By Email"},on:{keyup:e.FilteringEmail}})]),t("th",{attrs:{id:"th-STATUSNAME"}},[e._v(" "+e._s(e.$t("STATUS_NAME"))+" "),t("input",{staticClass:"form-control search",attrs:{type:"text",id:"SearhFieldStatusName",placeholder:"Search By Status Name"},on:{keyup:e.FilteringStatusName}})])])]),1==e.searchfound?t("tbody",[t("tr",[t("td",{staticClass:"text-center text-danger no_records no-record",attrs:{colspan:"5"}},[e._v(" No record(s) found ")])])]):t("tbody",{attrs:{id:"tblUserList"}},e._l(0!=e.searchfilter.length?e.searchfilter:e.ClientData,(function(a,s){return t("tr",{key:a.USER_ID},[t("td",{staticClass:"text-center",staticStyle:{width:"50px !important"}},[t("label",{staticClass:"form-check form-check-inline"},[t("div",{staticClass:"custom-control custom-checkbox custom-control-inline"},[t("input",{staticClass:"chkinneritem custom-control-input",attrs:{id:"CheckAll"+s,type:"checkbox"},domProps:{checked:e.selectedUserId.find(e=>e==a.USER_ID),value:a.USER_ID},on:{change:function(t){return e.onChangeCheck("innerChkBoxe")}}}),t("label",{staticClass:"custom-control-label",attrs:{for:"CheckAll"+s}})])])]),t("td",[t("span",[e._v(e._s(a.USER_NAME))])]),t("td",[t("span",[e._v(e._s(a.EMAIL_ID))])]),t("td",[t("span",[e._v(e._s(a.STATUS_NAME))])])])})),0)])]):e._e()])])],e.EventId?t("div",{staticClass:"form-group mt-2"},[t("div",{staticClass:"p-3"},[t("label",{staticClass:"mt-4"},[t("strong",[e._v("Do you want to reschedule the entire series of this event?:")])]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.isReschedule,expression:"isReschedule"}],attrs:{type:"radio",id:"scheduleYes",value:"yes",name:"reschedule"},domProps:{checked:e._q(e.isReschedule,"yes")},on:{change:function(t){e.isReschedule="yes"}}}),t("label",{staticClass:"mr-2",attrs:{for:"scheduleYes"}},[e._v("Yes")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.isReschedule,expression:"isReschedule"}],attrs:{type:"radio",id:"scheduleNo",value:"no",name:"reschedule"},domProps:{checked:e._q(e.isReschedule,"no")},on:{change:function(t){e.isReschedule="no"}}}),t("label",{staticClass:"mr-2",attrs:{for:"scheduleNo"}},[e._v("No")])])]):e._e(),t("div",{staticClass:"row flex-row-reverse mt-2 pt-2"},[t("div",{staticClass:"col-lg-6 text-right"},[t("button",{staticClass:"btn btn-success mr-2",attrs:{type:"submit",title:"Save"},on:{click:e.onSubmit}},[t("i",{staticClass:"fa fa-save pr-2"}),e._v(e._s(e.$t("Save"))+" ")]),t("a",{staticClass:"btn btn-danger ml-2",attrs:{href:"javascript:;",title:""},on:{click:e.Close}},[t("i",{staticClass:"fa fa-close pr-2"}),e._v(e._s(e.$t("Cancel"))+" ")])])])],2)],1)])])])])])])},c=[],d=(a("14d9"),a("88e6"),a("70cc"),a("eb03"),a("22e5"),a("c01e"),a("fa76"),a("8306"),a("1157"),{props:{eventData:{type:Array,required:!1}},data(){return{ListFeedBackData:[],selectedUserIds:[],selectedUserId:[],searchusername:"",searchemail:"",searchDesignation:"",searchDepartment:"",searchfound:!1,searchColumnfilter:[],searchfilter:[],SelectedFeedBackIds:[],SelectedClientId:[],sliderValue:null,showInviteMembers:!1,showInviteClient:!1,isShowProject:!1,isReschedule:!1,ProjectData:[],ClientData:[],EventData:[],RecurringData:[],ReminderData:[],LocationData:[],ProjectId:"",EventId:"",PriorityData:[],SourcesData:[],FindalLocationArray:[],SubCatData:[],FormSchema:[{layoutType:"double",group_name:this.$t("General Information"),Data:[{astype:"TextField",label:this.$t("Subject"),name:"Subject",value:"",placeholder:"Subject",validationRules:{required:!0},disabled:!1},{astype:"TextField",label:this.$t("Agenda"),name:"Agenda",value:"",placeholder:"Agenda",validationRules:{required:!1}},{astype:"TextField",label:this.$t("Speaker"),name:"Speaker",value:"",placeholder:"Speaker",validationRules:{required:!1}},{astype:"CheckBoxField",label:this.$t("Is All Day"),name:"IsAllDay",value:"",config:{options:[{name:"",value:"true"}],onChange:this.onChangeWireCenter},validationRules:{required:!1}},{astype:"DateField",label:this.$t("Start Date"),name:"StartDate",value:new Date,placeholder:this.$t("StartDate"),validationRules:{required:!0},config:{mode:"date",format:"M/D/YYYY"}},{astype:"DateField",label:this.$t("End Date"),name:"EndDate",value:new Date,placeholder:this.$t("EndDate"),validationRules:{required:!0},config:{mode:"date",format:"M/D/YYYY"}},{astype:"DateField",label:this.$t("Start Time"),name:"Start Time",value:"",placeholder:"Please Select",visibility:!0,config:{mode:"time",is24hr:!0}},{astype:"DateField",label:this.$t("End Time"),name:"End Time",value:"",placeholder:"Please Select",visibility:!0,config:{mode:"time",is24hr:!0}},{astype:"TextField",label:this.$t("Event Url"),name:"EventUrl",value:"",placeholder:"Event Url",validationRules:{required:!0},disabled:!1},{astype:"TextField",label:this.$t("Contact Person"),name:"ContactPerson",value:"",placeholder:"Contact Person",validationRules:{required:!1}},{astype:"TextField",label:this.$t("Phone Number"),name:"PhoneNumber",value:"",placeholder:"Phone Number",validationRules:{required:!1},disabled:!1},{astype:"TextField",label:this.$t("Email"),name:"Email",value:"",placeholder:"Email",validationRules:{required:!1}},{astype:"TextField",label:this.$t("Event Website"),name:"EventWebsite",value:"",placeholder:"Event Website",validationRules:{required:!1}}]},{layoutType:"double",group_name:this.$t("Venue"),Data:[{astype:"SelectField",label:this.$t("Venue"),name:"Venue",value:"",placeholder:"Venue",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Recurring"),name:"Recurring",value:"",placeholder:"Recurring",config:{options:[]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Event Reminder"),name:"EventReminder",value:"",placeholder:"Event Reminder",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Priority"),name:"Priority",value:"",placeholder:"Priority",config:{options:[]},validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:1001,placeholder:"Status",config:{options:[]},validationRules:{required:!0}},{astype:"RadioField",label:"Do you want to share this with Google?",name:"isShareWithGoogle",value:0,placeholder:"",disabled:!1,chktxtIndex:0,visibility:!0,config:{options:[{value:0,name:"No"},{value:1,name:"Yes"}]},validationRules:{required:!1}},{astype:"SelectField",label:this.$t("Google Calendar"),name:"GoogleCalendar",value:"",placeholder:"Google Calendar",config:{options:[]},validationRules:{required:!1}},{astype:"RadioField",label:"",name:"Accessibility",value:1,placeholder:"",visibility:!1,config:{options:[{name:"Private",value:0},{name:"Public",value:1}],showAddIcon:!1}}]},{layoutType:"single",group_name:this.$t("Description"),Data:[{astype:"TextAreaField",label:this.$t("Description"),name:"Description",value:"",config:{rows:3},placeholder:this.$t(""),validationRules:{required:!0,max:2e3}}]}]}},async created(){this.eventData&&"undefined"!=typeof this.eventData&&(this.EventId=this.eventData.id),"CL"!=this.GetUserInfo.UserType&&(this.FormSchema[1].Data[7].visibility=!0),await this.GetLocationByuserId(),this.getuserlist(),await this.GetEventByEventId(),await this.GetStatusList(),await this.GetPriority(),await this.EventRecurring(),await this.EventReminder(),await this.GetCalSources()},methods:{Close:function(){this.$parent.Close()},getuserlist(){var e=this;e.ListFeedBackData=[];var t="FeedBackUserid="+e.GetUserInfo.ID;r["a"].GetUserfeedback(t).then((function(t){var a=JSON.parse(t.data[0]);null!=a&&void 0!=a&&(e.ListFeedBackData=a,e.noRecords=0===e.ListFeedBackData.length,e.TotalRecords=e.ListFeedBackData.length,e.TotalPages=Math.ceil(e.TotalRecords/e.PageSize),e.CurrentPage=parseInt(e.PageNumber))}))},async GetEventByEventId(){var e=this;if(e.isLoading=!0,e.EventId>0){var t="eventId="+e.EventId;await r["a"].GetEventByEventId(t).then(t=>{null!=t.data&&(e.EventData=[],e.EventData=t.data,e.FormSchema[0].Data[0].value=e.EventData.Event.EVENT_SUBJECT,e.FormSchema[0].Data[1].value=e.EventData.Event.AGENDA,e.FormSchema[0].Data[2].value=e.EventData.Event.SPEAKER,e.FormSchema[0].Data[3].value=1==e.EventData.Event.EVENT_IS_ALLDAY?"true":"",e.FormSchema[0].Data[4].value=e.$options.filters.formatDate(e.EventData.Event.EVENT_START_TIME),e.FormSchema[0].Data[5].value=e.$options.filters.formatDate(e.EventData.Event.EVENT_END_TIME),e.FormSchema[0].Data[6].value=e.$options.filters.formatTime(e.EventData.Event.EVENT_START_TIME),e.FormSchema[0].Data[7].value=e.$options.filters.formatTime(e.EventData.Event.EVENT_END_TIME),e.FormSchema[0].Data[8].value=e.EventData.Event.EVENT_URL,e.FormSchema[0].Data[9].value=e.EventData.Event.CONTACT_PERSON,e.FormSchema[0].Data[10].value=e.EventData.Event.PHONE_NUMBER,e.FormSchema[0].Data[11].value=e.EventData.Event.EMAIL_ID,e.FormSchema[0].Data[12].value=e.EventData.Event.EVENT_WEBSITE,e.FormSchema[1].Data[0].value=e.EventData.Event.EVENT_LOCATION_ID,e.FormSchema[1].Data[1].value=e.EventData.Event.EVENT_RECURRING_ID,e.FormSchema[1].Data[2].value=e.EventData.Event.EVENT_REMINDER_ID,e.FormSchema[1].Data[3].value=e.EventData.Event.EVENT_PRIORITY_ID,e.FormSchema[1].Data[4].value=e.EventData.Event.STATUS_ID,e.FormSchema[1].Data[6].value=e.EventData.Event.CAL_SOURCE_ID,e.FormSchema[2].Data[0].value=e.EventData.Event.EVENT_DESC,e.projectId=e.EventData.Event.PROJECT_ID,e.projectId>0&&(e.showInviteClient=!0,e.GetProjectList(),e.ProjectId=e.projectId,setTimeout(()=>{e.onProjectChange()},300)),e.isLoading=!1),e.isLoading=!1})}},ListFilteringusername:function(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhField"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.username;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},ListFilteringEmail(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhFieldemail"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.email_id;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},ListFilteringDesignation(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhFieldDesignation"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.designation_name;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},ListFilteringDepartment(){var e=this;document.querySelector("#chkAllManage1").checked=!1,e.onChange("innerChkBoxes");var t=document.getElementById("SearhFielddepartment"),a=t.value.toLowerCase(),s=e.ListFeedBackData.data.filter(e=>{var t=e.department_name;return t.toLowerCase().includes(a)});return e.searchColumnfilter=s,e.searchfound=0===s.length,e.searchColumnfilter},onChange(e){if("chkAllCheckbox"===e){const e=document.querySelector("#chkAllManage1").checked;this.selectedUserIds=e?this.ListFeedBackData.data.map(e=>e.user_id):[],this.SelectedFeedBackIds=[]}else if("innerChkBoxes"===e){this.selectedUserIds=Array.from(document.querySelectorAll(".chkinneritem.custom-control-input:checked")).map(e=>e.value);const e=[...this.SelectedFeedBackIds||[],...this.selectedUserIds];this.SelectedFeedBackIds=[...new Set(e)]}if(this.SelectedFeedBackIds.length>0)setTimeout(()=>{this.SelectedFeedBackIds.forEach(e=>{const t=document.querySelector(`.chkinneritem.custom-control-input[value="${e}"]`);t&&(t.checked=!0)})},300);else{this.SelectedFeedBackIds=[],console.log("Selected User IDs:",this.selectedUserIds);const e=this.ListFeedBackData.data.every(e=>this.selectedUserIds.includes(e.user_id));document.querySelector("#chkAllManage1").checked=e,console.log("All Checked:",e)}},async GetProjectList(){var e=this;e.isLoading=!0,e.showInviteClient?await r["a"].GetProjectList().then(t=>{null!=t.data&&(e.ProjectData=[],e.ProjectData=t.data,e.isShowProject=!1,e.isLoading=!1),e.isLoading=!1}):(e.isShowProject=!1,e.isLoading=!1,e.ProjectId="")},async onProjectChange(){this.ProjectId&&(await this.loadProjectDetails(this.ProjectId),this.isShowProject=!0)},async loadProjectDetails(e){var t=this;if(t.isLoading=!0,t.showInviteClient){var a=`eventId=${t.EventId}&projectId=${e}`;await r["a"].GetClientProjectList(a).then(e=>{null!=e.data&&(t.ClientData=[],t.ClientData=e.data,t.isLoading=!1),t.isLoading=!1})}else this.isShowProject=!1,t.isLoading=!1},FilteringUserName:function(){var e=this;document.querySelector("#chkAllManage2").checked=!1,e.onChangeCheck("innerChkBoxe");var t=document.getElementById("SearhFieldUserName"),a=t.value.toLowerCase(),s=e.ClientData.filter(e=>{var t=e.USER_NAME;return t.toLowerCase().includes(a)});return e.searchfilter=s,e.searchfound=0===s.length,e.searchfilter},FilteringEmail(){var e=this;document.querySelector("#chkAllManage2").checked=!1,e.onChangeCheck("innerChkBoxe");var t=document.getElementById("SearhFieldEmail"),a=t.value.toLowerCase(),s=e.ClientData.filter(e=>{var t=e.EMAIL_ID;return t.toLowerCase().includes(a)});return e.searchfilter=s,e.searchfound=0===s.length,e.searchfilter},FilteringStatusName(){var e=this;document.querySelector("#chkAllManage2").checked=!1,e.onChangeCheck("innerChkBoxe");var t=document.getElementById("SearhFieldStatusName"),a=t.value.toLowerCase(),s=e.ClientData.filter(e=>{var t=e.STATUS_NAME;return t.toLowerCase().includes(a)});return e.searchfilter=s,e.searchfound=0===s.length,e.searchfilter},onChangeCheck(e){if("chkAllbox"===e){const e=document.querySelector("#chkAllManage2").checked;this.selectedUserId=e?this.ClientData.map(e=>e.USER_ID):[],this.SelectedClientId=[]}else if("innerChkBoxe"===e){this.selectedUserId=Array.from(document.querySelectorAll(".chkinneritem.custom-control-input:checked")).map(e=>e.value);const e=[...this.SelectedClientId||[],...this.selectedUserId];this.SelectedClientId=[...new Set(e)]}if(this.SelectedClientId.length>0)setTimeout(()=>{this.SelectedClientId.forEach(e=>{const t=document.querySelector(`.chkinneritem.custom-control-input[value="${e}"]`);t&&(t.checked=!0)})},300);else{this.SelectedClientId=[],console.log("Selected User IDs:",this.selectedUserId);const e=this.ClientData.every(e=>this.selectedUserId.includes(e.USER_ID));document.querySelector("#chkAllManage2").checked=e,console.log("All Checked:",e)}},async GetStatusList(){var e=this;e.isLoading=!0,await r["a"].GetStatusList().then(t=>{null!=JSON.parse(t.data)&&(e.SubCatData=[],e.SubCatData=JSON.parse(t.data),e.SubCatData.forEach((t,a)=>{"Deleted"!=t.STATUS&&e.FormSchema[1].Data[4].config.options.push({name:t.STATUS,value:t.STATUS_ID})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})},async GetPriority(){var e=this;e.isLoading=!0,await r["a"].GetPriority().then(t=>{null!=t.data&&(e.PriorityData=[],e.PriorityData=t.data,e.PriorityData.forEach((t,a)=>{e.FormSchema[1].Data[3].config.options.push({name:t.PRIORITY_NAME,value:t.PRIORITY_ID})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})},GetLocationByuserId:async function(){var e=this;e.isLoading=!0;e=this;e.isLoading=!0,await r["a"].GetLocationByuserId().then(t=>{null!=t.data&&(e.LocationData=[],e.LocationData=t.data,e.LocationData.forEach((t,a)=>{e.FormSchema[1].Data[0].config.options.push({name:t.NAME,value:t.ID})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})},async EventRecurring(){var e=this;e.isLoading=!0,await r["a"].EventRecurring().then(t=>{null!=t.data&&(e.RecurringData=[],e.RecurringData=t.data,e.RecurringData.forEach((t,a)=>{e.FormSchema[1].Data[1].config.options.push({name:t.RecurringName,value:t.RecurringId})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})},async EventReminder(){var e=this;e.isLoading=!0,await r["a"].EventReminder().then(t=>{null!=t.data&&(e.ReminderData=[],e.ReminderData=t.data,e.ReminderData.forEach((t,a)=>{e.FormSchema[1].Data[2].config.options.push({name:t.ReminderMinute,value:t.ReminderId})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})},async GetCalSources(){var e=this;e.isLoading=!0,await r["a"].GetCalSources().then(t=>{null!=t.data&&(e.SourcesData=[],e.SourcesData=t.data,e.SourcesData.forEach((t,a)=>{e.FormSchema[1].Data[6].config.options.push({name:t.CalSourceName,value:t.CalSourceId})}),e.$refs.dynamicform.UpdateKeyValue(),e.isLoading=!1),e.isLoading=!1})},onSubmit(e){var t=this;t.$refs.form.validate().then(async e=>{if(e){t.isLoading=!0;let e={subject:t.FormSchema[0].Data[0].value||"",agenda:t.FormSchema[0].Data[1].value||"",speaker:t.FormSchema[0].Data[2].value||"",is_all_day:"true"==t.FormSchema[0].Data[3].value?1:0,start_date:t.$options.filters.formatDate(t.FormSchema[0].Data[4].value)||"",end_date:t.$options.filters.formatDate(t.FormSchema[0].Data[5].value)||"",start_time:t.$options.filters.formatTime(t.FormSchema[0].Data[6].value)||"",end_time:t.$options.filters.formatTime(t.FormSchema[0].Data[7].value)||"",event_url:t.FormSchema[0].Data[8].value||"",contact_person:t.FormSchema[0].Data[9].value||"",phone_number:t.FormSchema[0].Data[10].value||"",email:t.FormSchema[0].Data[11].value||"",event_website:t.FormSchema[0].Data[12].value||"",venue:t.FormSchema[1].Data[0].value||"",recurring:t.FormSchema[1].Data[1].value||"",event_reminder:t.FormSchema[1].Data[2].value||"",priority:t.FormSchema[1].Data[3].value||"",status:t.FormSchema[1].Data[4].value||"",isShareWithGoogle:0!=t.FormSchema[1].Data[5].value&&"true",cal_source_id:t.FormSchema[1].Data[6].value||"",accessibility:t.FormSchema[1].Data[7].value||"",description:t.FormSchema[2].Data[0].value||"",projectId:t.ProjectId||"",eventId:t.EventId||0,Invite_Member_Ids:t.selectedUserIds,Invite_Client_ids:t.selectedUserId,is_edit_future_record:"yes"==t.isReschedule?1:0};var a=JSON.stringify(e);r["a"].AddupdateEvent(a).then(e=>{if(t.isLoading=!1,200===e.status){const a=e.data.result[0];2===a.Status?t.ShowAlert(a.StatusMessage,"success",!0,t.$t("Alert")):t.ShowAlert(a.StatusMessage,"failure",!0,t.$t("Alert"))}})}})}}}),h=d,u=a("2877"),m=Object(u["a"])(h,o,c,!1,null,null,null),v=m.exports,p={components:{FullCalendar:n["a"],AddEvent:v},data(){return{ProjectId:0,isLoading:!1,isAddCloseEvent:!1,ListingData:[],PageSize:1e5,PageNumber:1,SortBy:"",SortExp:"",tasks:[],selectedTask:null,currentPopover:null,calendarOptions:{plugins:[l["a"]],initialView:"dayGridMonth",events:[],eventClick:this.onEventClick,eventMouseLeave:this.onEventMouseLeave,headerToolbar:{left:"prev,next today addEventButton",center:"title",right:"dayGridMonth,dayGridWeek,dayGridDay"},customButtons:{addEventButton:{text:"Add Event",click:()=>{this.addEventPopup()}}}}}},mounted(){this.LoadProjectTaskCalendar()},methods:{async LoadProjectTaskCalendar(){this.isLoading=!0;const e=this.$options.filters.formatDateYear(new Date),t=this.$options.filters.formatDateYear(new Date((new Date).setDate((new Date).getDate()-60))),a=`userId=${this.GetUserInfo.ID}&fromDate=${t}&toDate=${e}&locationId=0&requestedEventType=requestedEventType`;try{var s;const e=await r["a"].LoadProjectTaskCalendar(a);(null===(s=e.data)||void 0===s?void 0:s.length)>0&&(this.ListingData=e.data,this.tasks=this.ListingData.map(e=>({id:e.EVENTID,name:e.EVENTINFO,dateFrom:e.EVENTSTART,dateTo:e.EVENTEND,color:this.getStableColor(e.EVENTID),description:`${e.EVENTTYPE} | ${e.INVITATION_STATUS}`,isAllDay:1===e.IS_ALLDAY})),this.updateCalendarEvents())}catch(i){console.error("Failed to fetch events",i)}finally{this.isLoading=!1}},getStableColor(e){const t=e.toString().split("").reduce((e,t)=>e+t.charCodeAt(0),0);return"#"+(16777215&t).toString(16).padStart(6,"0")},Close(){var e=this;e.isAddCloseEvent=!1},onEventMouseLeave(e){this.currentPopover&&($(this.currentPopover).popover("hide"),this.currentPopover=null)},updateCalendarEvents(){const e=this.$refs.calendar.getApi();e.removeAllEvents(),this.tasks.forEach(t=>{e.addEvent({id:t.id,title:t.name,start:t.dateFrom,end:t.isAllDay?this.addOneDay(t.dateTo):t.dateTo,color:t.color,allDay:t.isAllDay,extendedProps:{description:t.description}})})},addEventPopup(){var e=this;e.selectedTask=null,e.isAddCloseEvent=!0},onEventClick(e){var t=this;this.selectedTask={id:e.event.id,title:e.event.title,start:e.event.start,end:e.event.end,allDay:e.event.allDay,description:e.event.extendedProps.description},t.isAddCloseEvent=!0},addOneDay(e){const t=new Date(e);return t.setDate(t.getDate()+1),t.toISOString().split("T")[0]}}},g=p,C=(a("7cb5"),Object(u["a"])(g,s,i,!1,null,null,null));t["default"]=C.exports},fbcf:function(e,t,a){var s=a("86c7");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var i=a("499e").default;i("7894161c",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-2f1eed47.js.map