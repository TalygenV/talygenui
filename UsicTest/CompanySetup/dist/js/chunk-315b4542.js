(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-315b4542"],{"5fb0":function(t,e,a){"use strict";a("cba1")},"9bdb":function(t,e,a){var i=a("4bad");e=i(!1),e.push([t.i,".m-0[data-v-53b0216e],.ps[data-v-53b0216e]{margin:0}.ps[data-v-53b0216e]{padding:5px 0}.invoice-container[data-v-53b0216e]{max-width:1100px;width:1100px;min-width:1100px;margin:0 auto;background:#fff;padding:20px;border:1px solid #ddd;border-radius:5px;box-shadow:0 2px 5px rgba(0,0,0,.1);float:left}.header[data-v-53b0216e]{margin-bottom:20px}.header img[data-v-53b0216e]{max-height:50px}.invoice-details[data-v-53b0216e],.payment-advice[data-v-53b0216e]{margin-bottom:20px;width:100%;float:left}.invoice-details table.secondtable[data-v-53b0216e],.payment-advice table.secondtable[data-v-53b0216e]{width:100%;border-collapse:collapse;margin-top:10px}table.secondtable td[data-v-53b0216e],table.secondtable th[data-v-53b0216e]{border:1px solid #ddd;padding:10px;text-align:left}table.secondtable th[data-v-53b0216e]{background-color:#f4f4f4}.totals[data-v-53b0216e]{float:right;margin-top:10px;text-align:right;width:100%}.totals div[data-v-53b0216e]{margin-bottom:5px}.footer[data-v-53b0216e]{text-align:center;font-size:.9em;color:#666;margin-top:20px;width:100%;display:inline-block}@media (max-width:600px){.header[data-v-53b0216e]{flex-direction:column;align-items:flex-start}.totals[data-v-53b0216e]{float:none;text-align:left}}table.secondtable tbody td[data-v-53b0216e]{text-align:left}.header .div1[data-v-53b0216e]{width:49%;float:left!important}.header .div3[data-v-53b0216e]{width:40%;float:right!important}.header .div2[data-v-53b0216e]{width:100%;float:left!important}",""]),t.exports=e},c49a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",[e("tg-list",{attrs:{IsShowAction:!0,showCheckBox:!1,ModuleName:"Billing",listType:["List"],RenderRowActionMethod:t.renderActions,SubModuleCode:"Billing",IdentityColumn:"payment_id",HeaderText:"Payments",ListData:t.PaymentList,HeaderData:t.ListHeaders,callbackfunction:t.getPaymentList,HeaderButtons:[],TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,ListDataCallBackFunction:t.getPaymentList,LegendArray:[],SortExp:t.sortExp,SortBy:t.sortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{SortdataButtonClick:t.sortdata,PagerButtonClick:t.pagerMethod,LeftsearchButtonClick:t.leftCommonSearch,ActionButtonClick:t.actionButtonClick},scopedSlots:t._u([{key:"slotdata",fn:function({data:a}){return["payment_date"==a.column.COLUMN_NAME?[null!=a.row.payment_date?[e("div",[t._v(t._s(t.formatDateTime(a.row.payment_date)))])]:[e("div",[t._v("--")])]]:t._e(),"bill_issue_date"==a.column.COLUMN_NAME?[null!=a.row.bill_issue_date?[e("div",[t._v(t._s(t.formatDateTime(a.row.bill_issue_date)))])]:[e("div",[t._v("--")])]]:t._e(),"bill_due_date"==a.column.COLUMN_NAME?[null!=a.row.bill_due_date?[e("div",[t._v(t._s(t.formatDateTime(a.row.bill_due_date)))])]:[e("div",[t._v("--")])]]:t._e(),"invoice_amount"===a.column.COLUMN_NAME?[e("div",[t._v(t._s(t.$n(a.row.invoice_amount,"currency",t.$getLocaleByCurrency(t.CurrencyCode))))])]:t._e(),"paid_amount"===a.column.COLUMN_NAME?[e("div",[t._v(t._s(t.$n(a.row.paid_amount,"currency",t.$getLocaleByCurrency(t.CurrencyCode))))])]:t._e()]}}])}),t.isPaySlip?e("InvoicePaySlip",{attrs:{BillId:t.billId}}):t._e()],1)},s=[],n=(a("14d9"),a("9769")),o=a("f8c5");const l=[{COLUMN_NAME:"client_name",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Client Name",DISPLAY_ORDER:1},{COLUMN_NAME:"paid_amount",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Paid Amount",DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"invoice_amount",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Invoice Amount",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"bill_number",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Bill Number",DISPLAY_ORDER:4},{COLUMN_NAME:"payment_date",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Payment Date",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"bill_status",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Bill Status",DISPLAY_ORDER:6},{COLUMN_NAME:"bill_issue_date",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Bill Issue Date",DISPLAY_ORDER:7,settings:{isInSlot:!0}},{COLUMN_NAME:"bill_due_date",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Bill Due Date",DISPLAY_ORDER:8,settings:{isInSlot:!0}}];let r=[{fieldName:"Clients",fieldType:"text",fieldIcon:"fa-file-text-o",fieldSearchConditionName:["clientName"],paramName:"clientName",placeholder:"Search by client name",isSearch:!1,value:"",listOptions:[]},{fieldName:"Invoice Number",fieldType:"text",fieldIcon:"fa-file-text-o",fieldSearchConditionName:["invoiceNumber"],paramName:"invoiceNumber",placeholder:"Search by invoice number",isSearch:!1,value:"",listOptions:[]}],d=[{title:"View",href:"javascript:void(0)",callbackfunction:"ViewPlanDetails",icon:"fa fa-eye action-icon",additionalSpan:""}];var c={Headers:l,leftsearchSchema:r,listActions:d},m={components:{InvoicePaySlip:o["a"]},data(){return{isLoading:!1,PaymentList:[],ListHeaders:c.Headers,TotalRecords:0,leftSearchFields:c.leftsearchSchema,listActions:c.listActions,sortExp:"",sortBy:"",pageSize:10,pageNumber:1,isPaySlip:!1,billId:"",CurrencyCode:"PKR"}},created(){var t=this;this.getPaymentList(),t.CurrencyCode=t.GetUserInfo.Currency.replace(/[()]/g,"")},methods:{async getPaymentList(t=""){var e=this,a=`sortBy=${e.sortBy}&sortExp=${e.sortExp}&pageNumber=${e.pageNumber}&pageSize=${e.pageSize}&${t}`;await n["a"].getPaymentsListing(a).then(t=>{t&&t.data&&"Success"===t.data.status&&(this.PaymentList=JSON.parse(t.data.result),this.TotalRecords=this.PaymentList.length>0?this.PaymentList[0].totalRecords:0)})},pagerMethod(t){this.pageNumber=t.PageNumber,this.pageSize=t.PageSize,this.getPaymentList()},actionButtonClick(t,e){switch(t){case"ViewPlanDetails":this.clickPaySlip(e);break}},clickPaySlip(t){this.isPaySlip=!0,this.billId=t.Bill_id},renderActions(t){let e=[];return this.listActions.forEach(t=>{let a={...t};a.isVisible="View"===a.title,e.push(a)}),e},leftCommonSearch(t){this.getPaymentList(t.searchConditionJson)},formatDateTime(t){if(t)return new Date(t).toLocaleString()},sortdata:function(t){this.sortBy=t;var e="ASC";"ASC"==this.sortExp&&(e="DESC"),this.sortExp=e,this.sortBy=t,this.sortExp=e,this.PageNumber=1,this.getPaymentList()}}},p=m,u=a("2877"),y=Object(u["a"])(p,i,s,!1,null,null,null);e["default"]=y.exports},cba1:function(t,e,a){var i=a("9bdb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("346f5de7",i,!0,{sourceMap:!1,shadowMode:!1})},f8c5:function(t,e,a){"use strict";var i=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("PaySlipListing")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"d-flex justify-content-between align-items-center flex-wrap"}),e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",[t._v(t._s(t.$t("Serial#")))]),e("th",[t._v(t._s(t.$t("Bill#")))]),e("th",[t._v(t._s(t.$t("Payment Date")))]),e("th",{staticStyle:{"text-align":"center"}},[t._v(t._s(t.$t("Amount")))]),e("th",[t._v(t._s(t.$t("Status")))]),e("th",[t._v(t._s(t.$t("Reference number")))]),e("th",[t._v(t._s(t.$t("Payment mode")))]),e("th",[t._v(t._s(t.$t("Action")))])])]),e("tbody",t._l(t.transaction_history,(function(a,i){return e("tr",{key:i},[e("td",[t._v(t._s(i+1))]),e("td",[t._v(t._s(a.bill_number))]),e("td",[t._v(" "+t._s(t.$options.filters.formatDateTime(a.payment_date)))]),e("td",{staticStyle:{"text-align":"right"}},[t._v(" "+t._s(t.$n(a.bill_record_amount,"currency",t.$getLocaleByCurrency(t.CurrencyCode)))+" ")]),e("td",[t._v(t._s(a.PaymentStatus))]),e("td",[t._v(t._s(a.transaction_ref_id))]),e("td",[t._v(t._s(a.Payment_Mode))]),e("td",[e("a",{staticClass:"btn btn-info mr-2",attrs:{href:"javascript:;",title:t.$t("ViewSlip")},on:{click:function(e){return t.PrintPaySlip(a.bill_record_id)}}},[e("em",{staticClass:"fa fa-eye pr-2"}),t._v(t._s(t.$t("ViewSlip"))+" ")])])])})),0)])])])])])])])],1),t.IsPrint?e("PrintPaySlip",{attrs:{BillRecordData:t.BillRecordData}}):t._e()],1)},s=[],n=a("9769"),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"my-popups"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"modal d-block"},[e("div",{staticClass:"modal-dialog modal-dialog-centered",staticStyle:{width:"1140px"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header theme-primary partition-full d-flex"},[e("h5",{staticClass:"modal-title"},[t._v(t._s(t.$t("Pay Slip")))]),e("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.Close}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"invoice-container",staticStyle:{padding:"5px"},attrs:{id:"printArea"}},[e("h2",{staticStyle:{"margin-top":"0",color:"#000","font-family":"Arial, Helvetica, sans-serif","text-align":"center","font-size":"18px",background:"#f2f2f2",padding:"7px"}},[t._v(" "+t._s(t.$t("PaymentReceipt"))+" ")]),e("div",{staticStyle:{width:"100%",display:"flex","justify-content":"space-between","align-items":"center","padding-bottom":"5px","border-bottom":"1px dashed #d9d8d8","margin-bottom":"10px"}},[e("img",{staticStyle:{"margin-right":"10px",width:"300px"},attrs:{src:t.CompanyLogo,alt:"Company Logo"}}),e("div",{staticClass:"div1",staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[e("p",{staticStyle:{"font-size":"20px","font-weight":"bold",color:"black",padding:"1px 0px"}},[t._v(" "+t._s(t.CompanyName)+" ")]),e("p",[t._v(t._s(t.CompanyAddress))]),e("p",[t._v(t._s(t.CompanyZipCode)+", "+t._s(t.CompanyCountry))])])]),e("div",{staticStyle:{clear:"both"}}),e("div",{staticClass:"header float-left w-100 p-2 mb-0"},[e("div",{staticClass:"div1",staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[e("p",[e("b",[t._v(t._s(t.$t("ClientName"))+":")]),t._v(" "),e("strong",[t._v(t._s(t.BillTo))])]),e("p",[e("b",[t._v(t._s(t.$t("Address"))+":")]),t._v(" "),e("strong",[t._v(t._s(t.address))])])]),e("div",{staticClass:"div3",staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",display:"flex","flex-direction":"column",gap:"0px"}},[e("p",{staticClass:"ps",staticStyle:{display:"flex","justify-content":"end","align-items":"center","white-space":"nowrap"}},[e("b",[t._v(t._s(t.$t("InvoiceNumber"))+":")]),t._v(" "+t._s(t.Billno)+" ")]),e("p",{staticClass:"ps",staticStyle:{display:"flex","justify-content":"end","align-items":"center","white-space":"nowrap"}},[e("b",[t._v(t._s(t.$t("ReceiptNumber"))+" :")]),t._v(" "),e("span",[t._v(t._s(t.Billrecordid))])]),e("p",{staticClass:"ps",staticStyle:{display:"flex","justify-content":"end","align-items":"center","white-space":"nowrap"}},[e("b",[t._v(t._s(t.$t("PaymentDate"))+" :")]),t._v(" "),e("span",[t._v(t._s(t.paymentdate))])])])]),e("div",{staticClass:"payment-advice"},[e("table",{staticClass:"secondtable"},[e("tbody",[e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v(t._s(t.$t("ReceivedFrom")))]),e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v(t._s(t.$t("Status")))]),e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)",width:"500px"}},[t._v(t._s(t.$t("PaymentMethod")))])]),e("tr",[e("td",{staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.BillTo))]),e("td",{staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.PaymentStatus))]),e("td",{staticStyle:{color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.PaymentMode))])])])]),e("table",{staticClass:"secondtable float-right",staticStyle:{width:"500px"}},[e("tbody",[e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v(t._s(t.$t("PreviousPayment")))]),e("td",{staticStyle:{"text-align":"right",color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.$n(t.PreviousPayment,"currency",t.$getLocaleByCurrency(t.CurrencyCode)))+" ")])]),e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v(t._s(t.$t("AmountReceived")))]),e("td",{staticStyle:{"text-align":"right",color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.$n(t.BillAmount,"currency",t.$getLocaleByCurrency(t.CurrencyCode))))])]),e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v(t._s(t.$t("TransactionRefrenceNumber")))]),e("td",{staticStyle:{"text-align":"right",color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1em"}},[t._v(t._s(t.TransactionRefNumber))])]),e("tr",[e("td",{staticStyle:{"font-weight":"600",color:"#737373","font-family":"Arial, Helvetica, sans-serif","font-size":"1em",background:"rgb(249 249 249)"}},[t._v(t._s(t.$t("TotalAmount")))]),e("td",{staticStyle:{"text-align":"right",color:"#000","font-family":"Arial, Helvetica, sans-serif","font-size":"1.20em","font-weight":"600"}},[t._v(t._s(t.$n(t.TotalAmount,"currency",t.$getLocaleByCurrency(t.CurrencyCode))))])])])])])])]),e("div",{staticClass:"modal-footer text-right pr-0 pb-0",staticStyle:{"margin-bottom":"10px"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[e("a",{class:{"btn btn-success mr-2":!0},attrs:{href:"javascript:;",title:t.$t("Print")},on:{click:function(e){return t.PrintPaySlip("printArea")}}},[e("em",{staticClass:"fa fa-print pr-2",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$t("Print"))+" ")]),e("a",{staticClass:"btn btn-primary delete-btn mr-2",attrs:{title:"Close"},on:{click:function(e){return t.Close()}}},[e("i",{staticClass:"fa fa-times pr-2",attrs:{"aria-hidden":"true"}}),t._v(t._s(t.$t("Close"))+" ")])])])])])])],1)},l=[],r={components:{PrintPaySlip:p},props:{BillRecordData:{type:Object,required:!0}},data(){return{isLoading:!1,CompanyLogo:null,InvoiceDate:"",PaymentMode:"Cash",BillAmount:0,TransactionRefNumber:null,BillTo:null,Billrecordid:null,Billno:"",paymentdate:null,paymentdate:"",Notes:"",PaymentStatus:"",CurrencyCode:"PKR"}},created(){var t=this;this.FetchData(),t.CurrencyCode=t.GetUserInfo.Currency.replace(/[()]/g,"")},methods:{formatFullAddress(t){return[t.user_address_1,t.user_address_2,t.user_state,t.country_name,t.user_zipcode].filter(t=>t&&""!==t.trim()).join(", ")},FetchData:async function(){var t=this,e=t.BillRecordData;t.CompanyLogo=e.company_logo,t.InvoiceDate=t.$options.filters.formatDateTime(e.payment_date),t.PaymentMode=e.Payment_Mode,t.CompanyName=e.company_name,t.CompanyAddress=e.company_address||"No Address Provided",t.CompanyZipCode=e.company_zipcode||"No Zip Code Provided",t.CompanyCountry=e.company_country||"No Country Provided",t.BillAmount=e.TotalAmountRecived,t.TransactionRefNumber=e.Transaction_Reference_Number,t.Billrecordid=e.bill_record_id,t.BillTo=e.ClientName,t.Billno=e.Bill_number,t.address=e.user_address_1&&""!==e.user_address_1.trim()?this.formatFullAddress(e):"N/A",t.paymentdate=t.$options.filters.formatDateTime(e.payment_date),t.Notes=e.Notes,t.TotalAmount=e.TotalAmount,t.PreviousPayment=e.PreviousPayment,t.PaymentStatus=e.PaymentStatus},PrintPaySlip(t){const e=document.getElementById(t).innerHTML,a=document.createElement("iframe");a.style.position="absolute",a.style.width="0px",a.style.height="0px",a.style.border="none",document.body.appendChild(a);const i=a.contentWindow.document;i.open(),i.write("<html><head><title>Print</title>"),i.write("<style>");const s=document.querySelectorAll('style, link[rel="stylesheet"]');s.forEach(t=>{i.write(t.outerHTML)}),i.write("</style></head><body>"),i.write(e),i.write("</body></html>"),i.close(),a.contentWindow.focus(),a.contentWindow.print(),a.remove()},Close(){var t=this;t.$parent.IsPrint=!1}}},d=r,c=(a("5fb0"),a("2877")),m=Object(c["a"])(d,o,l,!1,null,"53b0216e",null),p=m.exports,u={components:{PrintPaySlip:p},props:{BillId:{type:Number,required:!0}},data(){return{isLoading:!1,InvoiceHistory:[],textCountertlength:2e3,comment:"",company_logo:"",invoicedate:"",transaction_history:[],BillNumber:"",mode:"cash",IsPrint:!1,BillRecordData:[],CurrencyCode:"PKR"}},created(){var t=this;this.FetchData(),t.CurrencyCode=t.GetUserInfo.Currency.replace(/[()]/g,"")},methods:{FetchData:async function(){var t=this,e="invoiceId="+t.BillId;await n["a"].GetInvoicePaymentDetails(e).then((function(e){""!=e.data&&null!=e.data&&e.data.length>0&&(t.transaction_history=e.data)}))},Close(){var t=this;t.$parent.isPaySlip=!1},PrintPaySlip:async function(t){var e=this,a=`invoiceId=${e.BillId}&invoiceRecordId=${t}`;await n["a"].GetInvoicePaymentRecord(a).then((function(t){""!=t.data&&null!=t.data&&t.data.length>0&&(e.BillRecordData=t.data[0],e.IsPrint=!0)}))}}},y=u,_=Object(c["a"])(y,i,s,!1,null,null,null);e["a"]=_.exports}}]);
//# sourceMappingURL=chunk-315b4542.js.map