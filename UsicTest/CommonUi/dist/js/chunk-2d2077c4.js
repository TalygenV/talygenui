(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2077c4"],{a175:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"main-content"},[e("section",{staticClass:"page-action"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12 mb-3 px-0"},[e("div",{staticClass:"theme-primary partition-full"},[e("span",{staticClass:"p-name text-white"},[t._v(" "+t._s(t.$t("Manage_Calendar")))])])])])])]),e("div",[e("div",{staticClass:"m-2"},[e("dynamic-form",{ref:"CalendarSource",attrs:{lang:"en",mandatorytext:t.MandatoryString,buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}})],1),e("div",{staticClass:"col-lg-12 mb-3 px-0"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("CalendarUrlHeading")))])])])]),e("div",{staticClass:"listing m-2 pt-2"},[e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0",attrs:{id:"Addresslist"}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("Name"))+" ")])]),e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("CalendarId"))+" ")])]),e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("Status"))+" ")])]),e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("Edit"))+" ")])]),e("th",{staticClass:"text-left"},[e("span",[t._v(t._s(t.$t("Delete"))+" ")])])])]),e("tbody",[t.noRecords?e("tr",[e("td",{staticClass:"text-danger text-center no-record",attrs:{colspan:"5"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._l(t.CalSourceData,(function(a,s){return e("tr",{key:t.ROWNUMBER},[e("td",{staticClass:"text-left"},[t._v(t._s(a.CAL_SOURCE_NAME))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.CAL_SOURCE_URL))]),e("td",{staticClass:"text-left"},[t._v(t._s(a.STATUS_NAME))]),e("td",{staticClass:"text-left"},[e("em",{staticClass:"enable",attrs:{"data-placement":"left",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Edit"},on:{click:function(e){return t.Edit(a)}}},[e("i",{staticClass:"fa fa-pencil text-success action-icon"})])]),e("td",{staticClass:"text-left"},[e("em",{class:{enable:!0,disabled:t.isDiabled},attrs:{"data-placement":"left",href:"javascript:;","data-toggle-tooltip":"tooltip","data-original-title":"Delete","aria-describedby":"tooltip845041"},on:{click:function(e){return t.Delete(a)}}},[e("i",{staticClass:"fa fa-trash action-icon text-danger"})])])])}))],2)])])])])])},l=[],i=(e("14d9"),e("e9f5"),e("7d54"),e("9769")),r={components:{},data(){return{CalSourceData:[],MandatoryString:this.$t("MandatoryString"),FormSchema:[{layoutType:"triple",Data:[{astype:"TextField",label:"Name",name:"Name",value:"",placeholder:"",validationRules:{required:!0}},{astype:"TextField",label:"Calendar Id",name:"CalendarId",value:"",placeholder:"",disabled:!1,validationRules:{required:!0}},{astype:"SelectField",label:this.$t("Status"),name:"Status",value:"",placeholder:"Status",config:{options:[]},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Cancel",onClick:this.onCancel}],SortBy:"",SortExp:"",noRecords:"",PageSize:"10",PageNumber:"1",CalSourceId:0}},created(){var t=this;t.GetStatusList(),t.FetchData()},methods:{FetchData:function(){var t=this;t.isLoading=!0;var a=`PageNumber=${t.PageNumber}&pageSize=${t.PageSize}&sortBy=${t.SortBy}&sortExp=${t.SortExp}`;i["a"].GetCalSourceList(a).then((function(a){a.data?(t.CalSourceData=a.data,t.noRecords=!1):t.noRecords=!0}))},Edit:function(t){var a=this;a.FormSchema[0].Data[0].value=t.CAL_SOURCE_NAME,a.FormSchema[0].Data[1].value=t.CAL_SOURCE_URL,a.FormSchema[0].Data[2].value=t.STATUS_ID,a.CalSourceId=t.CAL_SOURCE_ID},GetStatusList:function(){var t=this,a="statusType=&hasglobal=true&langCode=en";i["a"].GetCommonStatusList(a).then(a=>{if(a.data.length>0){var e=a.data;e.forEach(a=>{var e={name:a.STATUS,value:a.STATUS_ID};t.FormSchema[0].Data[2].config.options.push(e)}),t.$refs.CalendarSource.UpdateKeyValue()}})},Delete:function(t){var a=this;a.Id=t.CAL_SOURCE_ID,a.Id>0?a.confirmR(a.$t("ConfirmDelete"),!0,a.$t("Delete")+"  "+a.$t("source"),(function(){var t=`ids=${a.Id}&tablename=TALYGEN_EM_CAL_SOURCE&primaryKey=cal_source_id`;i["a"].DeleteItems(t).then((function(t){200==t.status?a.FetchData():a.ShowAlert(a.$t("DeletedError",[a.$t("source")]),"Success",!0,a.$t("Alert"))}))})):a.ShowAlert(a.$t("Selectanyrecordtodelete")),a.isLoading=!1},async onSubmit(t){var a=this;a.isLoading=!0;let e={CalSourceId:a.CalSourceId,SourceName:t.Name,SourceUrl:t.CalendarId,Status_id:t.Status};var s=JSON.stringify(e);await i["a"].AddUpdateCalSource(s).then((function(t){null!=t&&null!=t.data&&1==t.data?(a.ShowAlert(a.$t("RecordsSavedSuccessfully"),"success"),a.Clear(),a.FetchData()):null!=t&&null!=t.data&&-2==t.data?a.ShowAlert(a.$t("Calendar_Duplicate_Error"),"failure"):(a.ShowAlert(a.$t("UnknownErrorOccur"),"failure",!0,a.$t("Alert")),a.FetchData())})),a.isLoading=!1},onCancel:function(){this.Clear()},Clear:function(){var t=this;t.FormSchema[0].Data[0].value="",t.FormSchema[0].Data[1].value="",t.FormSchema[0].Data[2].value="",t.$refs.CalendarSource.validateForm.reset()}}},n=r,o=e("2877"),c=Object(o["a"])(n,s,l,!1,null,null,null);a["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d2077c4.js.map