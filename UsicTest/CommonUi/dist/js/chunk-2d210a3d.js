(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d210a3d"],{b96f:function(a,t,i){"use strict";i.r(t);var e=function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",[i("loader",{attrs:{"is-visible":a.isLoading}}),i("section",{staticClass:"main-content"},[i("div",{ref:"hellp",attrs:{id:"divMaindealData"}},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12 padding-t_8"},[i("div",{staticClass:"theme-primary partition-full"},[a.AddUserAvailability?i("span",{staticClass:"p-name text-white"},[a._v(a._s(a.$t("AddNewUserStatus")))]):a._e(),a.UpdateUserAvailability?i("span",{staticClass:"p-name text-white"},[a._v(a._s(a.$t("UpdateUserStatus")))]):a._e(),i("span",{staticClass:"float-right"},[i("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",title:a.$t("BacktoList")},on:{click:a.Close}},[i("em",{staticClass:"fa fa-angle-double-left pr-2",attrs:{"aria-hidden":"true"}}),i("br"),a._v(a._s(a.$t("BacktoList"))+" ")])])])])]),i("div",{staticClass:"border p-3"},[i("Form",{ref:"UserForm"},[i("dynamic-form",{ref:"AddUser",attrs:{lang:"en",buttons:a.buttons,schema:a.FormSchema,mandatorytext:a.MandatoryString},on:{OnSubmit:a.onSubmit}})],1)],1)])])],1)},l=[],s=(i("14d9"),i("e9f5"),i("7d54"),i("9769")),r={data(){return{isLoading:!1,AddUserAvailability:!0,UpdateUserAvailability:!1,AvailabilityId:0,MandatoryString:"Fields marked with an asterisk (*) are mandatory.",FormSchema:[{layoutType:"four",Data:[{astype:"TextField",label:this.$t("Title"),name:"Title",value:"",placeholder:this.$t("Title"),validationRules:{required:!0,max:100}},{astype:"SelectField",label:this.$t("UserStatus"),name:"UserStatus",value:"",visibility:!0,config:{options:[]},validationRules:{required:!0}},{astype:"DateField",label:this.$t("StartTime"),name:"StartTime",visibility:!0,placeholder:this.$t("StartTime"),config:{mode:"time",format:"hh:mm",minuteIncrement:"5"},validationRules:{required:!0,max:100}},{astype:"DateField",label:this.$t("EndTime"),name:"EndTime",visibility:!0,placeholder:this.$t("EndTime"),config:{mode:"time",format:"hh:mm",minuteIncrement:"5"},validationRules:{required:!0,max:100}}]},{layoutType:"four",Data:[{astype:"DateField",label:this.$t("StartDate"),name:"StartDate",placeholder:"Enter Start Date",config:{options:[],minDate:new Date},validationRules:{required:!0},visibility:!0},{astype:"SelectField",label:this.$t("Recurring"),name:"Recurring",value:"",visibility:!0,config:{options:[]},validationRules:{required:!0,max:100}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-save pr-2'></i>Save"},{type:"button",class:"btn btn-danger",text:"<i class='fa fa-close pr-2'></i>Close",onClick:this.Close}]}},created:async function(){var a=this;a.AvailabilityId=this.$route.params.id,a.AvailabilityId>0&&(a.GetUserByAvailabilityId(),a.AddUserAvailability=!1,a.UpdateUserAvailability=!0,a.FormSchema[1].Data[1].visibility=!1),await a.GetStatus(),await a.GetRecurring()},methods:{GetUserByAvailabilityId:async function(){var a=this,t="AvailabilityId="+a.AvailabilityId;await s["a"].GetUserByAvailabilityId(t).then(t=>{a.UserAvailabilityDetail=[],t.data&&t.data.length>0&&(a.UserAvailabilityDetail=t.data,a.FormSchema[0].Data[0].value=a.UserAvailabilityDetail[0].availability_title,a.FormSchema[0].Data[1].value=a.UserAvailabilityDetail[0].availability_status_id,a.FormSchema[0].Data[2].value=a.UserAvailabilityDetail[0].availability_start_time,a.FormSchema[0].Data[3].value=a.UserAvailabilityDetail[0].availability_end_time,a.FormSchema[1].Data[0].value=a.UserAvailabilityDetail[0].availability_start_date)})},Close:function(){var a=this;a.$router.push("/UserAvailability/Index")},GetStatus:async function(){var a="statusType=AvalibilityNonavalibility&hasglobal=true&langCode=en";await s["a"].GetCommonStatusList(a).then(a=>{a.data.length>0&&a.data.forEach(a=>{if("Available"==a.STATUS||"Busy"==a.STATUS){let t={name:a.STATUS,value:a.STATUS_ID};this.FormSchema[0].Data[1].config.options.push(t)}}),this.$refs.AddUser.UpdateKeyValue()})},GetRecurring:async function(){var a="id=&moduleName=CRM&type=EVENT_RECURRING&search=&refId=";await s["a"].GetRecurring(a).then(a=>{""!=a.data&&a.data.forEach(a=>{let t={name:a.name,value:a.value};this.FormSchema[1].Data[1].config.options.push(t)}),this.$refs.AddUser.UpdateKeyValue()})},onSubmit(a,t){var i=this,e={AvailabilityId:null==i.AvailabilityId?0:i.AvailabilityId,AvailabilityTitle:a.Title,AvailabilityStatus:a.UserStatus,AvailabilityStartDate:a.StartDate,AvailabilityStartTime:a.StartTime,AvailabilityEndTime:a.EndTime,AvailabilityRecurringId:a.Recurring},l=JSON.stringify(e);s["a"].AddUpdateUserAvailability(l).then(a=>{200==a.status?(i.AvailabilityId>0?i.ShowAlert(i.$t("UpdatedSuccess",[i.$t("UserAvailability")]),"success",!0,i.$t("Alert")):i.ShowAlert(i.$t("AddedSuccess",[i.$t("UserAvailability")]),"success",!0,i.$t("Alert")),i.Close()):(i.ShowAlert(i.$t("AddedError",[i.$t("UserAvailability")]),"failure",!0,i.$t("Alert")),i.Close())})}}},n=r,d=i("2877"),o=Object(d["a"])(n,e,l,!1,null,null,null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d210a3d.js.map