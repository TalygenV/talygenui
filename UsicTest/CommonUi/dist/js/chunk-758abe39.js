(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-758abe39"],{"35bf":function(e,t,a){"use strict";a("a481")},a481:function(e,t,a){var r=a("feb8");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("499e").default;i("3749cce9",r,!0,{sourceMap:!1,shadowMode:!1})},e770:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:void 0==e.ReportListParameters?"right-content hr_jobpost w-100":"right-content"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"col-md-12 p-0 float-left listing"},[a("div",{staticClass:"col-md-12 p-0 mb-2"},[a("div",{staticClass:"theme-primary partition p-actions-expand"},[a("span",{staticClass:"p-name text-white"},[e._v(e._s(e.reportName))]),a("span",{staticClass:"p-actions float-right mydbsize"},[a("a",{class:(e.isFilterExist,"p-action-btn text-white dash"),on:{click:e.OpenFilter}},[a("em",{staticClass:"fa fa-filter"}),a("br"),e._v(e._s(e.$t("Filter"))+" ")]),a("a",{class:1==e.CanEdit?"p-action-btn text-white dash":"p-action-btn text-white dash d-none",attrs:{title:"Edit Report"},on:{click:e.EditReport}},[a("em",{staticClass:"fa fa-pencil text-white action-icon"}),a("br"),e._v(e._s(e.$t("Edit")))]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"ExportToPDF"},on:{click:function(t){return e.ExportToPDF("download")}}},[a("em",{staticClass:"fa fa-file-pdf-o"}),a("br"),e._v(e._s(e.$t("PDF")))]),"PIVOT"!=e.ReportType?a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Print"},on:{click:function(t){return e.ExportToPDF("print")}}},[a("em",{staticClass:"fa fa-file-pdf-o"}),a("br"),e._v(e._s(e.$t("PRINT")))]):e._e(),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"ExportToExcel"},on:{click:e.ExportToExcel}},[a("em",{staticClass:"fa fa-file-excel-o"}),a("br"),e._v(e._s(e.$t("Excel")))]),a("a",{directives:[{name:"show",rawName:"v-show",value:e.showGraphBtn,expression:"showGraphBtn"}],staticClass:"p-action-btn text-white dash",on:{click:e.OpenGraph}},[a("em",{staticClass:"fa fa-pie-chart"}),a("br"),e._v(e._s(e.showgraph?e.$t("CollapseGraph"):e.$t("ExpandGraph"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Sort"},on:{click:e.OpenSortingPopup}},[a("em",{staticClass:"fa fa-sort-amount-asc"}),a("br"),e._v(e._s(e.$t("Sort"))+" ")]),a("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Back"},on:{click:e.OnBack}},[a("em",{staticClass:"fa fa-angle-double-left"}),a("br"),e._v(e._s(e.$t("Back"))+" ")])]),e._m(0)]),a("div",{staticClass:"parentdiv datarepfix2"},[a("div",{staticClass:"verticle-action lft75 rt30"},[a("span",{staticClass:"action-list-box small",staticStyle:{width:"400px"}},[e.isSortPopup?a("span",{staticClass:"text-left p-0 datarep mt-3 w-90 float-left bg_outerdark borderbababa position-relative",attrs:{id:"action-list1"}},[a("div",{staticClass:"float-left col-12"},[a("div",{staticClass:"container-fluid p-0"}),e._l(e.sortColummnarray,(function(t,r){return a("div",{staticClass:"row px-3 pt-3 pb-0"},[a("div",{staticClass:"col-lg-5 pl-0 pr-3"},[a("div",{staticClass:"form-group mb-0"},[a("label",{staticClass:"pb-2"},[e._v(e._s(e.$t("SortBy")))]),"PIVOT"==e.reportListingInfo.TYPE?a("select",{directives:[{name:"model",rawName:"v-model",value:t.sortcolummnId,expression:"input.sortcolummnId"}],staticClass:"form-control",attrs:{id:"SortValue"+r},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"sortcolummnId",a.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Field")]),e._l(e.reportListingInfo.PIVOTROW.filter((function(e){return 0==e.Calculated_Field})),(function(t){return a("option",{key:t.CustomFieldId,attrs:{disabled:e.sortColummnarray.filter((function(e){return e.sortcolummnId==t.CustomFieldId})).length>0},domProps:{value:""!=t.CustomFieldId?t.CustomFieldId:t.FieldName}},[e._v(" "+e._s(t.DisplayName?e.GetLocalizedValue(t.DisplayName):e.GetLocalizedValue(t.FieldName)))])}))],2):a("select",{directives:[{name:"model",rawName:"v-model",value:t.sortcolummnId,expression:"input.sortcolummnId"}],staticClass:"form-control",attrs:{id:"SortValue"+r},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"sortcolummnId",a.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Field")]),e._l(e.reportListingInfo.FIELDS.filter((function(e){return 0==e.Calculated_Field})),(function(t){return a("option",{key:t.CustomFieldId,attrs:{disabled:e.sortColummnarray.filter((function(e){return e.sortcolummnId==t.CustomFieldId})).length>0},domProps:{value:""!=t.CustomFieldId?t.CustomFieldId:t.FieldName}},[e._v(" "+e._s(t.DisplayName?e.GetLocalizedValue(t.DisplayName):e.GetLocalizedValue(t.FieldName)))])}))],2)])]),a("div",{staticClass:"col-lg-5 pl-0 pr-3"},[a("div",{staticClass:"form-group mb-0"},[a("label",{staticClass:"pb-2"},[e._v(e._s(e.$t("OrderBy")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.columnOrders,expression:"input.columnOrders"}],staticClass:"form-control",on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"columnOrders",a.target.multiple?r:r[0])}}},[a("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Select Order")]),a("option",[e._v(e._s(e.$t("ASC")))]),a("option",[e._v(e._s(e.$t("DESC")))])])])]),a("div",{staticClass:"col-lg-2 pl-0 pr-3 d-flex align-items-center"},[a("div",{staticClass:"form-group mb-0"},[a("a",{on:{click:function(a){return e.AddSortingForm(t)}}},[a("em",{staticClass:"fa fa-plus-circle font-24 text-success mt-3"})]),a("a",{directives:[{name:"show",rawName:"v-show",value:""!=e.sortColummnarray[0].sortcolummnId,expression:"sortColummnarray[0].sortcolummnId != ''"}],on:{click:function(a){return e.RemoveSortingForm(t)}}},[a("em",{staticClass:"fa fa-times-circle font-24 text-danger mt-3 ml-1"})])])])])})),a("a",{staticClass:"btn btn-success my-3 mr-2 pl-1",on:{click:function(t){return e.EnableSortingSearch(e.input)}}},[a("span",{staticClass:"fa fa-sort-amount-desc mr-2"}),e._v(e._s(e.$t("Sort")))]),a("a",{staticClass:"btn btn-danger pl-1 mb-0",on:{click:function(t){return e.RemoveSortingFromList()}}},[a("span",{staticClass:"fa fa-times mr-2"}),e._v(e._s(e.$t("ResetSort")))])],2),e._m(1),a("button",{staticClass:"close closebtnsmall",attrs:{type:"button"},on:{click:function(t){e.isSortPopup=!1}}},[a("em",{staticClass:"fa fa-times text",attrs:{"aria-hidden":"true"}})])]):e._e()])])])]),a("div",{staticClass:"col-md-12 p-0 mb-2"},[a("div",{staticClass:"tab-pane mb-0"},[a("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[e.showgraph?a("div",{staticClass:"card mb-3 probx"},[a("div",{staticClass:"card-header"},[a("h2",[e._v(e._s(e.$t("Graph")))])]),a("div",{staticClass:"card-body",attrs:{id:"Reportpdf"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-12 text-center"},[a("div",{staticClass:"border bg-light position-absolute text-left p-0 d-none",staticStyle:{"z-index":"99",height:"auto","max-width":"20%"}},[a("ul",{staticClass:"graphinfo"},[a("li",[a("label",[e._v("X-axis:")]),e._v(" "+e._s(e.XaxisGraphFieldName)+" ")]),a("li",[a("label",[e._v("Y-axis:")]),e._v(" "+e._s(e.YaxisGraphFieldname)+" ")]),a("li",{directives:[{name:"show",rawName:"v-show",value:0!=e.aggregateFunctionResult,expression:"aggregateFunctionResult != 0"}]},[a("label",[e._v("# "+e._s(e.AggregateFuncField)+":")]),e._v(e._s(e.aggregateFunctionResult)+" ")])])]),"line"==e.chartType||"bar"==e.chartType||"horizontal_bar"==e.chartType||"multiple_bar"==e.chartType||"stacked_bar"==e.chartType?a("div",{staticClass:"vue-apexcharts"},[a("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"400px",width:"50%",options:e.chartOptions,series:e.chartSeries}})],1):e._e(),"pie"==e.chartType||"donut"==e.chartType?a("div",{staticClass:"vue-apexcharts"},[a("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",width:"40%",options:e.chartOptions,series:e.chartSeries}})],1):e._e()])])])]):e._e(),e.shownumbergraph?a("div",{staticClass:"card mb-3 probx"},[a("div",{staticClass:"card-header"},[a("h2",[e._v(e._s(e.$t("Graph")))])]),a("div",{staticClass:"card-body",attrs:{id:"Reportpdf"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12 col-lg-12 text-center"},[a("div",{staticClass:"border bg-light float-left text-left p-0  graphinfo_base_lft",staticStyle:{"z-index":"99",height:"auto","max-width":"20%"}},[a("ul",{staticClass:"graphinfo"},[a("li",[a("label",[e._v("Y-axis:")]),e._v(" "+e._s(e.YaxisGraphFieldname)+" ")]),a("li",[a("label",[e._v("Color-code:")]),e._v(e._s(e.GetChartColorCode))])])]),a("span",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt vue-apexcharts"},[a("div",{staticClass:"col-sm-4 col-lg-4 px-0 bg-white mx-auto shadowder",staticStyle:{"min-height":"260px","padding-top":"100px"}},[a("span",{staticClass:"ChartNumberClass"},[a("h1",{style:"color:"+e.GetChartColorCode},[e._v(e._s(e.GetChartColorData)+" ")])])])])])])])]):e._e(),a("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[a("div",{staticClass:"listing"},[a("div",{staticClass:"table-responsive table-fix-header"},[e.noRecord?a("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{"aria-label":"NO Record Found"}},[e._m(2),a("tbody",[a("tr",{staticStyle:{cursor:"initial"}},[a("td",{attrs:{colspan:"4"}},[a("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])])])]):e._e(),a("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"Reportpdf","aria-label":"View Record"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[e._l(e.previewgroupdata,(function(t,r){return e.showdata?a("th",{key:r,class:{"text-right":"decimal"===t.ColumnFieldDataCode||"bigint"===t.ColumnFieldDataCode},attrs:{scope:"col"}},[e._v(" "+e._s(e.GetLocalizedValue(null!=t.DisplayName&&""!=t.DisplayName?t.DisplayName:t.FieldName))+" ")]):e._e()})),e._l(e.previewcolumn,(function(t,r){return a("th",{key:r,attrs:{scope:"col"}},[t.Calculated_Field?a("span",{class:{"justify-end-content":"decimal"===t.ColumnFieldDataCode||"bigint"===t.ColumnFieldDataCode}},[e._v(" "+e._s(e.GetLocalizedValue(null!=t.DisplayName&&""!=t.DisplayName?t.DisplayName:t.FieldName))+" ")]):a("span",{class:{sort:null!==t.ColumnFieldDataCode,tb_headerSortUp:"ASC"==e.SortExp&&e.SortBy==t.FieldName,tb_headerSortDown:"DESC"==e.SortExp&&e.SortBy==t.FieldName,"justify-content-end":"decimal"===t.ColumnFieldDataCode||"bigint"===t.ColumnFieldDataCode,"justify-end-content":null===t.Calculated_Field},on:{click:function(a){return e.sortdata(t.FieldName,t.CustomFieldId)}}},[e._v(" "+e._s(e.GetLocalizedValue(null!=t.DisplayName&&""!=t.DisplayName?t.DisplayName:t.FieldName))+" ")])])}))],2)]),e._l(e.previewdata,(function(t,r){return a("tbody",{key:r},[e._l(e.previewdata[r].data,(function(r,i){return e.showdata?a("tr",{key:i},[0==i?e._l(e.previewgroupdata,(function(r,i){return a("td",{key:i,staticClass:"breakspaces",class:{onlyrtbod:!0,"":null==t.totalRecord},style:"bigint"===r.ColumnFieldDataCode||"decimal"===r.ColumnFieldDataCode?"text-align: right;":"",attrs:{rowspan:t.totalRecord}},[e._v(" "+e._s(("bool"==r.ColumnFieldDataCode?1==t[r.FieldName]||1==t[r.FieldName]?"Yes":"No":"")||(null!=t[r.FieldName]&&""!=t[r.FieldName]?t[r.FieldName]:""))+" ("+e._s(t.totalRecord)+") ")])})):e._e(),e._l(e.previewcolumn,(function(t,i){return a("td",{key:i,style:"bigint"===t.ColumnFieldDataCode||"decimal"===t.ColumnFieldDataCode?"text-align: right;":""},["decimal"!=t.ColumnFieldDataCode||1!=t.IsLineGraph?a("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s(("bool"==t.ColumnFieldDataCode?1==r[t.FieldName]||1==r[t.FieldName]?"Yes":"No":"")||(0===r[t.FieldName]?"0":null!=r[t.FieldName]&&""!=r[t.FieldName]?r[t.FieldName]:""))}}):e._e(),"decimal"==t.ColumnFieldDataCode&&1==t.IsLineGraph?a("span",{staticClass:"overflow-visible pt-4",staticStyle:{width:"242px","min-width":"242px"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:e.getProgressStyle(t,r),attrs:{role:"progressbar","aria-valuenow":(r[t.FieldName]/(t.TotalFieldValue||r[t.ParentTotalValue])*100).toFixed(0),"aria-valuemin":"0","aria-valuemax":"100"}},[e._v(" "+e._s((r[t.FieldName]/(t.TotalFieldValue||r[t.ParentTotalValue])*100).toFixed(0))+"% ")])])]):e._e()])}))],2):e._e()})),e.showcoldata?a("tr",e._l(e.previewcolumn,(function(r,i){return a("td",{key:i,style:{textAlign:"bigint"===r.ColumnFieldDataCode||"decimal"===r.ColumnFieldDataCode||null==r.ColumnFieldDataCode?"right":"",backgroundColor:"Overall Total"===r.FieldName?"#f0f0f0":""}},["decimal"!=r.ColumnFieldDataCode||1!=r.IsLineGraph?a("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s("bool"===r.ColumnFieldDataCode?1==t[r.FieldName]||!0===t[r.FieldName]?"Yes":"No":0===t[r.FieldName]?"0":null!=t[r.FieldName]&&""!==t[r.FieldName]?["decimal","bigint",null].includes(r.ColumnFieldDataCode)?e.$n(t[r.FieldName],"decimal2"):t[r.FieldName]:"")}}):e._e(),"decimal"==r.ColumnFieldDataCode&&1==r.IsLineGraph?a("span",{staticClass:"overflow-visible pt-4",staticStyle:{width:"242px","min-width":"242px"}},[a("div",{staticClass:"progress"},[a("div",{staticClass:"progress-bar",style:e.getProgressStyle(r,t),attrs:{role:"progressbar","aria-valuenow":(t[r.FieldName]/(r.TotalFieldValue||t[r.ParentTotalValue])*100).toFixed(0),"aria-valuemin":"0","aria-valuemax":"100"}},[e._v(" "+e._s((t[r.FieldName]/(r.TotalFieldValue||t[r.ParentTotalValue])*100).toFixed(0))+"% ")])])]):e._e()])})),0):e._e()],2)})),e._l(e.TotalSumOfColumn,(function(t,r){return a("tbody",{key:r,style:{backgroundColor:"#f0f0f0"}},[e.showcoldata?a("tr",e._l(e.previewcolumn,(function(r,i){return a("td",{key:i,style:null==r.ColumnFieldDataCode?"text-align: right;":""},[a("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s(null!==t[r.FieldName]&&""!==t[r.FieldName]&&void 0!==t[r.FieldName]?e.$n(t[r.FieldName],"decimal2"):t[r.FieldName])}})])})),0):e._e()])}))],2)]),a("Pager",{class:{"d none":!0,"":e.TotalRecords>10},attrs:{numberofrecords:e.TotalRecords,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{SetCurrentPage:e.SetCurrentPage}})],1)])])])])]),e.showViewCustomReportFilter?a("modalViewCustomReportFilter",{attrs:{reportListingInfo:e.reportListingInfo},on:{close:function(t){e.showViewCustomReportFilter=!1}}}):e._e()],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"collapse-head-btns"},[a("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[a("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"va_lft25 top4"},[a("em",{staticClass:"icon-solid arrow-solid-left text-secondary",staticStyle:{"font-size":"20pt"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("th",{attrs:{scope:"col"}})])}],o=(a("14d9"),a("e9f5"),a("910d"),a("f665"),a("7d54"),a("b7ef"),a("88a7"),a("271a"),a("5494"),a("9769")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal my-popups centre fade",attrs:{id:"modalViewCustomReportFilter",role:"dialog"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("ValidationObserver",{ref:"FilterForm",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[a("form",{ref:"FilterForm1",on:{submit:function(t){return t.preventDefault(),r(e.ApplyNewFilterToList)}}},[a("div",{staticClass:"modal-header mheader-user"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),a("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("FILTER")))])]),a("div",{staticClass:"modal-body"},[a("loader",{attrs:{"is-visible":e.isLoading}}),a("div",{staticClass:"list-item row filter-div"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[a("div",{staticClass:"form-content"},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divshowSearchCriteriaList"}},[a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5"},[a("span",[e._v(" Filter")]),a("small",{staticClass:"float-right"},[a("a",{staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;",title:"Add"},on:{click:function(t){return e.AddFilterRow()}}},[a("em",{staticClass:"fa fa-plus pr-2"}),e._v(" Add ")])])])]),a("div",{staticClass:"listing mt-2"},[a("div",{staticClass:"mb-2"},[a("label",[e._v("Include data if it matches")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.modelfiltertype,expression:"modelfiltertype"}],staticClass:"form-control col-4",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modelfiltertype=t.target.multiple?a:a[0]}}},e._l(e.FilterCategory,(function(t){return a("option",{domProps:{value:t}},[e._v(e._s(t))])})),0)]),a("div",{staticClass:"table-responsive overflow-visible"},[a("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{"aria-describedby":"serachfilter"}},[a("thead",{staticClass:"thead-bg"},[a("tr",[a("th",{staticStyle:{"min-width":"180px"},attrs:{scope:"col"}},[a("span",[e._v("Name")])]),a("th",{staticStyle:{"min-width":"180px"},attrs:{scope:"col"}},[a("span",[e._v("Operator")])]),a("th",{staticStyle:{"min-width":"480px"},attrs:{scope:"col"}},[a("span",[e._v("Value")])]),a("th",{staticStyle:{"min-width":"50px"},attrs:{scope:"col"}},[a("span",[e._v("Action")])])])]),a("tbody",[e._l(e.reportListingInfo.FILTERS,(function(t,r){return e.reportListingInfo.FILTERS.length>0?a("tr",["PIVOT"!=e.reportListingInfo.TYPE?a("td",[t.isManuallyAdded?e._e():a("span",{staticClass:"form-control disabled"},[e._v(e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName)))]),t.isManuallyAdded?a("Field",{attrs:{name:"Field"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.field,o=r.errors;r.errorMessage,r.meta;return[a("select",e._b({directives:[{name:"model",rawName:"v-model",value:t.CustomFieldId,expression:"filterdata.CustomFieldId"}],class:{"form-control":!0,"is-invalid":o[0]},on:{change:[function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"CustomFieldId",a.target.multiple?r:r[0])},function(a){return e.OnChangeFieldDdl(t)}]}},"select",i,!1),[a("option",{attrs:{value:""}},[e._v("Select field")]),e._l(e.reportListingInfo.FIELDS,(function(t){return!1===t.Calculated_Field?a("option",{attrs:{disabled:e.reportListingInfo.FILTERS.filter((function(e){return e.CustomFieldId==t.CustomFieldId})).length>0},domProps:{value:t.CustomFieldId}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName)))]):e._e()}))],2)]}}],null,!0)}):e._e()],1):a("td",[t.isManuallyAdded?e._e():a("span",{staticClass:"form-control disabled"},[e._v(e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName)))]),t.isManuallyAdded?a("Field",{attrs:{name:"Field"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.field,o=r.errors;r.errorMessage,r.meta;return[a("select",e._b({directives:[{name:"model",rawName:"v-model",value:t.CustomFieldId,expression:"filterdata.CustomFieldId"}],class:{"form-control":!0,"is-invalid":o[0]},on:{change:[function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"CustomFieldId",a.target.multiple?r:r[0])},function(a){return e.OnChangeFieldDdl(t)}]}},"select",i,!1),[a("option",{attrs:{value:""}},[e._v("Select field")]),e._l(e.reportListingInfo.PIVOTROW,(function(t){return!1===t.Calculated_Field?a("option",{attrs:{disabled:e.reportListingInfo.FILTERS.filter((function(e){return e.CustomFieldId==t.CustomFieldId})).length>0},domProps:{value:t.CustomFieldId}},[e._v(" "+e._s(e.GetLocalizedValue(t.FieldName,t.DisplayName)))]):e._e()}))],2)]}}],null,!0)}):e._e()],1),a("td",{staticStyle:{overflow:"visible!important"}},[a("Field",{staticStyle:{overflow:"visible!important",width:"100%!important"},attrs:{name:"Operator"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.field,o=r.errors;r.errorMessage;return[a("select",e._b({directives:[{name:"model",rawName:"v-model",value:t.OPERATOR_ID,expression:"filterdata.OPERATOR_ID"}],key:e.MainComponentkey,class:{"form-control":!0,"is-invalid":o[0]},on:{change:[function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"OPERATOR_ID",a.target.multiple?r:r[0])},function(a){return e.OnChangeOperator(t)}]}},"select",i,!1),[a("option",{attrs:{value:""}},[e._v("Select Operator")]),e._l(t.OperatorList,(function(t){return a("option",{domProps:{value:t.OPERATOR_ID}},[e._v(e._s(t.OPERATOR_DISPLAY_NAME))])}))],2)]}}],null,!0)})],1),a("td",{style:"select"!=t.ActualDataType||"IN"!=t.OperatorExpression&&"NOT IN"!=t.OperatorExpression?"":"display: contents;"},["Is Not Null"==t.OperatorExpression||"Is Null"==t.OperatorExpression?a("span",[e._v("--")]):e._e(),"string"!=t.ActualDataType&&"bool"!=t.ActualDataType||"Is Not Null"==t.OperatorExpression||"Is Null"==t.OperatorExpression?e._e():a("Field",{attrs:{name:"StringFirstValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==t.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"text",id:"inpttxt"},domProps:{value:t.Value1},on:{input:function(a){a.target.composing||e.$set(t,"Value1",a.target.value)}}})]}}],null,!0)}),"string"==t.ActualDataType&&"between"==t.OperatorExpression?a("Field",{attrs:{name:"StringSecondValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"50px"},attrs:{type:"text",id:"inpttxt2"},domProps:{value:t.Value2},on:{input:function(a){a.target.composing||e.$set(t,"Value2",a.target.value)}}})]}}],null,!0)}):e._e(),"decimal"!=t.ActualDataType&&"int"!=t.ActualDataType&&"bigint"!=t.ActualDataType||"Is Not Null"==t.OperatorExpression||"Is Null"==t.OperatorExpression?e._e():a("Field",{attrs:{name:"NumberFirstValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==t.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:t.Value1},on:{keydown:function(t){return e.PreventValues(t)},input:function(a){a.target.composing||e.$set(t,"Value1",a.target.value)}}})]}}],null,!0)}),"decimal"!=t.ActualDataType&&"int"!=t.ActualDataType&&"bigint"!=t.ActualDataType||"between"!=t.OperatorExpression?e._e():a("Field",{attrs:{name:"NumberSecondValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"50px"},attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:t.Value2},on:{keydown:function(t){return e.PreventValues(t)},input:function(a){a.target.composing||e.$set(t,"Value2",a.target.value)}}})]}}],null,!0)}),"date"!=t.ActualDataType&&"datetime"!=t.ActualDataType||"DateRange"==t.OperatorExpression||"Is Not Null"==t.OperatorExpression||"Is Null"==t.OperatorExpression?e._e():a("Field",{attrs:{name:"DateFirstValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==t.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"date",max:"9999-12-31",id:"inpttxtdate1"},domProps:{value:t.Value1},on:{input:function(a){a.target.composing||e.$set(t,"Value1",a.target.value)}}})]}}],null,!0)}),"date"!=t.ActualDataType&&"datetime"!=t.ActualDataType||"DateRange"==t.OperatorExpression||"between"!=t.OperatorExpression?e._e():a("Field",{attrs:{name:"DateSecondValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("input",{directives:[{name:"model",rawName:"v-model",value:t.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"20px"},attrs:{type:"date",max:"9999-12-31",min:t.Value1},domProps:{value:t.Value2},on:{input:function(a){a.target.composing||e.$set(t,"Value2",a.target.value)}}})]}}],null,!0)}),"select"==t.ActualDataType&&"IN"!=t.OperatorExpression&&"NOT IN"!=t.OperatorExpression&&"Is Not Null"!=t.OperatorExpression&&"Is Null"!=t.OperatorExpression?a("div",[a("Field",{attrs:{name:"Selectddl"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.field,o=r.errors;r.errorMessage;return[a("select",e._b({directives:[{name:"model",rawName:"v-model",value:t.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":o[0]},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"Value1",a.target.multiple?r:r[0])}}},"select",i,!1),[a("option",{attrs:{value:""}},[e._v("Select value")]),e._l(t.selectOptions,(function(t){return a("option",{key:t.value,domProps:{value:t.value}},[e._v(" "+e._s(e.truncateText(t.label,70))+" ")])}))],2)]}}],null,!0)})],1):e._e(),"datetime"!=t.ActualDataType&&"date"!=t.ActualDataType||"DateRange"!=t.OperatorExpression?e._e():a("div",[a("Field",{attrs:{name:"DateRangeValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){r.field;var i=r.errors;r.errorMessage;return[a("select",{directives:[{name:"model",rawName:"v-model",value:t.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:function(a){var r=Array.prototype.filter.call(a.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(t,"Value1",a.target.multiple?r:r[0])}}},[a("option",{attrs:{value:""}},[e._v("Select value")]),e._l(e.daterangeArray,(function(t){return a("option",{key:t.value,attrs:{title:t.label},domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]}}],null,!0)})],1),"select"!=t.ActualDataType||"IN"!=t.OperatorExpression&&"NOT IN"!=t.OperatorExpression?e._e():a("div",{staticStyle:{padding:"0.375rem 0.5rem"}},[a("Field",{attrs:{name:"MultiSelectddl"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function(r){var i=r.field,o=r.errors;r.errorMessage;return[a("Multiselect",e._b({class:{"form-control":!0,"form-control is-invalid":o[0]},staticStyle:{"box-sizing":"border-box","margin-top":"0px","padding-left":"0px","padding-right":"0px"},attrs:{id:"dontforget",multiple:!0,label:"label","track-by":"label",placeholder:"Select",searchable:!0,mode:"tags",limit:2,taggable:!1,"close-on-select":!1,options:e.multiselectArray},on:{select:e.selectionChange,remove:e.removeElement},model:{value:t.Value1,callback:function(a){e.$set(t,"Value1",a)},expression:"filterdata.Value1"}},"Multiselect",i,!1))]}}],null,!0)})],1)],1),a("td",{staticClass:"text-center single-action"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.DeleteFilterRow(r)}}},[t.isManuallyAdded?a("em",{staticClass:"fa fa-trash text-danger pr-2"}):e._e()]),t.isManuallyAdded?e._e():a("span",[e._v("--")])])]):e._e()})),0==e.reportListingInfo.FILTERS.length?a("tr",[a("td",{staticClass:"text-center text-danger py-3",attrs:{colspan:"10"}},[e._v("No record(s) found")])]):e._e()],2)])])])])])])])],1),a("div",{staticClass:"col-12 mb-3 mr-auto d-flex align-items-center justify-content-end"},[a("button",{staticClass:"btn btn-success my-2 my-sm-0 mr-2 pl-1",attrs:{type:"submit"}},[a("span",{staticClass:"fa fa-search"}),e._v(" Search")]),a("a",{staticClass:"btn btn-danger pl-1 mb-0",on:{click:function(t){return e.RemoveNewFilterFromList()}}},[a("span",{staticClass:"fa fa-times"}),e._v(" Reset Filter")])])])]}}])})],1)])])},s=[],n=(a("ab43"),a("7bb1")),d=a("4c93"),p={setup(){Object.keys(d).forEach(e=>{Object(n["d"])(e,d[e])})},components:{Form:n["Form"],Field:n["c"],ValidationObserver:n["b"]},data(){return{isLoading:!1,isFilterExist:0,selectedOPValue:"",GetOperator:[],options:[],isBinding:!1,ArrayforFilterpopup:[],FilterClose:!1,FilterCategory:["AND","OR"],modelfiltertype:"AND",multiselectArray:[],daterangeArray:[],MainComponentkey:0}},props:{reportListingInfo:{type:Object}},created(){var e=this;e.GetDropDownValueOnFilter()},watch:{FilterClose(e){e&&this.GetDropDownValueOnFilter()}},mounted:function(){$("#modalViewCustomReportFilter").modal({backdrop:"static",keyboard:!1})},methods:{removeElement(){this.$forceUpdate()},selectionChange(){this.$forceUpdate()},async close(){$("#modalViewCustomReportFilter").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),await this.ApplyNewFilterToList("Close"),this.$emit("close")},GetFilterSelectDDL(e){var t=this;e.selectOptions=[],t.multiselectArray=[];var a=[];t.isLoading=!0,o["a"].GetFilterDDLselectvalue(e.CustomFieldId).then(r=>{r.data.length>0?(a=r.data,a.forEach(a=>{e.selectOptions.push({value:a.value,label:a.name}),t.multiselectArray.push({value:a.value,label:a.name})}),t.isLoading=!1):t.isLoading=!1}).catch(e=>{console.log(e)})},GetOperatordata(e){var t=this,a=e.CustomFieldId,r=`dataType=${e.ColumnFieldDataCode}&customField=${a}`;o["a"].GetDataOperator(r).then(a=>{if(e.OperatorList=a.data.DATA,e.OperatorExpression){let a=e.OperatorList.find(t=>t.OPERATOR_ID===parseInt(e.OPERATOR_ID));e.OperatorExpression=a.OPERATOR_EXPRESSION,t.multiselectArray=e.selectOptions}t.MainComponentkey+=1})},GetDateRangeFilterDDL(e){var t=this;e.selectOptions=[],t.daterangeArray=[];var a=[];t.isLoading=!0,o["a"].GetDateRangeFilterDDL().then(r=>{setTimeout((function(){a=JSON.parse(r.data[0].Value).Data,a.forEach(a=>{e.selectOptions.push({value:a.date_range_name,label:a.date_range_value}),t.daterangeArray.push({value:a.date_range_name,label:a.date_range_value})}),t.isLoading=!1}),2e3)})},async ApplyNewFilterToList(e){var t=this;this.reportListingInfo.FILTERS.forEach((function(e){let a=e.OperatorList.find(t=>t.OPERATOR_ID==e.OPERATOR_ID),r="'"+e.Value1+"'",i="'"+e.Value2+"'";if("select"==e.ColumnFieldDataCode&&("IN"==a.OPERATOR_EXPRESSION||"NOT IN"==a.OPERATOR_EXPRESSION)){let t=[];e.Value1.forEach(e=>{t.push(e.value)}),r="'"+t.join("','")+"'"}"decimal"!=e.ColumnFieldDataCode&&"int"!=e.ColumnFieldDataCode&&"bigint"!=e.ColumnFieldDataCode||(e.Value1=e.Value1,e.Value2=e.Value2,r=e.Value1,i=e.Value2),e.OperatorExpression=t.ConvertOperatorToExpression(a.OPERATOR_EXPRESSION,r,i),e.FilterTypeAndorOr=t.modelfiltertype})),void 0==e&&(t.isLoading=!0,t.reportListingInfo.GRAPH.length>0&&await t.$parent.SetGroupDataforGraph([],t.reportListingInfo.FILTERS),t.$parent.UpdatePreviewData([],t.reportListingInfo.FILTERS),t.isLoading=!1,t.close())},RemoveNewFilterFromList(){var e=this;e.$parent.RemoveNewFilterFromList(),e.close()},PreventValues(e){var t=e.keyCode;69!=t&&107!=t&&109!=t||e.preventDefault()},GetDropDownValueOnFilter(){var e=this;console.log(e.reportListingInfo.FILTERS),e.reportListingInfo.FILTERS.forEach(t=>{if(e.modelfiltertype=t.FilterTypeAndorOr,e.GetOperatordata(t),"undefined"===typeof t.isManuallyAdded&&(t.isManuallyAdded=!1),"select"==t.ColumnFieldDataCode&&"Lookup"==t.PickListOption){var a=[];e.GetFilterSelectDDL(t),setTimeout((function(){if(("IN"==t.OperatorExpression||"NOT IN"==t.OperatorExpression)&&"object"!=typeof t.Value1){var e=null===t||void 0===t?void 0:t.Value1.replace(/"|'/g,"");a=null===e||void 0===e?void 0:e.split(","),t.Value1=[],a.forEach(e=>{const a=t.selectOptions.find(t=>t.value===e);if(void 0!=a){var r={value:a.value,label:a.label};t.Value1.push(r)}})}}),2e3)}else if("select"==t.ColumnFieldDataCode&&"Lookup"!=t.PickListOption){if(t.selectOptions=t.selectOptions||[],e.multiselectArray=e.multiselectArray||[],t.PickListOption&&""!==t.PickListOption.trim()){const a=t.PickListOption.split(",").map(e=>e.trim());a.forEach(a=>{const r={value:a,label:a};t.selectOptions.push(r),e.multiselectArray.push(r)})}setTimeout((function(){if(("IN"==t.OperatorExpression||"NOT IN"==t.OperatorExpression)&&"object"!=typeof t.Value1){var e=null===t||void 0===t?void 0:t.Value1.replace(/"|'/g,"");a=null===e||void 0===e?void 0:e.split(","),t.Value1=[],a.forEach(e=>{const a=t.selectOptions.find(t=>t.value===e);if(void 0!=a){var r={value:a.value,label:a.label};t.Value1.push(r)}})}}),2e3)}else"datetime"!=t.ColumnFieldDataCode&&"date"!=t.ColumnFieldDataCode||"Date Range"!=t.operator_display_name||e.GetDateRangeFilterDDL(t)})},AddFilterRow:function(){var e=this;this.$refs.FilterForm.validate().then((function(t){t&&e.reportListingInfo.FILTERS.push({isManuallyAdded:!0,CustomFieldId:"",FieldName:"",ActualDataType:"string",OperatorExpression:"",FilterTypeAndorOr:"AND",OPERATOR_ID:"",operator_display_name:"",Value1:"",Value2:"",IsMandatoryforFilter:!1,FieldIcons:"",DisplayName:"",PickListOption:null,ColumnFieldDataCode:"",selectedOPValue:"",selectOptions:[]})}))},OnChangeFieldDdl:function(e){e.OperatorExpression="",e.OPERATOR_ID="",e.selectOptions=[],"NORMAL"==this.reportListingInfo.TYPE?this.reportListingInfo.FIELDS.forEach((function(t){t.CustomFieldId==e.CustomFieldId&&(e.DisplayName=t.DisplayName,e.ActualDataType=t.ColumnFieldDataCode,e.ColumnFieldDataCode=t.ColumnFieldDataCode,e.FieldName=t.FieldName,e.FieldIcons=t.FieldIcons,e.FieldIcons=t.FieldIcons)})):this.reportListingInfo.PIVOTROW.forEach((function(t){t.CustomFieldId==e.CustomFieldId&&(e.DisplayName=t.DisplayName,e.ActualDataType=t.ColumnFieldDataCode,e.ColumnFieldDataCode=t.ColumnFieldDataCode,e.FieldName=t.FieldName,e.FieldIcons=t.FieldIcons,e.FieldIcons=t.FieldIcons)})),this.GetOperatordata(e)},OnChangeOperator:function(e){var t=this;e.selectOptions=[],t.multiselectArray=[];var a=[];if(t.isLoading=!0,e.OPERATOR_ID>0){let t=e.OperatorList.find(t=>t.OPERATOR_ID===parseInt(e.OPERATOR_ID));e.OperatorExpression=t.OPERATOR_EXPRESSION,e.operator_display_name=t.OPERATOR_DISPLAY_NAME,"IN"==e.OperatorExpression||"NOT IN"==e.OperatorExpression?e.Value1=[]:e.Value1=""}"select"==e.ColumnFieldDataCode&&o["a"].GetFilterDDLselectvalue(e.CustomFieldId).then(r=>{r.data.length>0?(a=r.data,a.forEach(a=>{e.selectOptions.push({value:a.value,label:a.name}),t.multiselectArray.push({value:a.value,label:a.name})}),t.isLoading=!1):t.isLoading=!1}).catch(e=>{console.log(e)}),"datetime"!=e.ActualDataType&&"date"!=e.ActualDataType||"DateRange"!=e.OperatorExpression||t.GetDateRangeFilterDDL(e),t.isLoading=!1},DeleteFilterRow:function(e){this.reportListingInfo.FILTERS.splice(e,1)},TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."}}},u=p,c=(a("35bf"),a("2877")),m=Object(c["a"])(u,l,s,!1,null,"6eaf8661",null),f=m.exports,g=a("be92"),h=a("b0ac"),v=a("1321"),I=a.n(v),F=a("4555"),C=a("c1df"),E=a.n(C);const{GetUserInfo:D}=Object(g["d"])(Object(h["b"])()),L=a("4ebb"),S=a("e499");S.vfs=L.pdfMake.vfs;var y={components:{VueApexCharts:I.a,Pager:F["a"],modalViewCustomReportFilter:f},data(){return{showViewCustomReportFilter:!1,isFilterExist:0,isLoading:!1,showdata:!1,showcoldata:!0,showgraph:!1,reportName:"",showGraphBtn:!0,viewreportparameters:"",Viewcount:0,shownumbergraph:!1,GetChartColorCode:"",GetChartColorData:"",isSortPopup:!1,sortColummnarray:[{sortcolummnId:"",columnOrders:""}],SortExp:null,SortBy:null,chartTypes:null,chartType:"",chartOptions:{},chartSeries:[],chartOptionXAxisData:[],chartSeriesData:[],colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],AggregateFuncField:null,aggregateFunctionResult:0,XAxisFieldName:null,YAxisFieldName:null,groupGraphlist:[],GraphJson:[],previewcolumn:[],pivotData:[],previewgroupdata:[],reportListingInfo:[],previewdata:[],CanEdit:!0,TotalRecords:0,PageNumber:1,PageSize:10,TotalPages:0,allReocrdsData:null,TableBody:[],TableHeader:[],pdfpreviewdata:[],ExcelJsonData:null,count:0,IsForPreview:0,SingleSortArray:[],MainSortingArray:[],MainUpdatedArray:[],SelectedChartTypeId:"",noRecord:!0,XaxisGraphFieldName:null,YaxisGraphFieldname:null,completionPercentage:0,ExtraFieldName:null,ReportType:"",TotalSumOfColumn:[],pageType:""}},props:{ReportListParameters:{type:Object}},created:async function(){var e=this;e.isLoading=!0,e.viewreportparameters=void 0==e.ReportListParameters?JSON.parse(atob(e.$route.params.ReportID)):e.ReportListParameters,await e.GetChartTypes(),await e.GetPreviewData(e.viewreportparameters.ReportID),1==e.viewreportparameters.ACCESS||1==e.viewreportparameters.IsSystemReport?e.CanEdit=!1:e.CanEdit=!0,e.Viewcount+=1},methods:{getProgressStyle(e,t){const a=0===t[e.FieldName]?0:null!=t[e.FieldName]&&""!==t[e.FieldName]?t[e.FieldName]:"",r=null!=e.TotalFieldValue&&""!==e.TotalFieldValue&&void 0!==e.TotalFieldValue?e.TotalFieldValue:t[e.ParentTotalValue],i=a&&r?(a/r*100).toFixed(0):0;return{width:i+"%"}},SetCurrentPage(e){var t=this;"a"==e.PagerMethod?t.pagerMethod(e.PageNumber):"b"==e.PagerMethod&&t.SetPageSize(parseInt(e.PageSize))},OpenFilter:function(){var e=this;e.showViewCustomReportFilter=!0,$("#modalViewCustomReportFilter").modal("show"),setTimeout((function(){$("#modalViewCustomReportFilter").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},RemoveNewFilterFromList(){var e=this;e.isLoading=!0,e.GetPreviewData(e.viewreportparameters.ReportID),e.MainUpdatedArray=[],e.noRecord=!1},OpenGraph(){var e=this;""!=e.GetChartColorCode?e.shownumbergraph?e.shownumbergraph=!1:e.shownumbergraph=!0:e.showgraph?e.showgraph=!1:e.showgraph=!0},OnBack:function(){var e=this;e.$router.push({name:"CustomReports"})},GetPreviewData(e){var t=this,a=`ReportId=${e}&IsPaged=1`;o["a"].GetReportDetailsbyId(a).then(async e=>{if("No Data"==e.data)t.ShowAlert(t.$t("ReportNotExist"),"failure",!0,t.$t("Alert")),t.$router.push({name:"CustomReports"}),t.isLoading=!1;else if(null!=e.data&&void 0!=e.data&&""!=e.data){t.reportListingInfo=e.data.JSON_To_Create_ReportListing[0].Info,t.isFilterExist=t.reportListingInfo.FILTERS.length;var a=e.data.ReportListing;t.reportName=t.reportListingInfo.REPORTNAME,t.ReportType=t.reportListingInfo.TYPE,t.previewcolumn=[],null!=a&&void 0!=a&&1==a?(t.reportListingInfo.GRAPH.length>0&&await t.SetGroupDataforGraph(),await t.UpdatePreviewData(),await t.GetSortingData(),t.BindGraph()):(t.noRecord=!0,t.showgraph=!1,t.showGraphBtn=!1,t.isLoading=!1)}else t.noRecord=!0,t.showgraph=!1,t.showGraphBtn=!1,t.isLoading=!1})},Bindlisting:function(e){var t=this;if(null!=e&&void 0!=e){if("PIVOT"==t.reportListingInfo.TYPE){for(let e in t.reportListingInfo.PIVOTROW){const r=t.reportListingInfo.PIVOTROW[e];if(r.FieldName&&"ROWNUMBER"!==r.DisplayName&&"Total_Records"!==r.FieldName&&"Total_Records"!==r.DisplayName){var a;const i={FieldName:null!=r.DisplayName&&""!==r.DisplayName?r.DisplayName:r.FieldName,CustomFieldId:r.CustomFieldId,Calculated_Field:(null===(a=t.reportListingInfo.FIELDS)||void 0===a||null===(a=a[e])||void 0===a?void 0:a.Calculated_Field)||!1,ColumnFieldDataCode:r.ColumnFieldDataCode,IsLineGraph:r.IsLineGraph,TotalFieldValue:r.TotalFieldValue,ParentTotalValue:r.ParentTotalValue};console.log("Pushing to previewcolumn:",i),t.previewcolumn.push(i)}}t.pivotData.forEach(e=>{t.previewcolumn.push({FieldName:e.value,CustomFieldId:null,Calculated_Field:null,ColumnFieldDataCode:null,IsLineGraph:null,TotalFieldValue:null,ParentTotalValue:null})}),t.previewcolumn.push({FieldName:"Overall Total",CustomFieldId:null,Calculated_Field:null,ColumnFieldDataCode:null,IsLineGraph:null,TotalFieldValue:null,ParentTotalValue:null})}else for(let e in t.reportListingInfo.FIELDS)t.reportListingInfo.FIELDS[e].FieldName&&"ROWNUMBER"!=t.reportListingInfo.FIELDS[e].DisplayName&&"Total_Records"!=t.reportListingInfo.FIELDS[e].FieldName&&"Total_Records"!=t.reportListingInfo.FIELDS[e].DisplayName&&t.previewcolumn.push({FieldName:null!=t.reportListingInfo.FIELDS[e].DisplayName&&""!=t.reportListingInfo.FIELDS[e].DisplayName?t.reportListingInfo.FIELDS[e].DisplayName:t.reportListingInfo.FIELDS[e].FieldName,CustomFieldId:t.reportListingInfo.FIELDS[e].CustomFieldId,Calculated_Field:t.reportListingInfo.FIELDS[e].Calculated_Field,ColumnFieldDataCode:t.reportListingInfo.FIELDS[e].ColumnFieldDataCode,IsLineGraph:t.reportListingInfo.FIELDS[e].IsLineGraph,TotalFieldValue:t.reportListingInfo.FIELDS[e].TotalFieldValue,ParentTotalValue:t.reportListingInfo.FIELDS[e].ParentTotalValue});t.noRecord=!1}else t.noRecord=!0},BindGroupListing:function(e){var t=this;t.previewgroupdata=[],t.showdata=!0,t.showcoldata=!1;var a=0;if(null!=e&&void 0!=e){for(let e in t.reportListingInfo.GROUP){for(let r in t.reportListingInfo.FIELDS)t.reportListingInfo.GROUP[e].FieldName!=t.reportListingInfo.FIELDS[r].FieldName&&t.previewcolumn.push({FieldName:null!=t.reportListingInfo.FIELDS[r].DisplayName&&""!=t.reportListingInfo.FIELDS[r].DisplayName?t.reportListingInfo.FIELDS[r].DisplayName:t.reportListingInfo.FIELDS[r].FieldName,CustomFieldId:t.reportListingInfo.FIELDS[r].CustomFieldId,Calculated_Field:t.reportListingInfo.FIELDS[r].Calculated_Field,ColumnFieldDataCode:t.reportListingInfo.FIELDS[r].ColumnFieldDataCode,IsLineGraph:t.reportListingInfo.FIELDS[r].IsLineGraph,TotalFieldValue:t.reportListingInfo.FIELDS[r].TotalFieldValue,ParentTotalValue:t.reportListingInfo.FIELDS[r].ParentTotalValue}),t.reportListingInfo.FIELDS[r].FieldName==t.reportListingInfo.GROUP[0].FieldName&&(a=r);t.previewgroupdata.push({FieldName:null!=t.reportListingInfo.GROUP[e].DisplayName&&""!=t.reportListingInfo.GROUP[e].DisplayName?t.reportListingInfo.GROUP[e].DisplayName:t.reportListingInfo.GROUP[e].FieldName,CustomFieldId:t.reportListingInfo.FIELDS[e].CustomFieldId,ColumnFieldDataCode:t.reportListingInfo.FIELDS[a].ColumnFieldDataCode})}t.noRecord=!1}else t.noRecord=!0},async SetGroupDataforGraph(e,t){var a=this;a.IsFilterValid();var r={Info:{REPORTID:a.reportListingInfo.REPORTID,REPORTNAME:a.reportListingInfo.REPORTNAME,MODULENAME:a.reportListingInfo.MODULENAME,SUBMODULECODE:a.reportListingInfo.SUBMODULECODE,SUBMODULEID:a.reportListingInfo.SUBMODULEID,PAGESIZE:parseInt(a.PageSize),PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:0,IsForPreview:a.IsForPreview,FIELDS:a.reportListingInfo.FIELDS,FILTERS:void 0==t?a.reportListingInfo.FILTERS:t,GROUP:[],CHARTGROUPARRAY:a.reportListingInfo.CHARTGROUPARRAY,SORTING:a.reportListingInfo.SORTING,GRAPH:a.reportListingInfo.GRAPH,EXPRESSION:a.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:a.reportListingInfo.EXPRESSIONFIELDSARRAY,FromDate:a.viewreportparameters.FromDate?a.viewreportparameters.FromDate:null,ToDate:a.viewreportparameters.ToDate?a.viewreportparameters.ToDate:null}},i=JSON.stringify(r);await o["a"].PreviewReport(i).then(e=>{null!=e.data&&void 0!=e.data&&(a.groupGraphlist=JSON.parse(e.data[0].Value),void 0!=t&&a.BindGraph())}).catch(e=>{console.log(e)})},UpdatePreviewData(e,t){var a=this;a.isLoading=!0;var r=[];for(var i in a.pivotData=[],a.IsFilterValid(),a.MainUpdatedArray=t,e)void 0!=e[i].sortcolummnId&&""!=e[i].sortcolummnId&&(r.push({CustomFieldId:e[i].sortcolummnId,SORTTYPE:e[i].columnOrders,SortIndex:parseInt(i),Calculated_Field:""}),a.reportListingInfo.FIELDS.forEach(e=>{var t=r.find(t=>t.CustomFieldId===e.CustomFieldId);void 0!=t&&(t.Calculated_Field=e.Calculated_Field)}));if(a.SingleSortArray.length>0&&r.length>0){const e=r.findIndex(e=>e.CustomFieldId===a.SingleSortArray[0].sortcolummnId);-1!=e&&(r.splice(e,1),a.sortColummnarray.length>1?a.sortColummnarray.splice(e,1):(a.sortColummnarray[e].sortcolummnId="",a.sortColummnarray[e].columnOrders=""))}a.MainSortingArray=r;var l={Info:{TYPE:a.reportListingInfo.TYPE,REPORTID:a.reportListingInfo.REPORTID,REPORTNAME:a.reportListingInfo.REPORTNAME,MODULENAME:a.reportListingInfo.MODULENAME,SUBMODULECODE:a.reportListingInfo.SUBMODULECODE,SUBMODULEID:a.reportListingInfo.SUBMODULEID,PAGESIZE:a.PageSize,PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:1,IsForPreview:a.IsForPreview,FIELDS:a.reportListingInfo.FIELDS,FILTERS:void 0==t?a.reportListingInfo.FILTERS:t,GROUP:a.reportListingInfo.GROUP,SORTING:null==r||r==[]||0==r.length?a.reportListingInfo.SORTING:r,EXPRESSION:a.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:a.reportListingInfo.EXPRESSIONFIELDSARRAY,SINGLE_SORT:a.SingleSortArray,FromDate:a.viewreportparameters.FromDate?a.viewreportparameters.FromDate:null,ToDate:a.viewreportparameters.ToDate?a.viewreportparameters.ToDate:null,PIVOTROW:a.reportListingInfo.PIVOTROW?a.reportListingInfo.PIVOTROW:[],PIVOTCOLUMN:a.reportListingInfo.PIVOTCOLUMN?a.reportListingInfo.PIVOTCOLUMN:[],PIVOTValues:a.reportListingInfo.PIVOTValues?a.reportListingInfo.PIVOTValues:[]}},s=JSON.stringify(l);o["a"].PreviewReport(s).then(async e=>{if(null!=e.data&&void 0!=e.data){a.previewcolumn=[];var t=JSON.parse(e.data[0].Value);if(null!=t&&void 0!=t&&null!=t.ListingData){var r=t.MetaData[0];a.previewdata=t.ListingData,a.TotalRecords=r.TotalRecord,a.pivotData=t.PivotColumnValueData,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),a.TotalSumOfColumn=t.AggregateTotalsColumnWise,r.IsGrouping?a.BindGroupListing(a.previewdata):a.Bindlisting(a.previewdata),a.reportListingInfo.FIELDS.forEach(e=>{a.previewdata.forEach(t=>{var r=null!=t[e.DisplayName]?t[e.DisplayName]:t[e.FieldName];if("date"==e.ColumnFieldDataCode&&null==e.DateFormat&&void 0!=r){var i=E()(r,"MM/DD/YYYY",!0);null!=t[e.DisplayName]&&0==i.isValid()?t[e.DisplayName]=a.$options.filters.formatDate(t[e.DisplayName]):t[e.FieldName]=a.$options.filters.formatDate(t[e.FieldName])}})})}else a.noRecord=!0,a.TotalRecords=0,a.showgraph=!1,a.showGraphBtn=!1;a.isLoading=!1}else a.isLoading=!1}).catch(e=>{console.log(e)})},BindGraph:function(){var e=this;let t=e.reportListingInfo.GRAPH[0];if(void 0==t)return e.showGraphBtn=!1,!1;""==t.ChartColorCode?null!=t&&void 0!=t&&""!=t?(e.chartType=e.chartTypes.find(e=>e.id==t.chartTypeID).chart_Type.toLowerCase(),e.SelectedChartTypeId=t.chartTypeID,e.AggregateFuncField=t.AggregateFunction,e.XAxisFieldName=e.FilterColumnlist(t.XAxisField).CustomFieldName,e.YAxisFieldName=e.FilterColumnlist(t.YAxisField).CustomFieldName,e.ExtraFieldName=e.FilterColumnlist(t.ExtraFieldId).CustomFieldName,e.groupGraphlist.MetaData[0].IsGrouping&&e.SetGroupingGraphData(t.AggregateFunction),"multiple_bar"!=e.chartType&&"stacked_bar"!=e.chartType&&e.SetGraphValues(e.GraphJson,e.XAxisFieldName,e.YAxisFieldName),null!=e.groupGraphlist.ListingData&&(e.DrawGraph(t),e.showgraph=!0),e.XaxisGraphFieldName=t.XAxisFieldName,e.YaxisGraphFieldname=t.YAxisFieldName):(e.showgraph=!1,e.showGraphBtn=!1):(e.shownumbergraph=!0,e.showgraph=!1,e.YAxisFieldName=e.FilterColumnlist(t.YAxisField).CustomFieldName,e.GetChartColorCode=t.ChartColorCode,e.GetChartColorData=e.groupGraphlist.ListingData[0].GData,e.YaxisGraphFieldname=t.YAxisFieldName)},SetGroupingGraphData(e){var t=this;let a=t.groupGraphlist.ListingData,r=[],i=t.XAxisFieldName,o=t.YAxisFieldName,l=t.ExtraFieldName;if(null!=a&&void 0!=a){if("multiple_bar"==t.chartType||"stacked_bar"==t.chartType){var s=[],n=[];a.forEach((e,a)=>{var r={XaxisField:e[i]};t.chartOptionXAxisData.push(e[i]),e.Data.forEach(e=>{var t=void 0!==e[l]?e[l]:"-",a=n.filter(e=>e==t);r[t]=e.Countable,0==a.length&&n.push(t)}),s.push(r)}),n.forEach((function(e){var a={name:e,data:[]};s.forEach((function(t){t[e]?a.data.push(t[e]):a.data.push(0)})),t.chartSeriesData.push(a)}))}else a.forEach((t,a)=>{if((void 0!=t[i]||void 0!=i)&&a<50&&("Count"==e||"Sum"==e||"Avg"==e||"Min"==e||"Max"==e))for(var l=void 0!=t[i]?t[i]:t.data[0][i]+` (${t.totalRecord})`,s=0;s<=parseInt(t.totalRecord);s++)0==s&&r.push({[i]:l,[o]:t.GData})});t.GraphJson=r,t.showgraph=!0}else t.GraphJson=[],t.XAxisFieldName=null,t.YAxisFieldName=null,t.showgraph=!1,t.showGraphBtn=!1},DrawGraph:function(e){var t=this,a=!1,r=t.chartTypes.find(e=>e.id==t.reportListingInfo.GRAPH[0].chartTypeID).chart_Type.toLowerCase();"bar"!=t.chartType&&"line"!=t.chartType&&"horizontal_bar"!=t.chartType&&"multiple_bar"!=t.chartType||("horizontal_bar"==t.chartType?(t.chartType="bar",a=!0):"multiple_bar"==t.chartType&&(t.chartType="bar"),t.chartSeries="multiple_bar"==r?t.chartSeriesData:[{name:t.$t(t.FilterColumnlist(e.YAxisField).CustomFieldName),data:t.chartSeriesData}],t.chartOptions={chart:{toolbar:{export:{svg:{filename:t.reportName},png:{filename:t.reportName},csv:{headerCategory:t.$t(t.FilterColumnlist(e.XAxisField).CustomFieldName),filename:t.reportName}}}},xaxis:{categories:t.chartOptionXAxisData,title:{text:a?t.$t(t.FilterColumnlist(e.YAxisField).CustomFieldName):t.$t(t.FilterColumnlist(e.XAxisField).CustomFieldName)},labels:{trim:!0,rotate:-60}},yaxis:{title:{text:a?t.$t(t.FilterColumnlist(e.XAxisField).CustomFieldName):t.$t(t.FilterColumnlist(e.YAxisField).CustomFieldName)},labels:{formatter:function(e){return void 0!=e?e.toLocaleString("en-US"):""}}},plotOptions:a?{bar:{borderRadius:4,horizontal:!0}}:{},dataLabels:a?{enabled:!0,position:"top",style:{colors:["#000"]}}:{enabled:!0,formatter:function(e){return e},offsetY:-20,style:{fontSize:"12px",colors:["#304758"]},dropShadow:{enabled:!1}},zoom:{enabled:!0}}),"pie"!=t.chartType&&"donut"!=t.chartType||(t.chartSeries=t.chartSeriesData,t.chartOptions={labels:t.chartOptionXAxisData,colors:t.colourList,legend:{width:screen.availWidth-80*screen.availWidth/100}}),"stacked_bar"==t.chartType&&(t.chartType="bar",t.chartSeries=t.chartSeriesData,t.chartOptions={chart:{type:"bar",height:350,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[{breakpoint:480,options:{legend:{position:"bottom",offsetX:-10,offsetY:0}}}],plotOptions:{bar:{horizontal:!1,columnWidth:"25%",borderRadius:10,borderRadiusApplication:"end",borderRadiusWhenStacked:"last",dataLabels:{total:{enabled:!0,formatter:function(e){return e.toFixed(2)},style:{fontSize:"13px",fontWeight:900}}}}},xaxis:{categories:t.chartOptionXAxisData},legend:{position:"top",horizontalAlign:"left",offsetY:10},fill:{opacity:1}})},TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."},SetGraphValues(e,t,a){var r=this;r.chartOptionXAxisData=[],r.chartSeriesData=[],e.forEach(e=>{t in e&&(null!=e[t]&&void 0!=e[t]?(r.chartOptionXAxisData.push(e[t]),r.BindXYFields(e,t,a)):null!=e[a]&&void 0!=e[a]&&(r.chartOptionXAxisData="string"==typeof t?[...r.chartOptionXAxisData,"-"]:[...r.chartOptionXAxisData,0],r.BindXYFields(e,t,a)))})},BindXYFields:function(e,t,a){var r=this;if(a in e)if(null!=e[a]&&void 0!=e[a])if("string"==typeof e[a]){var i=e[a].replace(/[$]/g,"");r.chartSeriesData.push(parseInt(i))}else r.chartSeriesData.push(e[a]);else r.chartSeriesData=[...r.chartSeriesData,0]},FilterColumnlist(e){var t=this;let a,r,i=t.reportListingInfo.FIELDS;for(let[o]of i.entries())i[o].CustomFieldId==e&&(a=null!=i[o].DisplayName&&""!=i[o].DisplayName?i[o].DisplayName:i[o].FieldName,r=i[o].ColumnFieldDataCode);return{CustomFieldName:a,ColumnFieldType:r}},CalculationAggregateFunctionResult:function(e){var t=this,a=0;if("Sum"==e){var r=0;t.chartSeriesData.forEach(e=>{r+=e}),t.aggregateFunctionResult=r.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")}if("Count"==e){var i=0;i=t.chartSeriesData.length,t.aggregateFunctionResult=i}if("Avg"==e){var o=0,l=0;t.chartSeriesData.forEach((function(e,t){o+=e,l++})),a=o/l,t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")}"Min"==e&&(a=Math.min.apply(Math,t.chartSeriesData.filter(Number)),t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")),"Max"==e&&(a=Math.max(...t.chartSeriesData),t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US"))},async GetChartTypes(){var e=this;await o["a"].GetChartTypes().then(t=>{e.chartTypes=t.data})},pagerMethod:function(e){var t=this;t.PageNumber=e,parseInt(t.PageNumber)>=1&&t.UpdatePreviewData(t.sortColummnarray)},SetPageSize:function(e){var t=this;t.PageSize=e,t.PageNumber=1,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.UpdatePreviewData(t.sortColummnarray)},GetAllRecordsForPDF:function(){},GetDataForPDFListing:async function(e){var t=this;if(t.count=0,t.IsFilterValid(),t.previewdata.length>0){var a={Info:{TYPE:t.reportListingInfo.TYPE,REPORTID:t.reportListingInfo.REPORTID,REPORTNAME:t.reportListingInfo.REPORTNAME,MODULENAME:t.reportListingInfo.MODULENAME,SUBMODULECODE:t.reportListingInfo.SUBMODULECODE,SUBMODULEID:t.reportListingInfo.SUBMODULEID,PAGESIZE:t.PageSize,PAGENUMBER:parseInt(t.PageNumber),IS_PAGED:0,IsForPreview:t.IsForPreview,FIELDS:t.reportListingInfo.FIELDS,FILTERS:void 0!=t.MainUpdatedArray?t.MainUpdatedArray:t.reportListingInfo.FILTERS,GROUP:t.reportListingInfo.GROUP,SORTING:void 0!=t.MainSortingArray?t.MainSortingArray:t.reportListingInfo.SORTING,EXPRESSION:t.reportListingInfo.EXPRESSION,SINGLE_SORT:t.SingleSortArray,EXPRESSIONFIELDSARRAY:t.reportListingInfo.EXPRESSIONFIELDSARRAY,FromDate:t.viewreportparameters.FromDate?t.viewreportparameters.FromDate:null,ToDate:t.viewreportparameters.ToDate?t.viewreportparameters.ToDate:null,PIVOTROW:t.reportListingInfo.PIVOTROW?t.reportListingInfo.PIVOTROW:[],PIVOTCOLUMN:t.reportListingInfo.PIVOTCOLUMN?t.reportListingInfo.PIVOTCOLUMN:[],PIVOTValues:t.reportListingInfo.PIVOTValues?t.reportListingInfo.PIVOTValues:[]}},r=JSON.stringify(a);t.ExcelJsonData=r,void 0==e&&await o["a"].PreviewReport(r).then(e=>{var a=JSON.parse(e.data[0].Value);t.pdfpreviewdata=a,t.count=t.count+1}).catch(e=>{console.log("Data not Found")})}},GetGraphImageURI:async function(){var e,t,a=this;return await(null===(e=a.$refs.chart)||void 0===e?void 0:e.chart.dataURI().then(e=>{t=e})),t},ExportToPDF:async function(e){var t=this;t.isLoading=!0;var a=t.GetTotalRecordsForExceed();if(t.TotalRecords>a)t.confirmR(t.$t("LimitExceed"),!0,t.$t("LimitExceed")+"  "+t.$t("Report"),(function(){t.GetPdfAndExcelApi()}));else if(await t.GetDataForPDFListing(),0!=t.count){var r={};void 0!=t.chartOptions.legend&&(t.chartOptions.legend.width=screen.availWidth-74*screen.availWidth/100);var i=await t.GetGraphImageURI(),o=t.pdfpreviewdata.ListingData;let a,l=t.pdfpreviewdata.MetaData[0].IsGrouping,s=t.reportListingInfo.REPORTNAME.replace(".","-");t.pageType="A4";let n="",d=300;l?await t.BindPDFDataForGroup(o):await t.BindPDFData(o),t.TableHeader.length>8&&(t.pageType="A4","PIVOT"==t.ReportType&&"download"==e&&(t.pageType="A0"),n=t.TableHeader.length>6?"landscape":"portrait",d=600),null!=i&&void 0!=i&&(r={image:i.imgURI,width:d,alignment:"center"}),a={pageSize:t.pageType,pageOrientation:n,info:{title:s},content:[r,{text:` ${s} `,style:"subheader"},{style:"table",layout:{fillColor:function(e){return 0===e?"#CCCCCC":null},hLineWidth:function(){return.5},vLineWidth:function(){return.5}},table:{headerRows:1,body:t.TableBody,widths:t.TableHeader.length>10?Array(t.TableHeader.length).fill("auto"):Array(t.TableHeader.length).fill("*")}}],styles:t.SetPDFStyle(),defaultStyle:{fontSize:6,alignment:"left"}},"print"===e?t.TableHeader.length>12?S.createPdf(a).open():S.createPdf(a).print():S.createPdf(a).download(s),t.isLoading=!1}else t.ShowAlert(t.$t("No_Record_Found"),"danger",!0,t.$t("Alert")),t.isLoading=!1;t.isLoading=!1},BindPDFData:function(e){var t=this;t.TableBody=[],t.TableHeader=[];var a=[],r=Object.keys(e[0]);if(r.forEach(e=>{"ROWNUMBER"!=e&&(t.TableHeader.push({text:t.$t(e),style:"tableHeader",alignment:"center"}),a.push({text:e,style:"tableHeader",alignment:"center"}))}),t.TableBody.push(t.TableHeader),e.forEach(e=>{let r=[];a.forEach(t=>{r.push(e[t.text])}),t.TableBody.push(r)}),"PIVOT"==t.ReportType){var i;let e=[],r=(null===(i=t.pdfpreviewdata.AggregateTotalsColumnWise)||void 0===i?void 0:i[0])||{};a.forEach(t=>{const a=t.text;r.hasOwnProperty(a)?e.push({text:r[a].toLocaleString(),bold:!0,alignment:"left"}):e.push({text:"",bold:!0})}),e.length>0&&(e[0]={text:t.$t("Overall Total"),bold:!0,alignment:"left"},t.TableBody.push(e))}},BindPDFDataForGroup:function(e){var t=this;t.TableBody=[],t.TableHeader=[];var a=[];t.TableHeader.push({text:t.$t(Object.keys(e[0])[0]),style:"tableHeader",alignment:"center"}),a.push({text:Object.keys(e[0])[0],style:"tableHeader",alignment:"center"});var r=Object.keys(e[0].data[0]);r.forEach(e=>{t.TableHeader.push({text:t.$t(e),style:"tableHeader",alignment:"center"}),a.push({text:e,style:"tableHeader",alignment:"center"})}),t.TableBody.push(t.TableHeader),e.forEach(e=>{e.data.forEach((r,i)=>{let o=[];a.forEach((t,a)=>{if(0==i&&0==a){var l=`${e[t.text]} (${e.totalRecord})`;o.push({rowSpan:parseInt(e.totalRecord),text:l})}else if(1==i&&0==a)o.push("");else if(void 0!=r[t.text]&&""!=r[t.text])o.push(r[t.text]);else{var s=r[t.text]="-";o.push(s)}}),t.TableBody.push(o)})})},SetPDFStyle:function(){return{subheader:{fontSize:16,bold:!0,margin:[0,0,0,10]},table:{margin:[0,5,0,15]}}},ExportToExcel:async function(){var e=this,t=e.GetTotalRecordsForExceed();if(e.TotalRecords>t)e.confirmR(e.$t("LimitExceed"),!0,e.$t("LimitExceed")+"  "+e.$t("Report"),(function(){e.GetPdfAndExcelApi()}));else if(e.isLoading=!0,await e.GetDataForPDFListing("Excel"),null!=e.ExcelJsonData&&void 0!=e.ExcelJsonData){var a=e.ExcelJsonData,r=`ReportId=${e.reportListingInfo.REPORTID}&pagetype=preview&IsPaged=0`;o["a"].GetExcelReport(r,a).then(t=>{var a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"}),r=document.createElement("a");r.href=window.URL.createObjectURL(a);const i=new Date,o=`${i.getDate()}_${i.getMonth()+1}_${i.getFullYear()}`;var l=`ReportData-${e.reportListingInfo.REPORTNAME.replace(".","-")}-${o}`;l=l.split(" ").join(""),r.download=l,r.click(),e.isLoading=!1}).catch(t=>{console.log(t),e.isLoading=!1})}else e.ShowAlert(e.$t("No_Record_Found"),"danger",!0,e.$t("Alert")),e.isLoading=!1},EditReport:function(){var e=this;e.$router.push({name:"EditDataReport",params:{Modulename:e.reportListingInfo.MODULENAME,Submodulecode:e.reportListingInfo.SUBMODULECODE,ReportName:e.reportListingInfo.REPORTNAME,ReportID:e.reportListingInfo.REPORTID,Module_Id:e.reportListingInfo.MODULEID,Folder_Id:e.viewreportparameters.Folder_Id,Sub_Module_Id:e.reportListingInfo.SUBMODULEID,Version:e.Version,Action:"Edit"}})},DownloadExceedRecords:async function(){var e=this,t={emailPostString:[{configModuleName:"Email",reportId:e.reportListingInfo.REPORTID,reportname:e.reportListingInfo.REPORTNAME,username:D._value.Email,moduleName:e.reportListingInfo.MODULENAME,subModuleCode:e.reportListingInfo.SUBMODULECODE,from:D._value.Name,to:D._value.Email,subject:e.reportListingInfo.REPORTNAME,message:"Greetings! This is the Test Email of Reporting Data with an Excel File Attachment.Find Attachment","importance ":"high",quoteCompanyLogo:"",emailCc:"",emailBcc:"",companyLogo:D._value.CompanyLogo,emailContent:"",forInvoice:"yes",refId:0,isSaveLog:""}]},a={Info:{REPORTID:e.reportListingInfo.REPORTID,REPORTNAME:e.reportListingInfo.REPORTNAME,MODULENAME:e.reportListingInfo.MODULENAME,SUBMODULECODE:e.reportListingInfo.SUBMODULECODE,SUBMODULEID:e.reportListingInfo.SUBMODULEID,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:0,IsForPreview:e.IsForPreview,FIELDS:e.reportListingInfo.FIELDS,FILTERS:e.reportListingInfo.FILTERS,GROUP:e.reportListingInfo.GROUP,SORTING:e.reportListingInfo.SORTING,EXPRESSION:e.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:e.reportListingInfo.EXPRESSIONFIELDSARRAY,EmailArray:t}},r=JSON.stringify(a);e.reportListingInfo.REPORTID>0&&(e.isLoading=!0,await o["a"].SendEmailService(r).then(t=>{"Success"==t.data[0].Status&&(e.ShowAlert(e.$t("Email_Sent"),"success",!0,e.$t("Alert")),e.isLoading=!1),e.isLoading=!1}).catch(e=>{console.log(e)}))},OpenSortingPopup:function(){var e=this;e.isSortPopup?e.isSortPopup=!1:e.isSortPopup=!0},AddSortingForm:function(e){var t=this;""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId&&t.sortColummnarray.length<t.previewcolumn.length?t.sortColummnarray.push({sortcolummnId:"",columnOrders:""}):t.ShowAlert(""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId?t.$t("SortLimitExceed"):t.$t("AddFieldsFirst"),"danger",!0,t.$t("Alert"))},RemoveSortingForm:function(e){var t=this;1==t.sortColummnarray.length?t.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]:t.sortColummnarray.splice(t.sortColummnarray.indexOf(e),1)},EnableSortingSearch:function(e){var t=this;""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId?t.UpdatePreviewData(t.sortColummnarray):t.ShowAlert(t.$t("SelectInput"),"failure",!0,t.$t("Alert"))},RemoveSortingFromList:function(){var e=this;e.isLoading=!0,e.GetPreviewData(e.viewreportparameters.ReportID),e.MainSortingArray=[],e.noRecord=!1},GetSortingData:function(){var e=this;null!=e.reportListingInfo.SORTING&&void 0!=e.reportListingInfo.SORTING&&""!=e.reportListingInfo.SORTING&&e.reportListingInfo.SORTING.length>0?(e.sortColummnarray=[],e.reportListingInfo.SORTING.forEach((t,a)=>{e.sortColummnarray.push({sortcolummnId:t.CustomFieldId,columnOrders:t.SORTTYPE})})):e.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]},GetTotalRecordsForExceed(){var e=1e5;return e},GetPdfAndExcelApi(){var e=this;e.isLoading=!0,e.IsFilterValid();var t={Info:{REPORTID:e.reportListingInfo.REPORTID,REPORTNAME:e.reportListingInfo.REPORTNAME,MODULENAME:e.reportListingInfo.MODULENAME,SUBMODULECODE:e.reportListingInfo.SUBMODULECODE,SUBMODULEID:e.reportListingInfo.SUBMODULEID,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:0,IsForPreview:e.IsForPreview,FIELDS:e.reportListingInfo.FIELDS,FILTERS:void 0!=e.MainUpdatedArray?e.MainUpdatedArray:e.reportListingInfo.FILTERS,GROUP:e.reportListingInfo.GROUP,SORTING:void 0!=e.MainSortingArray?e.MainSortingArray:e.reportListingInfo.SORTING,EXPRESSION:e.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:e.reportListingInfo.EXPRESSIONFIELDSARRAY,Req_From:"FromExcel"}},a=JSON.stringify(t);o["a"].InsertDynamicReportsLog(a).then(t=>{"Success"==t.data[0].Status?(e.ShowAlert(e.$t("Email_Sent"),"success",!0,e.$t("Alert")),e.isLoading=!1):(e.ShowAlert(e.$t("EmailFailed"),"danger",!0,e.$t("Alert")),e.isLoading=!1)}).catch(e=>{console.log(e.message)})},sortdata:function(e,t){var a=this,r="sort tb_headerSortDown";a.SortBy=e,e===a.SortBy&&(""==a.SortExp||null==a.SortExp?(a.SortExp="ASC",r="sort tb_headerSortDown"):"ASC"==a.SortExp?(a.SortExp="DESC",r="sort tb_headerSortUp"):(a.SortExp="ASC",r="sort tb_headerSortDown")),a.SingleSortArray=[],a.SingleSortArray.push({sortcolummnId:t,columnOrders:a.SortExp}),a.UpdatePreviewData(),$("#"+e+"  span:first-child").attr("class",r)},IsFilterValid:function(){var e=this;e.reportListingInfo.FILTERS.forEach(t=>{if(t.isManuallyAdded)if("Is Empty"==t.operator_display_name||"Is Not Empty"==t.operator_display_name||"Is Off Day"==t.operator_display_name||"Is Week End"==t.operator_display_name)console.log("Valid Filter");else if(""!=t.FieldName&&""!=t.Value1&&""!=t.OPERATOR_ID)console.log("Valid Filter");else{let a=e.reportListingInfo.FILTERS.findIndex(e=>e.CustomFieldId===t.CustomFieldId);e.reportListingInfo.FILTERS.splice(a,1)}})}}},O=y,R=Object(c["a"])(O,r,i,!1,null,null,null);t["default"]=R.exports},feb8:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".width80[data-v-6eaf8661]{width:90px}.width120[data-v-6eaf8661]{width:130px}.multiselect__tags[data-v-6eaf8661]{min-height:36px!important}",""]),e.exports=t}}]);
//# sourceMappingURL=chunk-758abe39.js.map