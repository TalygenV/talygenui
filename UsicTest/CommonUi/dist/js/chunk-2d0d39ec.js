(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d39ec"],{"5e17":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!1,ModuleName:"",SubModuleCode:"",LegendArray:[],RenderRowActionMethod:t.renderActions,widgets:[],IdentityColumn:"AVAILABILITY_ID",listType:["List"],ListData:t.UserAvailabilityData,HeaderData:t.Headers,HeaderButtons:t.listheaderbuttons,TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,IsSearchFieldsOnTop:"true",ListDataCallBackFunction:t.FetchData,showCheckBox:!0,SortExp:t.SortExp,SortBy:t.SortBy,NorecordfoundText:t.$t("NoRecordfound"),HeaderText:t.$t("UserAvailability")},on:{ActionButtonClick:t.actionButtonClick,LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,SortdataButtonClick:t.sortdata},scopedSlots:t._u([{key:"slotdata",fn:function(e){var i=e.data;return["AVAILABILITY_START_DATE"==i.column.COLUMN_NAME?[a("span",[t._v(" "+t._s(t.$options.filters.formatDate(i.row.AVAILABILITY_START_DATE))+" ")])]:t._e(),"RECURRING_TILL_DATE"==i.column.COLUMN_NAME?[a("span",[t._v(" "+t._s(t.$options.filters.formatDate(i.row.RECURRING_TILL_DATE))+" ")])]:t._e(),"AVAILABILITY_START_TIME"==i.column.COLUMN_NAME?[a("span",[t._v(" "+t._s(t.formatTimeWithoutSeconds(i.row.AVAILABILITY_START_TIME))+" ")])]:t._e(),"AVAILABILITY_END_TIME"==i.column.COLUMN_NAME?[a("span",[t._v(" "+t._s(t.formatTimeWithoutSeconds(i.row.AVAILABILITY_END_TIME))+" ")])]:t._e(),"STATUS_NAME"==i.column.COLUMN_NAME?["Available"==i.row.STATUS_NAME?a("span",{class:t.getStatusClassList(i.row.STATUS_NAME,"STATUS_NAME")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")]):t._e(),"Busy"==i.row.STATUS_NAME?a("span",{class:t.getStatusClassList(i.row.STATUS_NAME,"STATUS_NAME")},[t._v(" "+t._s(i.row[i.column.COLUMN_NAME])+" ")]):t._e()]:t._e()]}}])})],1)},s=[],o=(a("14d9"),a("e9f5"),a("7d54"),a("9769"));let l=[{title:"Add New",iconClass:"fa-plus",callbackfunction:"AddUserAvailability",additionalClass:"",isdisabled:!1,isvisible:!0,checkPrivilege:!1,id:"AddUserAvailability"},{title:"Delete",iconClass:"fa-trash-o",callbackfunction:"commonDeleteData",additionalClass:"",isdisabled:!0,isvisible:!0,checkPrivilege:!1,id:"DeleteMultiple",isEnabledOnSelectedRow:!0}],r=[{fieldName:"TITLE",fieldType:"text",fieldIcon:"fa fa-file-o",fieldSearchConditionName:["Search"],isSearch:!1,value:"",listOptions:[]},{fieldName:"STATUS",fieldType:"ddl-check",fieldIcon:"fa fa-file",fieldSearchConditionName:["SearchBy"],isSearch:!1,value:"",listOptions:[{name:"Available",value:"1001"},{name:"Busy",value:"1002"}]}],n=[{title:"Edit",callbackfunction:"Edit",href:"javascript:void(0)",icon:"fa fa-pencil text-success action-icon",additionalSpan:"",isvisible:!0,isdisabled:!1}];var c={buttons:l,leftsearchSchema:r,listActions:n},A={data(){return{isLoading:!1,hour12:!1,Headers:[{COLUMN_NAME:"AVAILABILITY_TITLE",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:"Title",DISPLAY_ORDER:1,settings:{isInSlot:!0}},{COLUMN_NAME:"AVAILABILITY_START_DATE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Start Date",DISPLAY_ORDER:2,settings:{isInSlot:!0}},{COLUMN_NAME:"RECURRING_TILL_DATE",DATA_TYPE:"Date",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Till Date",DISPLAY_ORDER:3,settings:{isInSlot:!0}},{COLUMN_NAME:"AVAILABILITY_START_TIME",DATA_TYPE:"Date",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Start Time",DISPLAY_ORDER:4,settings:{isInSlot:!0}},{COLUMN_NAME:"AVAILABILITY_END_TIME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"End Time",DISPLAY_ORDER:5,settings:{isInSlot:!0}},{COLUMN_NAME:"STATUS_NAME",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Status",DISPLAY_ORDER:6,settings:{isInSlot:!0}}],SortBy:"",SortExp:"",PageSize:"20",PageNumber:"1",TotalRecords:0,CurrentPage:1,TotalPages:0,noRecords:!1,searchCondition:"",UserAvailabilityData:[],listheaderbuttons:c.buttons,listActions:c.listActions,leftSearchFields:c.leftsearchSchema,searchBy:"",search:""}},created:async function(){var t=this;await t.FetchData()},methods:{formatTimeWithoutSeconds(t){const e=new Date(t);return new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}).format(e)},actionButtonClick:function(t,e){},leftCommonSearch:function(t){var e=this;e.search="",e.searchBy="",this.PageNumber=t.PageNumber,this.isPaged=1;var a=t.searchCondition;if("undefined"!=typeof t.searchCondition&&(a.includes("SearchBy")||a.includes("Search"))){let t=/SearchBy\s*=\s*'([^']+)'|SearchBy\s*in\s*\(([^)]+)\)/,i=a.match(t);if(i){let t=i[1]||i[2];t=t.replace(/^'+|'+$/g,""),e.searchBy=t}let s=/Search\s*LIKE\s*'%([^%]+)%'/,o=a.match(s),l=o?o[1]:null;e.search=null==l?"":l}this.FetchData()},commonHeaderButtonClick:function(t){switch(t.callbackfunction){case"commonDeleteData":this.commonDeleteData();break;case"AddUserAvailability":this.AddUserAvailability();break}},sortdata:function(t){this.SortBy=t;var e="ASC";"ASC"==this.SortExp&&(e="DESC"),this.SortExp=e,this.SortBy=t,this.SortExp=e,this.PageNumber=1,this.FetchData()},pagerMethod:function(t){this.PageSize=t.PageSize,this.PageNumber=t.PageNumber,this.FetchData()},renderActions:function(t){var e=this;let a=[];return e.listActions.forEach(t=>{let e={...t};switch(e.title){case"Edit":e.isVisible=!0;break;default:e.isVisible=!0}a.push(e)}),a},AddUserAvailability:function(){var t=this;t.$router.push({name:"AddUserAvailability",params:{id:0}})},clickEventOfColumn:function(t,e){var a=this;"AVAILABILITY_TITLE"==e.COLUMN_NAME&&a.$router.push({name:"AddUserAvailability",params:{id:t.AVAILABILITY_ID}})},FetchData:async function(){var t=this;if(t.isLoading=!0,""!=t.search||""!=t.searchBy)var e=`Title=${t.search}&status=${t.searchBy}&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}`;else e=`Title=&status=&sortBy=${t.SortBy}&sortExp=${t.SortExp}&pageSize=${t.PageSize}&pageNum=${t.PageNumber}`;await o["a"].GetUserAvailabilityListing(e).then(e=>{e.data&&e.data.length>0?(t.isLoading=!1,t.UserAvailabilityData=e.data,t.Headers.forEach(e=>{e.DISPLAY_NAME=t.$t(e.DISPLAY_NAME?e.DISPLAY_NAME:e.COLUMN_NAME),e.settings=null,"AVAILABILITY_TITLE"==e.COLUMN_NAME&&(e.settings={clickEvent:t.clickEventOfColumn,formatter:t.columnDataFormatter}),"AVAILABILITY_START_DATE"!=e.COLUMN_NAME&&"RECURRING_TILL_DATE"!=e.COLUMN_NAME&&"AVAILABILITY_START_TIME"!=e.COLUMN_NAME&&"AVAILABILITY_END_TIME"!=e.COLUMN_NAME&&"STATUS_NAME"!=e.COLUMN_NAME||(e.settings={isInSlot:!0})}),t.TotalRecords=e.data[0].TOTAL_RECORDS,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.CurrentPage=t.PageNumber,t.listheaderbuttons[1].isdisabled=!0,t.noRecords=!1):(t.UserAvailabilityData=[],t.noRecords=!0,t.TotalRecords=0,t.isLoading=!1)})},commonDeleteData:function(t){var e=this,a="";e.isLoading=!0,null==t?$(".chkItems:checkbox:checked").not("[id^='chkAll_0']").each((function(){a.length>0&&(a+=","),a+=$(this).val()})):a=t,null!=a?e.confirmR(e.$t("ConfirmDelete"),!0,e.$t("Delete")+"  "+e.$t("UserAvailability"),(function(){var t=`Ids=${a}&statusId=1003`;o["a"].GetUserStatus(t).then((function(t){200==t.status?($(".chkItems:checkbox:checked,#chkAll_0").prop("checked",!1).removeAttr("checked"),e.ShowAlert(e.$t("DeletedSuccess",[e.$t("UserAvailability")]),"success",!0,e.$t("Alert")),e.FetchData()):e.ShowAlert(e.$t("DeletedError",[e.$t("UserAvailability")]),"Success",!0,e.$t("Alert"))}))})):e.ShowAlert(e.$t("Selectanyrecordtodelete")),e.isLoading=!1},getStatusClassList:function(t){var e="";switch(t){case"Available":e="px-2 text-center text-white d-block bg-success";break;case"Busy":e="px-2 text-center text-white d-block bg-danger";break;default:e=""}return e}}},d=A,S=a("2877"),u=Object(S["a"])(d,i,s,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0d39ec.js.map