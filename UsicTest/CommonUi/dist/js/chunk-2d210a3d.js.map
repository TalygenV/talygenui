{"version":3,"sources":["webpack:///./src/views/Event/UserAvailability/AddUserAvailability.vue?9589","webpack:///src/views/Event/UserAvailability/AddUserAvailability.vue","webpack:///./src/views/Event/UserAvailability/AddUserAvailability.vue?d79e","webpack:///./src/views/Event/UserAvailability/AddUserAvailability.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","staticClass","ref","_v","_s","$t","_e","on","Close","buttons","FormSchema","MandatoryString","onSubmit","staticRenderFns","data","AddUserAvailability","UpdateUserAvailability","AvailabilityId","layoutType","Data","astype","label","name","value","placeholder","validationRules","max","visibility","config","options","mode","format","minuteIncrement","minDate","Date","type","class","text","onClick","created","vm","$route","params","id","GetUserByAvailabilityId","GetStatus","GetRecurring","methods","url","DataService","then","response","UserAvailabilityDetail","length","availability_title","availability_status_id","availability_start_time","availability_end_time","availability_start_date","$router","push","GetCommonStatusList","forEach","element","STATUS","obj","STATUS_ID","$refs","AddUser","UpdateKeyValue","itm","formfields","val","jsonobj","AvailabilityTitle","Title","AvailabilityStatus","UserStatus","AvailabilityStartDate","StartDate","AvailabilityStartTime","StartTime","AvailabilityEndTime","EndTime","AvailabilityRecurringId","Recurring","JSON","stringify","AddUpdateUserAvailability","status","ShowAlert","component"],"mappings":"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","file":"js/chunk-2d210a3d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loader',{attrs:{\"is-visible\":_vm.isLoading}}),_c('section',{staticClass:\"main-content\"},[_c('div',{ref:\"hellp\",attrs:{\"id\":\"divMaindealData\"}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12 padding-t_8\"},[_c('div',{staticClass:\"theme-primary partition-full\"},[(_vm.AddUserAvailability)?_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('AddNewUserStatus')))]):_vm._e(),(_vm.UpdateUserAvailability)?_c('span',{staticClass:\"p-name text-white\"},[_vm._v(_vm._s(_vm.$t('UpdateUserStatus')))]):_vm._e(),_c('span',{staticClass:\"float-right\"},[_c('a',{staticClass:\"p-action-btn text-white\",attrs:{\"href\":\"javascript:;\",\"title\":_vm.$t('BacktoList')},on:{\"click\":_vm.Close}},[_c('em',{staticClass:\"fa fa-angle-double-left pr-2\",attrs:{\"aria-hidden\":\"true\"}}),_c('br'),_vm._v(_vm._s(_vm.$t('BacktoList'))+\" \")])])])])]),_c('div',{staticClass:\"border p-3\"},[_c('Form',{ref:\"UserForm\"},[_c('dynamic-form',{ref:\"AddUser\",attrs:{\"lang\":\"en\",\"buttons\":_vm.buttons,\"schema\":_vm.FormSchema,\"mandatorytext\":_vm.MandatoryString},on:{\"OnSubmit\":_vm.onSubmit}})],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template lang=\"en\">\r\n    <div>\r\n        <loader :is-visible=\"isLoading\"></loader>\r\n        <section class=\"main-content\">\r\n            <div ref=\"hellp\" id=\"divMaindealData\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-12 padding-t_8\">\r\n                        <div class=\"theme-primary partition-full\">\r\n                            <span v-if=\"AddUserAvailability\" class=\"p-name text-white\">{{ $t('AddNewUserStatus') }}</span>\r\n                            <span v-if=\"UpdateUserAvailability\" class=\"p-name text-white\">{{ $t('UpdateUserStatus') }}</span>\r\n                            <span class=\"float-right\">\r\n                                <a href=\"javascript:;\" class=\"p-action-btn text-white\" :title=\"$t('BacktoList')\" @click=\"Close\">\r\n                                    <em class=\"fa fa-angle-double-left pr-2\" aria-hidden=\"true\"></em>\r\n                                    <br />{{ $t('BacktoList') }}\r\n                                </a>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"border p-3\">\r\n                    <Form ref=\"UserForm\">\r\n                        <dynamic-form ref=\"AddUser\" lang=\"en\" :buttons=\"buttons\" :schema=\"FormSchema\" v-on:OnSubmit=\"onSubmit\" :mandatorytext='MandatoryString'></dynamic-form>\r\n                    </Form>\r\n                </div>\r\n            </div>            \r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport DataService from \"@/services/DataService\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            isLoading: false,\r\n            AddUserAvailability: true,\r\n            UpdateUserAvailability: false,\r\n            AvailabilityId: 0,\r\n            MandatoryString: 'Fields marked with an asterisk (*) are mandatory.',\r\n            FormSchema: [\r\n                {\r\n                    layoutType: \"four\",\r\n                    Data: [\r\n                    {\r\n                        astype: \"TextField\",\r\n                        label: this.$t('Title'),\r\n                        name: \"Title\",\r\n                        value: \"\",\r\n                        placeholder: this.$t('Title'),\r\n                        validationRules: { \"required\": true, max: 100 },\r\n                    },\r\n                    {\r\n                        astype: \"SelectField\",\r\n                        label: this.$t('UserStatus'),\r\n                        name: \"UserStatus\",\r\n                        value: \"\",\r\n                        visibility: true,\r\n                        config: {\r\n                            options: []\r\n                        },\r\n                        validationRules: { \"required\": true },\r\n                    },\r\n                    {\r\n                        astype: \"DateField\",\r\n                        label: this.$t('StartTime'),\r\n                        name: \"StartTime\",\r\n                        //value: new Date(),\r\n                        visibility: true,\r\n                        placeholder: this.$t('StartTime'),\r\n                        config: {\r\n                            mode: \"time\",\r\n                                format: \"hh:mm\",\r\n                                minuteIncrement: \"5\"\r\n                            },\r\n                        validationRules: { \"required\": true, max: 100 },\r\n                    },\r\n                    {\r\n                        astype: \"DateField\",\r\n                        label: this.$t('EndTime'),\r\n                        name: \"EndTime\",\r\n                        //value: new Date(),\r\n                        visibility: true,\r\n                        placeholder: this.$t('EndTime'),\r\n                        config: {\r\n                            mode: \"time\",\r\n                                format: \"hh:mm\",\r\n                                minuteIncrement: \"5\"\r\n                            },\r\n                        validationRules: { \"required\": true, max: 100 },\r\n                    }]\r\n                },\r\n                {\r\n                    layoutType: \"four\",\r\n                    Data: [\r\n                    {\r\n                        astype: \"DateField\",\r\n                        label: this.$t('StartDate'),\r\n                        name: \"StartDate\",\r\n                        //value: new Date(),\r\n                        placeholder: \"Enter Start Date\",\r\n                        config: {\r\n                            options: [],\r\n                            minDate: new Date()\r\n                        },\r\n                        validationRules: {\r\n                            \"required\": true\r\n                        },\r\n                        visibility: true,\r\n                    },\r\n                    {\r\n                        astype: \"SelectField\",\r\n                        label: this.$t('Recurring'),\r\n                        name: \"Recurring\",\r\n                        value: \"\",\r\n                        visibility: true,\r\n                        config: {\r\n                            options: []\r\n                        },\r\n                        validationRules: { \"required\": true, max: 100 },\r\n                    }]\r\n                }\r\n            ],\r\n            buttons: [\r\n                {\r\n                    type: \"submit\",\r\n                    class: \"btn btn-success\",\r\n                    text: \"<i class='fa fa-save pr-2'></i>Save\",\r\n                },\r\n                {\r\n                    type: \"button\",\r\n                    class: \"btn btn-danger\",\r\n                    text: \"<i class='fa fa-close pr-2'></i>Close\",\r\n                    onClick: this.Close\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    created: async function () {\r\n        var vm = this;\r\n        vm.AvailabilityId = this.$route.params.id;\r\n        if (vm.AvailabilityId > 0) {\r\n            vm.GetUserByAvailabilityId();\r\n            vm.AddUserAvailability = false;\r\n            vm.UpdateUserAvailability = true;\r\n            vm.FormSchema[1].Data[1].visibility = false;\r\n        }\r\n        await vm.GetStatus()\r\n        await vm.GetRecurring();\r\n    },\r\n    methods: {\r\n        GetUserByAvailabilityId: async function () {\r\n            var vm = this;\r\n            var url = `AvailabilityId=${vm.AvailabilityId}`;\r\n            await DataService.GetUserByAvailabilityId(url).then((response) => {\r\n                vm.UserAvailabilityDetail = [];\r\n                if (response.data && response.data.length > 0) {\r\n                    vm.UserAvailabilityDetail = response.data;\r\n                    vm.FormSchema[0].Data[0].value = vm.UserAvailabilityDetail[0].availability_title;\r\n                    vm.FormSchema[0].Data[1].value = vm.UserAvailabilityDetail[0].availability_status_id;\r\n                    vm.FormSchema[0].Data[2].value = vm.UserAvailabilityDetail[0].availability_start_time;\r\n                    vm.FormSchema[0].Data[3].value = vm.UserAvailabilityDetail[0].availability_end_time;\r\n                    vm.FormSchema[1].Data[0].value = vm.UserAvailabilityDetail[0].availability_start_date;\r\n                }\r\n            });\r\n        },\r\n        Close: function () {\r\n            var vm = this;\r\n            vm.$router.push('/UserAvailability/Index')\r\n        },\r\n        GetStatus: async function () {     \r\n            var url =`statusType=AvalibilityNonavalibility&hasglobal=true&langCode=en`;\r\n            await DataService.GetCommonStatusList(url).then((response)=>{ \r\n                if (response.data.length > 0 ){\r\n                    response.data.forEach(element => {\r\n                        if (element.STATUS == \"Available\" || element.STATUS == \"Busy\") {\r\n                            let obj= {\r\n                                name: element.STATUS,\r\n                                value: element.STATUS_ID\r\n                            }                            \r\n                            this.FormSchema[0].Data[1].config.options.push(obj);\r\n                        }\r\n                    });\r\n                }\r\n                this.$refs.AddUser.UpdateKeyValue();\r\n            });\r\n        },\r\n        GetRecurring: async function () {\r\n            var url = `id=&moduleName=CRM&type=EVENT_RECURRING&search=&refId=`;\r\n            await DataService.GetRecurring(url).then((response)=>{ \r\n                if (response.data != '' ){\r\n                    response.data.forEach(itm => {\r\n                        let obj= {\r\n                            name: itm.name,\r\n                            value: itm.value\r\n                        }                            \r\n                        this.FormSchema[1].Data[1].config.options.push(obj);\r\n                    });\r\n                }\r\n                this.$refs.AddUser.UpdateKeyValue();\r\n            });\r\n        },\r\n        onSubmit(formfields, val) {\r\n            var vm = this;\r\n            var jsonobj = {\r\n                AvailabilityId: vm.AvailabilityId == null ? 0 : vm.AvailabilityId,\r\n                AvailabilityTitle: formfields.Title,\r\n                AvailabilityStatus: formfields.UserStatus, \r\n                AvailabilityStartDate: formfields.StartDate,       //vm.$options.filters.formatDate(formfields.StartDate),\r\n                AvailabilityStartTime: formfields.StartTime,       //vm.$options.filters.formatTime(formfields.StartTime),\r\n                AvailabilityEndTime: formfields.EndTime,           //vm.$options.filters.formatTime(formfields.EndTime),\r\n                AvailabilityRecurringId: formfields.Recurring,          \r\n            };\r\n            var params = JSON.stringify(jsonobj);\r\n            DataService.AddUpdateUserAvailability(params).then((response) => {\r\n                if (response.status == 200) {\r\n                    if (vm.AvailabilityId > 0) {\r\n                        vm.ShowAlert(vm.$t(\"UpdatedSuccess\", [vm.$t(\"UserAvailability\")]), \"success\", true, vm.$t(\"Alert\"));\r\n                    }\r\n                    else {\r\n                        vm.ShowAlert(vm.$t(\"AddedSuccess\", [vm.$t(\"UserAvailability\")]), \"success\", true, vm.$t(\"Alert\"));\r\n                    }\r\n                    vm.Close(); \r\n                }\r\n                else {\r\n                    vm.ShowAlert(vm.$t(\"AddedError\", [vm.$t(\"UserAvailability\")]), \"failure\", true, vm.$t(\"Alert\"));\r\n                    vm.Close();\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUserAvailability.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddUserAvailability.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AddUserAvailability.vue?vue&type=template&id=1b955ab9&lang=en\"\nimport script from \"./AddUserAvailability.vue?vue&type=script&lang=js\"\nexport * from \"./AddUserAvailability.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}