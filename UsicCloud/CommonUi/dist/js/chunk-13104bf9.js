(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13104bf9"],{"22ca":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".width80[data-v-1e7655ea]{width:90px}.width120[data-v-1e7655ea]{width:130px}.multiselect__tags[data-v-1e7655ea]{min-height:36px!important}",""]),e.exports=t},"53e8":function(e,t,a){var r=a("22ca");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("499e").default;i("33208775",r,!0,{sourceMap:!1,shadowMode:!1})},caa7:function(e,t,a){"use strict";a("53e8")},e770:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{class:void 0==e.ReportListParameters?"right-content hr_jobpost w-100":"right-content"},[t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.reportName))]),t("span",{staticClass:"p-actions float-right mydbsize"},[t("a",{class:(e.isFilterExist,"p-action-btn text-white dash"),on:{click:e.OpenFilter}},[t("em",{staticClass:"fa fa-filter"}),t("br"),e._v(e._s(e.$t("Filter"))+" ")]),t("a",{class:1==e.CanEdit?"p-action-btn text-white dash":"p-action-btn text-white dash d-none",attrs:{title:"Edit Report"},on:{click:e.EditReport}},[t("em",{staticClass:"fa fa-pencil text-white action-icon"}),t("br"),e._v(e._s(e.$t("Edit")))]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"ExportToPDF"},on:{click:function(t){return e.ExportToPDF("download")}}},[t("em",{staticClass:"fa fa-file-pdf-o"}),t("br"),e._v(e._s(e.$t("PDF")))]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Print"},on:{click:function(t){return e.ExportToPDF("print")}}},[t("em",{staticClass:"fa fa-file-pdf-o"}),t("br"),e._v(e._s(e.$t("PRINT")))]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"ExportToExcel"},on:{click:e.ExportToExcel}},[t("em",{staticClass:"fa fa-file-excel-o"}),t("br"),e._v(e._s(e.$t("Excel")))]),t("a",{directives:[{name:"show",rawName:"v-show",value:e.showGraphBtn,expression:"showGraphBtn"}],staticClass:"p-action-btn text-white dash",on:{click:e.OpenGraph}},[t("em",{staticClass:"fa fa-pie-chart"}),t("br"),e._v(e._s(e.showgraph?e.$t("CollapseGraph"):e.$t("ExpandGraph"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Sort"},on:{click:e.OpenSortingPopup}},[t("em",{staticClass:"fa fa-sort-amount-asc"}),t("br"),e._v(e._s(e.$t("Sort"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Back"},on:{click:e.OnBack}},[t("em",{staticClass:"fa fa-angle-double-left"}),t("br"),e._v(e._s(e.$t("Back"))+" ")])]),e._m(0)]),t("div",{staticClass:"parentdiv datarepfix2"},[t("div",{staticClass:"verticle-action lft75 rt30"},[t("span",{staticClass:"action-list-box small",staticStyle:{width:"400px"}},[e.isSortPopup?t("span",{staticClass:"text-left p-0 datarep mt-3 w-90 float-left bg_outerdark borderbababa position-relative",attrs:{id:"action-list1"}},[t("div",{staticClass:"float-left col-12"},[t("div",{staticClass:"container-fluid p-0"}),e._l(e.sortColummnarray,(function(a,r){return t("div",{staticClass:"row px-3 pt-3 pb-0"},[t("div",{staticClass:"col-lg-5 pl-0 pr-3"},[t("div",{staticClass:"form-group mb-0"},[t("label",{staticClass:"pb-2"},[e._v(e._s(e.$t("SortBy")))]),t("select",{directives:[{name:"model",rawName:"v-model",value:a.sortcolummnId,expression:"input.sortcolummnId"}],staticClass:"form-control",attrs:{id:"SortValue"+r},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"sortcolummnId",t.target.multiple?r:r[0])}}},e._l(e.reportListingInfo.FIELDS.filter(e=>0==e.Calculated_Field),(function(a){return t("option",{key:a.CustomFieldId,attrs:{disabled:e.sortColummnarray.filter(e=>e.sortcolummnId==a.CustomFieldId).length>0},domProps:{value:""!=a.CustomFieldId?a.CustomFieldId:a.FieldName}},[e._v(" "+e._s(a.DisplayName?e.GetLocalizedValue(a.DisplayName):e.GetLocalizedValue(a.FieldName)))])})),0)])]),t("div",{staticClass:"col-lg-5 pl-0 pr-3"},[t("div",{staticClass:"form-group mb-0"},[t("label",{staticClass:"pb-2"},[e._v(e._s(e.$t("OrderBy")))]),t("select",{directives:[{name:"model",rawName:"v-model",value:a.columnOrders,expression:"input.columnOrders"}],staticClass:"form-control",on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"columnOrders",t.target.multiple?r:r[0])}}},[t("option",[e._v(e._s(e.$t("ASC")))]),t("option",[e._v(e._s(e.$t("DESC")))])])])]),t("div",{staticClass:"col-lg-2 pl-0 pr-3 d-flex align-items-center"},[t("div",{staticClass:"form-group mb-0"},[t("a",{on:{click:function(t){return e.AddSortingForm(a)}}},[t("em",{staticClass:"fa fa-plus-circle font-24 text-success mt-3"})]),t("a",{directives:[{name:"show",rawName:"v-show",value:""!=e.sortColummnarray[0].sortcolummnId,expression:"sortColummnarray[0].sortcolummnId != ''"}],on:{click:function(t){return e.RemoveSortingForm(a)}}},[t("em",{staticClass:"fa fa-times-circle font-24 text-danger mt-3 ml-1"})])])])])})),t("a",{staticClass:"btn btn-success my-3 mr-2 pl-1",on:{click:function(t){return e.EnableSortingSearch(e.input)}}},[t("span",{staticClass:"fa fa-sort-amount-desc mr-2"}),e._v(e._s(e.$t("Sort")))]),t("a",{staticClass:"btn btn-danger pl-1 mb-0",on:{click:function(t){return e.RemoveSortingFromList()}}},[t("span",{staticClass:"fa fa-times mr-2"}),e._v(e._s(e.$t("ResetSort")))])],2),e._m(1),t("button",{staticClass:"close closebtnsmall",attrs:{type:"button"},on:{click:function(t){e.isSortPopup=!1}}},[t("em",{staticClass:"fa fa-times text",attrs:{"aria-hidden":"true"}})])]):e._e()])])])]),t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"tab-pane mb-0"},[t("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[e.showgraph?t("div",{staticClass:"card mb-3 probx"},[t("div",{staticClass:"card-header"},[t("h2",[e._v(e._s(e.$t("Graph")))])]),t("div",{staticClass:"card-body",attrs:{id:"Reportpdf"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 col-lg-12 text-center"},[t("div",{staticClass:"border bg-light position-absolute text-left p-0",staticStyle:{"z-index":"99",height:"auto","max-width":"20%"}},[t("ul",{staticClass:"graphinfo"},[t("li",[t("label",[e._v("X-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.XAxisFieldName)))]),t("li",[t("label",[e._v("Y-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.YAxisFieldName)))]),t("li",{directives:[{name:"show",rawName:"v-show",value:0!=e.aggregateFunctionResult,expression:"aggregateFunctionResult != 0"}]},[t("label",[e._v("# "+e._s(e.AggregateFuncField)+":")]),e._v(e._s(e.aggregateFunctionResult)+" ")])])]),"line"==e.chartType||"bar"==e.chartType||"horizontal_bar"==e.chartType?t("div",{staticClass:"vue-apexcharts"},[t("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",width:"50%",options:e.chartOptions,series:e.chartSeries}})],1):e._e(),"pie"==e.chartType||"donut"==e.chartType?t("div",{staticClass:"vue-apexcharts"},[t("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",width:"40%",options:e.chartOptions,series:e.chartSeries}})],1):e._e()])])])]):e._e(),t("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive table-fix-header"},[e.noRecord?t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{"aria-label":"NO Record Found"}},[e._m(2),t("tbody",[t("tr",{staticStyle:{cursor:"initial"}},[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])])])]):e._e(),t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"Reportpdf","aria-label":"View Record"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[e._l(e.previewgroupdata,(function(a,r){return e.showdata?t("th",{key:r,attrs:{scope:"col"}},[e._v(" "+e._s(e.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")]):e._e()})),e._l(e.previewcolumn,(function(a,r){return t("th",{key:r,attrs:{scope:"col"}},[a.Calculated_Field?t("span",[e._v(" "+e._s(e.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")]):t("span",{class:{sort:!0,tb_headerSortUp:"ASC"==e.SortExp&&e.SortBy==a.FieldName,tb_headerSortDown:"DESC"==e.SortExp&&e.SortBy==a.FieldName},on:{click:function(t){return e.sortdata(a.FieldName,a.CustomFieldId)}}},[e._v(" "+e._s(e.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")])])}))],2)]),e._l(e.previewdata,(function(a,r){return t("tbody",{key:r},[e._l(e.previewdata[r].data,(function(r,i){return e.showdata?t("tr",{key:i},[0==i?e._l(e.previewgroupdata,(function(r,i){return t("td",{key:i,staticClass:"breakspaces",class:{onlyrtbod:!0,"":null==a.totalRecord},attrs:{rowspan:a.totalRecord}},[e._v(e._s(null!=r.DisplayName&&""!=r.DisplayName?"date"==r.ColumnFieldDataCode?e.$options.filters.formatDate(a[r.DisplayName]):a[r.DisplayName]:"date"==r.ColumnFieldDataCode?e.$options.filters.formatDate(a[r.FieldName]):a[r.FieldName])+" ("+e._s(a.totalRecord)+")")])})):e._e(),e._l(e.previewcolumn,(function(a,i){return t("td",{key:i},[t("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s(null!=r[a.DisplayName]&&""!=r[a.DisplayName]?r[a.DisplayName]||0==r[a.DisplayName]?"date"==a.ColumnFieldDataCode?e.$options.filters.formatDate(r[a.DisplayName]):r[a.DisplayName]:"":r[a.FieldName]||0==r[a.FieldName]?"date"==a.ColumnFieldDataCode?e.$options.filters.formatDate(r[a.FieldName]):r[a.FieldName]:"")}})])}))],2):e._e()})),e.showcoldata?t("tr",e._l(e.previewcolumn,(function(r,i){return t("td",{key:i},[t("span",{staticClass:"breakspaces",domProps:{innerHTML:e._s(null!=a[r.DisplayName]&&""!=a[r.DisplayName]?a[r.DisplayName]||0==a[r.DisplayName]?"date"==r.ColumnFieldDataCode?e.$options.filters.formatDate(a[r.DisplayName]):a[r.DisplayName]:"":a[r.FieldName]||0==a[r.FieldName]?"date"==r.ColumnFieldDataCode?e.$options.filters.formatDate(a[r.FieldName]):a[r.FieldName]:"")}})])})),0):e._e()],2)}))],2)]),t("Pager",{class:{"d none":!0,"":e.TotalRecords>10},attrs:{numberofrecords:e.TotalRecords,"prev-text":"Prev","first-text":"First","last-text":"Last","next-text":"Next"},on:{SetCurrentPage:e.SetCurrentPage}})],1)])])])])]),e.showViewCustomReportFilter?t("modalViewCustomReportFilter",{attrs:{reportListingInfo:e.reportListingInfo},on:{close:function(t){e.showViewCustomReportFilter=!1}}}):e._e()],1)},i=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"va_lft25 top4"},[t("em",{staticClass:"icon-solid arrow-solid-left text-secondary",staticStyle:{"font-size":"20pt"}})])},function(){var e=this,t=e._self._c;return t("thead",[t("th",{attrs:{scope:"col"}})])}],o=(a("b7ef"),a("14d9"),a("88a7"),a("271a"),a("5494"),a("9769")),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal my-popups centre fade",attrs:{id:"modalViewCustomReportFilter",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("ValidationObserver",{ref:"FilterForm",scopedSlots:e._u([{key:"default",fn:function({handleSubmit:a}){return[t("form",{ref:"FilterForm1",on:{submit:function(t){return t.preventDefault(),a(e.ApplyNewFilterToList)}}},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("FILTER")))])]),t("div",{staticClass:"modal-body"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"list-item row filter-div"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t("div",{staticClass:"form-content"},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0 float-left",attrs:{id:"divshowSearchCriteriaList"}},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(" Filter")]),t("small",{staticClass:"float-right"},[t("a",{staticStyle:{cursor:"pointer"},attrs:{href:"javascript:;",title:"Add"},on:{click:function(t){return e.AddFilterRow()}}},[t("em",{staticClass:"fa fa-plus pr-2"}),e._v(" Add ")])])])]),t("div",{staticClass:"listing mt-2"},[t("div",{staticClass:"mb-2"},[t("label",[e._v("Include data if it matches")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.modelfiltertype,expression:"modelfiltertype"}],staticClass:"form-control col-4",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modelfiltertype=t.target.multiple?a:a[0]}}},e._l(e.FilterCategory,(function(a){return t("option",{domProps:{value:a}},[e._v(e._s(a))])})),0)]),t("div",{staticClass:"table-responsive overflow-visible"},[t("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0 dataTable no-footer dtr-inline",attrs:{"aria-describedby":"serachfilter"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[t("th",{staticStyle:{"min-width":"180px"},attrs:{scope:"col"}},[t("span",[e._v("Name")])]),t("th",{staticStyle:{"min-width":"180px"},attrs:{scope:"col"}},[t("span",[e._v("Operator")])]),t("th",{staticStyle:{"min-width":"480px"},attrs:{scope:"col"}},[t("span",[e._v("Value")])]),t("th",{staticStyle:{"min-width":"50px"},attrs:{scope:"col"}},[t("span",[e._v("Action")])])])]),t("tbody",[e._l(e.reportListingInfo.FILTERS,(function(a,r){return e.reportListingInfo.FILTERS.length>0?t("tr",[t("td",[a.isManuallyAdded?e._e():t("span",{staticClass:"form-control disabled"},[e._v(e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName)))]),a.isManuallyAdded?t("Field",{attrs:{name:"Field"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o,meta:s}){return[t("select",e._b({directives:[{name:"model",rawName:"v-model",value:a.CustomFieldId,expression:"filterdata.CustomFieldId"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"CustomFieldId",t.target.multiple?r:r[0])},function(t){return e.OnChangeFieldDdl(a)}]}},"select",r,!1),[t("option",{attrs:{value:""}},[e._v("Select field")]),e._l(e.reportListingInfo.FIELDS,(function(a){return t("option",{attrs:{disabled:e.reportListingInfo.FILTERS.filter(e=>e.CustomFieldId==a.CustomFieldId).length>0},domProps:{value:a.CustomFieldId}},[e._v(e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName)))])}))],2)]}}],null,!0)}):e._e()],1),t("td",{staticStyle:{overflow:"visible!important"}},[t("Field",{staticStyle:{overflow:"visible!important",width:"100%!important"},attrs:{name:"Operator"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("select",e._b({directives:[{name:"model",rawName:"v-model",value:a.OPERATOR_ID,expression:"filterdata.OPERATOR_ID"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:[function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"OPERATOR_ID",t.target.multiple?r:r[0])},function(t){return e.OnChangeOperator(a)}]}},"select",r,!1),[t("option",{attrs:{value:""}},[e._v("Select Operator")]),e._l(a.OperatorList,(function(a){return t("option",{domProps:{value:a.OPERATOR_ID}},[e._v(e._s(a.OPERATOR_DISPLAY_NAME))])}))],2)]}}],null,!0)})],1),t("td",{style:"select"!=a.ActualDataType||"IN"!=a.OperatorExpression&&"NOT IN"!=a.OperatorExpression?"":"display: contents;"},["Is Not Null"==a.OperatorExpression||"Is Null"==a.OperatorExpression?t("span",[e._v("--")]):e._e(),"string"==a.ActualDataType&&"Is Not Null"!=a.OperatorExpression&&"Is Null"!=a.OperatorExpression?t("Field",{attrs:{name:"StringFirstValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==a.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"text",id:"inpttxt"},domProps:{value:a.Value1},on:{input:function(t){t.target.composing||e.$set(a,"Value1",t.target.value)}}})]}}],null,!0)}):e._e(),"string"==a.ActualDataType&&"between"==a.OperatorExpression?t("Field",{attrs:{name:"StringSecondValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"50px"},attrs:{type:"text",id:"inpttxt2"},domProps:{value:a.Value2},on:{input:function(t){t.target.composing||e.$set(a,"Value2",t.target.value)}}})]}}],null,!0)}):e._e(),"decimal"!=a.ActualDataType&&"int"!=a.ActualDataType&&"bigint"!=a.ActualDataType||"Is Not Null"==a.OperatorExpression||"Is Null"==a.OperatorExpression?e._e():t("Field",{attrs:{name:"NumberFirstValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==a.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:a.Value1},on:{keydown:function(t){return e.PreventValues(t)},input:function(t){t.target.composing||e.$set(a,"Value1",t.target.value)}}})]}}],null,!0)}),"decimal"!=a.ActualDataType&&"int"!=a.ActualDataType&&"bigint"!=a.ActualDataType||"between"!=a.OperatorExpression?e._e():t("Field",{attrs:{name:"NumberSecondValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"50px"},attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:a.Value2},on:{keydown:function(t){return e.PreventValues(t)},input:function(t){t.target.composing||e.$set(a,"Value2",t.target.value)}}})]}}],null,!0)}),"date"!=a.ActualDataType&&"datetime"!=a.ActualDataType||"DateRange"==a.OperatorExpression||"Is Not Null"==a.OperatorExpression||"Is Null"==a.OperatorExpression?e._e():t("Field",{attrs:{name:"DateFirstValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},style:"between"==a.OperatorExpression?"width: 45%;float: left;":"",attrs:{type:"date",max:"9999-12-31",id:"inpttxtdate1"},domProps:{value:a.Value1},on:{input:function(t){t.target.composing||e.$set(a,"Value1",t.target.value)}}})]}}],null,!0)}),"date"!=a.ActualDataType&&"datetime"!=a.ActualDataType||"DateRange"==a.OperatorExpression||"between"!=a.OperatorExpression?e._e():t("Field",{attrs:{name:"DateSecondValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("input",{directives:[{name:"model",rawName:"v-model",value:a.Value2,expression:"filterdata.Value2"}],class:{"form-control":!0,"is-invalid":i[0]},staticStyle:{width:"45%",float:"left","margin-left":"20px"},attrs:{type:"date",max:"9999-12-31",min:a.Value1},domProps:{value:a.Value2},on:{input:function(t){t.target.composing||e.$set(a,"Value2",t.target.value)}}})]}}],null,!0)}),"select"==a.ActualDataType&&"IN"!=a.OperatorExpression&&"NOT IN"!=a.OperatorExpression&&"Is Not Null"!=a.OperatorExpression&&"Is Null"!=a.OperatorExpression?t("div",[t("Field",{attrs:{name:"Selectddl"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("select",e._b({directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"Value1",t.target.multiple?r:r[0])}}},"select",r,!1),[t("option",{attrs:{value:""}},[e._v("Select value")]),e._l(a.selectOptions,(function(a){return t("option",{key:a.value,domProps:{value:a.value}},[e._v(" "+e._s(a.label)+" ")])}))],2)]}}],null,!0)})],1):e._e(),"datetime"!=a.ActualDataType&&"date"!=a.ActualDataType||"DateRange"!=a.OperatorExpression?e._e():t("div",[t("Field",{attrs:{name:"DateRangeValue"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("select",{directives:[{name:"model",rawName:"v-model",value:a.Value1,expression:"filterdata.Value1"}],class:{"form-control":!0,"is-invalid":i[0]},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"Value1",t.target.multiple?r:r[0])}}},[t("option",{attrs:{value:""}},[e._v("Select value")]),e._l(e.daterangeArray,(function(a){return t("option",{key:a.value,attrs:{title:a.label},domProps:{value:a.value}},[e._v(e._s(a.label))])}))],2)]}}],null,!0)})],1),"select"!=a.ActualDataType||"IN"!=a.OperatorExpression&&"NOT IN"!=a.OperatorExpression?e._e():t("div",{staticStyle:{padding:"0.375rem 0.5rem"}},[t("Field",{attrs:{name:"MultiSelectddl"+r,rules:"required"},scopedSlots:e._u([{key:"default",fn:function({field:r,errors:i,errorMessage:o}){return[t("Multiselect",e._b({class:{"form-control":!0,"form-control is-invalid":i[0]},staticStyle:{"box-sizing":"border-box","margin-top":"0px","padding-left":"0px","padding-right":"0px"},attrs:{id:"dontforget",multiple:!0,label:"label","track-by":"label",placeholder:"Select",searchable:!0,mode:"tags",limit:2,taggable:!1,"close-on-select":!1,options:e.multiselectArray},on:{select:e.selectionChange,remove:e.removeElement},model:{value:a.Value1,callback:function(t){e.$set(a,"Value1",t)},expression:"filterdata.Value1"}},"Multiselect",r,!1))]}}],null,!0)})],1)],1),t("td",{staticClass:"text-center single-action"},[t("a",{attrs:{href:"javascript:;"},on:{click:function(t){return e.DeleteFilterRow(r)}}},[a.isManuallyAdded?t("em",{staticClass:"fa fa-trash text-danger pr-2"}):e._e()]),a.isManuallyAdded?e._e():t("span",[e._v("--")])])]):e._e()})),0==e.reportListingInfo.FILTERS.length?t("tr",[t("td",{staticClass:"text-center text-danger py-3",attrs:{colspan:"10"}},[e._v("No record(s) found")])]):e._e()],2)])])])])])])])],1),t("div",{staticClass:"col-12 mb-3 mr-auto d-flex align-items-center justify-content-end"},[t("button",{staticClass:"btn btn-success my-2 my-sm-0 mr-2 pl-1",attrs:{type:"submit"}},[t("span",{staticClass:"fa fa-search"}),e._v(" Search")]),t("a",{staticClass:"btn btn-danger pl-1 mb-0",on:{click:function(t){return e.RemoveNewFilterFromList()}}},[t("span",{staticClass:"fa fa-times"}),e._v(" Reset Filter")])])])]}}])})],1)])])},l=[],n=a("7bb1"),d=a("4c93"),p={setup(){Object.keys(d).forEach(e=>{Object(n["d"])(e,d[e])})},components:{Form:n["Form"],Field:n["c"],ValidationObserver:n["b"]},data(){return{isLoading:!1,isFilterExist:0,selectedOPValue:"",GetOperator:[],options:[],isBinding:!1,ArrayforFilterpopup:[],FilterClose:!1,FilterCategory:["AND","OR"],modelfiltertype:"AND",multiselectArray:[],daterangeArray:[]}},props:{reportListingInfo:{type:Object}},created(){var e=this;e.GetDropDownValueOnFilter()},watch:{FilterClose(e){e&&this.GetDropDownValueOnFilter()}},mounted:function(){$("#modalViewCustomReportFilter").modal({backdrop:"static",keyboard:!1})},methods:{removeElement(){this.$forceUpdate()},selectionChange(){this.$forceUpdate()},close(){$("#modalViewCustomReportFilter").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),this.$emit("close")},GetFilterSelectDDL(e){var t=this;e.selectOptions=[],t.multiselectArray=[];var a=[];t.isLoading=!0,o["a"].GetFilterDDLselectvalue(e.CustomFieldId).then(r=>{r.data.length>0?(a=r.data,a.forEach(a=>{e.selectOptions.push({value:a.value,label:a.name}),t.multiselectArray.push({value:a.value,label:a.name})}),t.isLoading=!1):t.isLoading=!1}).catch(e=>{console.log(e)})},GetOperatordata(e){var t=e.CustomFieldId,a=`dataType=${e.ColumnFieldDataCode}&customField=${t}`;o["a"].GetDataOperator(a).then(t=>{if(e.OperatorList=t.data.DATA,e.OperatorExpression){let t=e.OperatorList.find(t=>t.OPERATOR_ID===parseInt(e.OPERATOR_ID));e.OperatorExpression=t.OPERATOR_EXPRESSION}})},GetDateRangeFilterDDL(e){var t=this;e.selectOptions=[],t.daterangeArray=[];var a=[];t.isLoading=!0,o["a"].GetDateRangeFilterDDL().then(r=>{setTimeout((function(){a=JSON.parse(r.data[0].Value).Data,a.forEach(a=>{e.selectOptions.push({value:a.date_range_name,label:a.date_range_value}),t.daterangeArray.push({value:a.date_range_name,label:a.date_range_value})}),t.isLoading=!1}),2e3)})},async ApplyNewFilterToList(){var e=this;this.reportListingInfo.FILTERS.forEach((function(t){let a=t.OperatorList.find(e=>e.OPERATOR_ID==t.OPERATOR_ID),r="'"+t.Value1+"'",i="'"+t.Value2+"'";if("select"==t.ColumnFieldDataCode&&("IN"==a.OPERATOR_EXPRESSION||"NOT IN"==a.OPERATOR_EXPRESSION)){let e=[];t.Value1.forEach(t=>{e.push(t.value)}),r="'"+e.join("','")+"'"}"decimal"!=t.ColumnFieldDataCode&&"int"!=t.ColumnFieldDataCode&&"bigint"!=t.ColumnFieldDataCode||(t.Value1=""==t.Value1?0:t.Value1,t.Value2=""==t.Value2?0:t.Value2,r=t.Value1,i=t.Value2),t.OperatorExpression=e.ConvertOperatorToExpression(a.OPERATOR_EXPRESSION,r,i),t.FilterTypeAndorOr=e.modelfiltertype})),e.isLoading=!0,e.reportListingInfo.GRAPH.length>0&&await e.$parent.SetGroupDataforGraph([],e.reportListingInfo.FILTERS),e.$parent.UpdatePreviewData([],e.reportListingInfo.FILTERS),e.isLoading=!1,e.close()},RemoveNewFilterFromList(){var e=this;e.$parent.RemoveNewFilterFromList(),e.close()},PreventValues(e){var t=e.keyCode;69!=t&&107!=t&&109!=t||e.preventDefault()},GetDropDownValueOnFilter(){var e=this;console.log(e.reportListingInfo.FILTERS),e.reportListingInfo.FILTERS.forEach(t=>{if(e.modelfiltertype=t.FilterTypeAndorOr,e.GetOperatordata(t),"undefined"===typeof t.isManuallyAdded&&(t.isManuallyAdded=!1),"select"==t.ColumnFieldDataCode&&"Lookup"==t.PickListOption){var a=[];e.GetFilterSelectDDL(t),setTimeout((function(){if("Equal to one of multiple possible values"==t.operator_display_name&&"object"!=typeof t.Value1){var e=null===t||void 0===t?void 0:t.Value1.replace(/"|'/g,"");a=null===e||void 0===e?void 0:e.split(","),t.Value1=[],a.forEach(e=>{const a=t.selectOptions.find(t=>t.value===e);if(void 0!=a){var r={value:a.value,label:a.label};t.Value1.push(r)}})}}),2e3)}else"datetime"!=t.ColumnFieldDataCode&&"date"!=t.ColumnFieldDataCode||"Date Range"!=t.operator_display_name||e.GetDateRangeFilterDDL(t)})},AddFilterRow:function(){var e=this;this.$refs.FilterForm.validate().then((function(t){t&&e.reportListingInfo.FILTERS.push({isManuallyAdded:!0,CustomFieldId:"",FieldName:"",ActualDataType:"string",OperatorExpression:"",FilterTypeAndorOr:"AND",OPERATOR_ID:"",operator_display_name:"",Value1:"",Value2:"",IsMandatoryforFilter:!1,FieldIcons:"",DisplayName:"",PickListOption:null,ColumnFieldDataCode:"",selectedOPValue:"",selectOptions:[]})}))},OnChangeFieldDdl:function(e){e.OperatorExpression="",e.OPERATOR_ID="",e.selectOptions=[],this.reportListingInfo.FIELDS.forEach((function(t){t.CustomFieldId==e.CustomFieldId&&(e.DisplayName=t.DisplayName,e.ActualDataType=t.ColumnFieldDataCode,e.ColumnFieldDataCode=t.ColumnFieldDataCode,e.FieldName=t.FieldName,e.FieldIcons=t.FieldIcons,e.FieldIcons=t.FieldIcons)})),this.GetOperatordata(e)},OnChangeOperator:function(e){var t=this;e.selectOptions=[],t.multiselectArray=[];var a=[];if(t.isLoading=!0,e.OPERATOR_ID>0){let t=e.OperatorList.find(t=>t.OPERATOR_ID===parseInt(e.OPERATOR_ID));e.OperatorExpression=t.OPERATOR_EXPRESSION,e.operator_display_name=t.OPERATOR_DISPLAY_NAME,"IN"==e.OperatorExpression||"NOT IN"==e.OperatorExpression?e.Value1=[]:e.Value1=""}"select"==e.ColumnFieldDataCode&&o["a"].GetFilterDDLselectvalue(e.CustomFieldId).then(r=>{r.data.length>0?(a=r.data,a.forEach(a=>{e.selectOptions.push({value:a.value,label:a.name}),t.multiselectArray.push({value:a.value,label:a.name})}),t.isLoading=!1):t.isLoading=!1}).catch(e=>{console.log(e)}),"datetime"!=e.ActualDataType&&"date"!=e.ActualDataType||"DateRange"!=e.OperatorExpression||t.GetDateRangeFilterDDL(e),t.isLoading=!1},DeleteFilterRow:function(e){this.reportListingInfo.FILTERS.splice(e,1)},TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."}}},c=p,u=(a("caa7"),a("2877")),m=Object(u["a"])(c,s,l,!1,null,"1e7655ea",null),f=m.exports,g=a("be92"),v=a("b0ac"),h=a("1321"),I=a.n(h),E=a("4555"),F=a("4ebb"),S=a("e499"),D=a.n(S);const{GetUserInfo:R}=Object(g["d"])(Object(v["b"])());D.a.vfs=F["pdfMake"].vfs;var L={components:{VueApexCharts:I.a,Pager:E["a"],modalViewCustomReportFilter:f},data(){return{showViewCustomReportFilter:!1,isFilterExist:0,isLoading:!1,showdata:!1,showcoldata:!0,showgraph:!1,reportName:"",showGraphBtn:!0,viewreportparameters:"",Viewcount:0,isSortPopup:!1,sortColummnarray:[{sortcolummnId:"",columnOrders:""}],SortExp:null,SortBy:null,chartTypes:null,chartType:"",chartOptions:{},chartSeries:[],chartOptionXAxisData:[],chartSeriesData:[],colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],AggregateFuncField:null,aggregateFunctionResult:0,XAxisFieldName:null,YAxisFieldName:null,groupGraphlist:[],GraphJson:[],previewcolumn:[],previewgroupdata:[],reportListingInfo:[],previewdata:[],CanEdit:!0,TotalRecords:0,PageNumber:1,PageSize:10,TotalPages:0,allReocrdsData:null,TableBody:[],TableHeader:[],pdfpreviewdata:[],ExcelJsonData:null,count:0,IsForPreview:0,SingleSortArray:[],MainSortingArray:[],MainUpdatedArray:[],SelectedChartTypeId:"",noRecord:!0}},props:{ReportListParameters:{type:Object}},created:async function(){var e=this;e.isLoading=!0,e.viewreportparameters=void 0==e.ReportListParameters?JSON.parse(atob(e.$route.params.ReportID)):e.ReportListParameters,await e.GetChartTypes(),await e.GetPreviewData(e.viewreportparameters.ReportID),1==e.viewreportparameters.ACCESS?e.CanEdit=!1:e.CanEdit=!0,e.Viewcount+=1},methods:{SetCurrentPage(e){var t=this;"a"==e.PagerMethod?t.pagerMethod(e.PageNumber):"b"==e.PagerMethod&&t.SetPageSize(parseInt(e.PageSize))},OpenFilter:function(){var e=this;e.showViewCustomReportFilter=!0,$("#modalViewCustomReportFilter").modal("show"),setTimeout((function(){$("#modalViewCustomReportFilter").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},RemoveNewFilterFromList(){var e=this;e.isLoading=!0,e.GetPreviewData(e.viewreportparameters.ReportID),e.MainUpdatedArray=[],e.noRecord=!1},OpenGraph(){var e=this;e.showgraph?e.showgraph=!1:e.showgraph=!0},OnBack:function(){var e=this;e.$router.push({name:"CustomReports"})},GetPreviewData(e){var t=this,a=`ReportId=${e}&IsPaged=1`;o["a"].GetReportDetailsbyId(a).then(async e=>{if("No Data"==e.data)t.ShowAlert(t.$t("ReportNotExist"),"failure",!0,t.$t("Alert")),t.$router.push({name:"CustomReports"}),t.isLoading=!1;else if(null!=e.data&&void 0!=e.data&&""!=e.data){t.reportListingInfo=e.data.JSON_To_Create_ReportListing[0].Info,t.isFilterExist=t.reportListingInfo.FILTERS.length;var a=e.data.ReportListing;t.reportName=t.reportListingInfo.REPORTNAME,t.previewcolumn=[],null!=a&&void 0!=a&&1==a?(t.reportListingInfo.GRAPH.length>0&&await t.SetGroupDataforGraph(),await t.UpdatePreviewData(),await t.GetSortingData(),t.BindGraph()):(t.noRecord=!0,t.showgraph=!1,t.showGraphBtn=!1,t.isLoading=!1)}else t.noRecord=!0,t.showgraph=!1,t.showGraphBtn=!1,t.isLoading=!1})},Bindlisting:function(e){var t=this;if(null!=e&&void 0!=e){for(let e in t.reportListingInfo.FIELDS)t.reportListingInfo.FIELDS[e].FieldName&&"ROWNUMBER"!=t.reportListingInfo.FIELDS[e].DisplayName&&"Total_Records"!=t.reportListingInfo.FIELDS[e].FieldName&&"Total_Records"!=t.reportListingInfo.FIELDS[e].DisplayName&&t.previewcolumn.push({FieldName:null!=t.reportListingInfo.FIELDS[e].DisplayName&&""!=t.reportListingInfo.FIELDS[e].DisplayName?t.reportListingInfo.FIELDS[e].DisplayName:t.reportListingInfo.FIELDS[e].FieldName,CustomFieldId:t.reportListingInfo.FIELDS[e].CustomFieldId,Calculated_Field:t.reportListingInfo.FIELDS[e].Calculated_Field,ColumnFieldDataCode:t.reportListingInfo.FIELDS[e].ColumnFieldDataCode});t.noRecord=!1}else t.noRecord=!0},BindGroupListing:function(e){var t=this;t.previewgroupdata=[],t.showdata=!0,t.showcoldata=!1;var a=0;if(null!=e&&void 0!=e){for(let e in t.reportListingInfo.GROUP){for(let r in t.reportListingInfo.FIELDS)t.reportListingInfo.GROUP[e].FieldName!=t.reportListingInfo.FIELDS[r].FieldName&&t.previewcolumn.push({FieldName:null!=t.reportListingInfo.FIELDS[r].DisplayName&&""!=t.reportListingInfo.FIELDS[r].DisplayName?t.reportListingInfo.FIELDS[r].DisplayName:t.reportListingInfo.FIELDS[r].FieldName,CustomFieldId:t.reportListingInfo.FIELDS[r].CustomFieldId,Calculated_Field:t.reportListingInfo.FIELDS[r].Calculated_Field,ColumnFieldDataCode:t.reportListingInfo.FIELDS[r].ColumnFieldDataCode}),"date"==t.reportListingInfo.FIELDS[r].ColumnFieldDataCode&&(a=r);t.previewgroupdata.push({FieldName:null!=t.reportListingInfo.GROUP[e].DisplayName&&""!=t.reportListingInfo.GROUP[e].DisplayName?t.reportListingInfo.GROUP[e].DisplayName:t.reportListingInfo.GROUP[e].FieldName,CustomFieldId:t.reportListingInfo.FIELDS[e].CustomFieldId,ColumnFieldDataCode:t.reportListingInfo.FIELDS[a].ColumnFieldDataCode})}t.noRecord=!1}else t.noRecord=!0},async SetGroupDataforGraph(e,t){var a=this;a.IsFilterValid();var r={Info:{REPORTID:a.reportListingInfo.REPORTID,REPORTNAME:a.reportListingInfo.REPORTNAME,MODULENAME:a.reportListingInfo.MODULENAME,SUBMODULECODE:a.reportListingInfo.SUBMODULECODE,SUBMODULEID:a.reportListingInfo.SUBMODULEID,PAGESIZE:parseInt(a.PageSize),PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:0,IsForPreview:a.IsForPreview,FIELDS:a.reportListingInfo.FIELDS,FILTERS:void 0==t?a.reportListingInfo.FILTERS:t,GROUP:[],CHARTGROUPARRAY:a.reportListingInfo.CHARTGROUPARRAY,SORTING:a.reportListingInfo.SORTING,GRAPH:a.reportListingInfo.GRAPH,EXPRESSION:a.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:a.reportListingInfo.EXPRESSIONFIELDSARRAY}},i=JSON.stringify(r);await o["a"].PreviewReport(i).then(e=>{null!=e.data&&void 0!=e.data&&(a.groupGraphlist=JSON.parse(e.data[0].Value),void 0!=t&&a.BindGraph())}).catch(e=>{console.log(e)})},UpdatePreviewData(e,t){var a=this;a.isLoading=!0;var r=[];for(var i in a.IsFilterValid(),a.MainSortingArray=e,a.MainUpdatedArray=t,e)void 0!=e[i].sortcolummnId&&""!=e[i].sortcolummnId&&(r.push({CustomFieldId:e[i].sortcolummnId,SORTTYPE:e[i].columnOrders,SortIndex:parseInt(i),Calculated_Field:""}),a.reportListingInfo.FIELDS.forEach(e=>{var t=r.find(t=>t.CustomFieldId===e.CustomFieldId);void 0!=t&&(t.Calculated_Field=e.Calculated_Field)}));if(a.SingleSortArray.length>0&&r.length>0){const e=r.findIndex(e=>e.CustomFieldId===a.SingleSortArray[0].sortcolummnId);-1!=e&&(r.splice(e,1),a.sortColummnarray.length>1?a.sortColummnarray.splice(e,1):(a.sortColummnarray[e].sortcolummnId="",a.sortColummnarray[e].columnOrders=""))}var s={Info:{REPORTID:a.reportListingInfo.REPORTID,REPORTNAME:a.reportListingInfo.REPORTNAME,MODULENAME:a.reportListingInfo.MODULENAME,SUBMODULECODE:a.reportListingInfo.SUBMODULECODE,SUBMODULEID:a.reportListingInfo.SUBMODULEID,PAGESIZE:a.PageSize,PAGENUMBER:parseInt(a.PageNumber),IS_PAGED:1,IsForPreview:a.IsForPreview,FIELDS:a.reportListingInfo.FIELDS,FILTERS:void 0==t?a.reportListingInfo.FILTERS:t,GROUP:a.reportListingInfo.GROUP,SORTING:null==r||r==[]||0==r.length?a.reportListingInfo.SORTING:r,EXPRESSION:a.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:a.reportListingInfo.EXPRESSIONFIELDSARRAY,SINGLE_SORT:a.SingleSortArray}},l=JSON.stringify(s);o["a"].PreviewReport(l).then(async e=>{if(null!=e.data&&void 0!=e.data){a.previewcolumn=[];var t=JSON.parse(e.data[0].Value);if(null!=t&&void 0!=t){var r=t.MetaData[0];a.previewdata=t.ListingData,a.TotalRecords=r.TotalRecord,a.TotalPages=Math.ceil(a.TotalRecords/a.PageSize),r.IsGrouping?a.BindGroupListing(a.previewdata):a.Bindlisting(a.previewdata)}else a.noRecord=!0,a.TotalRecords=0,a.showgraph=!1,a.showGraphBtn=!1;a.isLoading=!1}else a.isLoading=!1}).catch(e=>{console.log(e)})},BindGraph:function(){var e=this;let t=e.reportListingInfo.GRAPH[0];null!=t&&void 0!=t&&""!=t?(e.chartType=e.chartTypes.find(e=>e.id==t.chartTypeID).chart_Type.toLowerCase(),e.SelectedChartTypeId=t.chartTypeID,e.AggregateFuncField=t.AggregateFunction,e.XAxisFieldName=e.FilterColumnlist(t.XAxisField).CustomFieldName,e.YAxisFieldName=e.FilterColumnlist(t.YAxisField).CustomFieldName,e.groupGraphlist.MetaData[0].IsGrouping&&e.SetGroupingGraphData(t.AggregateFunction),e.SetGraphValues(e.GraphJson,e.XAxisFieldName,e.YAxisFieldName),e.CalculationAggregateFunctionResult(t.AggregateFunction),null!=e.groupGraphlist.ListingData&&(e.DrawGraph(t),e.showgraph=!0)):(e.showgraph=!1,e.showGraphBtn=!1)},SetGroupingGraphData(e){var t=this;let a=t.groupGraphlist.ListingData,r=[],i=t.XAxisFieldName,o=t.YAxisFieldName;null!=a&&void 0!=a?(console.log("length",a.length),a.forEach((t,a)=>{if((void 0!=t[i]||void 0!=i)&&a<50&&("Count"==e||"Sum"==e||"Avg"==e||"Min"==e||"Max"==e))for(var s=void 0!=t[i]?t[i]:t.data[0][i]+` (${t.totalRecord})`,l=0;l<=parseInt(t.totalRecord);l++)0==l&&r.push({[i]:s,[o]:null!=t.GData&&0!=t.GData&&t.GData>t.totalRecord?t.GData:t.totalRecord})}),t.GraphJson=r,t.showgraph=!0):(t.GraphJson=[],t.XAxisFieldName=null,t.YAxisFieldName=null,t.showgraph=!1,t.showGraphBtn=!1)},DrawGraph:function(e){var t=this,a=!1;"bar"!=t.chartType&&"line"!=t.chartType&&"horizontal_bar"!=t.chartType||("horizontal_bar"==t.chartType&&(t.chartType="bar",a=!0),t.chartSeries=[{name:t.$t(t.FilterColumnlist(e.YAxisField).CustomFieldName),data:t.chartSeriesData}],t.chartOptions={chart:{toolbar:{export:{svg:{filename:t.reportName},png:{filename:t.reportName},csv:{headerCategory:t.$t(t.FilterColumnlist(e.XAxisField).CustomFieldName),filename:t.reportName}}}},xaxis:{categories:t.chartOptionXAxisData,title:{text:a?t.$t(t.FilterColumnlist(e.YAxisField).CustomFieldName):t.$t(t.FilterColumnlist(e.XAxisField).CustomFieldName)},labels:{trim:!0,rotate:-60}},yaxis:{title:{text:a?t.$t(t.FilterColumnlist(e.XAxisField).CustomFieldName):t.$t(t.FilterColumnlist(e.YAxisField).CustomFieldName)},labels:{formatter:function(e){return e.toLocaleString("en-US")}}},plotOptions:a?{bar:{borderRadius:4,horizontal:!0}}:{},dataLabels:{enabled:!0},zoom:{enabled:!0}}),"pie"!=t.chartType&&"donut"!=t.chartType||(t.chartSeries=t.chartSeriesData,t.chartOptions={labels:t.chartOptionXAxisData,colors:t.colourList,legend:{width:screen.availWidth-74*screen.availWidth/100}})},TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."},SetGraphValues(e,t,a){var r=this;r.chartOptionXAxisData=[],r.chartSeriesData=[],e.forEach(e=>{t in e&&(null!=e[t]&&void 0!=e[t]?(r.chartOptionXAxisData.push(e[t]),r.BindXYFields(e,t,a)):null!=e[a]&&void 0!=e[a]&&(r.chartOptionXAxisData="string"==typeof t?[...r.chartOptionXAxisData,"-"]:[...r.chartOptionXAxisData,0],r.BindXYFields(e,t,a)))})},BindXYFields:function(e,t,a){var r=this;if(a in e)if(null!=e[a]&&void 0!=e[a])if("string"==typeof e[a]){var i=e[a].replace(/[$€£]/g,"");r.chartSeriesData.push(parseInt(i))}else r.chartSeriesData.push(e[a]);else r.chartSeriesData=[...r.chartSeriesData,0]},FilterColumnlist(e){var t=this;let a,r,i=t.reportListingInfo.FIELDS;for(let[o]of i.entries())i[o].CustomFieldId==e&&(a=null!=i[o].DisplayName&&""!=i[o].DisplayName?i[o].DisplayName:i[o].FieldName,r=i[o].ColumnFieldDataCode);return{CustomFieldName:a,ColumnFieldType:r}},CalculationAggregateFunctionResult:function(e){var t=this,a=0;if("Sum"==e){var r=0;t.chartSeriesData.forEach(e=>{r+=e}),t.aggregateFunctionResult=r.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")}if("Count"==e){var i=0;i=t.chartSeriesData.length,t.aggregateFunctionResult=i}if("Avg"==e){var o=0,s=0;t.chartSeriesData.forEach((function(e,t){o+=e,s++})),a=o/s,t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")}"Min"==e&&(a=Math.min.apply(Math,t.chartSeriesData.filter(Number)),t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")),"Max"==e&&(a=Math.max(...t.chartSeriesData),t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US"))},async GetChartTypes(){var e=this;await o["a"].GetChartTypes().then(t=>{e.chartTypes=t.data})},pagerMethod:function(e){var t=this;t.PageNumber=e,parseInt(t.PageNumber)>=1&&t.UpdatePreviewData(t.sortColummnarray)},SetPageSize:function(e){var t=this;t.PageSize=e,t.PageNumber=1,t.TotalPages=Math.ceil(t.TotalRecords/t.PageSize),t.UpdatePreviewData(t.sortColummnarray)},GetAllRecordsForPDF:function(){},GetDataForPDFListing:async function(e){var t=this;if(t.count=0,t.IsFilterValid(),t.previewdata.length>0){var a={Info:{REPORTID:t.reportListingInfo.REPORTID,REPORTNAME:t.reportListingInfo.REPORTNAME,MODULENAME:t.reportListingInfo.MODULENAME,SUBMODULECODE:t.reportListingInfo.SUBMODULECODE,SUBMODULEID:t.reportListingInfo.SUBMODULEID,PAGESIZE:t.PageSize,PAGENUMBER:parseInt(t.PageNumber),IS_PAGED:0,IsForPreview:t.IsForPreview,FIELDS:t.reportListingInfo.FIELDS,FILTERS:void 0!=t.MainUpdatedArray?t.MainUpdatedArray:t.reportListingInfo.FILTERS,GROUP:t.reportListingInfo.GROUP,SORTING:void 0!=t.MainSortingArray?t.MainSortingArray:t.reportListingInfo.SORTING,EXPRESSION:t.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:t.reportListingInfo.EXPRESSIONFIELDSARRAY}},r=JSON.stringify(a);t.ExcelJsonData=r,void 0==e&&await o["a"].PreviewReport(r).then(e=>{var a=JSON.parse(e.data[0].Value);t.pdfpreviewdata=a,t.count=t.count+1}).catch(e=>{console.log("Data not Found")})}},GetGraphImageURI:async function(){var e,t,a=this;return await(null===(e=a.$refs.chart)||void 0===e?void 0:e.chart.dataURI().then(e=>{t=e})),t},ExportToPDF:async function(e){var t=this;t.isLoading=!0;var a=t.GetTotalRecordsForExceed();if(t.TotalRecords>a)t.confirmR(t.$t("LimitExceed"),!0,t.$t("LimitExceed")+"  "+t.$t("Report"),(function(){t.GetPdfAndExcelApi()}));else if(await t.GetDataForPDFListing(),0!=t.count){var r={};void 0!=t.chartOptions.legend&&(t.chartOptions.legend.width=screen.availWidth-74*screen.availWidth/100);var i=await t.GetGraphImageURI(),o=t.pdfpreviewdata.ListingData;let a,s=t.pdfpreviewdata.MetaData[0].IsGrouping,l=t.reportListingInfo.REPORTNAME.replace(".","-"),n="A2",d="",p=300;s?await t.BindPDFDataForGroup(o):await t.BindPDFData(o),t.TableHeader.length>5&&(n="A1",p=500),t.TableHeader.length>10&&(d="landscape"),null!=i&&void 0!=i&&(r={image:i.imgURI,width:p,alignment:"center"}),a={pageSize:n,pageOrientation:d,content:[r,{style:"table",table:{headerRows:1,body:t.TableBody}}],styles:t.SetPDFStyle(),defaultStyle:{alignment:"justify"}},"print"==e?(D.a.createPdf(a).print(),t.isLoading=!1):(D.a.createPdf(a).download(l),t.isLoading=!1),t.isLoading=!1}else t.ShowAlert(t.$t("No_Record_Found"),"danger",!0,t.$t("Alert")),t.isLoading=!1;t.isLoading=!1},BindPDFData:function(e){var t=this;t.TableBody=[],t.TableHeader=[];var a=[],r=Object.keys(e[0]);r.forEach(e=>{"ROWNUMBER"!=e&&(t.TableHeader.push({text:t.$t(e),style:"tableHeader",alignment:"center"}),a.push({text:e,style:"tableHeader",alignment:"center"}))}),t.TableBody.push(t.TableHeader),e.forEach(e=>{let r=[];a.forEach(t=>{r.push(e[t.text])}),t.TableBody.push(r)})},BindPDFDataForGroup:function(e){var t=this;t.TableBody=[],t.TableHeader=[];var a=[];t.TableHeader.push({text:t.$t(Object.keys(e[0])[0]),style:"tableHeader",alignment:"center"}),a.push({text:Object.keys(e[0])[0],style:"tableHeader",alignment:"center"});var r=Object.keys(e[0].data[0]);r.forEach(e=>{t.TableHeader.push({text:t.$t(e),style:"tableHeader",alignment:"center"}),a.push({text:e,style:"tableHeader",alignment:"center"})}),t.TableBody.push(t.TableHeader),e.forEach(e=>{e.data.forEach((r,i)=>{let o=[];a.forEach((t,a)=>{if(0==i&&0==a){var s=`${e[t.text]} (${e.totalRecord})`;o.push({rowSpan:parseInt(e.totalRecord),text:s})}else if(1==i&&0==a)o.push("");else if(void 0!=r[t.text]&&""!=r[t.text])o.push(r[t.text]);else{var l=r[t.text]="-";o.push(l)}}),t.TableBody.push(o)})})},SetPDFStyle:function(){return{subheader:{fontSize:16,bold:!0,margin:[0,0,0,10]},table:{margin:[0,5,0,15]}}},ExportToExcel:async function(){var e=this,t=e.GetTotalRecordsForExceed();if(e.TotalRecords>t)e.confirmR(e.$t("LimitExceed"),!0,e.$t("LimitExceed")+"  "+e.$t("Report"),(function(){e.GetPdfAndExcelApi()}));else if(e.isLoading=!0,await e.GetDataForPDFListing("Excel"),null!=e.ExcelJsonData&&void 0!=e.ExcelJsonData){var a=e.ExcelJsonData,r=`ReportId=${e.reportListingInfo.REPORTID}&pagetype=preview&IsPaged=0`;o["a"].GetExcelReport(r,a).then(t=>{var a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"}),r=document.createElement("a");r.href=window.URL.createObjectURL(a);const i=new Date,o=`${i.getDate()}_${i.getMonth()+1}_${i.getFullYear()}`;var s=`ReportData-${e.reportListingInfo.REPORTNAME.replace(".","-")}-${o}`;s=s.split(" ").join(""),r.download=s,r.click(),e.isLoading=!1}).catch(t=>{console.log(t),e.isLoading=!1})}else e.ShowAlert(e.$t("No_Record_Found"),"danger",!0,e.$t("Alert")),e.isLoading=!1},EditReport:function(){var e=this;e.$router.push({name:"EditDataReport",params:{Modulename:e.reportListingInfo.MODULENAME,Submodulecode:e.reportListingInfo.SUBMODULECODE,ReportName:e.reportListingInfo.REPORTNAME,ReportID:e.reportListingInfo.REPORTID,Module_Id:e.reportListingInfo.MODULEID,Folder_Id:e.viewreportparameters.Folder_Id,Sub_Module_Id:e.reportListingInfo.SUBMODULEID,Version:e.Version,Action:"Edit"}})},DownloadExceedRecords:async function(){var e=this,t={emailPostString:[{configModuleName:"Email",reportId:e.reportListingInfo.REPORTID,reportname:e.reportListingInfo.REPORTNAME,username:R._value.Email,moduleName:e.reportListingInfo.MODULENAME,subModuleCode:e.reportListingInfo.SUBMODULECODE,from:R._value.Name,to:R._value.Email,subject:e.reportListingInfo.REPORTNAME,message:"Greetings! This is the Test Email of Reporting Data with an Excel File Attachment.Find Attachment","importance ":"high",quoteCompanyLogo:"",emailCc:"",emailBcc:"",companyLogo:R._value.CompanyLogo,emailContent:"",forInvoice:"yes",refId:0,isSaveLog:""}]},a={Info:{REPORTID:e.reportListingInfo.REPORTID,REPORTNAME:e.reportListingInfo.REPORTNAME,MODULENAME:e.reportListingInfo.MODULENAME,SUBMODULECODE:e.reportListingInfo.SUBMODULECODE,SUBMODULEID:e.reportListingInfo.SUBMODULEID,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:0,IsForPreview:e.IsForPreview,FIELDS:e.reportListingInfo.FIELDS,FILTERS:e.reportListingInfo.FILTERS,GROUP:e.reportListingInfo.GROUP,SORTING:e.reportListingInfo.SORTING,EXPRESSION:e.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:e.reportListingInfo.EXPRESSIONFIELDSARRAY,EmailArray:t}},r=JSON.stringify(a);e.reportListingInfo.REPORTID>0&&(e.isLoading=!0,await o["a"].SendEmailService(r).then(t=>{"Success"==t.data[0].Status&&(e.ShowAlert(e.$t("Email_Sent"),"success",!0,e.$t("Alert")),e.isLoading=!1),e.isLoading=!1}).catch(e=>{console.log(e)}))},OpenSortingPopup:function(){var e=this;e.isSortPopup?e.isSortPopup=!1:e.isSortPopup=!0},AddSortingForm:function(e){var t=this;""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId&&t.sortColummnarray.length<t.previewcolumn.length?t.sortColummnarray.push({sortcolummnId:"",columnOrders:""}):t.ShowAlert(""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId?t.$t("SortLimitExceed"):t.$t("AddFieldsFirst"),"danger",!0,t.$t("Alert"))},RemoveSortingForm:function(e){var t=this;1==t.sortColummnarray.length?t.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]:t.sortColummnarray.splice(t.sortColummnarray.indexOf(e),1)},EnableSortingSearch:function(e){var t=this;""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId&&t.UpdatePreviewData(t.sortColummnarray)},RemoveSortingFromList:function(){var e=this;e.isLoading=!0,e.GetPreviewData(e.viewreportparameters.ReportID),e.MainSortingArray=[],e.noRecord=!1},GetSortingData:function(){var e=this;null!=e.reportListingInfo.SORTING&&void 0!=e.reportListingInfo.SORTING&&""!=e.reportListingInfo.SORTING&&e.reportListingInfo.SORTING.length>0?(e.sortColummnarray=[],e.reportListingInfo.SORTING.forEach((t,a)=>{e.sortColummnarray.push({sortcolummnId:t.CustomFieldId,columnOrders:t.SORTTYPE})})):e.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]},GetTotalRecordsForExceed(){var e=1e5;return e},GetPdfAndExcelApi(){var e=this;e.isLoading=!0,e.IsFilterValid();var t={Info:{REPORTID:e.reportListingInfo.REPORTID,REPORTNAME:e.reportListingInfo.REPORTNAME,MODULENAME:e.reportListingInfo.MODULENAME,SUBMODULECODE:e.reportListingInfo.SUBMODULECODE,SUBMODULEID:e.reportListingInfo.SUBMODULEID,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:0,IsForPreview:e.IsForPreview,FIELDS:e.reportListingInfo.FIELDS,FILTERS:void 0!=e.MainUpdatedArray?e.MainUpdatedArray:e.reportListingInfo.FILTERS,GROUP:e.reportListingInfo.GROUP,SORTING:void 0!=e.MainSortingArray?e.MainSortingArray:e.reportListingInfo.SORTING,EXPRESSION:e.reportListingInfo.EXPRESSION,EXPRESSIONFIELDSARRAY:e.reportListingInfo.EXPRESSIONFIELDSARRAY,Req_From:"FromExcel"}},a=JSON.stringify(t);o["a"].InsertDynamicReportsLog(a).then(t=>{"Success"==t.data[0].Status?(e.ShowAlert(e.$t("Email_Sent"),"success",!0,e.$t("Alert")),e.isLoading=!1):(e.ShowAlert(e.$t("EmailFailed"),"danger",!0,e.$t("Alert")),e.isLoading=!1)}).catch(e=>{console.log(e.message)})},sortdata:function(e,t){var a=this,r="sort tb_headerSortDown";a.SortBy=e,e===a.SortBy&&(""==a.SortExp||null==a.SortExp?(a.SortExp="ASC",r="sort tb_headerSortDown"):"ASC"==a.SortExp?(a.SortExp="DESC",r="sort tb_headerSortUp"):(a.SortExp="ASC",r="sort tb_headerSortDown")),a.SingleSortArray=[],a.SingleSortArray.push({sortcolummnId:t,columnOrders:a.SortExp}),a.UpdatePreviewData(),$("#"+e+"  span:first-child").attr("class",r)},IsFilterValid:function(){var e=this;e.reportListingInfo.FILTERS.forEach(t=>{if(t.isManuallyAdded)if("Is Empty"==t.operator_display_name||"Is Not Empty"==t.operator_display_name||"Is Off Day"==t.operator_display_name||"Is Week End"==t.operator_display_name)console.log("Valid Filter");else if(""!=t.FieldName&&""!=t.Value1&&""!=t.OPERATOR_ID)console.log("Valid Filter");else{let a=e.reportListingInfo.FILTERS.findIndex(e=>e.CustomFieldId===t.CustomFieldId);e.reportListingInfo.FILTERS.splice(a,1)}})}}},y=L,O=Object(u["a"])(y,r,i,!1,null,null,null);t["default"]=O.exports}}]);
//# sourceMappingURL=chunk-13104bf9.js.map