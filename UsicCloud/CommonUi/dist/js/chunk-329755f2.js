(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-329755f2"],{"0511":function(t,e,a){"use strict";a("5af7")},"2bf9":function(t,e,a){var i=a("fc38");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("2a520d4d",i,!0,{sourceMap:!1,shadowMode:!1})},"34c7":function(t,e,a){var i=a("6dc8");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("7ecab880",i,!0,{sourceMap:!1,shadowMode:!1})},"38b1":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t._self._c;return e("section",{staticClass:"page-action"},[e("div",{staticClass:"container-fluid px-0"},[e("div",{staticClass:"row"},[e("input",{attrs:{type:"hidden",value:"@titleName",id:"hdnModuleName"}}),e("div",{staticClass:"col-md-12 padding-t_8"},[e("div",{staticClass:"theme-primary partition p-actions-expand",staticStyle:{overflow:"visible"}},[e("span",{staticClass:"p-name text-white px-2",attrs:{title:"dashbord"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.dashboardid,expression:"dashboardid"}],staticClass:"form-control customized_ddl",attrs:{name:"dashsbords"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.dashboardid=e.target.multiple?a:a[0]},function(e){return t.onchangeView(e)}]}},t._l(t.dashsbords,(function(a){return e("option",{key:a,domProps:{value:a.value}},[t._v(t._s(a.name)+" ")])})),0)]),e("span",{staticClass:"p-actions float-right"},[e("a",{staticClass:"p-action-btn text-white link",attrs:{href:"javascript:;"},on:{click:t.editreport}},[e("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.editOrSave)+" ")]),e("a",{staticClass:"p-action-btn text-white link",attrs:{href:"javascript:;"},on:{click:t.openFilters}},[e("i",{staticClass:"fa fa-filter",attrs:{"aria-hidden":"true"}}),e("br"),t._v(" "+t._s(t.$t("Filters"))+" ")]),e("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",id:"teamview"},on:{click:t.opendashborad}},[e("i",{staticClass:"fa fa-dashboard",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("Add Dashboard")))]),e("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",id:"teamview"},on:{click:t.openReport}},[e("i",{staticClass:"fa fa-plus",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("AddReport")))]),e("a",{staticClass:"p-action-btn text-white",attrs:{href:"javascript:;",id:"teamview"},on:{click:function(e){return t.OpenDatePopUp(e)}}},[e("i",{staticClass:"fa fa-calendar",attrs:{"aria-hidden":"true"}}),e("br"),t._v(t._s(t.$t("This Week")))]),e("daterange",{attrs:{pgaction:"global",showDateRange:t.showpopup},on:{"set-date":t.SetDateRange}})],1),e("span",{class:{"action-list-box2 expand":!0,"d-none":0==t.showFilters}},[e("span",{staticClass:"p-2"},[e("Multiselect",{attrs:{placeholder:"Select State",searchable:!0,options:t.StateList,"track-by":"value",label:"name"}})],1),e("span",{staticClass:"p-2"},[e("div",{staticClass:"dropdown",on:{click:function(e){t.isDropdownOpen=!t.isDropdownOpen}}},[e("div",{staticClass:"selected-options"},[0===t.selectedClient.length?e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v("Select options")]):1===t.selectedClient.length?e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v(t._s(t.selectedClient[0].text))]):e("span",{staticClass:"form-control dropdown-toggle",attrs:{role:"button","data-toggle":"dropdown"},on:{click:function(e){return t.toggleMenu(e)}}},[t._v(t._s(t.selectedClient.length)+" options selected")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isDropdownOpen,expression:"isDropdownOpen"}],staticClass:"dropdown-menu",attrs:{role:"menu","aria-labelledby":"dLabel"}},t._l(t.clientByCompany,(function(a){return e("div",{key:a.value,staticClass:"option"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:a.selected,expression:"option.selected"}],attrs:{type:"checkbox"},domProps:{value:a.value,checked:Array.isArray(a.selected)?t._i(a.selected,a.value)>-1:a.selected},on:{change:[function(e){var i=a.selected,s=e.target,r=!!s.checked;if(Array.isArray(i)){var o=a.value,n=t._i(i,o);s.checked?n<0&&t.$set(a,"selected",i.concat([o])):n>-1&&t.$set(a,"selected",i.slice(0,n).concat(i.slice(n+1)))}else t.$set(a,"selected",r)},t.updateSelectedOptions]}}),t._v(" "+t._s(a.text)+" ")])])})),0)])]),e("span",{staticClass:"p-2"},[e("select",{staticClass:"form-control"},[e("option",{attrs:{value:""}},[t._v(t._s(t.$t("Biller"))+" "+t._s(t.$t("Assigned")))])])]),e("div",{staticClass:"row flex-row-reverse mt-2"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success formbtn text-white mr-1",attrs:{href:"javascript:;",id:"aSearch",title:t.$t("Search"),name:"aSearch"}},[e("i",{staticClass:"fa fa-search"})]),e("a",{staticClass:"btn btn-danger formbtn widthhalf btnCancel",attrs:{href:"javascript:;",title:t.$t("Reset"),id:"aClear"}},[e("i",{staticClass:"fa fa-refresh"})])])])]),t._m(0)]),t.reports.length>0&&t.fromDate?e("ReportLayout",{ref:"reportLayoutref",attrs:{reports:t.reports,fromDate:t.fromDate,toDate:t.toDate},on:{"refresh-data":t.GetDashboard}}):t._e()],1)]),t.showAdddashboard?e("ModalAddDashboard",{attrs:{moduleCode:t.moduleCode}}):t._e(),t.showAddReport?e("ModalAddReport",{attrs:{dashboardid:t.dashboardid,moduleCode:t.moduleCode}}):t._e()],1),e("loader",{attrs:{"is-visible":t.isLoading}})],1)},s=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"collapse-head-btns"},[e("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[e("i",{staticClass:"fa fa-angle-up text-white"})])])}],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpop",role:"dialog"}},[e("div",{staticClass:"modal-dialog maxwidth500",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseDashboardView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v("Add Dashboard")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("Dashborad Name"))+":")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.dashboradName,expression:"dashboradName"}],class:{"form-control":!0},attrs:{id:"dashboradName",name:"dashboradName",maxlength:"200",type:"text"},domProps:{value:t.dashboradName},on:{input:function(e){e.target.composing||(t.dashboradName=e.target.value)}}})])])]),e("h5",[t._v("Reports:")]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"},[t.reportGroups?e("div",{staticClass:"accordion md-accordion w-100",attrs:{id:"accordion",role:"tablist"}},t._l(t.reportGroups,(function(a,i){return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+i,"aria-expanded":"true","data-target":"#collapseOne"+i,"aria-controls":"collapseOne"+i}},[e("div",{},[e("span",[e("em",{staticClass:"fa fa-folder rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(a.reports[0].folderName))])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne"+i,role:"tabpanel","data-parent":"#accordion"}},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e("div",{staticClass:"col-md-12 listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblReport"+i}},[e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{id:"chkAll",type:"checkbox"},on:{change:function(e){return t.onChange()}}})]),e("th",[t._v("Report Name")]),e("th",[t._v("View Type")])])]),e("tbody",t._l(a.reports,(function(a,s){return e("tr",[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.reportId,"data-chartType":null==a.chartType?0:a.chartType,type:"checkbox"}})]),e("td",[t._v(t._s(a.reportName))]),e("td",[e("label",{staticClass:"switch auto"},[e("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"chartType"+s+"_"+i,type:"checkbox",name:"viewtype"},domProps:{checked:a.chartType,value:a.chartType?a.chartType:"Table"}}),t._m(0,!0)])])])})),0)])])])])])])])})),0):t._e()]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-right mt-3"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveDashboard()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save ")])])])])])])]),e("loader",{attrs:{"is-visible":t.isLoading}})],1)},o=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Graph")]),e("span",{staticClass:"slider-no"},[t._v("Table")])])}],n=(a("14d9"),a("9769")),d={props:{moduleCode:null},data:function(){return{isLoading:!1,reportGroups:[]}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpop").modal("show")},methods:{CloseDashboardView:function(){var t=this;t.$parent.showAdddashboard=!1},GetDynamicReport(){var t=this,e="moduleName="+this.moduleCode;n["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data,setTimeout(()=>{t.CheckBoxBootstrap()},1e3)}))},saveDashboard:function(){var t=this,e=[];for(let o=0;o<t.reportGroups.length;o++)$("#tblReport"+o+" .chkItems:checked").not("[id^='chkAll']").each((function(t){$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:o,xaxis:0,yaxis:0})}));var a=0,i=0;for(let o=0;o<e.length;o++)e[o].xaxis=a,e[o].yaxis=i,4==a?(a=0,i+=2):a+=2;var s={dashboardName:t.dashboradName,dashboardDesc:"added dashboard",moduleName:"CRM",reports:e};t.isLoading=!0;var r=JSON.stringify(s);n["a"].SaveDashboard(r).then((function(e){t.isLoading=!1,"Success"==e.data.status?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Dashboard")]),"success",!0,t.$t("Alert")),$("#modalprojectquickviewpop").modal("hide"),t.$parent.GetDashboard()):t.ShowAlert(t.$t("Failure",[t.$t("Dashboard")]),"warning",!0,t.$t("Alert"))}))}}},l=d,c=(a("0511"),a("2877")),p=Object(c["a"])(l,r,o,!1,null,null,null),h=p.exports,u=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal my-popups right fade",attrs:{"data-keyboard":"false","data-backdrop":"static",id:"modalprojectquickviewpop",role:"dialog"}},[e("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[e("button",{staticClass:"close",staticStyle:{height:"56px"},attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.CloseReportView()}}},[e("i",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title text-truncate",staticStyle:{"line-height":"26px"},attrs:{id:"myModalLabel"}},[t._v("Add Report")])]),e("div",{staticClass:"modal-body"},[e("div",{staticClass:"container-fluid p-0"},[e("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[e("div",{staticClass:"border p-3 bg-light"},[e("div",{staticClass:"card mb-2 p-2"},[t._m(0),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse0",role:"tabpanel","aria-labelledby":"MainColumn0","data-parent":"#accordionEx"}},[e("div",{staticClass:"user_type_choice mt-2 coloredicons"},t._l(t.SystemReport,(function(a,i){return e("div",{key:a.privilege_id,staticClass:"btn-group btn-group-toggle custom-reports-icons my-2",attrs:{"data-toggle":"buttons"}},[e("label",{staticClass:"btn btn_cstm SystemReport",attrs:{for:"cls_usertype",id:a.privilege_id},on:{click:function(e){return t.SelectSystemReports(e)}}},[e("input",{attrs:{type:"radio",name:a.privilege_id,id:a.privilege_id},domProps:{value:a.privilege_id}}),t._m(1,!0),t._v(" "+t._s(a.privilege_name)+" ")])])})),0)])]),e("div",{staticClass:"card mb-2 p-2"},[t._m(2),e("div",{staticClass:"multi-collapse collapse show",attrs:{id:"ColumnCollapse1",role:"tabpanel","aria-labelledby":"MainColumn1","data-parent":"#accordionEx"}},[e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0 mt-1"},[t.reportGroups?e("div",{staticClass:"accordion md-accordion w-100",attrs:{id:"accordion",role:"tablist"}},[e("div",{staticClass:"border p-3 bg-light"},t._l(t.reportGroups,(function(a,i){return e("div",{staticClass:"card"},[e("div",{staticClass:"card-header"},[e("a",{staticClass:"card-link collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordion",href:"#collapseOne"+i,"aria-expanded":"true","data-target":"#collapseOne"+i,"aria-controls":"collapseOne"+i}},[e("div",{},[e("span",[e("em",{staticClass:"fa fa-folder rotate-icon pr-1",attrs:{"aria-hidden":"true"}}),t._v(t._s(a.reports[0].folderName)+" ")])])])]),e("div",{staticClass:"collapse",attrs:{id:"collapseOne"+i,role:"tabpanel","data-parent":"#accordion"}},[e("div",{staticClass:"card"},[e("div",{staticClass:"row",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[e("div",{staticClass:"col-md-12 listing"},[e("div",{staticClass:"table-responsive table-fix-header"},[e("table",{staticClass:"table table-bordered mt-0",attrs:{id:"tblReport"+i}},[t._m(3,!0),e("tbody",t._l(a.reports,(function(a,s){return e("tr",[e("td",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{"data-reportid":a.reportId,"data-chartType":null==a.chartType?0:a.chartType,type:"checkbox"},domProps:{checked:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.reportId)}})]),e("td",[t._v(t._s(a.reportName))]),e("td",[e("label",{staticClass:"switch auto"},[e("input",{staticClass:"form-check-input rdoticketfor custom-control-input dynamic",attrs:{id:"chartType"+s+"_"+i,type:"checkbox",name:"viewtype"},domProps:{checked:a.chartType,value:t.reportbydashbord&&t.reportbydashbord.some(t=>t.reportId==a.reportId)?t.reportbydashbord.find(t=>t.reportId==a.reportId).chartType:a.chartType?a.chartType:"Table"}}),t._m(4,!0)])])])})),0)])])])])])])])})),0)]):t._e()])])])])])]),e("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 float-right mt-3"},[e("a",{staticClass:"btn btn-success float-right",attrs:{href:"javascript:;","data-tour":"step: 1; title: enter DealDetail; content: AddDealDetailContent",title:"Save"},on:{click:function(e){return t.saveReport()}}},[e("em",{staticClass:"fa fa-save pr-2"}),t._v("Save ")])])])])]),e("loader",{attrs:{"is-visible":t.isLoading}})],1)},g=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn0"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse0",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse0"}},[e("span",{staticClass:"Textstyle"},[t._v(" System Report")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"d-block pb-2"},[e("em",{staticClass:"fa fa-folder-open-o bg-transparent"})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header heading-border p-0",attrs:{role:"tab",id:"MainColumn1"}},[e("h5",{staticClass:"mb-0"},[e("a",{staticClass:"d-block",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx","data-target":"#ColumnCollapse1",href:"javascript:;","aria-expanded":"true","aria-controls":"ColumnCollapse1"}},[e("span",{staticClass:"Textstyle"},[t._v("User Reports")]),e("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])])},function(){var t=this,e=t._self._c;return e("thead",{staticClass:"thead-bg"},[e("tr",[e("th",{staticClass:"text-center"},[e("input",{staticClass:"chkItems",attrs:{id:"chkAll",type:"checkbox"}})]),e("th",[t._v("Report Name")]),e("th",[t._v("View Type")])])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"slider round"},[e("span",{staticClass:"slider-yes"},[t._v("Graph")]),e("span",{staticClass:"slider-no"},[t._v("Table")])])}],m={props:{dashboardid:null,moduleCode:null},data:function(){return{isLoading:!1,reportGroups:[],SystemReport:[],filteredObjects:[],idsString:null,SystemReportFiltered:[],reportbydashbord:null}},created(){this.GetDynamicReport()},mounted(){$("#modalprojectquickviewpop").modal("show"),this.CheckBoxBootstrap()},methods:{SelectSystemReports:function(t){const e=t.currentTarget;e.classList.toggle("active")},CloseReportView:function(){var t=this;t.$parent.showAddReport=!1},GetDynamicReport(){var t=this,e="moduleName="+this.moduleCode;n["a"].GetDynamicReport(e).then((function(e){t.reportGroups=e.data.UserReport,t.SystemReport=e.data.SystemReport,setTimeout(()=>{t.CheckBoxBootstrap(),t.GetDashboardReport()},1e3)}))},GetDashboardReport:function(){var t=this,e="dashboardId="+t.dashboardid;console.log(e),n["a"].GetDashboardReport(e).then((function(e){t.reportbydashbord=e.data,console.log(t.reportbydashbord)}))},filterObjects(){var t=this;return t.idsToFilter=t.idsString.split(","),t.filteredObjects=t.SystemReportFiltered.filter(e=>t.idsToFilter.includes(e.privilege_id.toString())),t.filteredObjects},saveReport:function(){var t=this,e=[];t.SystemReportFiltered=t.SystemReport;const a=document.querySelectorAll(".SystemReport"),i=Array.from(a).filter(t=>t.classList.contains("active")),s=i.map(t=>t.id);t.idsString=s.join(",");var r=t.filterObjects();for(const n in r)e.push({reportId:r[n].privilege_id,chartType:r[n].chart_type,displayOrder:n,xaxis:0,yaxis:0,is_system_report:1});console.log(t.reportGroups);for(let n=0;n<t.reportGroups.length;n++)$("#tblReport"+n+" .chkItems:checked").not("[id^='chkAll']").each((function(){console.log($(this).attr("data-reportid")),$(this).attr("data-reportid")&&e.push({reportId:$(this).attr("data-reportid"),chartType:$(this).parent().parent().parent().find(".rdoticketfor").is(":checked")?"Graph":"Table",displayOrder:n,xaxis:0,yaxis:0,is_system_report:0})}));var o={moduleName:"CRM",reports:e,dashboardId:t.dashboardid};console.log(o);var d=JSON.stringify(o);console.log(d),n["a"].SaveReport(d).then((function(e){console.log(e),"Success"==e.data.status?(t.ShowAlert(t.$t("AddedSuccess",[t.$t("Report")]),"success",!0,t.$t("Alert")),t.GetDashboardReport(),$("#modalprojectquickviewpop").modal("hide")):t.ShowAlert(t.$t("error",[t.$t("Report")]),"warning",!0,t.$t("Alert")),t.isLoading=!0}))}}},f=m,v=(a("9077"),Object(c["a"])(f,u,g,!1,null,null,null)),b=v.exports,C=function(){var t=this,e=t._self._c;return e("grid-layout",{attrs:{layout:t.layout,"col-num":12,"row-height":30,"is-draggable":t.draggable,"is-resizable":t.resizable,"vertical-compact":!0,"use-css-transforms":!0},on:{"update:layout":function(e){t.layout=e}}},t._l(t.layout,(function(a){return e("grid-item",{class:a.reportId,attrs:{static:a.static,x:a.x,y:a.y,w:a.w,h:a.h,i:a.i},on:{resized:t.resizedEvent,resize:t.resizeEvent}},[e("div",{class:{"graph-widget align-self-stretch ticketingDashboardHead reportcontainer mb-2":!0}},[e("div",{staticClass:"dashboard-boxes graph-widget-box bg-white"},[e("div",{staticClass:"graph-widget-heading float-left w-100"},[e("span",{staticClass:"text-truncate float-left w-75"},[t._v(t._s(a.reportName))]),e("div",{staticClass:"mw-80 float-right"},[e("a",{staticClass:"hlkDeleteReport float-right",attrs:{href:"javascript:;",title:"Remove"},on:{click:function(e){return t.removeItem(a.i)}}},[e("span",{staticClass:"icon_close"},[e("i",{staticClass:"fa fa-times"})])]),e("a",{staticClass:"float-right",attrs:{href:"javascript:;"},on:{click:function(e){return t.openWidgetSetting(a)}}},[e("span",{staticClass:"icon_expand"},[e("i",{staticClass:"fa fa-cog"})])])])]),e("div",{class:{"graph-widget-content bg-white float-left w-100":!0,"d-flex  align-content-center justify-content-center":!0}},[a.chartType&&"Bar"==a.chartType?e("bar-chart",{ref:"bar"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:t.fromDate,toDate:t.toDate,moduleName:"CRM",index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),a.chartType&&"Pie"==a.chartType?e("PieChart",{ref:"pie"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:t.fromDate,toDate:t.toDate,moduleName:"CRM",index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),a.chartType&&"Donut"==a.chartType?e("DonutChart",{ref:"donut"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:t.fromDate,toDate:t.toDate,moduleName:"CRM",index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}}):t._e(),a.chartType?t._e():e("TableChart",{ref:"table"+a.reportId+"_"+a.widgetId,refInFor:!0,attrs:{fromDate:t.fromDate,toDate:t.toDate,moduleName:"Project",index:a.i,reportName:a.reportName,chartType:a.chartType,reportId:a.reportId,width:a.width,height:a.height}})],1)])])])})),1)},y=[],_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height Barchrt text-center",attrs:{id:"BarChart_"+t.moduleName+"_"+t.action+t.index}},[e("div",{class:{"bar d-inline-block mt-2 reportBlock t-min-height align-center c3 w-100":t.BarWidgetData.length>0,"bar d-inline-block mt-2 align-center c3 w-100":0==t.BarWidgetData.length},style:{"width:60%; float:left; text-align:center;":t.BarWidgetData.length>0,"width:100%;text-align:center;":0==t.BarWidgetData.length},attrs:{controller:t.moduleName,id:"div_BarChart_"+t.action+t.index}},[e("span",{staticClass:"text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])])])},x=[],w=(a("898b7"),a("2d5f"),{props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,index:null,reportId:null,width:"",height:""},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()}},data(){return{action:"Lead_By_Status",charT_TYPE:"bar",BarWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleName}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=`;n["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.BarWidgetData=e.data.result.data,t.bindWidget(t))}))},bindWidget:function(t){if("bar"==t.charT_TYPE&&t.BarWidgetData.length>0){var e=[],a="bar";$.each(t.BarWidgetData,(function(t,a){e.push([a.NAME,a.VALUE])}));var i="",s="",r=this.height,o=this.width;"ProjectsStatusWise"==t.action?(i=t.$t("Status"),s=t.$t("Projects")):"Lead_By_Status"==t.action?(i=t.$t("Status"),s=t.$t("Leads")):(i=t.$t("User"),s=t.$t("Tickets"));var n="#div_BarChart_"+t.action+t.index;$(n).html("");var d=[];d.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"}),d.push({name:"Active",url:"/Project/Index?searchCondition=PR.STATUS_ID in(1001)"});var l=c3.generate({bindto:n,data:{columns:e,type:a,empty:{label:{position:"right",text:t.$t("NoRecordfound")}},onclick:function(t){"CRM"==moduleName?window.open("javascript:;"):window.open("/Project/Index?searchCondition=PR.STATUS_ID in(1001)","_blank")}},bar:{space:.15,width:{ratio:e.length>4?.5:.3}},size:{width:o,height:r},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[i],type:"category"},y:{label:{text:s,position:"outer-center"},padding:{top:20}}}});$(n).data("c3-chart",l)}}}}),D=w,k=(a("2721"),a("6c1d"),Object(c["a"])(D,_,x,!1,null,null,null)),T=k.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white custom-chart-div t-min-height piechrt text-center",attrs:{id:"pieDiv_"+t.moduleName+"_"+t.action+t.index}},[e("div",{class:{"d-inline-block reportBlock  align-center c3 ":t.PieWidgetData.length>0,"d-inline-block mt-2 align-center c3":0==t.PieWidgetData.length},style:{"float:left; text-align:center;":t.PieWidgetData.length>0,"width:100%;text-align:center;":0==t.PieWidgetData.length},attrs:{controller:t.moduleName,id:"div_WidgetChart_"+t.action+t.index}},[e("span",{staticClass:"text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:null!=t.PieWidgetData&&t.PieWidgetData.length>0,expression:"PieWidgetData != null && PieWidgetData.length > 0"}],class:"containerLegend_"+t.action+t.index+" containerLegend100 uniquefixHS custom-chart-legends text-left"})])},R=[],F=(a("8b5c"),{props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,index:null,width:"",height:"",reportId:null},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()}},data(){return{action:this.reportName,charT_TYPE:"pie",PieWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleName}&reportName=${t.reportName}&&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=`;n["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&null!=e.data.result&&(t.PieWidgetData=e.data.result.data,t.bindWidget(t))}))},bindWidget:function(t){if("pie"==t.charT_TYPE&&t.PieWidgetData.length>0){var e=[];$.each(t.PieWidgetData,(function(t,a){e.push([a.NAME+" ("+a.VALUE+")",a.VALUE])}));var a="Value 1",i="Value 2",s=this.width,r=this.height;"ResponseOverDue"==t.action&&(a=t.$t("User"),i=t.$t("Tickets")),"Lead_By_Industry"==t.action?(a=t.$t("User"),i=t.$t("Tickets")):"EventTicketsSoldReport"==t.action?(a=t.$t("Date"),i=t.$t("Tickets")):"EventBudgetReport"==t.action?(a=t.$t("Category"),i=t.$t("Budget")):"EventExpensesReport"==t.action&&(a=t.$t("Category"),i=t.$t("Expense"));var o="#div_WidgetChart_"+t.action+t.index;$(o).html("");let d={bindto:o,data:{columns:e,type:"pie",empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},pie:{label:{format:function(t,e,a){return d3.format("")(t)}}},size:{width:s,height:r},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[a],type:"category"},y:{label:{text:i,position:"outer-center"}}}};var n=c3.generate(d);$(o).data("c3-chart",n)}}}}),I=F,A=(a("f991"),Object(c["a"])(I,S,R,!1,null,null,null)),N=A.exports,E=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-100 bg-white t-min-height donut custom-chart-div text-center",attrs:{id:"DonutDiv_"+t.moduleName+"_"+t.action+t.index}},[e("div",{class:t.DonutWidgetData.length>0?"d-inline-block mt-2 reportBlock align-center c3":"d-inline-block mt-2 align-centerc3",style:t.DonutWidgetData.length>0?"width:100%; float:left; text-align:right;":"width:100%;text-align:center;",attrs:{controller:t.moduleName,id:"div_WidgetChart_"+t.action+t.index,"data-test":t.DonutWidgetData.length}},[e("span",{staticClass:"text-danger no-record"},[t._v(t._s(t.$t("NoRecordfound")))])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.DonutWidgetData.length>0,expression:"DonutWidgetData.length > 0"}],class:"containerLegend_"+t.action+t.index+" containerLegend100 uniquefixHS custom-chart-legends text-left"})])},P=[],G={props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,index:null,width:"",height:"",reportId:null},watch:{width:function(){this.bindWidget(this)},height:function(){this.bindWidget(this)},toDate:function(){this.FetchData()},fromDate:function(){this.FetchData()}},data(){return{action:"Lead_By_Product",charT_TYPE:"donut",DonutWidgetData:[],HeaderData:null,showAddDashboardReport:!1,ChartName:null}},created:function(){this.FetchData()},methods:{FetchData:function(){var t=this,e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleName}&reportName=CampaignData&&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=`;n["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.body&&"Success"==e.data.status&&null!=e.data.result&&(t.DonutWidgetData=e.data.result.data,t.bindWidget(t))}))},bindWidget:function(t){if("donut"==t.charT_TYPE&&t.DonutWidgetData.length>0){var e="donut",a=[];$.each(t.DonutWidgetData,(function(e,i){"LoggedHoursByProject"==t.action?a.push([i.NAME+" ("+i.VALUE+" h)",i.VALUE]):a.push([i.NAME+" ("+i.VALUE+")",i.VALUE])}));var i="",s="";let l=document.querySelector("#div_WidgetChart_"+t.action+t.index);l.offsetParent.offsetWidth,l.offsetParent.offsetHeight;var r=this.width,o=this.height;"ResponseOverDue"==t.action?(i=t.$t("User"),s=t.$t("Tickets")):"EventTicketsSoldReport"==t.action?(i=t.$t("Date"),s=t.$t("Tickets")):"EventBudgetReport"==t.action?(i=t.$t("Category"),s=t.$t("Budget")):"EventExpensesReport"==t.action&&(i=t.$t("Category"),s=t.$t("Expense"));var n="#div_WidgetChart_"+t.action+t.index;$(n).html("");var d=c3.generate({bindto:n,data:{columns:a,type:e,empty:{label:{position:"right",text:t.$t("NoRecordfound")}}},pie:{label:{format:function(t,e,a){return d3.format("")(t)}}},size:{width:r,height:o},legend:{show:!0,position:"bottom"},color:{pattern:["#23A4FF","#FF6B6B","#5FB49C","#776274","#916953","#28587B","#F4B701","#272635","#AEE5D8","#FFC482","#3C6E71","#9FA0FF","#D1B1CB","#95B2B8","#EF8354","#72D9C8","#C6EBBE","#56203D","#A09CB0","#5C573E"]},axis:{rotated:!1,x:{label:{text:"",position:"outer-center"},categories:[i],type:"category"},y:{label:{text:s,position:"outer-center"}}}});$(n).data("c3-chart",d)}},removeReportfromOpenReports(t,e){vm.isLoading=!0,n["a"].ReportsRemove("reportId="+t).then((function(t){if(t.data){var e=$(this).parents("div.reportcontainer");$(e).remove(),$(e).show()}else vm.ShowAlert(vm.$t(InsertUpdateError),"failure",!0,vm.$t("Alert")),vm.isLoading=!1}))}}},O=G,L=Object(c["a"])(O,E,P,!1,null,null,null),B=L.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"listing",attrs:{id:"div_"+t.action+t.index}},[e("div",{staticClass:"listing"},[e("div",{staticClass:"table-responsive border-0"},[e("div",{staticClass:"graph-widget align-self-stretch pl-0"},[e("table",{staticClass:"table table-bordered dt-responsive nowrap mt-0"},[e("thead",{staticClass:"thead-bg"},[e("tr",t._l(t.HeaderData,(function(a){return e("th",{key:a},[e("span",[t._v(t._s(a.column_name))])])})),0)]),e("tbody",[t._l(t.OpenTicketsWidgetData,(function(a,i){return e("tr",{key:a,attrs:{"v-if":t.OpenTicketsWidgetData.length>0}},[e("td",[e("a",{attrs:{target:"_blank",href:"RecentlyAddedProjects"==a.widgetType?"/Project/Index":"/FSM/Index?priorityCode="+a.Name+"&PageSize=10&PageNumber=1"}},["RecentlyAddedProjects"!=a.widgetType?e("i",{class:{"fa fa-exclamation text-white":!0,"icon_ticket_Critical legends_Critical":"Critical"==a.Name,"icon_ticket_High legends_high":"High"==a.Name,"icon_ticket_Medium legends_medium":"Medium"==a.Name,"icon_ticket_Low legends_low":"Low"==a.Name,"icon_ticket_Critical legends_profile":"Emergency"==a.Name},attrs:{"aria-hidden":"true"}}):t._e(),e("span",{staticClass:"text-dark"},[t._v(t._s(a.Name))])])]),e("td",[e("a",{attrs:{target:"_blank",href:"RecentlyAddedProjects"==a.widgetType?"/Project/Index":"/FSM/Index?priorityCode="+a.Name+"&PageSize=10&PageNumber=1"}},[e("span",{class:"RecentlyAddedProjects"==a.widgetType?"text-center text-dark":"text-dark float-right"},[t._v(t._s(a.Value))])])])])})),0==t.OpenTicketsWidgetData.length?e("tr",[e("td",{staticClass:"text-center text-danger",attrs:{colspan:"20"}},[t._v(t._s(t.$t("NoRecordfound")))])]):t._e()],2)])])])])])},W=[],j={props:{reportName:null,chartType:null,moduleName:null,fromDate:null,toDate:null,DashUsers:null,reportId:null},data:function(){return{action:"RecentlyAddedProjects",charT_TYPE:"table",OpenTicketsWidgetData:[],HeaderData:null,showAddDashboardReport:!1}},created:function(){this.fetchRecordsofOpenTickets()},computed:{WidgetData:function(){return this.OpenTicketsWidgetData},WidgetHeaderData:function(){return this.HeaderData}},methods:{fetchRecordsofOpenTickets:function(){var t=this,e=void 0==t.reportId?0:t.reportId,a=`moduleName=${t.moduleName}&reportName=${t.reportName}&fromDate=${t.fromDate}&toDate=${t.toDate}&ReportId=${e}&usersDash=`;n["a"].GetDashboardData(a).then((function(e){null!=e.data&&""!=e.data&&"Success"==e.data.status&&(t.HeaderData=e.data.result.headers,null!=e.data.result&&(t.OpenTicketsWidgetData=e.data.result.data))}))}}},V=j,U=Object(c["a"])(V,M,W,!1,null,null,null),Y=U.exports,X=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"modal my-popups right fade",attrs:{id:"modalprojectquickviewpop",role:"dialog"}},[e("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header mheader-user"},[e("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(e){return t.CloseGraphOptions()}}},[e("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[t._v(t._s(t.$t("Widget Setting")))]),e("span",{staticClass:"user-guide"},[e("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[t._v(t._s(t.$t("GuideForUser")))]),e("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReplyUG"}},[e("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[e("div",{staticClass:"con"},[t._v(t._s(t.$t("MangeViewUG1")))])])])])]),e("div",{staticClass:"modal-body p-3"},[e("loader",{attrs:{"is-visible":t.isLoading}}),e("div",{staticClass:"container-fluid tab-content"},[e("Form",{ref:"form",scopedSlots:t._u([{key:"default",fn:function({values:a,meta:i}){return[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-12 col-lg-6 float-left leftsideicon pl-0 py-3 border"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ReportTitle"))+" :")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reportTitle,expression:"reportTitle"}],staticClass:"form-control",attrs:{placeholder:"Report Title",type:"text",maxlength:"50",disabled:""},domProps:{value:t.reportTitle},on:{input:function(e){e.target.composing||(t.reportTitle=e.target.value)}}})])]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("Field",{attrs:{name:"ChartTypes",rules:{required:!0},label:"Chart Type"},scopedSlots:t._u([{key:"default",fn:function({field:a,errorMessage:i,meta:s}){return[e("label",[t._v(t._s(t.$t("ChartTypes"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"user_type_choice coloredicons row",class:{"":!0,"is-invalid":s.touched&&!s.valid&&!t.selectedChartTypeID}},t._l(t.chartTypes,(function(i,s){return e("div",{key:s,staticClass:"btn-group btn-group-toggle mb-2",attrs:{"data-toggle":"buttons"}},[e("label",{class:{"btn btn_cstm":!0,active:i.id==t.selectedChartTypeID},attrs:{for:"cls_usertype"+s}},[e("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.selectedChartTypeID,expression:"selectedChartTypeID"}],attrs:{type:"radio",name:"cls_usertype",id:"cls_usertype"+s},domProps:{value:i.id,checked:t._q(t.selectedChartTypeID,i.id)},on:{change:function(e){t.selectedChartTypeID=i.id}}},"input",a,!1)),e("span",{staticClass:"d-block pb-2"},[e("em",{class:["Pie"==i.chart_Type?"fa fa-pie-chart bg-transparent":"","Bar"==i.chart_Type?"fa fa-bar-chart bg-transparent":"","Line"==i.chart_Type?"fa fa-line-chart bg-transparent":"","Donut"==i.chart_Type?"fa fa-circle-o-notch bg-transparent":""],attrs:{"aria-hidden":"true"}})])])])})),0),s.touched&&!s.valid?e("span",{staticClass:"invalid-feedback",attrs:{name:"ChartTypes"}},[t._v(" "+t._s(i)+" ")]):t._e()]}}],null,!0)})],1)]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("Field",{attrs:{name:"selectedChartXAxis",rules:{required:!0},label:"X Axis"},scopedSlots:t._u([{key:"default",fn:function({field:a,errorMessage:i,meta:s}){return[e("label",[t._v(t._s(t.$t("XAXIS"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group"},[e("select",t._b({class:{"form-control":!0,"is-invalid":s.touched&&!s.valid&&!t.selectedChartXAxis}},"select",a,!1),[e("option",{attrs:{value:"",disabled:""}},[t._v("Select")]),t._l(t.xfields,(function(a){return e("option",{key:a.xaxis,domProps:{value:a.xaxis}},[t._v(" "+t._s(a.displayName)+" ")])}))],2),s.touched&&!s.valid?e("span",{staticClass:"invalid-feedback",attrs:{name:"selectedChartXAxis"}},[t._v(t._s(i))]):t._e()])]}}],null,!0),model:{value:t.selectedChartXAxis,callback:function(e){t.selectedChartXAxis=e},expression:"selectedChartXAxis"}})],1)]),e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("YAXIS"))),e("span",{staticClass:"text-danger"},[t._v("*")])]),e("div",{staticClass:"input-group"},[e("Field",{attrs:{name:"selectedChartYAxis",rules:{required:!0},label:"Y Axis"},scopedSlots:t._u([{key:"default",fn:function({field:a,errorMessage:i,meta:s}){return[e("select",t._b({class:{"form-control":!0,"is-invalid":s.touched&&!s.valid&&!t.selectedChartYAxis},on:{change:function(e){return t.CheckFieldType(t.selectedChartYAxis)}}},"select",a,!1),[e("option",{attrs:{value:"",disabled:""}},[t._v("Select")]),t._l(t.yfields,(function(a){return e("option",{key:a,domProps:{value:a.yaxis}},[t._v(" "+t._s(a.displayName)+" ")])}))],2),s.touched&&!s.valid?e("span",{staticClass:"invalid-feedback",attrs:{name:"selectedChartYAxis"}},[t._v(" "+t._s(i)+" ")]):t._e()]}}],null,!0),model:{value:t.selectedChartYAxis,callback:function(e){t.selectedChartYAxis=e},expression:"selectedChartYAxis"}})],1)])]),e("div",{staticClass:"col-lg-12"},[t.isTypeInteger?e("div",{staticClass:"form-group"},[e("label",[t._v(t._s(t.$t("ViewAs"))+":")]),e("div",{staticClass:"input-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.aggregateFunctionType,expression:"aggregateFunctionType"}],staticClass:"mr-2",attrs:{name:"sum",value:"Sum",type:"radio"},domProps:{checked:t._q(t.aggregateFunctionType,"Sum")},on:{change:function(e){t.aggregateFunctionType="Sum"}}}),t._v(t._s(t.$t("Sum"))+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.aggregateFunctionType,expression:"aggregateFunctionType"}],staticClass:"mr-2 ml-3",attrs:{name:"sum",value:"Count",type:"radio"},domProps:{checked:t._q(t.aggregateFunctionType,"Count")},on:{change:function(e){t.aggregateFunctionType="Count"}}}),t._v(t._s(t.$t("Count"))+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.aggregateFunctionType,expression:"aggregateFunctionType"}],staticClass:"mr-2 ml-3",attrs:{name:"sum",value:"Average",type:"radio"},domProps:{checked:t._q(t.aggregateFunctionType,"Average")},on:{change:function(e){t.aggregateFunctionType="Average"}}}),t._v(t._s(t.$t("Average"))+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.aggregateFunctionType,expression:"aggregateFunctionType"}],staticClass:"mr-2 ml-3",attrs:{name:"sum",value:"Minimum",type:"radio"},domProps:{checked:t._q(t.aggregateFunctionType,"Minimum")},on:{change:function(e){t.aggregateFunctionType="Minimum"}}}),t._v(t._s(t.$t("Min"))+" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.aggregateFunctionType,expression:"aggregateFunctionType"}],staticClass:"mr-2 ml-3",attrs:{name:"sum",value:"Maximum",type:"radio"},domProps:{checked:t._q(t.aggregateFunctionType,"Maximum")},on:{change:function(e){t.aggregateFunctionType="Maximum"}}}),t._v(t._s(t.$t("Max"))+" ")])]):t._e()])]),e("div",{staticClass:"col-sm-12 col-lg-6 p-3 bg-light border"},[e("div",{staticClass:"heading-border"},[e("h5",{staticClass:"h5"},[e("span",[t._v(t._s(t.$t("Preview")))])])]),e("span",{staticClass:"text-center my-3 w-100 float-left"},[t._v(t._s(t.reportTitle)+" - "),e("a",{staticClass:"btn btn-info",attrs:{href:"javascript:void(0)",type:"button"},on:{click:t.ViewReportGraph}},[t._v(" "+t._s(t.$t("ViewReport"))+" ")])]),t.PreviewChart?e("div",{staticClass:"col-sm-12 col-lg-12 px-0 py-4 float-left bg-white"},[e("VueApexCharts",{attrs:{type:t.selectedChartType,options:t.chartOptions,series:t.chartseries}}),0!=t.aggregateFunctionResult?e("div",{staticClass:"text-center"},[e("a",{attrs:{href:"#"}},[t._v(t._s(t.resultMsg)+" : "+t._s(t.aggregateFunctionResult))])]):t._e()],1):t._e()])])]}}])})],1),e("div",{staticClass:"col-12 p-0 mt-3 float-left"},[e("div",{staticClass:"row flex-row-reverse"},[e("div",{staticClass:"col-lg-6 text-right"},[e("a",{staticClass:"btn btn-success ancsaveuserticket",on:{click:t.ApplyGraph}},[e("em",{staticClass:"fa fa-share pr-2"}),t._v(t._s(t.$t("Apply")))])])])])],1)])]),e("loader",{attrs:{"is-visible":t.isLoading}})],1)])},z=[],q=a("1321"),H=a.n(q),J={components:{VueApexCharts:H.a},props:{selectedLayout:null},data:function(){return{Columnlist:[],GraphJson:[],RequestFilterJosn:[],Filterlist:[],ExpressionArray:[],ExpressionFieldsArray:[],reportTitle:"",chartTypes:null,isTypeInteger:!1,selectedChartTypeID:null,selectedChartXAxis:"",selectedChartYAxis:"",PreviewChart:!1,aggregateFunctionType:null,aggregateFunctionResult:0,chartseries:[],chartOptions:{},colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],chartOptionXAxisData:[],chartSeriesData:[],selectedChartType:"",resultMsg:"",xfields:[],yfields:[],GraphData:[],GroupingGraphData:[]}},created(){this.GetChartFileds(),console.log(this.selectedLayout);var t=this;t.GetChartType(),t.reportTitle=t.selectedLayout.reportName,this.GetReportDetailsByReportId()},mounted(){$("#modalprojectquickviewpop").modal({backdrop:"static",keyboard:!1}),$("#modalprojectquickviewpop").modal("show")},methods:{async GetReportDetailsByReportId(){var t=this,e="ReportId=6170&IsPaged=1";await n["a"].GetReportDetailsbyId(e).then(e=>{null!=e.data&&void 0!=e.data&&(t.BindFeilds(e.data.JSON_To_Create_ReportListing[0].Info.FIELDS),t.BindFilters(e.data.JSON_To_Create_ReportListing[0].Info.FILTERS),t.BindGROUP(e.data.JSON_To_Create_ReportListing[0].Info.GROUP),t.sortingData=e.data.JSON_To_Create_ReportListing[0].Info.SORTING,t.graphData=e.data.JSON_To_Create_ReportListing[0].Info.GRAPH,t.ExpressionArray=e.data.JSON_To_Create_ReportListing[0].Info.EXPRESSION,t.ExpressionFieldsArray=e.data.JSON_To_Create_ReportListing[0].Info.EXPRESSIONFIELDSARRAY)}).catch(t=>{console.log(t)})},ApplyGraph(){var t=this,e={selectedChartType:t.selectedChartType,selectedChartTypeID:t.selectedChartTypeID,chartseries:t.chartseries,chartoptions:t.chartOptions,aggregateFunctionType:t.aggregateFunctionType,aggregateFunctionResult:t.aggregateFunctionResult,selectedChartXAxis:t.selectedChartXAxis,selectedChartYAxis:t.selectedChartYAxis};t.$parent.DrawGraph(e),t.CloseGraphOptions()},BindFeilds(t){var e=this;t.forEach(t=>{e.Columnlist.push(t)})},BindFilters(t){var e=this;t.length>0&&(e.filtertype=t[0].FilterTypeAndorOr,e.bindfilterdata(t),e.RequestFilterJosn=t.map((t,a)=>{let i=e.Filterlist.findIndex(e=>e.CustomFieldId==t.CustomFieldId),s={};return-1!=i&&(s={CustomFieldId:t.CustomFieldId,FieldName:e.Filterlist[i].FieldName,ActualDataType:t.ActualDataType,FilterCount:a+1,OperatorExpression:t.OperatorExpression,FilterTypeAndorOr:t.FilterTypeAndorOr,OPERATOR_ID:t.OPERATOR_ID,Value1:t.Value1,Value2:t.Value2}),s}))},BindGROUP(t){var e=this;t.forEach(t=>{e.Grouplist.push(t)})},PreviewJson:async function(t){var e,a=this,i=[];t&&(e={Info:{REPORTID:a.selectedLayout.reportId,REPORTNAME:a.selectedLayout.reportName,MODULENAME:"CRM",SUBMODULECODE:"CRM_LEADS",SUBMODULEID:"",PAGESIZE:10,PAGENUMBER:1,IS_PAGED:1,FIELDS:a.Columnlist,FILTERS:a.RequestFilterJosn,GROUP:a.Grouplist,SORTING:i,GRAPH:[],EXPRESSION:a.ExpressionArray,EXPRESSIONFIELDSARRAY:a.ExpressionFieldsArray}}),a.showReportPreview=!0,a.saveJsonReport=e;var s=JSON.stringify(e);console.log("jsondata",s),await n["a"].PreviewReport(s).then(e=>{if(t){a.GraphJson=JSON.parse(e.data[0].Value),a.resultMsg=a.aggregateFunctionType,a.PreviewChart=!1,a.GraphJson.MetaData[0].IsGrouping?a.SetGroupingGraphData():a.GroupingGraphData=a.GraphJson.ListingData,a.selectedChartType=a.chartTypes.find(t=>t.id==a.selectedChartTypeID).chart_Type.toLowerCase();var i=a.FilterColumnlist(a.selectedChartXAxis).CustomFieldName,s=a.FilterColumnlist(a.selectedChartYAxis).CustomFieldName;a.SetGraphValues(a.GroupingGraphData,i,s),a.CalculatingAggregateFuncResult(a.aggregateFunctionType),a.DrawGraph(),a.PreviewChart=!0}}).catch(t=>{console.log("Data not Found")})},CloseGraphOptions:function(){$("#modalprojectquickviewpop").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()},GetChartType(){var t=this;n["a"].GetChartType().then(e=>{t.chartTypes=e.data})},GetChartFileds(){var t=this,e="ReportId="+t.selectedLayout.reportId;n["a"].GetChartFileds(e).then(e=>{console.log(e.data),t.xfields=e.data.xaxis,t.yfields=e.data.yaxis})},ViewReportGraph:async function(){var t=this;t.selectedChartXAxis=10040,t.selectedChartYAxis=10045;var e=!0;await t.PreviewJson([],e)},SetGroupingGraphData(){var t=this;let e=t.GraphJson.ListingData,a=[],i=t.FilterColumnlist(t.selectedChartXAxis).CustomFieldName,s=t.FilterColumnlist(t.selectedChartYAxis).CustomFieldName;void 0!=Object.keys(e[0])[0]&&""!=Object.keys(e[0])[0]&&t.GraphData.length>0&&(i=Object.keys(e[0])[0],s=Object.keys(e[0].data[0])[0],t.aggregateFunctionType=t.GraphData[0].AggregateFuncField),e.forEach((e,r)=>{if(void 0!=e[i])if("Count"==t.aggregateFunctionType)for(var o=e[i]+` (${e.totalRecord})`,n=0;n<=parseInt(e.totalRecord);n++)1==n&&a.push({[i]:o,[s]:e.totalRecord});else e.data.forEach((t,r)=>{if(0==r){var o=e[i];a.push({[i]:o,[s]:t[s]})}else a.push({[s]:t[s]})});else e.data.forEach((t,e)=>{a.push({[i]:t[i],[s]:t[s]})})}),t.GroupingGraphData=a},DrawGraph:function(){var t=this;t.GenrateRandomColorList(),"bar"!=t.selectedChartType&&"line"!=t.selectedChartType||(t.chartseries=[{data:t.chartSeriesData}],t.chartOptions={xaxis:{categories:t.chartOptionXAxisData},dataLabels:{enabled:!0}}),"pie"!=t.selectedChartType&&"donut"!=t.selectedChartType||(t.chartseries=t.chartSeriesData,t.chartOptions={labels:t.chartOptionXAxisData,colors:t.colourList})},CalculatingAggregateFuncResult:function(t){var e=this;if("Sum"==t){var a=0;e.chartSeriesData.forEach(t=>{a+=parseInt(t)}),e.aggregateFunctionResult=a}if("Count"==t){var i=0;i=e.chartSeriesData.length,e.aggregateFunctionResult=i}if("Average"==t){var s=0,r=0;e.chartSeriesData.forEach((function(t,e){s+=t,r++})),e.aggregateFunctionResult=s/r}"Minimum"==t&&(e.aggregateFunctionResult=Math.min.apply(Math,e.chartSeriesData.filter(Number))),"Maximum"==t&&(e.aggregateFunctionResult=Math.max(...e.chartSeriesData))},CheckFieldType:function(t){var e=this;e.isTypeInteger=!1;var a=e.yfields.find(e=>e.yaxis==t);!a||"Decimal"!=a.dataType&&"Int"!=a.dataType||(e.isTypeInteger=!0)},FilterColumnlist(t){var e=this;let a,i;for(let[s]of e.Columnlist.entries())e.Columnlist[s].CustomFieldId==t&&(a=null!=e.Columnlist[s].DisplayName&&""!=e.Columnlist[s].DisplayName?e.Columnlist[s].DisplayName:e.Columnlist[s].FieldName,i=e.Columnlist[s].ColumnFieldDataCode);return{CustomFieldName:a,ColumnFieldType:i}},SetGraphValues(t,e,a){var i=this;i.chartOptionXAxisData=[],i.chartSeriesData=[],t.forEach(t=>{e in t&&(null!=t[e]&&void 0!=t[e]?(i.chartOptionXAxisData.push(t[e]),i.BindXYFields(t,e,a)):null!=t[a]&&void 0!=t[a]&&(i.chartOptionXAxisData="string"==typeof e?[...i.chartOptionXAxisData,"-"]:[...i.chartOptionXAxisData,0],i.BindXYFields(t,e,a)))})},BindXYFields:function(t,e,a){var i=this;if(a in t)if(null!=t[a]&&void 0!=t[a])if("string"==typeof t[a]){var s=t[a].replace(/[$€£]/g,"");i.chartSeriesData.push(parseInt(s))}else i.chartSeriesData.push(t[a]);else i.chartSeriesData=[...i.chartSeriesData,0]},GenrateRandomColorCode(){const t=Math.floor(16777215*Math.random()).toString(16);return"#"+t},GenrateRandomColorList(){var t=this;while(t.colourList.length<t.chartSeriesData.length){let e;e=t.GenrateRandomColorCode();let a=t.colourList.find(t=>t==e);a||t.colourList.push(e)}}}},Z=J,K=Object(c["a"])(Z,X,z,!1,null,null,null),Q=K.exports,tt={components:{BarChart:T,PieChart:N,DonutChart:B,TableChart:Y,WidgetSetting:Q},props:{reports:null,fromDate:null,toDate:null,isdraggable:Boolean,isresizable:Boolean},data:function(){return{layout:[{x:0,y:0,w:2,h:2,i:"0",static:!1},{x:2,y:0,w:2,h:4,i:"1",static:!0},{x:4,y:0,w:2,h:5,i:"2",static:!1},{x:6,y:0,w:2,h:3,i:"3",static:!1},{x:8,y:0,w:2,h:3,i:"4",static:!1},{x:10,y:0,w:2,h:3,i:"5",static:!1},{x:0,y:5,w:2,h:5,i:"6",static:!1},{x:2,y:5,w:2,h:5,i:"7",static:!1},{x:4,y:5,w:2,h:5,i:"8",static:!1},{x:6,y:3,w:2,h:4,i:"9",static:!0},{x:8,y:4,w:2,h:4,i:"10",static:!1},{x:10,y:4,w:2,h:4,i:"11",static:!1},{x:0,y:10,w:2,h:5,i:"12",static:!1},{x:2,y:10,w:2,h:5,i:"13",static:!1},{x:4,y:8,w:2,h:4,i:"14",static:!1},{x:6,y:8,w:2,h:4,i:"15",static:!1},{x:8,y:10,w:2,h:5,i:"16",static:!1},{x:10,y:4,w:2,h:2,i:"17",static:!1},{x:0,y:9,w:2,h:3,i:"18",static:!1},{x:2,y:6,w:2,h:2,i:"19",static:!1}],draggable:this.isdraggable,resizable:this.isresizable,index:0}},mounted(){this.index=this.layout.length},created(){this.CreateReportWidget(),this.isLoading=!1},methods:{addStyleInInnerGried(){this.$nextTick(()=>{const t=document.querySelector(".InnerGried").style.height,e=document.querySelector(".InnerGried").style.width;return{width:e,Height:t}})},updateChildVariables(){var t=this;t.draggable=!t.draggable,t.resizable=!t.resizable},itemTitle(t){let e=t.i;return t.static&&(e+=" - Static"),e},ExpandCollapseReport:function(t,e){$(t.target).closest(".vue-grid-item").width(996).height(390)},onResizeStop:function(t){switch(t.chartType){case"Bar":this.$refs["bar"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Pie":this.$refs["pie"+t.reportId+"_"+t.widgetId][0].FetchData();break;case"Donut":this.$refs["donut"+t.reportId+"_"+t.widgetId][0].FetchData();break;default:this.$refs["table"+t.reportId+"_"+t.widgetId][0].FetchData();break}},CreateReportWidget(){console.log(this.reports);var t=this;t.layout=[];for(let i=0;i<t.reports.length;i++){let s=null==t.reports[i].widgetWidth?2:parseInt(t.reports[i].widgetWidth),r=null==t.reports[i].widgetHeight?10:parseInt(t.reports[i].widgetHeight),o=document.getElementById("main-content").offsetWidth/12;var e=0;r>=4?e=25*r:r>4&&r<=15?e=30*r:r>15&&(e=100*r);var a=t.reports[i].reportName.replace(/\s/g,"");t.layout.push({reportId:t.reports[i].reportId,widgetId:t.reports[i].widgetId,reportName:a,chartType:t.reports[i].chartType,x:parseInt(t.reports[i].xaxis),y:parseInt(t.reports[i].yaxis),w:s,h:r,i:i.toString(),width:o*s,height:e,static:!1})}},SaveEditedChanges(){var t=this;console.log(t.layout);var e=JSON.stringify(t.layout);t.confirmR(t.$t("ConfirmDynamicReportsEdit"),!0,t.$t("Confirm"),(function(a){n["a"].SaveEditsInDashboardReports(e).then(e=>{try{t.ShowAlert(t.$t("EditedSuccess",[t.$t("changes")]),"success",!0,t.$t("Alert"))}catch(a){return HandleErrorOccured(a,"failure")}})}))},increaseWidth:function(){let t=document.getElementById("content").offsetWidth;t+=20,document.getElementById("content").style.width=t+"px"},decreaseWidth:function(){let t=document.getElementById("content").offsetWidth;t-=20,document.getElementById("content").style.width=t+"px"},removeItem:function(t){console.log("### REMOVE "+t);const e=this.layout.map(t=>t.i).indexOf(t);this.layout.splice(e,1),this.layout.forEach((t,e)=>{t.i=e})},openWidgetSetting(t){this.selectedLayout=t,this.showWidgetsetting=!this.showWidgetsetting},addItem:function(){const t={x:0,y:0,w:2,h:2,i:this.index+"",whatever:"bbb"};this.index++,this.layout.push(t)},resizeEvent:function(t,e,a,i,s){console.log("RESIZE i="+t+", H="+e+", W="+a+", H(px)="+i+", W(px)="+s)},resizedEvent:function(t,e,a,i,s){let r=document.getElementById("main-content").offsetWidth/12;this.layout[t].width=r*a,e>=4?this.layout[t].height=25*e:e>4&&e<=15?this.layout[t].height=30*e:e>15&&(this.layout[t].height=100*e)}}},et=tt,at=(a("cb68"),Object(c["a"])(et,C,y,!1,null,"70d5b19b",null)),it=at.exports,st=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"DatePopUp dynamicdb divtimer_design p-1",attrs:{id:"DivTimer_"+t.pgaction,"data-pageaction":t.pgaction}},[e("table",{staticClass:"table-responsive AssetDatePopUp d-block"},[e("tbody",{staticClass:"daterangebody"},[e("tr",{ref:"daterange",staticClass:"daterangetr"},[e("td",{staticClass:"sep daterangetd"},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"1"}},[e("a",{staticClass:"Today",attrs:{title:t.$t("Today"),id:"aToday",typ:"Today"},on:{click:function(e){return t.ClickTimer("Today",this,t.pgaction)}}},[t._v(t._s(t.$t("Today")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin1","aria-hidden":"true"}})]),e("li",{attrs:{id:"2"}},[e("a",{staticClass:"Yesterday",attrs:{title:t.$t("Yesterday"),id:"aYesterday",typ:"Yesterday"},on:{click:function(e){return t.ClickTimer("Yesterday",this,t.pgaction)}}},[t._v(t._s(t.$t("Yesterday")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 inpinner pinhide",attrs:{id:"pin2","aria-hidden":"true"}})]),e("li",{attrs:{id:"3"}},[e("a",{staticClass:"Week",attrs:{title:t.$t("ThisWeek"),id:"aWeek",typ:"Week"},on:{click:function(e){return t.ClickTimer("Week",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin3","aria-hidden":"true"}})]),e("li",{attrs:{id:"4"}},[e("a",{staticClass:"AllTime",attrs:{title:t.$t("AllTime"),id:"aAll",typ:"AllTime"},on:{click:function(e){return t.ClickTimer("AllTime",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisYear")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin4","aria-hidden":"true"}})])])]),e("td",{staticClass:"daterangetd",attrs:{valign:"top"}},[e("ul",{staticClass:"date_select"},[e("li",{attrs:{id:"5"}},[e("a",{staticClass:"LastWeek",attrs:{id:"aLastWeek",typ:"LastWeek",title:t.$t("LastWeek")},on:{click:function(e){return t.ClickTimer("LastWeek",this,t.pgaction)}}},[t._v(t._s(t.$t("LastWeek")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin5","aria-hidden":"true"}})]),e("li",{attrs:{id:"6"}},[e("a",{staticClass:"Month",attrs:{id:"aMonth",typ:"Month",title:t.$t("ThisMonth")},on:{click:function(e){return t.ClickTimer("Month",this,t.pgaction)}}},[t._v(t._s(t.$t("ThisMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin6","aria-hidden":"true"}})]),e("li",{attrs:{id:"7"}},[e("a",{staticClass:"LastMonth",attrs:{id:"aLastMonth",typ:"LastMonth",title:t.$t("LastMonth")},on:{click:function(e){return t.ClickTimer("LastMonth",this,t.pgaction)}}},[t._v(t._s(t.$t("LastMonth")))]),e("i",{directives:[{name:"show",rawName:"v-show",value:t.showPin,expression:"showPin"}],staticClass:"fa fa-thumb-tack mt-1 pinhide inpinner",attrs:{id:"pin7","aria-hidden":"true"}})])])])]),e("tr",{staticClass:"float-left p-0 m-0 mt-1 col-12 daterangetr"},[e("td",{staticClass:"col-4 m-1 daterangetd float-left table_datepickerfix"},[e("label",[t._v("From")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none FromDate form-control p-1",attrs:{id:"txtFromDate_"+t.pgaction,name:"startDate"},domProps:{value:a}},i))]}}]),model:{value:t.fromDate,callback:function(e){t.fromDate=e},expression:"fromDate"}})],1),e("td",{staticClass:"col-4 m-1 daterangetd float-left table_datepickerfix"},[e("label",[t._v("To")]),e("br"),e("v-date-picker",{attrs:{mode:"date"},scopedSlots:t._u([{key:"default",fn:function({inputValue:a,inputEvents:i}){return[e("input",t._g({staticClass:"textfield2 ie_crossicon_none ToDate form-control p-1",attrs:{id:"txtToDate_"+t.pgaction,name:"endDate"},domProps:{value:a}},i))]}}]),model:{value:t.toDate,callback:function(e){t.toDate=e},expression:"toDate"}})],1),e("td",{staticClass:"col-2 m-1 ml-2 daterangetd float-left table_datepickerfix"},[e("input",{staticClass:"btn btn-success float-left p-1 p-1 pl-4 pr-4",attrs:{type:"button",id:"btnsearch_"+t.pgaction,"data-result":"btnsearch",value:"Go"},on:{click:function(e){return t.searchGoclick(this,t.pgaction)}}})])])])])]),e("input",{attrs:{type:"hidden",id:"hdnDateSpan",value:"Month",title:"hidden ctr for keeping current Search type Like week, month and day."}}),e("input",{attrs:{type:"hidden",id:"ReportViewer",name:"returnType"}}),e("input",{attrs:{type:"hidden",id:"pgaction",name:"pgaction"},domProps:{value:t.pgaction}}),e("input",{attrs:{type:"hidden",id:"hdnViewId",name:"viewid"}}),e("input",{attrs:{type:"hidden",id:"hdnPinnedViewId",name:"viewid"}})])},rt=[],ot={props:{pgaction:null},data(){return{isLoading:!1,fromDate:null,toDate:null,eval:"",evaltype:"",showPin:!1}},created(){this.ClickTimer("Week",this,this.pgaction)},mounted(){$("#DivTimer_global").addClass("d-none")},methods:{searchGoclick(t,e){var a=this;$("#hdnViewId").val(""),$(".btnPin").hide(),a.$emit("set-date",$("#txtFromDate_"+e).val(),$("#txtToDate_"+e).val())},SearchRecord(t,e){var a=e,i=$("#txtFromDate_"+a).val(),s=$("#txtToDate_"+a).val(),r=($("#aDateLable_"+a).html(),$(t).closest(".ticketingDashboardHead").attr("dctrl")),o=$(t).closest(".ticketingDashboardHead").attr("daction"),n=$(t).closest(".ticketingDashboardHead").find(".reportBlock");$.ajax({url:"/"+r+"/"+o,data:{fromDate:i,toDate:s},type:"get",async:!0,cache:!1,success:function(t){n.empty(),n.append(t)},error:function(){}})},ClickTimer(t,e,a){var i=this;$("#hdnViewId").val($(e).parent().attr("id")),$("#hdnViewId").val()==$("#hdnPinnedViewId").val()?($("#idPinView").closest(".btnPin").addClass("pinmyview"),$("#idPinView").closest(".btnPin").removeClass("unpinmyview")):($("#idPinView").closest(".btnPin").addClass("unpinmyview"),$("#idPinView").closest(".btnPin").removeClass("pinmyview")),$(".btnPin").show(),"global"==$(e).closest("div.DatePopUp").attr("data-pageaction")?($(e).closest(".date_range").find("#aDateLable_global").find("em.text-white").html("").html($(e).text()),i.isLoading=!0,i.FadeInOut1(e),$("#dashbord-graph-widget").find(".ticketingDashboardHead").each((function(){$(this).find(".DatePopUp").find("a[class="+t+"]").trigger("click"),$(this).find(".DatePopUp").hide()})),"Today"==t?i.GetStartEndDates(t,e,a):"Yesterday"==t?i.GetStartEndDates("yesterday",e,a):"Week"==t?i.GetStartEndDates("thisweek",e,a):"LastWeek"==t?i.GetStartEndDates("lastweek",e,a):"Month"==t?i.GetStartEndDates("thismonth",e,a):"LastMonth"==t?i.GetStartEndDates("lastmonth",e,a):"AllTime"==t&&i.GetStartEndDates("thisyear",e,a),i.isLoading=!1):("Today"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates(t,e,a)):"Yesterday"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("yesterday",e,a)):"Week"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("thisweek",e,a)):"LastWeek"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("week"),i.GetStartEndDates("lastweek",e,a)):"Month"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("thismonth",e,a)):"LastMonth"==t?($(e).closest(".date_range").find("#hdnDateSpan").val("month"),i.GetStartEndDates("lastmonth",e,a)):"AllTime"==t&&($(e).closest(".date_range").find("#hdnDateSpan").val("day"),i.GetStartEndDates("thisyear",e,a)),i.FadeInOut1(e)),$(e).closest(".date_range").find("#imgNext").show(),$(e).closest(".date_range").find("#imgPrev").show()},FadeInOut(){$("#DivTimer").toggle()},FadeInOut1(t){var e=$(t).closest(".date_range").find("#pgaction").val();$(t).closest(".date_range").find("#DivTimer_"+e).toggle()},GetStartEndDates(t,e,a){var i=this;i.isLoading=!0;var s=`DateSpan=${t.toLowerCase()}&report=${$("#hdnGroupBy").val()}`;n["a"].GetStartEndDate_New(s).then((function(t){i.isLoading=!1;var e=t.data;i.fromDate=e.dateStart,i.toDate=e.dateEnd,$("#txtFromDate_"+a).val(e.dateStart),$("#txtToDate_"+a).val(e.dateEnd),$("#aDateLable_"+a).find("em").text(e.displayText),i.$emit("set-date",e.dateStart,e.dateEnd)}))}}},nt=ot,dt=(a("f6bd"),Object(c["a"])(nt,st,rt,!1,null,null,null)),lt=dt.exports,ct={components:{ModalAddDashboard:h,ModalAddReport:b,ReportLayout:it,daterange:lt},data:function(){return{isLoading:!1,showAdddashboard:!1,showAddReport:!1,dashsbords:[],dashboardid:"0",reports:[],showFilters:!1,showpopup:!1,StateList:[],fromDate:null,toDate:null,clientByCompany:[],selectedClient:[],isdraggable:!1,isresizable:!1,isDropdownOpen:!1,editOrSave:"Edit",moduleCode:"index"==this.$route.params.moduleCode?"CRM":this.$route.params.moduleCode}},created:function(){this.GetDashboard(),this.GetStateListByCountryCode(),this.GetParentClientByCompanyIdForGroup_New()},methods:{updateSelectedOptions(){this.selectedClient=this.clientByCompany.filter(t=>t.selected)},SetDateRange(t,e){this.fromDate=t,this.toDate=e,this.GetDashboard()},OpenDatePopUp(t){this.showpopup=!this.showpopup,$("#DivTimer_global").toggleClass("d-none")},openFilters(){this.showFilters=!this.showFilters},opendashborad(){this.showAdddashboard=!0},openReport(){this.showAddReport=!0},editreport(){var t=this;"Save"==t.editOrSave&&t.SaveEditReport(),t.editOrSave="Edit"==t.editOrSave?"Save":"Edit",this.$refs.reportLayoutref.updateChildVariables()},SaveEditReport(){var t=this;"Save"==t.editOrSave&&this.$refs.reportLayoutref.SaveEditedChanges()},GetDashboard:function(){var t=this,e="moduleName=CRM&type=DashboardList";n["a"].GetDDLData(e).then(e=>{t.dashsbords=e.data.DATA,t.dashsbords.length&&(t.dashboardid=t.dashsbords[0].value,t.onchangeView())})},onchangeView:function(){var t=this,e="dashboardId="+t.dashboardid;n["a"].GetDashboardReport(e).then((function(e){var a=e.data;t.reports=[],setTimeout(()=>{t.reports=a},100)}))},GetStateListByCountryCode:function(){var t=this,e="countryId=223&includeCandaState=true";n["a"].GetStateListByCountryCode(e).then(e=>{t.StateList=e.data})},GetParentClientByCompanyIdForGroup_New:function(){var t=this;n["a"].GetParentClientByCompanyIdForGroup_New().then(e=>{t.clientByCompany=e.data})},toggleMenu(t){$(t.target).parent().parent().find(".dropdown-menu").toggleClass("d-block")}}},pt=ct,ht=(a("a212"),Object(c["a"])(pt,i,s,!1,null,null,null));e["default"]=ht.exports},4256:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".custom-chart-div.Barchrt .reportBlock{transform:none}",""]),t.exports=e},"4a93":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".card-header>a[aria-expanded=true]{background-color:#56a5fa}.switch.auto{width:auto!important;overflow:unset!important}.switch.auto .slider{padding:2px 7px 0 8px;left:auto!important;right:auto!important}.switch.auto input:checked+.slider:before{transform:translate(26px);left:auto;right:30px}.accordion>.card>.card-header{border-radius:0;margin-bottom:10px}",""]),t.exports=e},"4cb9":function(t,e,a){var i=a("4256");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("3a0d0a04",i,!0,{sourceMap:!1,shadowMode:!1})},"5af7":function(t,e,a){var i=a("4a93");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("3fe56f36",i,!0,{sourceMap:!1,shadowMode:!1})},6472:function(t,e,a){var i=a("859d");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("1635bf77",i,!0,{sourceMap:!1,shadowMode:!1})},"6c1d":function(t,e,a){"use strict";a("4cb9")},"6dc8":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".switch.auto{width:auto!important;overflow:unset!important}.switch.auto .slider{padding:2px 7px 0 8px;left:auto!important;right:auto!important}.switch.auto input:checked+.slider:before{transform:translate(26px);left:auto;right:30px}.accordion>.card>.card-header{border-radius:0;margin-bottom:10px}.custom-reports-icons{min-width:inherit;height:104px;width:33%}.Textstyle{font-size:1.25rem;line-height:40px;text-transform:capitalize}",""]),t.exports=e},"70cb":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".action-list-box2{position:absolute;top:53px;right:145px;width:400px;overflow:hidden;display:inline-block;padding:5px;white-space:nowrap;z-index:99;display:block;background:#fff;border:1px solid #bcbcbc}.action-list-box2 span{display:block}",""]),t.exports=e},"859d":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".custom-chart-div.Barchrt .reportBlock{transform:none;height:inherit}",""]),t.exports=e},9077:function(t,e,a){"use strict";a("34c7")},"9c10":function(t,e,a){var i=a("f4a9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("a5a6c05e",i,!0,{sourceMap:!1,shadowMode:!1})},"9ece":function(t,e,a){var i=a("70cb");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("2aeed558",i,!0,{sourceMap:!1,shadowMode:!1})},a212:function(t,e,a){"use strict";a("9ece")},cb68:function(t,e,a){"use strict";a("9c10")},f4a9:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".vue-grid-layout[data-v-70d5b19b]{background:#eee}.vue-grid-item[data-v-70d5b19b]:not(.vue-grid-placeholder){background:#ccc;border:1px solid #000}.vue-grid-item .resizing[data-v-70d5b19b]{opacity:.9}.vue-grid-item .static[data-v-70d5b19b]{background:#cce}.vue-grid-item .text[data-v-70d5b19b]{font-size:24px;text-align:center;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.vue-grid-item .no-drag[data-v-70d5b19b],.vue-grid-item .text[data-v-70d5b19b]{height:100%;width:100%}.vue-grid-item .minMax[data-v-70d5b19b]{font-size:12px}.vue-grid-item .add[data-v-70d5b19b]{cursor:pointer}.vue-draggable-handle[data-v-70d5b19b]{position:absolute;width:20px;height:20px;top:0;left:0;background:url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'><circle cx='5' cy='5' r='5' fill='#999999'/></svg>\") no-repeat;background-position:100% 100%;padding:0 8px 8px 0;background-repeat:no-repeat;background-origin:content-box;box-sizing:border-box;cursor:pointer}.graph-widget-box[data-v-70d5b19b]{min-height:auto!important}.graph-widget[data-v-70d5b19b]{height:100%!important}",""]),t.exports=e},f6bd:function(t,e,a){"use strict";a("2bf9")},f991:function(t,e,a){"use strict";a("6472")},fc38:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".DatePopUp.dynamicdb{width:320px;right:0;top:51px}.divtimer_design table.AssetDatePopUp{margin-bottom:0}.divtimer_design table.AssetDatePopUp td.daterangetd{padding:0!important;text-align:left;vertical-align:top;font-size:12px}.divtimer_design table.AssetDatePopUp td.sep{border-right:1px solid #d2d2d2}.reporthead .divtimer_design table.AssetDatePopUp td.daterangetd{line-height:30px}.date_range_bi div.divtimer_design span{margin-top:0!important;color:#000}.divtimer_design .bootstrap-datetimepicker-widget{top:auto!important;left:5px!important}.AssetDatePopUp tr td.daterangetd.date-range-column{max-width:114px!important;display:table-column!important;width:auto!important}.AssetDatePopUp tbody.daterangebody tr.daterangetr{display:table-row!important}.daterangebody{display:grid!important}",""]),t.exports=e}}]);
//# sourceMappingURL=chunk-329755f2.js.map