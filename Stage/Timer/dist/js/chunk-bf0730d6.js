(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bf0730d6"],{"4b91":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"my-popups"},[a("div",{staticClass:"modal d-block "},[a("div",{staticClass:"modal-dialog ui-draggable"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header ui-draggable-handle"},[a("h5",{staticClass:"modal-title",attrs:{id:"ui-id-10"}},[t._v(t._s(t.ScreenshotDetailArray.screenshoT_TITLE))]),a("button",{staticClass:"close",on:{click:t.closePopup}},[a("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})])]),a("div",{staticClass:"modal-body",staticStyle:{height:"auto","min-height":"0px","max-height":"none"},attrs:{id:"divDialogDetails"}},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"col-md-12 p-0"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 d-flex"},[a("div",{staticClass:"w-100 h-100 bg-light d-flex align-items-center"},["screenShot"==t.ScreenshotDetailArray.screenshoT_TYPE?a("img",{staticClass:"snapshot w-100 ",attrs:{loading:"lazy",src:"https://cogniterblob.blob.core.windows.net/cg-rohit-enterprises-122628/screenshots/"+t.ScreenshotDetailArray.screenshoT_PATH,title:"Screen--NoTask",alt:"Screen--NoTask"}}):t._e(),"video"==t.ScreenshotDetailArray.screenshoT_TYPE?a("video",{staticClass:"border",attrs:{width:"100%",height:"420",controls:""}},[a("source",{attrs:{src:t.ScreenshotDetailArray.screenshoT_PATH,type:"video/mp4"}})]):t._e()])]),a("div",{staticClass:"col-md-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12",attrs:{id:"divapplicationdatadetails"}},[a("div",{staticClass:"app-time p-0"},[t._m(0),t._l(t.ScreenshotApplicationTime,(function(e){return a("ul",{staticClass:"app-time-info  filterscroll mCustomScrollbar _mCS_10 mCS_no_scrollbar",staticStyle:{"max-height":"240px"}},[a("div",{staticClass:"mCustomScrollBox mCS-dark-thick mCSB_vertical mCSB_inside",staticStyle:{"max-height":"none"},attrs:{id:"mCSB_10",tabindex:"0"}},[a("div",{staticClass:"mCSB_container mCS_y_hidden mCS_no_scrollbar_y",staticStyle:{position:"relative",top:"0",left:"0"},attrs:{id:"mCSB_10_container",dir:"ltr"}},[a("li",{staticClass:"position-relative frm-outer-container"},[a("div",{staticClass:"w-100 float-left d-flex pl-3 hs bg-grey py-1 btn-toggle cursor-pointer"},[a("div",{class:"appicon "+(null==e.icoN_CLASS?"default":e.icoN_CLASS)}),a("p",{staticClass:"text-truncate thickbox ",staticStyle:{"min-width":"120px","max-width":"120px",cursor:"pointer"},attrs:{title:e.icoN_CLASS,"data-placement":"left",href:"javascript:;","data-toggle":"modal","data-target":"#updateentry"}},[t._v(" "+t._s(e.applicatioN_NAME)+" ")]),a("div",{staticClass:"progress prog_bx mt-2",attrs:{"data-duration":e.timE_DURATION,"data-totalduration":e.totaL_DURATION}},[a("div",{staticClass:"progress-bar bg-blue",style:"width:"+t.FindPercentageOfTotalHours(e.timE_DURATION,e.totaL_DURATION)+"%",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}})]),a("span",{staticClass:"spantimeDura mt-1",attrs:{"data-duration":"2","data-totalduration":"2.00"}},[t._v(t._s(t.secondsToTime(e.timE_DURATION))),a("b",[t._v("("+t._s(t.FindPercentageOfTotalHours(e.timE_DURATION,e.totaL_DURATION)+"%")+")")])])]),a("span",{staticClass:"d-block clearfix"})])]),t._m(1,!0)])])}))],2)]),t._m(2),a("div",{staticClass:"table-responsive user-clicksin"},[a("table",{staticClass:"table table-border mb-0"},[t._m(3),t.noRecord?a("tbody",[t._m(4)]):a("tbody",t._l(t.ScreenshotEventsPerMinute,(function(e){return a("tr",[a("td",[t._v(t._s(t.FormatDateToTime(e.time)))]),a("td",[t._v(t._s(e.keyStrokes))]),a("td",[t._v(t._s(e.mouseClicks))])])})),0)])])])]),a("div",{staticClass:"col-md-12 mt-3",attrs:{id:"ssDescription"}},[t._m(5),a("p",[t._v(t._s(t.ScreenshotDetailArray.screenshoT_TITLE))])]),a("div",{staticClass:"col-md-12",attrs:{id:"commentData"}},[a("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 px-2",attrs:{id:"Comments"}},[a("dynamic-form",{ref:"PostCommentForm",attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit}}),a("div",{staticClass:"listing",staticStyle:{"max-height":"465px","overflow-y":"auto"},attrs:{id:"CommentsData"}},[a("div",{staticClass:"w-100 activity-tab",attrs:{id:"accordion"}},t._l(t.PostedCommentListing,(function(e,s){return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header"},[a("a",{staticClass:"card-link",attrs:{"data-toggle":"collapse",href:"#CommentAccordion"+s}},[a("div",{staticClass:"conversation-date heading-border"},[a("span",[t._v(t._s(t.$options.filters.formatDate(e.createdDate)))])])])]),a("div",{staticClass:"collapse show",attrs:{id:"CommentAccordion"+s,"data-parent":"#accordion"}},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"conversation-main"},[a("div",{staticClass:"conversation-time"},[a("span",[t._v(t._s(t.FormatDateToTime(e.createdDate)))])]),a("div",{staticClass:"conversation-box-con"},[a("div",{staticClass:"conversation-box"},[a("div",{staticClass:"name-circle light-yellow"},[a("img",{staticClass:"img-circle avatar",attrs:{src:"https://cogniterblob.blob.core.windows.net/cg-rohit-enterprises-122628/Upload/UserProfileImage/"+e.userImage,width:"51",height:"51",alt:"Image"}})]),a("div",{staticClass:"conversation-header addednote-ticket"},[a("span",[a("span",{staticClass:"sender-name"}),a("span",{staticClass:"sender-department",attrs:{title:e.comments}},[t._v(" "+t._s(e.comments))])])]),a("div",{staticClass:"conversation-content"},[a("div",{staticClass:"col-12 p-0 notesdata"},[a("h6",{staticClass:"text-muted time"},[a("i",[a("b",[t._v(t._s(e.createdBy))]),t._v(", Posted on: "),a("span",{staticClass:"text-danger",attrs:{title:"11/28/2023 05:31:25 PM UTC"}},[t._v(t._s(t.DateDifference(e.createdDate)))])])])])])])])])])])])})),0)])],1)]),a("div",{staticClass:"col-md-8 mb-4 mt-3"},[a("div",{staticClass:"level_info"},[a("div",{staticClass:"progress prog_bx"},[a("div",{staticClass:"progress-bar bg-sky",style:"width:"+t.GetDisplayScreenData.activity+"%",attrs:{role:"progressbar","aria-valuenow":"0","aria-valuemin":"0","aria-valuemax":"100"}})]),a("ul",[a("li",[a("b",[t._v("Level:")]),t._v(t._s(t.GetDisplayScreenData.activity<=20?"Low":t.GetDisplayScreenData.activity>20&&t.GetDisplayScreenData.activity<=60?"Medium":"High"))]),a("li",[a("b",[t._v("KeyStrokes:")]),t._v(t._s(t.GetDisplayScreenData.totaL_KEYSTROKES))]),a("li",[a("b",[t._v("Mouse:")]),t._v(t._s(t.GetDisplayScreenData.totaL_MOUSE_CLICKS))]),a("li",[a("b",[t._v("Duration: ")]),a("span",{staticClass:"durationval"},[t._v(t._s(t.secondsToTime(t.GetDisplayScreenData.timE_DURATION)))])]),a("li",[a("b",[t._v("Activity:")]),t._v(t._s(t.GetDisplayScreenData.activity+"%"))])])])]),a("div",{staticClass:"col-md-4 mb-4 mt-3"},[a("div",{staticClass:"legends_medium date_info text-center"},[a("h2",[t._v(t._s(t.$options.filters.formatDate(t.ScreenShotData.InputDate))),a("br"),t._v(t._s(t.FormatDateToTime(t.ScreenshotDetailArray.createD_AT)))])])])])])])])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"heading-border mb-2"},[a("h5",{staticClass:"h5"},[a("span",[t._v("Application Time")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mCSB_scrollTools mCSB_10_scrollbar mCS-dark-thick mCSB_scrollTools_vertical",staticStyle:{display:"none"},attrs:{id:"mCSB_10_scrollbar_vertical"}},[a("div",{staticClass:"mCSB_draggerContainer"},[a("div",{staticClass:"mCSB_dragger",staticStyle:{position:"absolute","min-height":"30px",height:"0px",top:"0px"},attrs:{id:"mCSB_10_dragger_vertical"}},[a("div",{staticClass:"mCSB_dragger_bar",staticStyle:{"line-height":"30px"}})]),a("div",{staticClass:"mCSB_draggerRail"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12",attrs:{id:"diveventsperminutes"}},[a("div",{staticClass:"heading-border mb-2 mt-3"},[a("h5",{staticClass:"h5"},[a("span",[t._v("Events Per Minute")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("Time")]),a("th",[t._v("Key Strokes")]),a("th",[t._v("Mouse")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("td",{staticClass:"text-center text-danger no-record",attrs:{colspan:"3"}},[t._v(" No record(s) found ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"heading-border"},[a("h5",{staticClass:"h5 mb-2"},[a("span",[t._v("Description")])])])}],i=a("9769"),o=a("c1df"),n=a.n(o),c={props:{ScreenshotDetailArray:{type:Object},ScreenShotData:{type:Object}},data(){return{ScreenshotApplicationTime:[],ScreenshotEventsPerMinute:[],GetDisplayScreenData:[],noRecord:!1,PostedCommentListing:[],FormSchema:[{layoutType:"single",Data:[{astype:"TextAreaField",label:this.$t("Comment"),name:"Comment",value:"",mode:"tag",placeholder:"",config:{options:[]},validationRules:{required:!0}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa fa-send pr-2'></i>Post New Comment",isVisible:!0}]}},created(){this.GetScreenshotApplicationTime(),this.GetEventsPerMinutes(),this.GetDisplayScreen(),this.FetchCommentsData()},methods:{closePopup(){var t=this;t.$parent.CloseScreenshotDetails()},GetScreenshotApplicationTime(){var t=this,e=null;null!=t.ScreenShotData.InputDate&&(e=t.$options.filters.formatDate(t.ScreenShotData.InputDate));var a=`screenshotId=${t.ScreenshotDetailArray.screenshoT_ID}&${t.ScreenShotData.UserId}&${t.ScreenShotData.ProjectId}&langkey=en&search=${e}&duration=0&totalHours=0`;i["a"].GetApplicationTracking(a).then(e=>{e.data.length>0&&(t.ScreenshotApplicationTime=e.data)}).catch(t=>{console.log(t)})},secondsToTime(t){var e=Math.floor(t/3600),a=t%3600,s=Math.floor(a/60),r=a%60,i=Math.ceil(r),o=e+"H "+s+"M "+i+"S";return o},FindPercentageOfTotalHours(t,e){return(t/e*100).toFixed(2)},FormatDateToTime(t){return n()(t).format("LT")},GetEventsPerMinutes(){var t=this,e="screenshotId="+t.ScreenshotDetailArray.screenshoT_ID;i["a"].GetEventsPerMinutes(e).then(e=>{e.data.length>0?(t.ScreenshotEventsPerMinute=e.data,t.noRecord=!1):t.noRecord=!0}).catch(t=>{console.log(t)})},onSubmit(){var t=this,e=`screenids=${t.ScreenshotDetailArray.screenshoT_ID}&comment=${t.FormSchema[0].Data[0].value}`;i["a"].PostComment(e).then(e=>{e.data&&(t.FormSchema[0].Data[0].value="",t.$refs.PostCommentForm.validateForm.reset(),t.ShowAlert(t.$t("RecordsSavedSuccessfully"),"success",!0,t.$t("Alert")),t.FetchCommentsData())}).catch(t=>{console.log(t)})},FetchCommentsData(){var t=this,e=`id=${t.ScreenshotDetailArray.screenshoT_ID+"|"+t.ScreenshotDetailArray.screenshoT_TYPE}&${t.ScreenShotData.ProjectId}`;i["a"].GetComments(e).then(e=>{e.data.length>0&&(t.PostedCommentListing=e.data)}).catch(t=>{console.log(t)})},GetDisplayScreen(){var t=this,e=`screenshotId=${t.ScreenshotDetailArray.screenshoT_ID}&${t.ScreenShotData.UserId}&${t.ScreenShotData.ProjectId}`;i["a"].GetDisplayScreen(e).then(e=>{e.data!={}&&(t.GetDisplayScreenData=e.data)})},DateDifference(t){var e=this,a=new Date,s=Math.ceil(Math.floor(a.getTime()-new Date(t).getTime())/1e3),r=Math.floor(s/3600),i=s%3600,o=Math.floor(i/60),n=Math.floor(s/86400);if(s<60)return e.$t("FewSecondsAgo");if(s<120)return e.$t("minutesago");if(s<2700)return o+" "+e.$t("minutesago");if(s<5400)return e.$t("an")+" "+e.$t("hourago");if(s<86400)return r+" "+e.$t("hourago");if(s<172800)return e.$t("Yesterday");if(s<2592e3)return n+" "+e.$t("daysago");if(s<31104e3){var c=Math.floor(n/30);return c<=1?"1 "+e.$t("monthsago"):c+" "+e.$t("monthsago")}var l=Math.floor(n/365);return l<=1?"1 "+e.$t("yearsago"):l+" "+e.$t("yearsago")}}},l=c,d=a("2877"),h=Object(d["a"])(l,s,r,!1,null,null,null);e["a"]=h.exports},e7dd:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loader",{attrs:{"is-visible":t.isLoading}}),a("tg-list",{attrs:{IsShowAction:!1,showCheckBox:!1,listType:["List"],ModuleName:"Flagged_Screenshot",SubModuleCode:"Flagged_Screenshot",IdentityColumn:"ScreenShotId",HeaderText:"Flagged Screenshots",ListData:t.FlaggedScreenShotListing,HeaderData:t.Headers,callbackfunction:t.FetchData,HeaderButtons:[],TotalRecords:t.TotalRecords,SearchFields:t.leftSearchFields,RenderRowActionMethod:[],ListDataCallBackFunction:t.FetchData,LegendArray:[],SortExp:t.sortExp,SortBy:t.sortBy,NorecordfoundText:t.$t("NoRecordfound")},on:{LeftsearchButtonClick:t.leftCommonSearch,PagerButtonClick:t.pagerMethod,HeaderButtonClick:t.commonHeaderButtonClick,ActionButtonClick:t.actionButtonClick,SortdataButtonClick:t.sortdata}}),t.ShowScreenshotDetails?a("ScreenshotDetails",{attrs:{ScreenshotDetailArray:t.ScreenshotDetailArray,ScreenShotData:t.ScreenShotData}}):t._e()],1)},r=[],i=(a("14d9"),a("9769"));let o=[{fieldName:"User",fieldType:"radio",fieldIcon:"fa fa-user",paramName:"User",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Project",fieldType:"radio",fieldIcon:"fa fa-suitcase",paramName:"projectId",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]},{fieldName:"Date",fieldType:"date",fieldIcon:"fa-calendar",paramName:"datefrom",fieldSearchConditionName:[""],isSearch:!1,value:"",listOptions:[]}];function n(t,e){var a=t;"CA"==e?i["a"].GetUsersByCompanyId().then(t=>{t.data.forEach(t=>{let e={name:t.username,value:t.user_id};a.leftSearchFields[0].listOptions.push(e)})}).catch(t=>{console.log(t)}):"PM"==e&&i["a"].ListTeamUsersByPM().then(t=>{t.data.forEach(t=>{let e={name:t.username,value:t.user_id};a.leftSearchFields[0].listOptions.push(e)})}),i["a"].GetProjectListByUserIdAndUserType().then(t=>{t.data.forEach(t=>{let e={name:t.projectname,value:t.projectid};a.leftSearchFields[1].listOptions.push(e)})})}var c={leftsearchSchema:o,bindleftCommonSearchdropdown:n},l=a("c1df"),d=a.n(l),h=a("4b91"),m=a("be92"),S=a("b0ac");const{GetUserInfo:_}=Object(m["d"])(Object(S["b"])());var p={components:{ScreenshotDetails:h["a"]},data(){return{isLoading:!1,ShowScreenshotDetails:!1,leftSearchFields:c.leftsearchSchema,FlaggedScreenShotListing:[],noRecord:!0,TotalRecords:0,CurrentPage:1,TotalPages:0,sortBy:"sortdate",sortExp:"asc",pageSize:10,pageNum:1,Userid:"User=0",projectId:"projectId=0",modelinputdate:(new Date).toISOString().split("T")[0],dateFrom:"",Headers:[{COLUMN_NAME:"screenshoT_TITLE",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ScreenshotTitle"),DISPLAY_ORDER:1},{COLUMN_NAME:"trackDescription",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TrackDescription"),DISPLAY_ORDER:1},{COLUMN_NAME:"createdByName",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("UserName"),DISPLAY_ORDER:1},{COLUMN_NAME:"projectName",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ProjectTaskFlagged"),DISPLAY_ORDER:1},{COLUMN_NAME:"createD_AT",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ScreenShotCreatedAt"),DISPLAY_ORDER:1},{COLUMN_NAME:"totalHours",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TimeTracked"),DISPLAY_ORDER:1},{COLUMN_NAME:"newStartDate",DATA_TYPE:"text",SORTABLE:!0,VISIBLE:!0,DISPLAY_NAME:this.$t("Date"),DISPLAY_ORDER:1},{COLUMN_NAME:"trackAgent",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("TrackAgent"),DISPLAY_ORDER:1},{COLUMN_NAME:"activity",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:this.$t("ActivityFlagged"),DISPLAY_ORDER:1}]}},created(){var t=this;t.FetchData(),c.bindleftCommonSearchdropdown(this,_.value.UserType)},methods:{FetchData(){var t=this;t.isLoading=!0;var e=`${t.Userid}&${t.projectId}&datefrom=2/2/2023&dateto=11/16/2023&pageSize=${t.pageSize}&pageNum=${t.pageNum}&sortBy=${t.sortBy}&orderBy=${t.sortExp}`;i["a"].GetFlagScreenshotListing(e).then(e=>{e.data.length>0?(t.Headers.forEach(e=>{e.settings=null,"screenshoT_TITLE"==e.COLUMN_NAME&&(e.settings={clickEvent:t.clickEventOfColumn,formatter:t.columnDataFormatter})}),t.FlaggedScreenShotListing=e.data,t.FlaggedScreenShotListing.forEach(e=>{var a=t.FlaggedScreenShotListing.find(t=>t.screenshoT_ID===e.screenshoT_ID);a.projectName=e.projectName+"-"+e.taskname,a.createD_AT=t.FormatDateToTime(e.createD_AT),a.totalHours=t.secondsToTime(e.totalHours),a.newStartDate=t.$options.filters.formatDate(e.newStartDate),a.activity=e.activity+" %"}),t.TotalRecords=e.data[0].total,t.TotalPages=Math.ceil(t.TotalRecords/t.pageSize),t.CurrentPage=t.pageNum,t.isLoading=!1,t.noRecord=!1):(t.FlaggedScreenShotListing=[],t.TotalRecords=0,t.isLoading=!1,t.noRecord=!0)}).catch(t=>{console.log(t)})},FormatDateToTime(t){return d()(t).format("LT")},secondsToTime(t){var e=Math.floor(t/3600),a=t%3600,s=Math.floor(a/60),r=a%60,i=Math.ceil(r),o=e+"H "+s+"M "+i+"S";return o},pagerMethod(t){this.pageSize=t.PageSize,this.pageNum=t.PageNumber,this.FetchData()},clickEventOfColumn:function(t,e){var a=this;"screenshoT_TITLE"==e.COLUMN_NAME&&(a.ShowScreenshotDetails=!0,a.ScreenshotDetailArray=t,a.ScreenShotData={UserId:a.Userid,ProjectId:a.projectId,InputDate:t.dateStart})},CloseScreenshotDetails(){var t=this;t.ShowScreenshotDetails=!1},leftCommonSearch(t){t.searchConditionJson.includes("projectId")?this.projectId=t.searchConditionJson:this.Userid=t.searchConditionJson,this.FetchData()},sortdata:function(t){var e="sort tb_headerSortDown";this.sortBy=t,t===this.sortBy&&(""==this.sortExp?(this.sortExp="ASC",e="sort tb_headerSortDown"):"ASC"==this.sortExp?(this.sortExp="DESC",e="sort tb_headerSortUp"):(this.sortExp="ASC",e="sort tb_headerSortDown")),this.FetchData(),$("#"+t+"  span:first-child").attr("class",e)}}},u=p,v=a("2877"),D=Object(v["a"])(u,s,r,!1,null,null,null);e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-bf0730d6.js.map