(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cba6a"],{"4b28":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("TimeSheetListing")],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[t._m(0),a("div",{staticClass:"listing py-3 px-3"},[t.DataLoaded?a("dynamic-form",{attrs:{lang:"en",buttons:t.buttons,schema:t.FormSchema},on:{OnSubmit:t.onSubmit},scopedSlots:t._u([{key:"tgslot-TimeSheetTable",fn:function(e){e.data;return[a("div",{staticClass:"listing"},[a("div",{staticClass:"col-12 mb-2"},[a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legends-purple colorboxsquare"}),t._v("Automatic ")]),a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legends_low colorboxsquare"}),t._v("Manual ")]),a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legends_medium colorboxsquare"}),t._v("TimeSheet ")]),a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legends_profile colorboxsquare"}),t._v("Leave ")]),a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"legends_high colorboxsquare"}),t._v("Holiday ")]),a("div",{staticClass:"mr-2 d-inline-block"},[a("span",{staticClass:"lg-pausedresumed colorboxsquare"}),t._v("PausedResumed ")])])]),a("tg-list",{attrs:{RenderRowActionMethod:t.renderActions,IdentityColumn:"track_id",ModuleName:"TimeTrack",HeaderText:t.$t("Brand"),SubModuleCode:"Timesheet",SortExp:t.SortExp,SortBy:t.SortBy,IsShowAction:!1,ListData:t.TimesheetList,HeaderData:t.Headers,showCheckBox:!0,NorecordfoundText:t.$t("NoRecordfound"),HeaderButtons:t.listheaderbuttons},scopedSlots:t._u([t._l(t.TimesheetList,(function(e){return{key:"slotdata",fn:function(s){var i=s.data;return["break_tt"==i.column.COLUMN_NAME?[a("input",{directives:[{name:"model",rawName:"v-model",value:e.break_tt,expression:"item.break_tt"}],domProps:{value:e.break_tt},on:{input:function(a){a.target.composing||t.$set(e,"break_tt",a.target.value)}}})]:t._e()]}}}))],null,!0)})]}}],null,!1,527957252)}):t._e(),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5)],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12 p-0 mt-2"},[a("div",{staticClass:"theme-primary partition-full"},[a("span",{staticClass:"p-name text-white"},[t._v("Timesheet")]),a("span",{staticClass:"p-actions float-right"},[a("a",{staticClass:"p-action-btn text-white addman btn-info",attrs:{id:"AddManually",href:"javascript:;"}},[a("span",[t._v("Expert")])]),a("a",{staticClass:"p-action-btn text-white addman btn-info",attrs:{id:"AddManually",href:"javascript:;"}},[a("span",[t._v("This week")])]),a("a",{staticClass:"p-action-btn text-white addman btn-info",attrs:{id:"AddManually",href:"javascript:;"}},[a("i",{staticClass:"fa fa-delete mx-2"})])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-danger d-none",attrs:{id:"btnCancel",title:"Cancel"}},[a("i",{staticClass:"fa fa-close pr-2"}),a("span",[t._v("Cancel")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-warning formbtn mr-2 text-dark",attrs:{id:"btnCopyLastWeek",isapprover:"0",onclick:"",name:"",title:"Copy to other Users"}},[a("i",{staticClass:"fa fa-copy pr-2"}),t._v("Copy to other Users")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-warning formbtn mr-2 text-dark",attrs:{id:"btnCopyLastWeek",isapprover:"0",onclick:"",name:"",title:"Copy Last week"}},[a("i",{staticClass:"fa fa-copy pr-2"}),t._v("Copy Last week")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-warning formbtn text-dark mr-2",attrs:{id:"btnSaveAsDraft",isapprover:"0",onclick:"",name:"",title:"SaveAsDraft"}},[a("i",{staticClass:"fa fa-save pr-2"}),t._v("SaveAsDraft")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"btn btn-success text-white formbtn mr-2",attrs:{id:"btnSendForApproval",isapprover:"0",onclick:"",title:"SendForApproval"}},[a("i",{staticClass:"fa fa-send pr-2"}),t._v("SendForApproval")])}],o=(a("14d9"),a("9769")),c={data(){return{FormSchema:[{layoutType:"single",Data:[{astype:"SlotField",label:"",name:"TimeSheetTable",value:"",placeholder:"",config:{options:[]},validationRules:{}}]}],buttons:[{type:"submit",class:"btn btn-success",text:"<i class='fa pr-2'></i>ShowTimeSheet",isVisible:!0},{type:"submit",class:"btn btn-success",text:"<i class='fa pr-2'></i>btnCopyLastWeek",isVisible:!0}],DataLoaded:0,PageNumber:1,PageSize:10,SortBy:"",SortExp:"",noRecord:!1,TotalRecords:0,isLoading:!1,TimesheetList:[],UserId:null,Headers:[{COLUMN_NAME:"break_hh_mm",DATA_TYPE:"string",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Projects",DISPLAY_ORDER:1},{COLUMN_NAME:"break_tt",DATA_TYPE:"text",SORTABLE:!1,VISIBLE:!0,DISPLAY_NAME:"Mon, Dec",DISPLAY_ORDER:2}]}},created:async function(){this.DataLoaded=1,await this.GetUsersForTimesheet();var t=this;t.FormSchema[0].Data[1].value=t.GetUserInfo.ID,t.FetchData()},mounted:function(){console.log("mounted")},methods:{async GetUsersForTimesheet(){var t=this;t.isLoading=!0;var e="companyId=270936&loggedUserId=769083&userType=CA&userId=769083&moduleName=";await o["a"].GetUsersForTimesheet(e).then((function(e){e.data.result.forEach(e=>{t.obj={name:e.username,value:e.useR_ID},t.FormSchema[0].Data[1].config.options.push(t.obj)}),t.isLoading=!1}))},async ListTimesheetForWeek(t){var e=this,a=e.$options.filters.formatDateTime(t.date_range),s=e.$options.filters.formatDateTime(t.date_range);e.FetchData();var i=`userId=769083&dateFrom=${a}&dateTo=${s}&selectedUserId=769083&IsAudit=0&showCheckbox=&newTrackId=0`;await o["a"].ListTimesheetForWeek(i).then(t=>{null!=t.data&&""!=t.data?(e.TimesheetList=t.data.listing,e.noRecord=!1):(e.noRecord=!0,e.TimesheetList=[])})},async onSubmit(t,e){var a=this;a.FetchData()},renderActions:function(t){},FetchData:async function(){var t=this;t.isLoading=!0;var e="12/05/2023 12:55 PM",a="12/05/2023 12:55 PM",s=`userId=${t.GetUserInfo.ID}&dateFrom=${e}&dateTo=${a}&selectedUserId=${t.FormSchema[0].Data[1].value}&IsAudit=0&showCheckbox=&newTrackId=0`;await o["a"].ListTimesheetForWeek(s).then(e=>{t.isLoading=!1,t.Headers.forEach(t=>{t.settings=null,"break_tt"==t.COLUMN_NAME&&(t.settings={isInSlot:!0})}),null!=e.data&&""!=e.data&&e.data.listing.length>0?(t.Headers.forEach(t=>{"break_tt"==t.COLUMN_NAME&&(t.DISPLAY_NAME=e.data.listing[0].break_tt)}),t.TotalRecords=e.data.listing.length,t.TimesheetList=e.data.listing,t.TotalPages=1,t.CurrentPage=1,$("[id^='chkAll']").prop("checked",!1).removeAttr("checked"),$(".chkItems:checkbox:checked").prop("checked",!1).removeAttr("checked"),t.noRecord=!1,t.noRecord=!1):(t.noRecord=!0,t.TimesheetList=[])})}}},l=c,d=a("2877"),m=Object(d["a"])(l,n,r,!1,null,null,null),u=m.exports,h={components:{TimeSheetListing:u},data(){return{}},created:function(){}},p=h,b=Object(d["a"])(p,s,i,!1,null,null,null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-2d0cba6a.js.map