(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["chunk-2d2ac836"],{

/***/ "3368":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RequestForReturnProduct_vue_vue_type_style_index_0_id_372f6326_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c17e");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RequestForReturnProduct_vue_vue_type_style_index_0_id_372f6326_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RequestForReturnProduct_vue_vue_type_style_index_0_id_372f6326_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "35b8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_71389402_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("755b");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_71389402_prod_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_List_vue_vue_type_style_index_0_id_71389402_prod_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ }),

/***/ "49af":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".listing[data-v-372f6326]{float:none;width:100%;position:relative}#returnrecordBulk[data-v-372f6326]{overflow:visible}#returnrecordBulk .table tr td[data-v-372f6326]{overflow:visible!important}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "58ca":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, "span#action-list{display:flex;align-items:center}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "755b":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("58ca");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("0bfa5bd2", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "b00c":
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__("24fb");
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".unique_dynamicdatalist[data-v-f766a05a]{border:none}.vue-treeselect__control[data-v-f766a05a]{border:none;height:24px;padding:0}.vue-treeselect--searchable .vue-treeselect__input-container[data-v-f766a05a]{padding:0!important}.vue-treeselect__placeholder[data-v-f766a05a]{color:#303030!important}.vue-treeselect__control-arrow[data-v-f766a05a]{color:#000}.vue-treeselect__placeholder[data-v-f766a05a]{line-height:24px}.p-sharing-name[data-v-f766a05a]{min-height:166px!important;top:60px!important}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ "c17e":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("49af");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("4c2d5fdf", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "cabd":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/ProductAssignment/List.vue?vue&type=template&id=71389402&
var render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('section', [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('tg-list', {
    attrs: {
      "IsShowAction": true,
      "showCheckBox": true,
      "listType": ['List'],
      "ModuleName": "Asset",
      "PageSize": _vm.PageSize,
      "SubModuleCode": "Product_Assignment",
      "IdentityColumn": "ASSIGNMENT_DETAIL_ID",
      "HeaderText": "Product Assignment",
      "ListData": _vm.AssetAssignmentData,
      "HeaderData": _vm.Headers,
      "widgets": _vm.widgets,
      "callbackfunction": _vm.FetchData,
      "HeaderButtons": _vm.listheaderbuttons,
      "TotalRecords": _vm.TotalRecords,
      "SearchFields": _vm.leftSearchFields,
      "NorecordfoundText": _vm.$t('NoRecordfound'),
      "RenderRowActionMethod": _vm.renderActions,
      "ListDataCallBackFunction": _vm.FetchData,
      "LegendArray": _vm.LegendArray,
      "SortExp": _vm.SortExp,
      "SortBy": _vm.SortBy
    },
    on: {
      "LeftsearchButtonClick": _vm.leftCommonSearch,
      "PagerButtonClick": _vm.pagerMethod,
      "HeaderButtonClick": _vm.commonHeaderButtonClick,
      "ActionButtonClick": _vm.actionButtonClick,
      "SortdataButtonClick": _vm.sortdata
    },
    scopedSlots: _vm._u([{
      key: "slotdata",
      fn: function ({
        data
      }) {
        return [data.column.COLUMN_NAME == 'UNIQUE_NAME' ? [data.row.CREATE_UNIQUE_NAME_LIST == false ? _c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }) : _c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }, [_vm._v(" " + _vm._s(data.row.UNIQUE_NAME) + " ")])] : _vm._e(), data.column.COLUMN_NAME == 'NUMBER_OF_ITEMS_ASSIGNED' ? [data.row.CREATE_UNIQUE_NAME_LIST == false ? _c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }, [_c('i', {
          staticClass: "fa fa-list-ul",
          attrs: {
            "aria-hidden": "true"
          }
        }), data.row.IS_RETURN ? _c('span', {
          staticClass: "noti-circle noti-blue"
        }, [_vm._v(_vm._s(data.row.RETURN_REQUEST_QTY))]) : _c('span', {
          staticClass: "noti-circle noti-blue"
        }, [_vm._v(_vm._s(data.row.NUMBER_OF_ITEMS_ASSIGNED))])]) : _c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }, [_c('i', {
          staticClass: "fa fa-list-ul",
          attrs: {
            "aria-hidden": "true"
          }
        }), _c('span', {
          staticClass: "noti-circle noti-blue"
        }, [_vm._v(_vm._s(data.row.NUMBER_OF_ITEMS_ASSIGNED))])])] : _vm._e(), data.column.COLUMN_NAME == 'ASSIGNED_FROM' ? [_c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }, [_vm._v(" " + _vm._s(_vm.formatTimeToCustomFormat(data.row.ASSIGNED_FROM)) + " ")])] : _vm._e(), data.column.COLUMN_NAME == 'ASSIGNED_TILL' ? [_c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }, [_vm._v(" " + _vm._s(_vm.formatTimeToCustomFormat(data.row.ASSIGNED_TILL)) + " ")])] : _vm._e(), data.column.COLUMN_NAME == 'RETURN_DATE' ? [_c('span', {
          staticClass: "text-dark",
          attrs: {
            "title": data.column.COLUMN_NAME
          }
        }, [_vm._v(" " + _vm._s(_vm.formatTimeToCustomFormat(data.row.RETURN_DATE)) + " ")])] : _vm._e()];
      }
    }])
  }), _vm.ReturnProductPopup ? _c('ReturnPopup', {
    attrs: {
      "assDetailIDs": _vm.assDetailIDs
    },
    on: {
      "CloseReurnProductPopup": _vm.CloseReurnProductPopup
    }
  }) : _vm._e(), _vm.NotReturnedPopup ? _c('NotReturnedPopup', {
    attrs: {
      "selectedUserDetail": _vm.selectedUserDetail
    },
    on: {
      "CloseNotReurnedProductPopup": _vm.CloseNotReurnedProductPopup
    }
  }) : _vm._e(), _vm.IsRequestForReturn ? _c('ReturnForRequest', {
    attrs: {
      "IsRequestForReturnData": _vm.IsRequestForReturnData
    },
    on: {
      "CloseReturnPopup": _vm.CloseReturnPopup
    }
  }) : _vm._e(), _vm.isVisibleComponentPopup ? _c('CommentPopUp', {
    attrs: {
      "assDetailIDs": _vm.assDetailIDs
    },
    on: {
      "CloseCommentPopup": _vm.CloseCommentPopup
    }
  }) : _vm._e(), _vm.isSharedPopupOpen ? _c('SharePopUp', {
    attrs: {
      "assignmentIdDetail": _vm.assDetailIDs
    },
    on: {
      "CloseSharePopup": _vm.CloseSharePopup
    }
  }) : _vm._e(), _vm.ApproveRejectpopup ? _c('ApproveReject', {
    attrs: {
      "assDetailIDs": _vm.assDetailIDs
    },
    on: {
      "CloseApproveRejectopup": _vm.CloseApproveRejectopup
    }
  }) : _vm._e(), _vm.isRequestForReturnProduct ? _c('RequestForReturnProduct', {
    attrs: {
      "assDetailIDs": _vm.assDetailIDs,
      "newValue": _vm.newValue
    },
    on: {
      "CloseRequestForReturnProduct": _vm.CloseRequestForReturnProduct
    }
  }) : _vm._e()], 1);
};
var staticRenderFns = [];

// CONCATENATED MODULE: ./src/views/ProductAssignment/List.vue?vue&type=template&id=71389402&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es.array.push.js
var es_array_push = __webpack_require__("14d9");

// EXTERNAL MODULE: ./src/service/DataService.js + 1 modules
var DataService = __webpack_require__("1115");

// CONCATENATED MODULE: ./src/views/ProductAssignment/AssignmentSchema.js


let buttons = [{
  title: 'Assign Product',
  iconClass: 'fa fa-plus',
  callbackfunction: 'AssignProduct',
  additionalClass: '',
  isdisabled: false,
  isvisible: true,
  checkPrivilege: true
}, {
  title: 'Return Product',
  iconClass: 'fa fa-undo',
  callbackfunction: 'ReturnProduct',
  href: '',
  additionalClass: '',
  isdisabled: false,
  isvisible: true,
  checkPrivilege: true
}, {
  title: 'Request For Return',
  iconClass: 'fa fa-user',
  callbackfunction: 'RequestForReturnProduct',
  additionalClass: '',
  isdisabled: false,
  isvisible: true,
  checkPrivilege: false
}];
let leftsearchSchema = [{
  fieldName: 'Issued To',
  fieldType: "text",
  fieldIcon: "fa fa-user",
  paramName: "search",
  fieldSearchConditionName: [''],
  isSearch: false,
  value: "",
  listOptions: []
}, {
  fieldName: 'Issued By',
  fieldType: 'radio',
  fieldIcon: "fa fa-user",
  paramName: "issuedBy",
  fieldSearchConditionName: [''],
  isSearch: false,
  value: "",
  listOptions: []
}, {
  fieldName: 'Product Name',
  fieldType: "text",
  fieldIcon: "fa fa-suitcase",
  paramName: "searchItemCode",
  fieldSearchConditionName: [''],
  isSearch: false,
  value: "",
  listOptions: []
}, {
  fieldName: 'Show By',
  fieldType: "radio",
  fieldIcon: "fa fa-file-text-o",
  paramName: "Show",
  fieldSearchConditionName: [''],
  isSearch: false,
  value: "",
  listOptions: [{
    value: '0',
    name: 'Assigned'
  }, {
    value: '1',
    name: 'Returned'
  }, {
    value: '2',
    name: 'Return Overdue'
  }, {
    value: '3',
    name: 'Approval Pending for Return'
  }]
}];
let listActions = [{
  title: 'Share',
  callbackfunction: 'Share',
  href: 'javascript:void(0)',
  icon: 'fa fa-share-alt assetsharing action-icon',
  isVisible: true,
  additionalSpan: ''
}, {
  title: 'Accept Reject Request',
  callbackfunction: 'AcceptRejectRequest',
  href: '',
  icon: 'fa fa-file-text-o action-icon',
  isVisible: true,
  additionalSpan: ''
}, {
  title: 'Returned',
  callbackfunction: 'Returned',
  href: '',
  icon: 'fa fa-undo text-danger action-icon',
  additionalSpan: '',
  isVisible: true
}, {
  title: 'Not Returned',
  callbackfunction: 'NotReturned',
  href: '',
  icon: 'fa fa-undo action-icon text-danger',
  isVisible: true,
  additionalSpan: ''
}, {
  title: 'Request For Return',
  callbackfunction: 'RequestForReturn',
  href: 'javascript:void(0)',
  icon: 'fa fa-user action-icon text-primary',
  isVisible: true,
  additionalSpan: ''
}, {
  title: 'Request Already Sent',
  callbackfunction: 'RequestAlreadySent',
  href: 'javascript:void(0)',
  icon: 'fa fa-user action-icon text-success',
  isVisible: true,
  additionalSpan: ''
}, {
  title: 'Comment',
  callbackfunction: 'Comment',
  href: 'javascript:void(0)',
  icon: 'fa fa-comment action-icon',
  isVisible: true,
  additionalSpan: ''
}];
function bindleftCommonSearchdropdown(instance, modulename, filtername) {
  var vm = instance;
  var url = `moduleName=${modulename}&department_ids=`;
  DataService["a" /* default */].GetCompanyUsers(url).then(response => {
    var json = response.data;
    if (json != null) {
      json.forEach(function (item, index) {
        let obj = {
          name: item.USERNAME,
          value: `${item.USER_ID}`
        };
        vm.leftSearchFields[1].listOptions.push(obj);
      });
      return vm.LeadStatusList;
    }
  });
}
/* harmony default export */ var AssignmentSchema = ({
  buttons,
  leftsearchSchema,
  listActions,
  bindleftCommonSearchdropdown
});
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/ReturnProductPopup.vue?vue&type=template&id=54834be5&
var ReturnProductPopupvue_type_template_id_54834be5_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t('Return')) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseReurnProductPopup($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-times",
    attrs: {
      "aria-hidden": "true"
    }
  })])]), _c('div', {
    staticClass: "modal-body"
  }, [_c('div', {
    staticClass: "listing"
  }, [!_vm.noRecordForTab ? _c('div', {
    staticClass: "table-responsive tableborder",
    staticStyle: {
      "overflow-x": "auto"
    }
  }, [_c('table', {
    staticClass: "table-sorting table table-bordered",
    staticStyle: {
      "width": "1500px !important"
    },
    attrs: {
      "id": "table-openactivities-content"
    }
  }, [_c('thead', {
    staticClass: "thead-bg"
  }, [_c('tr', [_c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('ProductName')))])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('UniqueName')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('LocationName')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('IssuedTo')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('IssuedBy')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('AssignedFrom')))])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('AssignedTill')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('NumberofProducts')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('Quantity')) + " ")])])])]), _c('tbody', [_vm._l(_vm.AssignmentData, function (item, index) {
    return _c('tr', {
      key: index
    }, [_c('td', [_vm._v(_vm._s(item.AssetName))]), _c('td', [_vm._v(_vm._s(item.UniqueName))]), _c('td', [_vm._v(_vm._s(item.LocationName))]), _c('td', [_vm._v(_vm._s(item.IssuedToName))]), _c('td', [_vm._v(_vm._s(item.IssuedByName))]), _c('td', [_vm._v(_vm._s(item.AssignedFrom))]), _c('td', [_vm._v(_vm._s(item.AssignedTill))]), _c('td', [_c('span', {
      staticClass: "text-dark",
      attrs: {
        "title": item.NumberOfItemsToAssign
      }
    }, [_c('em', {
      staticClass: "fa fa-list",
      attrs: {
        "aria-hidden": "true"
      }
    }), _c('span', {
      staticClass: "noti-circle noti-blue"
    }, [_vm._v(_vm._s(item.NumberOfItemsToAssign))])])]), _c('td', [Boolean(item.HasUniqueNames) ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: item.quantity,
        expression: "item.quantity"
      }],
      staticClass: "form-control",
      attrs: {
        "type": "decimal"
      },
      domProps: {
        "value": item.quantity
      },
      on: {
        "input": [function ($event) {
          if ($event.target.composing) return;
          _vm.$set(item, "quantity", $event.target.value);
        }, function ($event) {
          return _vm.checkQuantity(item);
        }],
        "keypress": function ($event) {
          return _vm.preventMinusSign($event);
        }
      }
    }) : _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: item.quantity,
        expression: "item.quantity"
      }],
      staticClass: "form-control",
      attrs: {
        "type": "decimal"
      },
      domProps: {
        "value": item.quantity
      },
      on: {
        "input": [function ($event) {
          if ($event.target.composing) return;
          _vm.$set(item, "quantity", $event.target.value);
        }, function ($event) {
          return _vm.checkQuantity(item);
        }],
        "keypress": function ($event) {
          return _vm.preventMinusSign($event);
        }
      }
    })])]);
  }), _vm.noRecordForTab ? _c('div', {
    staticClass: "text-center text-danger p-4 border no-record"
  }, [_vm._v(" " + _vm._s(_vm.$t('NoRecordfound')))]) : _vm._e()], 2)])]) : _vm._e()])]), _c('div', {
    staticClass: "form-content mt-2 p-3",
    staticStyle: {
      "width": "1200px !important"
    },
    attrs: {
      "id": "dvReturnStatus"
    }
  }, [_c('Form', {
    ref: "ReturnForm"
  }, [_c('div', {
    staticClass: "collapse show py-3"
  }, [_c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('span', [_vm._v(_vm._s(_vm.$t('Title:')))]), _c('input', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.txtTitle,
      expression: "txtTitle"
    }],
    staticClass: "form-control",
    attrs: {
      "type": "text",
      "name": "txtTitle",
      "maxlength": "150"
    },
    domProps: {
      "value": _vm.txtTitle
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.txtTitle = $event.target.value;
      }
    }
  })])]), _c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('span', [_vm._v(" " + _vm._s(_vm.$t('Comment')))]), _c('textarea', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.txtComment,
      expression: "txtComment"
    }],
    staticClass: "form-control",
    attrs: {
      "name": "txtComment",
      "maxlength": "400"
    },
    domProps: {
      "value": _vm.txtComment
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.txtComment = $event.target.value;
      }
    }
  })])]), _c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"
  }, [_c('div', {
    staticClass: "row flex-row-reverse"
  }, [_c('div', {
    staticClass: "col-lg-6 text-right"
  }, [_c('a', {
    staticClass: "btn btn-success formbtn text-white mr-1",
    attrs: {
      "href": "javascript:;",
      "title": _vm.$t('Save')
    },
    on: {
      "click": function ($event) {
        return _vm.SubmitData();
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-save pr-2"
  }), _c('span', [_vm._v(_vm._s(_vm.$t('Save')))])]), _c('a', {
    staticClass: "btn btn-danger formbtn text-white",
    attrs: {
      "href": "javascript:;",
      "title": _vm.$t('Cancel')
    },
    on: {
      "click": function ($event) {
        return _vm.onCancel();
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-close pr-2"
  }), _c('span', [_vm._v(_vm._s(_vm.$t('Cancel')))])])])])])])])], 1)])])])], 1);
};
var ReturnProductPopupvue_type_template_id_54834be5_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/Modal/ReturnProductPopup.vue?vue&type=template&id=54834be5&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/ReturnProductPopup.vue?vue&type=script&lang=js&

/* harmony default export */ var ReturnProductPopupvue_type_script_lang_js_ = ({
  props: {
    assDetailIDs: {
      type: String,
      required: true
    }
  },
  data() {
    return {
      noRecordForTab: false,
      isLoading: false,
      AssignmentData: [],
      txtTitle: '',
      txtComment: '',
      selectedItems: '',
      isQuantityValid: true
    };
  },
  created: function () {
    this.GetAssignmentDetailByID();
  },
  methods: {
    preventMinusSign(event) {
      if (event.key === '-' || event.key === '.' || event.key === '+') {
        event.preventDefault();
      }
    },
    CloseReurnProductPopup: function () {
      this.$parent.CloseReurnProductPopup();
    },
    onCancel: function () {
      this.$parent.CloseReurnProductPopup();
    },
    async GetAssignmentDetailByID() {
      debugger;
      var url = `assDetailIDs=${this.assDetailIDs}`;
      await DataService["a" /* default */].GetAssignmentDetailByID(url).then(response => {
        if (response.data != null) {
          this.AssignmentData = response.data;
          this.AssignmentData.forEach(ele => {
            ele.quantity = ele.NumberOfItemsToAssign;
          });
          this.noRecordForTab = false;
        } else {
          this.noRecordForTab = true;
        }
      });
    },
    SubmitData() {
      var vm = this;
      var detail = "",
        realtedinfoIDs = "",
        status = true,
        qty = '';
      vm.$refs.ReturnForm.validate().then(result => {
        if (result) {
          vm.AssignmentData.forEach(ele => {
            vm.checkQuantity(ele);
            vm.qty = ele.quantity;
            vm.assDetailID = ele.AssignmentDetailId;
            vm.userid = ele.IssuedToId;
            vm.RelatedInfoID = ele.RelatedInfoID;
            vm.NumberOfItemsToAssign = ele.NumberOfItemsToAssign;
            vm.UniqueName = ele.UniqueName;
            if (detail != "") detail += "|";
            detail += vm.assDetailID + "," + vm.qty + "," + vm.userid;
            if (realtedinfoIDs != "") realtedinfoIDs += "|";
            realtedinfoIDs += vm.assDetailID + "," + vm.RelatedInfoID + "," + qty + "," + vm.UniqueName;
          });
          if (detail == "") {
            vm.ShowAlert(vm.$t("Minimum One Product should be selected."), "warning", vm.$t('Alert'));
            // hideLoader();
            return false;
          }
          if (status == false || !vm.isQuantityValid) {
            return false;
          }
          var data = {
            itemdetails: detail,
            title: vm.txtTitle,
            comment: vm.txtComment,
            relatedInfoIDs: realtedinfoIDs
          };
          var jsonObj = JSON.stringify(data);
          DataService["a" /* default */].BulkReturnItem(jsonObj).then(response => {
            if (response.data != null) {
              if (response.data.result == true) {
                if (response.data.msg[0].MessageCode == 'Success') {
                  vm.ShowAlert(vm.$t("Item(s) are returned successfully."), "success", vm.$t('Alert'));
                } else {
                  vm.ShowAlert(vm.$t(response.data.msg[0].MessageCode), "success", vm.$t('Alert'));
                }
                vm.CloseReurnProductPopup();
              }
            }
          });
        }
      });
    },
    // }
    checkQuantity(item) {
      var vm = this;
      if (item.quantity != '') {
        vm.selectedItems = vm.AssignmentData.filter(ele => ele.AssetAssignmentId === item.AssetAssignmentId);
        if (item.NumberOfItemsToAssign !== 0 && item.NumberOfItemsToAssign !== null && item.NumberOfItemsToAssign !== '' && item.NumberOfItemsToAssign < parseInt(item.quantity)) {
          vm.ShowAlert(vm.$t('Please enter a quantity less than or equal to Number Of Products.'), "warning", true, vm.$t("Alert"));
          vm.isQuantityValid = false;
        } else {
          vm.isQuantityValid = true;
        }
      }
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/ReturnProductPopup.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_ReturnProductPopupvue_type_script_lang_js_ = (ReturnProductPopupvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/Modal/ReturnProductPopup.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  Modal_ReturnProductPopupvue_type_script_lang_js_,
  ReturnProductPopupvue_type_template_id_54834be5_render,
  ReturnProductPopupvue_type_template_id_54834be5_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var ReturnProductPopup = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/CommentPopUp.vue?vue&type=template&id=06833c34&
var CommentPopUpvue_type_template_id_06833c34_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t("Comment")) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseCommentPopup($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-times",
    attrs: {
      "aria-hidden": "true"
    }
  })])]), _c('div', {
    staticClass: "modal-body"
  }, [_c('div', {
    staticClass: "popupscroller modal-body",
    staticStyle: {
      "height": "auto",
      "min-height": "0px",
      "max-height": "none"
    }
  }, [_c('div', {
    staticClass: "form-content"
  }, [_c('div', {
    staticClass: "collapse show py-0"
  }, [_c('div', {
    staticClass: "card-body comments"
  }, [_c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left p-0"
  }, [_c('div', {
    staticClass: "panel panel-white post panel-shadow"
  }, [_c('div', {
    staticClass: "post-heading"
  }, [_vm._m(0), _c('div', {
    staticStyle: {
      "padding": "10px"
    }
  }, [_c('div', {
    staticClass: "title h6"
  }, [_c('b', [_vm._v(_vm._s(_vm.commentData.TITLE))])]), _c('span', {
    staticClass: "text-muted time"
  }, [_c('i', [_c('b', [_vm._v(_vm._s(_vm.commentData.USERNAME))]), _vm._v(", " + _vm._s(_vm.$t('Postedon')) + " "), _c('span', {
    staticClass: "text-danger"
  }, [_vm._v(_vm._s(_vm.formatTimeToCustomFormat(_vm.commentData.RETURN_DATE)))])])]), _vm._m(1)])])])])])])])])])])])])], 1);
};
var CommentPopUpvue_type_template_id_06833c34_staticRenderFns = [function () {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "pull-left image"
  }, [_c('img', {
    staticClass: "img-circle avatar pr-5",
    attrs: {
      "src": "/Content/images/DefaultImages/avatar-icon.jpg",
      "alt": "Image"
    }
  })]);
}, function () {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "post-description",
    staticStyle: {
      "width": "85%"
    }
  }, [_c('p', {
    attrs: {
      "title": ""
    }
  }, [_c('br')])]);
}];

// CONCATENATED MODULE: ./src/components/Modal/CommentPopUp.vue?vue&type=template&id=06833c34&

// EXTERNAL MODULE: ./node_modules/luxon/build/cjs-browser/luxon.js
var luxon = __webpack_require__("1315");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/CommentPopUp.vue?vue&type=script&lang=js&


/* harmony default export */ var CommentPopUpvue_type_script_lang_js_ = ({
  props: {
    assDetailIDs: {
      type: Number,
      required: true
    }
  },
  data() {
    return {
      commentData: []
    };
  },
  created() {
    this.GetCommentUserDetail();
  },
  methods: {
    CloseCommentPopup: function (item) {
      this.$emit("CloseCommentPopup", item);
    },
    async GetCommentUserDetail() {
      const url = `assignmentId=${this.assDetailIDs}`;
      await DataService["a" /* default */].GetAssetReturnComment(url).then(response => {
        if (response.data != null) {
          debugger;
          this.commentData = response.data.DATA[0];
          console.log("comment", this.commentData);
        } else {
          this.commentData = "";
        }
      });
    },
    formatTimeToCustomFormat(inputTime) {
      debugger;
      if (inputTime != null && inputTime != '') {
        const inputLuxonDateTime = luxon["DateTime"].fromISO(inputTime, {
          zone: 'utc'
        }); // Assume the input time is in UTC
        const targetTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const outputLuxonDateTime = inputLuxonDateTime.setZone(targetTimeZone);
        const formattedDateTime = outputLuxonDateTime.toFormat("MM/dd/yyyy h:mm a");
        return formattedDateTime;
      } else {
        return "NA";
      }
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/CommentPopUp.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_CommentPopUpvue_type_script_lang_js_ = (CommentPopUpvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/Modal/CommentPopUp.vue





/* normalize component */

var CommentPopUp_component = Object(componentNormalizer["a" /* default */])(
  Modal_CommentPopUpvue_type_script_lang_js_,
  CommentPopUpvue_type_template_id_06833c34_render,
  CommentPopUpvue_type_template_id_06833c34_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var CommentPopUp = (CommentPopUp_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/ReturnForRequest.vue?vue&type=template&id=1e98fed0&
var ReturnForRequestvue_type_template_id_1e98fed0_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t('Request For Return')) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "type": "button",
      "data-original-title": "Close"
    },
    on: {
      "click": _vm.CloseRequestReturnPopup
    }
  }, [_c('em', {
    staticClass: "fa fa-times"
  })])]), _c('div', {
    staticClass: "border p-3"
  }, [_c('dynamic-form', {
    attrs: {
      "lang": "en",
      "buttons": _vm.buttons,
      "schema": _vm.FormSchema
    },
    on: {
      "OnSubmit": _vm.onSubmit
    }
  })], 1)])])])], 1);
};
var ReturnForRequestvue_type_template_id_1e98fed0_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/Modal/ReturnForRequest.vue?vue&type=template&id=1e98fed0&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/ReturnForRequest.vue?vue&type=script&lang=js&

/* harmony default export */ var ReturnForRequestvue_type_script_lang_js_ = ({
  props: {
    IsRequestForReturnData: {
      type: Object,
      required: true
    }
  },
  data() {
    return {
      IsShowAddNamePopup: false,
      isLoading: false,
      FormSchema: [{
        layoutType: "double",
        Data: [{
          astype: "NumericField",
          label: "Number of Products",
          name: "NumberofProducts",
          // value: 1,
          value: `${this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED > 0 ? this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED : 1}`,
          placeholder: "",
          disabled: this.IsRequestForReturnData.CREATE_UNIQUE_NAME_LIST ? true : false,
          validationRules: {
            "required": true,
            "min_value": 1,
            max: 7
          },
          config: {
            onKeyUp: this.checkQuantity
          }
        }, {
          astype: "DateField",
          label: "Return Until (M/D/YYYY)",
          name: "ReturnUntil",
          value: new Date(),
          placeholder: "",
          validationRules: false,
          config: {
            format: "M/D/YYYY",
            minDate: new Date()
          }
        }]
      }, {
        layoutType: "single",
        Data: [{
          astype: "TextAreaField",
          label: this.$t('Comment'),
          name: "Comment",
          value: "",
          placeholder: "",
          validationRules: {
            "required": false
          },
          config: {
            rows: 5
          }
        }]
      }],
      buttons: [{
        type: "submit",
        class: "btn btn-success",
        text: "<i class='fa fa-save pr-2'></i>Save"
      }, {
        type: "button",
        class: "btn btn-danger",
        text: "<i class='fa fa-close pr-2'></i>Cancel",
        onClick: this.CloseRequestReturnPopup
      }]
    };
  },
  created: function () {
    debugger;
    console.log("r1", this.IsRequestForReturnData);
    this.FetchRequestForReturn();
  },
  methods: {
    FetchRequestForReturn: function () {
      this.FormSchema[0].Data[0].value = this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED;
      this.FormSchema[0].Data[1].value = this.IsRequestForReturnData.ASSIGNED_TILL;
    },
    GetPrivilege: function (params) {
      debugger;
      // DataService.CheckPrivilege(params).then(function (response) {
      //         if (response.data) {
      //             debugger
      //         }
      //     });
      return true;
    },
    checkQuantity: function (item) {
      debugger;
      debugger;
      var vm = this;
      let TotalQuantity = this.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED;
      let currentValue = item.currentTarget.value.replace(/[^0-9]/g, "");
      let empty = '';
      if (parseInt(currentValue) > TotalQuantity) {
        vm.ShowAlert(vm.$t(`Please enter a value less than or equal to ${TotalQuantity}`), "warning", vm.$t("Alert"));
        return this.FormSchema[0].Data[0].value = empty;
      } else {
        this.FormSchema[0].Data[0].value = currentValue;
        return;
      }
    },
    CloseRequestReturnPopup: function () {
      this.$emit('CloseReturnPopup');
    },
    RequstForReturn: function (ths) {
      this.IsRequestForReturnData = ths;
      this.IsRequstForReturn = true;
    },
    onSubmit: function (formfields, val) {
      var vm = this;
      vm.isLoading = true;
      if (vm.GetPrivilege('controller=AssetAssignment&action=AssetRequestForReturn')) {
        debugger;
        let obj = {
          Comment: formfields.Comment,
          RelatedInfoID: vm.IsRequestForReturnData.RELATED_INFO_ID,
          NumberOfItems: vm.IsRequestForReturnData.NUMBER_OF_ITEMS_ASSIGNED,
          ReturnUntil: formfields.ReturnUntil,
          Status_Code: 1001,
          UserID: vm.IsRequestForReturnData.ISSUED_TO_ID,
          AssetAssignmentDetailId: vm.IsRequestForReturnData.ASSIGNMENT_DETAIL_ID,
          UniqueName: vm.IsRequestForReturnData.UNIQUE_NAME,
          Status_Name: "Manager"
        };
        var JsonObj = JSON.stringify(obj);
        DataService["a" /* default */].SaveRequestForReturn(JsonObj).then(response => {
          if (response.data.result == 1) {
            vm.ShowAlert(vm.$t("Request for Return saved successfully."), "success", vm.$t('Alert'));
            vm.CloseRequestReturnPopup();
            vm.isLoading = false;
            vm.$parent.FetchData();
          } else {
            vm.isLoading = false;
            vm.ShowAlert(vm.$t("Error while returning item."), "warning", vm.$t('Alert'));
          }
        });
        vm.isLoading = false;
      }
      vm.isLoading = false;
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/ReturnForRequest.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_ReturnForRequestvue_type_script_lang_js_ = (ReturnForRequestvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/Modal/ReturnForRequest.vue





/* normalize component */

var ReturnForRequest_component = Object(componentNormalizer["a" /* default */])(
  Modal_ReturnForRequestvue_type_script_lang_js_,
  ReturnForRequestvue_type_template_id_1e98fed0_render,
  ReturnForRequestvue_type_template_id_1e98fed0_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var ReturnForRequest = (ReturnForRequest_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/SharePopUp.vue?vue&type=template&id=f766a05a&scoped=true&
var SharePopUpvue_type_template_id_f766a05a_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t("Product Sharing")) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseSharePopup($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-times",
    attrs: {
      "aria-hidden": "true"
    }
  })])]), _c('div', {
    staticClass: "modal-body"
  }, [_c('div', {
    staticClass: "row"
  }, [_c('div', {
    staticClass: "col-sm-12 col-lg-6"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('label', [_vm._v(_vm._s(_vm.$t("IssuedTo")) + " : "), _c('span', {
    staticClass: "detailtxt"
  }, [_vm._v(_vm._s(_vm.assignmentIdDetail.ISSUED_TO))])])])]), _c('div', {
    staticClass: "col-sm-12 col-lg-6"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('label', [_vm._v(_vm._s(_vm.$t("Product")) + " : "), _c('span', {
    staticClass: "detailtxt"
  }, [_vm._v(_vm._s(_vm.assignmentIdDetail.NAME))])])])]), _c('div', {
    staticClass: "col-sm-12 col-lg-6"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('label', [_vm._v(_vm._s(_vm.$t("UniqueName")) + " : "), _c('span', {
    staticClass: "detailtxt"
  }, [_vm._v(_vm._s(_vm.assignmentIdDetail.UNIQUE_NAME))])])])]), _c('div', {
    staticClass: "col-sm-12 col-lg-6"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('label', [_vm._v(_vm._s(_vm.$t("AssignedFrom")) + " : "), _c('span', {
    staticClass: "detailtxt"
  }, [_vm._v(_vm._s(_vm.$options.filters.formatDateTime(_vm.assignmentIdDetail.ASSIGNED_FROM)))])])])]), _c('div', {
    staticClass: "col-sm-12 col-lg-6"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('label', [_vm._v(_vm._s(_vm.$t("AssignedTill")) + " : "), _c('span', {
    staticClass: "detailtxt"
  }, [_vm._v(_vm._s(_vm.$options.filters.formatDateTime(_vm.assignmentIdDetail.ASSIGNED_TILL)))])])])])]), _c('Form', {
    ref: "addEmployeform",
    scopedSlots: _vm._u([{
      key: "default",
      fn: function ({
        valid,
        errors
      }) {
        return [_c('div', {
          staticClass: "row"
        }, [_c('div', {
          staticClass: "col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"
        }, [_c('div', {
          staticClass: "form-group"
        }, [_c('label', [_vm._v(_vm._s(_vm.$t('Location')) + ":"), _c('span', {
          staticClass: "text-danger"
        }, [_vm._v("*")])]), _c('Field', {
          staticClass: "w-100",
          attrs: {
            "name": "Location",
            "rules": {
              'required': true
            }
          },
          scopedSlots: _vm._u([{
            key: "default",
            fn: function ({
              errors
            }) {
              return [_c('tree-view', {
                class: {
                  'form-control': true,
                  'is-invalid': errors[0]
                },
                attrs: {
                  "options": _vm.options,
                  "placeholder": "Select Location",
                  "show-count": true
                },
                model: {
                  value: _vm.TreeValue,
                  callback: function ($$v) {
                    _vm.TreeValue = $$v;
                  },
                  expression: "TreeValue"
                }
              }), errors[0] ? _c('span', {
                staticClass: "invalid-feedback d-block",
                attrs: {
                  "name": "Location"
                }
              }, [_vm._v(_vm._s(errors[0]))]) : _vm._e()];
            }
          }], null, true)
        })], 1)]), _c('div', {
          staticClass: "col-sm-12 col-md-6 col-lg-4 col-xl-3 float-left"
        }, [_c('div', {
          staticClass: "form-group",
          staticStyle: {
            "position": "relative"
          }
        }, [_c('label', [_vm._v(" " + _vm._s(_vm.$t('EmployeeCode')) + ":"), _c('span', {
          staticClass: "text-danger"
        }, [_vm._v("*")])]), _c('Field', {
          attrs: {
            "name": "name"
          }
        }, [_c('input', {
          directives: [{
            name: "model",
            rawName: "v-model",
            value: _vm.txtEmployeNameCode,
            expression: "txtEmployeNameCode"
          }],
          class: {
            'form-control': true
          },
          attrs: {
            "type": "text"
          },
          domProps: {
            "value": _vm.txtEmployeNameCode
          },
          on: {
            "keyup": function ($event) {
              return _vm.getEmploye();
            },
            "input": function ($event) {
              if ($event.target.composing) return;
              _vm.txtEmployeNameCode = $event.target.value;
            }
          }
        })]), _c('div', {
          staticClass: "unique_dynamicdatalist p-sharing-name"
        }, _vm._l(_vm.employe, function (item, index) {
          return _c('ul', {
            key: index,
            on: {
              "click": function ($event) {
                return _vm.setUserName(item.USERNAME, item.USER_ID);
              }
            }
          }, [_vm.showProductDropdown ? _c('li', {
            staticStyle: {
              "text-transform": "capitalize"
            },
            attrs: {
              "value": item.USER_ID
            }
          }, [_vm._v(_vm._s(item.USERNAME))]) : _vm._e()]);
        }), 0)], 1)]), _c('div', {
          staticClass: "col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 float-left"
        }, [_c('div', {
          staticClass: "search-btm-btn background-0 text-left py-4"
        }, [_c('a', {
          staticClass: "btn btn-success float-left",
          attrs: {
            "href": "javascript:;"
          },
          on: {
            "click": function ($event) {
              return _vm.addemployeInTable(valid, errors);
            }
          }
        }, [_c('i', {
          staticClass: "fa fa-plus mr-2"
        }), _vm._v(_vm._s(_vm.$t('Add')))])])])])];
      }
    }])
  }), _c('div', {
    staticClass: "listing mt-2 mb-2"
  }, [_c('div', {
    staticClass: "table-responsive"
  }, [_c('table', {
    staticClass: "table table-bordered nowrap mt-0",
    attrs: {
      "id": "tblEmployeeList"
    }
  }, [_c('thead', {
    staticClass: "thead-bg"
  }, [_c('tr', [_c('th', {
    staticClass: "ui-resizable",
    staticStyle: {
      "width": "228px",
      "min-width": "228px",
      "max-width": "228px"
    }
  }, [_vm._v(" " + _vm._s(_vm.$t('EmployeeCode')) + " "), _c('div', {
    staticClass: "sizer"
  }), _c('div', {
    staticClass: "ui-resizable-handle ui-resizable-e",
    staticStyle: {
      "z-index": "90"
    }
  })]), _c('th', {
    staticClass: "text-center ui-resizable",
    staticStyle: {
      "width": "85px",
      "min-width": "85px",
      "max-width": "85px"
    }
  }, [_vm._v(" " + _vm._s(_vm.$t("Action")) + " "), _c('div', {
    staticClass: "sizer"
  }), _c('div', {
    staticClass: "ui-resizable-handle ui-resizable-e",
    staticStyle: {
      "z-index": "90"
    }
  })])])]), _c('tbody', [_vm.employeNameCode == null || _vm.employeNameCode == '' ? _c('tr', [_c('td', {
    staticClass: "text-center text-danger p-4 border no-record"
  }, [_vm._v(" " + _vm._s(_vm.$t('NoRecordfound')))])]) : _c('tr', [_c('td', [_vm._v(_vm._s(_vm.employeNameCode))]), _c('td', {
    staticClass: "text-center"
  }, [_c('a', {
    attrs: {
      "href": "javascript:;",
      "title": "Delete"
    },
    on: {
      "click": function ($event) {
        return _vm.RemoveRow(_vm.employeNameCode);
      }
    }
  }, [_c('i', {
    staticClass: "recyclebin fa fa-trash action-icon text-danger inactive"
  })])])])])])])]), _c('div', {
    staticClass: "col-lg-12 float-left p-0"
  }, [_c('div', {
    staticClass: "row flex-row-reverse"
  }, [_c('div', {
    staticClass: "col-lg-12 text-right"
  }, [_c('a', {
    staticClass: "btn btn-success",
    on: {
      "click": function ($event) {
        return _vm.saveEmploye();
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-save pr-2"
  }), _vm._v(_vm._s(_vm.$t('Save')))]), _vm._v(" "), _c('a', {
    staticClass: "btn btn-danger",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseSharePopup($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-close mr-2"
  }), _vm._v(_vm._s(_vm.$t('Cancel')))])])])])], 1)])])])], 1);
};
var SharePopUpvue_type_template_id_f766a05a_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/Modal/SharePopUp.vue?vue&type=template&id=f766a05a&scoped=true&

// EXTERNAL MODULE: ./node_modules/@riophae/vue-treeselect/dist/vue-treeselect.cjs.js
var vue_treeselect_cjs = __webpack_require__("ca17");
var vue_treeselect_cjs_default = /*#__PURE__*/__webpack_require__.n(vue_treeselect_cjs);

// EXTERNAL MODULE: ./node_modules/@riophae/vue-treeselect/dist/vue-treeselect.css
var vue_treeselect = __webpack_require__("542c");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/SharePopUp.vue?vue&type=script&lang=js&




/* harmony default export */ var SharePopUpvue_type_script_lang_js_ = ({
  components: {
    'tree-view': vue_treeselect_cjs_default.a
  },
  props: {
    assignmentIdDetail: {
      type: Object,
      required: true
    }
  },
  data() {
    return {
      LocationData: [],
      txtEmployeNameCode: '',
      employeNameCode: '',
      noRecordForTab: false,
      employe: '',
      isValueShow: '',
      showProductDropdown: false,
      UserId: '',
      msg: {},
      selectedValue: '',
      TreeValue: null,
      options: []
    };
  },
  created() {
    this.GetLocationByuserId();
  },
  methods: {
    CloseSharePopup: function (item) {
      this.$emit("CloseSharePopup", item);
    },
    async GetLocationByuserId() {
      var vm = this;
      vm.FindalLocationArray = [];
      await DataService["a" /* default */].GetLocationByuserId().then(response => {
        vm.LocationData = response.data.data;
        vm.LocationData.forEach(value => {
          var CheckIfExist = vm.FindalLocationArray.filter(function (el) {
            return el.COMPANY_LOCATION_ID == value.COMPANY_LOCATION_ID;
          });
          if (CheckIfExist.length == 0) {
            if (value.PARENT_LOCATION_ID == null) {
              let locationId = value.COMPANY_LOCATION_ID;
              let rslt = vm.getChildLocation(locationId, value, response.data.data);
              vm.FindalLocationArray.push(rslt);
            }
          }
        });
        vm.options = vm.FindalLocationArray;
      });
    },
    getChildLocation: function (locationId, currentItem, data) {
      let ths = this;
      let treeArray = {};
      treeArray = {
        id: currentItem.COMPANY_LOCATION_ID,
        label: currentItem.LOCATION_NAME
      };
      let retrunArray = treeArray;
      var childArray = data.filter(function (el) {
        return el.PARENT_LOCATION_ID == locationId;
      });
      let finalChildArray = [];
      childArray.forEach(value => {
        let ChildfolderId = value.COMPANY_LOCATION_ID;
        var CheckIfExist1 = finalChildArray.filter(function (el) {
          return el.COMPANY_LOCATION_ID == value.COMPANY_LOCATION_ID;
        });
        if (CheckIfExist1.length == 0) {
          var CheckIfExist = data.filter(function (el) {
            return el.PARENT_LOCATION_ID == ChildfolderId;
          });
          if (CheckIfExist != null && CheckIfExist.length > 0) {
            let rslt = ths.getChildLocation(ChildfolderId, value, data);
            finalChildArray.push(rslt);
          } else {
            treeArray = {
              id: `${value.COMPANY_LOCATION_ID}`,
              label: `${value.LOCATION_NAME}`
            };
            finalChildArray.push(treeArray);
          }
        }
      });
      retrunArray.children = finalChildArray;
      return retrunArray;
    },
    setUserName: function (ths, id) {
      debugger;
      this.txtEmployeNameCode = ths;
      this.selectedValue = this.txtEmployeNameCode;
      this.UserId = id;
      this.showProductDropdown = false;
    },
    addemployeInTable: function (event) {
      debugger;
      var vm = this;
      vm.$refs.addEmployeform.validate().then(result => {
        if (vm.TreeValue == "") {
          return;
        }
        if (vm.txtEmployeNameCode == "") {
          return vm.ShowAlert(vm.$t("Please Select an Employee"), "failure", vm.$t("Alert"));
        }
        if (vm.txtEmployeNameCode == vm.selectedValue) {
          vm.employeNameCode = vm.txtEmployeNameCode;
          this.txtEmployeNameCode = null;
        } else {
          vm.txtEmployeNameCode = null;
          vm.employeNameCode = null;
          vm.ShowAlert(vm.$t("Please Select an Employee"), "failure", vm.$t("Alert"));
        }
      });
    },
    RemoveRow: function () {
      this.employeNameCode = null;
    },
    getEmploye() {
      var vm = this;
      vm.$refs.addEmployeform.validate().then(result => {
        const url = `name=${this.txtEmployeNameCode}&locationId=${this.TreeValue}&modulename=assetassignment&relatedInfoId=${this.assignmentIdDetail.RELATED_INFO_ID}`;
        DataService["a" /* default */].GetEmployeeAutoComplete(url).then(response => {
          if (response.data != null) {
            this.employe = response.data;
            this.showProductDropdown = true;
          } else {
            this.employe = "";
          }
        });
      });
    },
    async saveEmploye() {
      var vm = this;
      if (this.UserId == "" || this.employeNameCode == null) {
        return vm.ShowAlert(vm.$t("No Employee selected, please select an Employee to share this Product."), "failure", vm.$t("Alert"));
      } else {
        const url = `relatedInfoId=${this.assignmentIdDetail.RELATED_INFO_ID}&IssuedToId=${this.assignmentIdDetail.ISSUED_TO_ID}&employeeIds=${this.UserId}`;
        await DataService["a" /* default */].ItemSharing(url).then(response => {
          console.log("response", response);
          if (response.data != null) {
            this.msg = response.data[0];
            if (this.msg.STATUS == 100) {
              this.CloseSharePopup();
              vm.ShowAlert(vm.$t("Item shared successfully."), `${this.msg.MESSAGE}`, vm.$t("Alert"));
            } else {
              this.CloseSharePopup();
              vm.ShowAlert(vm.$t("Error occur while Item Shared "), `${this.msg.MESSAGE}`, vm.$t("Alert"));
            }
          }
        });
      }
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/SharePopUp.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_SharePopUpvue_type_script_lang_js_ = (SharePopUpvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/components/Modal/SharePopUp.vue?vue&type=style&index=0&id=f766a05a&prod&scoped=true&lang=css&
var SharePopUpvue_type_style_index_0_id_f766a05a_prod_scoped_true_lang_css_ = __webpack_require__("f5d7");

// CONCATENATED MODULE: ./src/components/Modal/SharePopUp.vue






/* normalize component */

var SharePopUp_component = Object(componentNormalizer["a" /* default */])(
  Modal_SharePopUpvue_type_script_lang_js_,
  SharePopUpvue_type_template_id_f766a05a_scoped_true_render,
  SharePopUpvue_type_template_id_f766a05a_scoped_true_staticRenderFns,
  false,
  null,
  "f766a05a",
  null
  
)

/* harmony default export */ var SharePopUp = (SharePopUp_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/NotReturnedPopup.vue?vue&type=template&id=34632f5f&
var NotReturnedPopupvue_type_template_id_34632f5f_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t('Return')) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseNotReurnedProductPopup($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-times",
    attrs: {
      "aria-hidden": "true"
    }
  })])]), _c('div', {
    staticClass: "border p-3"
  }, [_c('dynamic-form', {
    attrs: {
      "lang": "en",
      "buttons": _vm.buttons,
      "schema": _vm.FormSchema
    },
    on: {
      "OnSubmit": _vm.onSubmit
    }
  }), _c('span', {
    staticClass: "mandatory"
  }, [_vm._v(" " + _vm._s(_vm.$t('Required')))])], 1)])])])], 1);
};
var NotReturnedPopupvue_type_template_id_34632f5f_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/Modal/NotReturnedPopup.vue?vue&type=template&id=34632f5f&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/NotReturnedPopup.vue?vue&type=script&lang=js&

/* harmony default export */ var NotReturnedPopupvue_type_script_lang_js_ = ({
  props: {
    selectedUserDetail: {
      type: Array,
      required: true
    }
  },
  data() {
    return {
      result: null,
      noRecordForTab: false,
      isLoading: false,
      AssignmentData: [],
      txtTitle: '',
      txtComment: '',
      UserId: null,
      FormSchema: [{
        layoutType: "double",
        Data: [{
          astype: "TextField",
          label: this.$t('Title'),
          name: "Title",
          value: "",
          placeholder: "",
          validationRules: {
            "required": true
          }
        }, {
          astype: "NumericField",
          label: this.$t('Number of Product'),
          name: "NumberofProduct",
          //value: `${this.selectedUserDetail.NUMBER_OF_ITEMS_ASSIGNED ? this.selectedUserDetail.NUMBER_OF_ITEMS_ASSIGNED : null}`,
          placeholder: "",
          validationRules: {
            "required": true,
            "min_value": 1,
            max: 7
          },
          disabled: this.selectedUserDetail.CREATE_UNIQUE_NAME_LIST ? true : false,
          config: {
            onKeyUp: this.checkQuantity
          }
        }]
      }, {
        layoutType: "single",
        Data: [{
          astype: "TextAreaField",
          label: this.$t('Comment'),
          name: "Comment",
          value: "",
          placeholder: ""
        }]
      }],
      buttons: [{
        type: "submit",
        class: "btn btn-success",
        text: "<i class='fa fa-save pr-2'></i>" + this.$t('Save')
      }, {
        type: "button",
        class: "btn btn-danger",
        text: this.$t('Skip') + "&nbsp;<i class='fa fa-fast-forward pr-2'></i>",
        onClick: this.onSkip
      }]
    };
  },
  created: function () {
    this.UserId = this.GetUserInfo.ID;
    this.fetchNotReturnData();
  },
  methods: {
    fetchNotReturnData() {
      //debugger;
      this.FormSchema[0].Data[1].value = this.selectedUserDetail.NUMBER_OF_ITEMS_ASSIGNED;
    },
    checkQuantity: function (item) {
      var vm = this;
      let TotalQuantity = this.selectedUserDetail.NUMBER_OF_ITEMS_ASSIGNED;
      let currentValue = item.currentTarget.value.replace(/[^0-9]/g, "");
      let empty = '';
      if (parseInt(currentValue) > TotalQuantity) {
        vm.ShowAlert(vm.$t(`Please enter a value less than or equal to ${TotalQuantity}`), "warning", vm.$t("Alert"));
        return this.FormSchema[0].Data[1].value = empty;
      } else {
        this.FormSchema[0].Data[1].value = currentValue;
        return;
      }
    },
    CloseNotReurnedProductPopup: function () {
      this.$emit('CloseNotReurnedProductPopup');
    },
    onSkip: function () {
      this.onSubmit();
      this.CloseNotReurnedProductPopup();
    },
    async onSubmit(formfields) {
      let vm = this;
      const obj = {
        // RequestID: this.selectedUserDetail.REQUEST_ID,
        RequestID: 0,
        AssetAssignmentDetailId: this.selectedUserDetail.ASSIGNMENT_DETAIL_ID,
        NumberOfItems: parseInt(formfields.NumberofProduct),
        UserId: this.selectedUserDetail.ISSUED_TO_ID,
        // RelatedInfoID: this.selectedUserDetail.RELATED_INFO_ID,
        RelatedInfoID: 0,
        Comment: formfields.Comment,
        Title: formfields.Title
      };
      let jsonObject = JSON.stringify(obj);
      await DataService["a" /* default */].UpdateAssetAssignmentStatus(jsonObject).then(response => {
        if (response.data != null) {
          this.result = response.data.result;
          if (this.result == true) {
            this.CloseNotReurnedProductPopup();
            this.$parent.FetchData();
            return vm.ShowAlert(vm.$t('Item has been return Successfully'), "success", vm.$t("Alert"));
          } else if (this.result == false) {
            if (response.data.msg == 'NotReturnedSuccessfully') {
              this.CloseNotReurnedProductPopup();
              this.$parent.FetchData();
              return vm.ShowAlert(vm.$t('Already Returned'), "success", vm.$t("Alert"));
            }
          } else {
            this.CloseNotReurnedProductPopup();
            this.$parent.FetchData();
            vm.ShowAlert(vm.$t('ErrorMessage'), "Failure", vm.$t("Alert"));
          }
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/NotReturnedPopup.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_NotReturnedPopupvue_type_script_lang_js_ = (NotReturnedPopupvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/Modal/NotReturnedPopup.vue





/* normalize component */

var NotReturnedPopup_component = Object(componentNormalizer["a" /* default */])(
  Modal_NotReturnedPopupvue_type_script_lang_js_,
  NotReturnedPopupvue_type_template_id_34632f5f_render,
  NotReturnedPopupvue_type_template_id_34632f5f_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var NotReturnedPopup = (NotReturnedPopup_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/ApproveRejectPopup.vue?vue&type=template&id=12fa79a6&
var ApproveRejectPopupvue_type_template_id_12fa79a6_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('loader', {
    attrs: {
      "is-visible": _vm.isLoading
    }
  }), _c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t('Approve/Reject Request')) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "href": "javascript:;"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseApproveRejectopup($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-times",
    attrs: {
      "aria-hidden": "true"
    }
  })])]), _c('div', {
    staticClass: "modal-body"
  }, [_c('div', {
    staticClass: "listing"
  }, [!_vm.noRecordForTab ? _c('div', {
    staticClass: "table-responsive tableborder",
    staticStyle: {
      "overflow-x": "auto"
    }
  }, [_c('table', {
    staticClass: "table-sorting table table-bordered",
    staticStyle: {
      "width": "1500px !important"
    },
    attrs: {
      "id": "table-openactivities-content"
    }
  }, [_vm._m(0), _c('tbody', [_vm._l(_vm.AssetReplacelistData, function (item, index) {
    return _c('tr', {
      key: item.ASSET_ASSIGNMENT_ID,
      attrs: {
        "index": index
      }
    }, [_c('td', {
      staticClass: "text-center"
    }, [item.StatusId == 1001 && item.Quantity > 0 ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: _vm.suser,
        expression: "suser"
      }],
      attrs: {
        "type": "checkbox",
        "qty": item.Quantity,
        "relatedInfoId": item.RelatedInfoId,
        "AssetAssignmentDetailId": item.AssignmentDetailID,
        "name": _vm.DeleteInputs,
        "requestID": "item.RequestID",
        "userID": item.UserId,
        "uniqueName": item.UniqueName,
        "totalDaysDue": _vm.totalDaysDue
      },
      domProps: {
        "value": item.ASSET_ASSIGNMENT_ID,
        "checked": Array.isArray(_vm.suser) ? _vm._i(_vm.suser, item.ASSET_ASSIGNMENT_ID) > -1 : _vm.suser
      },
      on: {
        "click": function ($event) {
          return _vm.selectSingleUser($event);
        },
        "change": function ($event) {
          var $$a = _vm.suser,
            $$el = $event.target,
            $$c = $$el.checked ? true : false;
          if (Array.isArray($$a)) {
            var $$v = item.ASSET_ASSIGNMENT_ID,
              $$i = _vm._i($$a, $$v);
            if ($$el.checked) {
              $$i < 0 && (_vm.suser = $$a.concat([$$v]));
            } else {
              $$i > -1 && (_vm.suser = $$a.slice(0, $$i).concat($$a.slice($$i + 1)));
            }
          } else {
            _vm.suser = $$c;
          }
        }
      }
    }) : _vm._e(), _c('th', {
      staticClass: "text-center",
      staticStyle: {
        "width": "50px !important"
      },
      attrs: {
        "id": "nonresize"
      }
    }, [_c('input', {
      staticClass: "chkItems",
      attrs: {
        "type": "checkbox"
      },
      domProps: {
        "value": item.ASSET_ASSIGNMENT_ID
      }
    })])]), _c('td', [_vm._v(_vm._s(item.USER_NAME))]), _c('td', [_vm._v(_vm._s(item.NAME))]), _c('td', [_vm._v(_vm._s(item.UNIQUE_NAME))]), _c('td', [_vm._v(_vm._s(item.RETURN_REASON_NAME))]), _c('td', [_vm._v(_vm._s(item.COMMENTS))]), _c('td', [_vm._v(_vm._s(item.APPROVAL_COMMENT))]), item.STATUS_ID == 1001 ? _c('td', {
      staticClass: "text-center single-action"
    }, [_c('em', {
      staticClass: "active-disabled",
      attrs: {
        "statusid": "1001"
      }
    }, [_c('span', {
      staticClass: "btn d-inline-block w-80 text-center text-truncate btn-success"
    }, [_vm._v(_vm._s(item.STATUS_NAME))])])]) : item.STATUS_NAME == 'Approved' ? _c('td', {
      staticClass: "text-center single-action"
    }, [_c('em', {
      staticClass: "active-disabled",
      attrs: {
        "statusid": "1001"
      }
    }, [_c('span', {
      staticClass: "btn d-inline-block w-80 text-center text-truncate btn-success"
    }, [_vm._v(_vm._s(item.STATUS_NAME))])])]) : item.STATUS_ID == 1002 || item.STATUS_ID == 1003 ? _c('td', {
      staticClass: "text-center single-action"
    }, [_c('em', {
      staticClass: "active-disabled",
      attrs: {
        "statusid": "1001"
      }
    }, [_c('span', {
      staticClass: "btn d-inline-block w-80 text-center text-truncate btn-success"
    }, [_vm._v(_vm._s(item.STATUS_NAME))])])]) : _c('td', {
      staticClass: "text-center single-action"
    }, [_c('em', {
      staticClass: "active-disabled",
      attrs: {
        "statusid": "1001"
      }
    }, [_c('span', {
      staticClass: "btn d-inline-block w-80 text-center text-truncate btn-success"
    }, [_vm._v(_vm._s(item.STATUS_NAME))])])]), _c('td', {
      staticClass: "text-center single-action"
    }, [_c('i', {
      staticClass: "fa fa-shopping-basket",
      attrs: {
        "aria-hidden": "true"
      }
    }), _c('span', {
      staticClass: "noti-circle noti-blue",
      attrs: {
        "title": "Quantity"
      }
    }, [_vm._v(_vm._s(item.QTY))])]), _c('td', [_vm._v(_vm._s(item.ITEM_COST))]), _c('td', [_vm._v(_vm._s(item.BOOK_VALUE))]), _c('td', [item.STATUS_ID == 1001 ? _c('span', [_vm._v(_vm._s(item.totalDaysDue))]) : _c('span', [_vm._v(_vm._s(item.GraceOverdueDays))])]), _c('td', [item.StatusId == 1001 && item.QTY > 0 && item.IsPenalty == 1 ? _c('select', [_c('option')]) : _vm._e()]), _c('td', [item.STATUS_ID == 1001 ? _c('span', [_vm._v(_vm._s(_vm.totalDaysDue))]) : _c('span', [_vm._v(_vm._s(item.GRACE_OVERDUE_DAYS))])]), _c('td', [item.STATUS_ID == 1001 && item.NUMBER_OF_ITEMS > 0 && item.IS_PENALTY == 1 ? _c('select', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: _vm.StatusID,
        expression: "StatusID"
      }],
      class: {
        'form-control w-100': true
      },
      attrs: {
        "name": "StatusID"
      },
      on: {
        "click": function ($event) {
          return _vm.GetAssetstatusList();
        },
        "change": function ($event) {
          var $$selectedVal = Array.prototype.filter.call($event.target.options, function (o) {
            return o.selected;
          }).map(function (o) {
            var val = "_value" in o ? o._value : o.value;
            return val;
          });
          _vm.StatusID = $event.target.multiple ? $$selectedVal : $$selectedVal[0];
        }
      }
    }, [_c('option', {
      attrs: {
        "value": ""
      }
    }, [_vm._v("Select")]), _vm._l(_vm.StatusData, function (item, itemIndex) {
      return _c('option', {
        key: itemIndex,
        domProps: {
          "value": item.value
        }
      }, [_vm._v(_vm._s(item.name))]);
    })], 2) : item.STATUS_ID != 1001 ? _c('span', [item.PenaltyStatusType == 0 ? _c('span', [_vm._v("N/A")]) : _c('span', [_vm._v(_vm._s(item.PenaltyStatusType))])]) : _c('span', [_vm._v("N/A")])]), _c('td', [item.STATUS_ID == 1001 && item.QTY > 0 && (item.IsPenalty == 1 || _vm.isoverdue == true) ? _c('input', {
      staticClass: "form-control",
      attrs: {
        "type": "text"
      }
    }) : item.STATUS_ID != 1001 ? [item.PenaltyAmount < 0 ? _c('span', [_vm._v("N/A")]) : _c('span', [_vm._v(_vm._s(item.PenaltyAmount))])] : _c('span', [_vm._v("N/A")])], 2), _c('td', [_vm._v(_vm._s(_vm.$options.filters.formatDateTime(item.ReplaceRequestDate)))])]);
  }), _vm.noRecordForTab ? _c('div', {
    staticClass: "text-center text-danger p-4 border no-record"
  }, [_vm._v(_vm._s(_vm.$t('NoRecordfound')))]) : _vm._e()], 2)])]) : _vm._e()])]), _c('div', {
    staticClass: "form-content mt-2 p-3",
    staticStyle: {
      "width": "1200px !important"
    },
    attrs: {
      "id": "dvReturnStatus"
    }
  }, [_c('Form', [_c('div', {
    staticClass: "collapse show py-3"
  }, [_c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('span', [_vm._v("Status:")]), _c('select', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.txtStatus,
      expression: "txtStatus"
    }],
    staticClass: "form-control",
    attrs: {
      "name": "Status",
      "maxlength": "150"
    },
    on: {
      "change": function ($event) {
        var $$selectedVal = Array.prototype.filter.call($event.target.options, function (o) {
          return o.selected;
        }).map(function (o) {
          var val = "_value" in o ? o._value : o.value;
          return val;
        });
        _vm.txtStatus = $event.target.multiple ? $$selectedVal : $$selectedVal[0];
      }
    }
  }, _vm._l(_vm.statusvalue, function (item, itemIndex) {
    return _c('option', {
      key: itemIndex,
      domProps: {
        "value": item.ID
      }
    }, [_vm._v(_vm._s(item.Text))]);
  }), 0)])]), _c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('span', [_vm._v("Comment:")]), _c('textarea', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.txtComment,
      expression: "txtComment"
    }],
    staticClass: "form-control",
    attrs: {
      "name": "txtComment",
      "maxlength": "400"
    },
    domProps: {
      "value": _vm.txtComment
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.txtComment = $event.target.value;
      }
    }
  })])]), _c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left px-0"
  }, [_c('div', {
    staticClass: "row flex-row-reverse"
  }, [_c('div', {
    staticClass: "col-lg-6 text-right"
  }, [_c('a', {
    staticClass: "btn btn-success formbtn text-white mr-1",
    attrs: {
      "href": "javascript:;",
      "type": "submit",
      "title": _vm.$t('Save')
    },
    on: {
      "click": function ($event) {
        return _vm.SubmitStatus();
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-save pr-2"
  }), _c('span', [_vm._v(_vm._s(_vm.$t('Save')))])]), _c('a', {
    staticClass: "btn btn-danger formbtn text-white",
    attrs: {
      "href": "javascript:;",
      "title": _vm.$t('Cancel')
    },
    on: {
      "click": function ($event) {
        return _vm.onCancel();
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-close pr-2"
  }), _c('span', [_vm._v(_vm._s(_vm.$t('Cancel')))])])]), _c('div', {
    staticClass: "col-lg-6"
  }, [_c('div', {
    staticClass: "py-2"
  }, [_c('small', {
    staticClass: "text-danger"
  }, [_vm._v("Fields marked with an asterisk (*) are mandatory.")])])])])])])])], 1)])])])], 1);
};
var ApproveRejectPopupvue_type_template_id_12fa79a6_staticRenderFns = [function () {
  var _vm = this,
    _c = _vm._self._c;
  return _c('thead', {
    staticClass: "thead-bg"
  }, [_c('tr', [_c('th', {
    staticClass: "text-center",
    staticStyle: {
      "width": "50px !important"
    },
    attrs: {
      "id": "nonresize"
    }
  }, [_c('input', {
    staticClass: "chkItems",
    attrs: {
      "id": "chkAll",
      "type": "checkbox"
    }
  })]), _c('th', [_c('span', [_vm._v("User Name")])]), _c('th', [_c('span', [_vm._v("Product")])]), _c('th', [_c('span', [_vm._v("Unique Name")])]), _c('th', [_c('span', [_vm._v("Reason")])]), _c('th', [_c('span', [_vm._v("Comment")])]), _c('th', [_c('span', [_vm._v("Approval Comment")])]), _c('th', [_c('span', [_vm._v("Status")])]), _c('th', [_c('span', [_vm._v("Quantity")])]), _c('th', [_c('span', [_vm._v("Product Cost")])]), _c('th', [_c('span', [_vm._v("Book Value")])]), _c('th', [_c('span', [_vm._v("Overdue days")])]), _c('th', [_c('span', [_vm._v("Penalty Status")])]), _c('th', [_c('span', [_vm._v("Penalty ")])]), _c('th', [_c('span', [_vm._v("Return Date ")])])])]);
}];

// CONCATENATED MODULE: ./src/components/Modal/ApproveRejectPopup.vue?vue&type=template&id=12fa79a6&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/ApproveRejectPopup.vue?vue&type=script&lang=js&


/* harmony default export */ var ApproveRejectPopupvue_type_script_lang_js_ = ({
  props: {
    assDetailIDs: {
      type: Number,
      required: true
    }
  },
  data() {
    return {
      noRecordForTab: false,
      isLoading: false,
      AssignmentData: [],
      txtComment: '',
      txtStatus: '',
      statusvalue: [{
        ID: "Approve",
        Text: "Approve"
      }, {
        ID: "Reject",
        Text: "Reject"
      }],
      AssetReplacelistData: [],
      SortBy: '',
      SortExp: '',
      PageSizees: 10,
      PageNumberes: 1,
      CreatedBy: '',
      relatedInfoID: '',
      username: '',
      searchStatus: '',
      PenaltyOnStatus: '',
      PenaltyOnOverdue: '',
      SelectAll: Boolean,
      suser: [],
      mulipleSelect: false,
      noRecord: Boolean
    };
  },
  created: function () {
    this.GetApproveUnApprovelist();
  },
  methods: {
    CloseApproveRejectopup: function (item) {
      this.$emit('CloseApproveRejectopup', item);
    },
    onCancel: function () {
      this.CloseApproveRejectopup();
    },
    GetApproveUnApprovelist() {
      var url = `sortBy=${this.SortBy}&sortExp=${this.SortExp}&pageSize=${this.PageSizees}&pageNum=${this.PageNumberes}&createdby=${this.CreatedBy}&relatedInfoID=${this.relatedInfoID}&username=${this.username}&searchStatus=${this.searchStatus}&PenaltyOnStatus=${this.PenaltyOnStatus}&PenaltyOnOverdue=${this.PenaltyOnOverdue}`;
      // var url=`sortBy=${this.SortBy}&sortExp=${this.SortExp}&pageSize=${this.PageSizees}&pageNum=${this.PageNumberes}&createdby=${this.CreatedBy}&relatedInfoID=${this.assDetailIDs}&username=${this.username}&searchStatus=${this.searchStatus}&PenaltyOnStatus=${this.PenaltyOnStatus}&PenaltyOnOverdue=${this.PenaltyOnOverdue}`;
      DataService["a" /* default */].GetAssetReturnRequest(url).then(response => {
        if (response.data != null) {
          if (response.data.data.length > 0) {
            console.log('res', response.data.data);
            this.AssetReplacelistData = response.data.data;
            this.TotalRecordes = response.data.data[0].TOTAL_PAGES;
            this.TotalPagees = Math.ceil(this.TotalRecordses / this.PageSizees);
            this.CurrentPagees = this.PageNumberes;
            this.noRecord = false;
          } else {
            this.noRecord = true;
            this.AssetReplacelistData = [];
            this.TotalRecorded = 0;
          }
        }
      });
    },
    SelectAllUsers() {
      var vm = this;
      var val = [];
      $(".chkItems:checkbox:checked").not("[id^='chkAll']").each(function () {
        val.push(vm.AssetReplacelistData.filter(dealer => dealer.ASSIGNMENT_DETAIL_ID == this.value));
      });
      if (this.mulipleSelect == true) {
        this.suser = [];
        for (var i = 0; i < this.AssetReplacelistData.length; i++) {
          console.log('new', this.suser);
          console.log('Ids', this.AssetReplacelistData[i]['ASSET_ASSIGNMENT_ID']);
          this.suser.push(this.AssetReplacelistData[i]['ASSET_ASSIGNMENT_ID']);
        }
      } else {
        this.suser = [];
      }
    },
    SubmitStatus() {
      var vm = this;
      var val = [];
      var requestid = '',
        quantity = 0,
        returnmsg = '';
      $(".chkItems:checkbox:checked").not("[id^='chkAll']").each(function () {
        val.push(vm.AssetReplacelistData.filter(dealer => dealer.ASSET_ASSIGNMENT_ID == this.value));
        for (let i in val) {
          var requestID = val[i].requestID;
          var userid = val[i].userID;
          var uniqueName = val[i].requestID;
          var statusid = 0,
            penaltyAmt = 0,
            graceDays = 0;
          var statusname = "";
        }
      });
      console.log(val);

      // debugger;
      // var vm = this;
      // var val = "";
      // $('.chkItems:checkbox:checked').not("[id^='chkAll']").each(function () {
      //     console.log("Checkbox value",this.value);

      //     if (val.length > 0)
      //         val += ',';
      //     val += $(this).val();
      // });
      // console.log('res', val)

      // vm = this.vm
      // var obj ={
      //  statusname:vm.txtStatus,
      //  comment:vm.txtComment,
      //  resp:vm.val,
      js;
      // }
      // console.log('data',obj)

      //var objData ={ RequestData: val,RetrunRequeststatus:vm.txtStatus,comment :vm.txtComment
      var url = `RequestData=${val}&RetrunRequeststatus=${vm.txtStatus}&comment=${vm.txtComment}`;
      DataService["a" /* default */].AddRejectStatus(url).then(response => {});
      console.log('data', objData);
    },
    selectSingleUser() {
      if (this.AssetReplacelistData.length == this.suser.length) {
        this.mulipleSelect = true;
      } else {
        this.mulipleSelect = false;
      }
    },
    ReturnProduct: function (event) {
      var vm = this;
      var val = "";
      $(".chkItems:checkbox:checked").not("[id^='chkAll']").each(function () {
        if (val.length > 0) val += ",";
        val += $(this).val();
      });
      if (val == "") {
        vm.ShowAlert(vm.$t("Minimum One Product should be selected."), "failure", vm.$t("Alert"));
        return false;
      } else {
        vm.assDetailIDs = val;
      }
    },
    SubmitData: function () {
      var vm = this;
      var detail = "",
        realtedinfoIDs = "",
        status = true,
        qty = '';
      vm.$refs.ReturnForm.validate().then(result => {
        if (result) {
          vm.AssetReplacelistData.forEach(ele => {
            vm.qty = ele.NumberOfItemsToAssign;
            vm.assDetailID = ele.AssignmentDetailId;
            vm.userid = ele.IssuedToId;
            vm.RelatedInfoID = ele.RelatedInfoID;
            vm.NumberOfItemsToAssign = ele.NumberOfItemsToAssign;
            vm.UniqueName = ele.UniqueName;
            if (detail != "") detail += "|";
            detail += vm.assDetailID + "," + vm.qty + "," + vm.userid;
            if (realtedinfoIDs != "") realtedinfoIDs += "|";
            realtedinfoIDs += vm.assDetailID + "," + vm.RelatedInfoID + "," + qty + "," + vm.UniqueName;
          });
          if (detail == "") {
            vm.ShowAlert(vm.$t("Minimum One Product should be selected."), "warning", vm.$t('Alert'));
            // hideLoader();
            return false;
          }
          if (status == false) {
            //  hideLoader();
            return false;
          }
          var data = {
            itemdetails: detail,
            title: vm.txtTitle,
            comment: vm.txtComment,
            relatedInfoIDs: realtedinfoIDs
          };
          var jsonObj = JSON.stringify(data);
          DataService["a" /* default */].BulkReturnItem(jsonObj).then(response => {});
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/ApproveRejectPopup.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_ApproveRejectPopupvue_type_script_lang_js_ = (ApproveRejectPopupvue_type_script_lang_js_); 
// CONCATENATED MODULE: ./src/components/Modal/ApproveRejectPopup.vue





/* normalize component */

var ApproveRejectPopup_component = Object(componentNormalizer["a" /* default */])(
  Modal_ApproveRejectPopupvue_type_script_lang_js_,
  ApproveRejectPopupvue_type_template_id_12fa79a6_render,
  ApproveRejectPopupvue_type_template_id_12fa79a6_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var ApproveRejectPopup = (ApproveRejectPopup_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"55cbdea1-vue-loader-template"}!./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/RequestForReturnProduct.vue?vue&type=template&id=372f6326&scoped=true&
var RequestForReturnProductvue_type_template_id_372f6326_scoped_true_render = function render() {
  var _vm = this,
    _c = _vm._self._c;
  return _c('div', {
    staticClass: "my-popups"
  }, [_c('div', {
    staticClass: "modal d-block"
  }, [_c('div', {
    staticClass: "modal-dialog modal-dialog-centered"
  }, [_c('div', {
    staticClass: "modal-content"
  }, [_c('div', {
    staticClass: "modal-header"
  }, [_c('h5', {
    staticClass: "modal-title"
  }, [_vm._v(" " + _vm._s(_vm.$t('Request For Return')) + " ")]), _c('button', {
    staticClass: "close",
    attrs: {
      "type": "button",
      "data-original-title": "Close"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseRequestForReturnProduct($event);
      }
    }
  }, [_c('em', {
    staticClass: "fa fa-times"
  })])]), _c('div', {
    staticClass: "modal-body"
  }, [_c('div', {
    staticClass: "listing"
  }, [_c('div', {
    staticClass: "table-responsive table-fix-header",
    attrs: {
      "id": "returnrecordBulk"
    }
  }, [_c('table', {
    staticClass: "table table-bordered dt-responsive nowrap mt-0",
    attrs: {
      "id": "tblReturnRequestBulk"
    }
  }, [_c('thead', {
    staticClass: "thead-bg"
  }, [_c('tr', [_c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('ProductName')))])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('UniqueName')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('LocationName')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('IssuedTo')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('IssuedBy')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('AssignedFrom')))])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('AssignedTill')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('NumberofProducts')) + " ")])]), _c('th', {
    staticClass: "text-center",
    attrs: {
      "scope": "col"
    }
  }, [_c('span', [_vm._v(_vm._s(_vm.$t('Quantity')) + " ")])]), _c('th', [_c('span', [_vm._v(_vm._s(_vm.$t('ReturnUntil')))])])])]), _vm._l(_vm.requestForReturnData, function (item, index) {
    return _c('tbody', {
      key: index
    }, [_c('tr', [_c('td', [_vm._v(_vm._s(item.AssetName))]), _c('td', [_vm._v(_vm._s(item.UniqueName))]), _c('td', [_vm._v(_vm._s(item.LocationName))]), _c('td', [_vm._v(_vm._s(item.IssuedToName))]), _c('td', [_vm._v(_vm._s(item.IssuedByName))]), _c('td', [_vm._v(_vm._s(item.AssignedFrom))]), _c('td', [_vm._v(_vm._s(item.AssignedTill))]), _c('td', {
      staticClass: "text-center"
    }, [_vm._v(_vm._s(item.NumberOfItemsToAssign))]), _c('td', [item.CreateUniqueNameListing ? _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: item.NumberOfItemsToAssign,
        expression: "item.NumberOfItemsToAssign"
      }],
      staticClass: "form-control",
      attrs: {
        "type": "number",
        "maxlength": "5",
        "disabled": "disabled"
      },
      domProps: {
        "value": item.NumberOfItemsToAssign
      },
      on: {
        "input": function ($event) {
          if ($event.target.composing) return;
          _vm.$set(item, "NumberOfItemsToAssign", $event.target.value);
        }
      }
    }) : _vm._e(), _c('input', {
      directives: [{
        name: "model",
        rawName: "v-model",
        value: item.Quantity,
        expression: "item.Quantity"
      }],
      class: {
        'form-control': true,
        'is-invalid': _vm.Quantity == 0 ? true : false
      },
      attrs: {
        "type": "decimal",
        "min": 1,
        "id": 'returen_' + index,
        "maxlength": "5"
      },
      domProps: {
        "value": item.Quantity
      },
      on: {
        "keypress": function ($event) {
          return _vm.preventMinusSign($event);
        },
        "keyup": function ($event) {
          return _vm.checkQuantity(item, item.Quantity, index);
        },
        "input": function ($event) {
          if ($event.target.composing) return;
          _vm.$set(item, "Quantity", $event.target.value);
        }
      }
    })]), _c('td', [_c('v-date-picker', {
      staticClass: "timedate input-group",
      attrs: {
        "popover": _vm.popover,
        "name": item.ReturnUntill,
        "min-date": _vm.getMinDate(),
        "mode": "date",
        "minute-increment": 5
      },
      scopedSlots: _vm._u([{
        key: "default",
        fn: function ({
          inputValue,
          togglePopover
        }) {
          return [_c('input', _vm._g({
            class: {
              'form-control': true
            },
            attrs: {
              "placeholder": "M/D/YYYY h:mm A",
              "on-select": "close"
            },
            domProps: {
              "value": inputValue
            },
            on: {
              "click": function ($event) {
                return togglePopover();
              }
            }
          }, _vm.inputEvents)), _c('div', {
            staticClass: "input-group-append",
            on: {
              "click": function ($event) {
                return togglePopover();
              }
            }
          }, [_c('span', {
            staticClass: "input-group-text"
          }, [_c('em', {
            staticClass: "fa fa-calendar"
          })])])];
        }
      }], null, true),
      model: {
        value: item.ReturnUntill,
        callback: function ($$v) {
          _vm.$set(item, "ReturnUntill", $$v);
        },
        expression: "item.ReturnUntill"
      }
    })], 1)]), _vm.noRecordForTab ? _c('div', {
      staticClass: "text-center text-danger p-4 border no-record"
    }, [_vm._v(" " + _vm._s(_vm.$t('NoRecordfound')))]) : _vm._e()]);
  })], 2)])]), _c('div', {
    staticClass: "form-content mt-2",
    attrs: {
      "id": "dvReturnStatus"
    }
  }, [_c('div', {
    staticClass: "collapse show py-3"
  }, [_c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('label', [_vm._v(_vm._s(_vm.$t('Comment')))]), _c('textarea', {
    directives: [{
      name: "model",
      rawName: "v-model",
      value: _vm.comment,
      expression: "comment"
    }],
    staticClass: "form-control",
    attrs: {
      "name": "txtComment",
      "id": "txtComment",
      "maxlength": "200"
    },
    domProps: {
      "value": _vm.comment
    },
    on: {
      "input": function ($event) {
        if ($event.target.composing) return;
        _vm.comment = $event.target.value;
      }
    }
  })])]), _c('div', {
    staticClass: "col-sm-12 col-md-12 col-lg-12 col-xl-12 float-left"
  }, [_c('div', {
    staticClass: "form-group"
  }, [_c('div', {
    staticClass: "search-btm-btn"
  }, [_c('a', {
    staticClass: "btn btn-success formbtn text-white m-2",
    attrs: {
      "title": "Save",
      "id": "btnBulkRequestForReturnItem"
    },
    on: {
      "click": function ($event) {
        return _vm.SubmitData();
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-save pr-2"
  }), _vm._v(_vm._s(_vm.$t('Save')))]), _c('a', {
    staticClass: "btn btn-danger formbtn text-white",
    attrs: {
      "title": "Cancel"
    },
    on: {
      "click": function ($event) {
        return _vm.CloseRequestForReturnProduct($event);
      }
    }
  }, [_c('i', {
    staticClass: "fa fa-close pr-2"
  }), _vm._v(_vm._s(_vm.$t('Cancel')))])])])])])])])])])])]);
};
var RequestForReturnProductvue_type_template_id_372f6326_scoped_true_staticRenderFns = [];

// CONCATENATED MODULE: ./src/components/Modal/RequestForReturnProduct.vue?vue&type=template&id=372f6326&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Modal/RequestForReturnProduct.vue?vue&type=script&lang=js&


/* harmony default export */ var RequestForReturnProductvue_type_script_lang_js_ = ({
  props: {
    assDetailIDs: {
      type: String,
      required: true
    },
    newValue: {
      type: String,
      required: true
    }
  },
  data() {
    return {
      noRecordForTab: false,
      itemdetails: "",
      comment: "",
      datebind: "",
      selectedDate: new Date(),
      requestForReturnData: [],
      tempArray: [],
      popover: {
        visibility: 'click'
      },
      Quantity: 1,
      Timezone: ''
    };
  },
  created: function () {
    this.GetAssignmentDetailByID(this.newValue);
    this.UserId = this.GetUserInfo.ID;
    this.Timezone = this.GetUserInfo.TimeZone;
  },
  methods: {
    preventMinusSign(event) {
      if (event.key === '-' || event.key === '.' || event.key === '+' || event.key === '0') {
        event.preventDefault();
      }
    },
    async GetAssignmentDetailByID(event) {
      var url = `assDetailIDs=${event}`;
      await DataService["a" /* default */].GetAssignmentDetailByID(url).then(response => {
        if (response.data != null) {
          this.requestForReturnData = response.data;
          this.requestForReturnData.map(ele => {
            ele.Quantity = this.Quantity;
            ele.ReturnUntill = new Date();
          });
          this.noRecordForTab = false;
        } else {
          this.noRecordForTab = true;
        }
      });
    },
    CloseRequestForReturnProduct: function () {
      this.$parent.CloseRequestForReturnProduct();
    },
    checkQuantity: function (item, Quantity, indx) {
      var vm = this;
      let TotalQuantity = item.NumberOfItemsToAssign;
      let currentValue = Quantity;
      if (item.Quantity != '') {
        vm.requestForReturnData.forEach((itm, ind) => {
          if (ind == indx) {
            if (parseInt(currentValue) > TotalQuantity) {
              vm.ShowAlert(vm.$t(`Please enter a value less than or equal to ${TotalQuantity}`), "warning", vm.$t("Alert"));
              vm.requestForReturnData[indx].Quantity = TotalQuantity;
              vm.$forceUpdate();
            } else {
              vm.requestForReturnData[indx].Quantity = Quantity;
              vm.$forceUpdate();
            }
          }
        });
      }
    },
    SubmitData: function () {
      var vm = this;
      let detail = "",
        realtedinfoIDs = "",
        status = true;
      var isCollectedHighlightedError = false;
      vm.requestForReturnData.forEach(ele => {
        if (ele.Quantity == "" || ele.Quantity == 0) {
          isCollectedHighlightedError = true;
        }
        vm.qty = parseInt(ele.Quantity);
        vm.assDetailID = ele.AssignmentDetailId;
        vm.userid = ele.IssuedToId;
        vm.RelatedInfoID = ele.RelatedInfoID;
        vm.NumberOfItemsToAssign = ele.NumberOfItemsToAssign;
        vm.UniqueName = ele.UniqueName;
        vm.requestUntill = vm.$options.filters.formatDateTimeYYMMDD(ele.ReturnUntill);
        if (detail != "") detail += "|";
        detail += vm.assDetailID + "," + vm.qty + "," + vm.userid;
        if (realtedinfoIDs != "") realtedinfoIDs += "|";
        realtedinfoIDs += vm.assDetailID + "," + vm.RelatedInfoID + "," + vm.qty + "," + this.UserId + "," + vm.requestUntill;
      });
      if (isCollectedHighlightedError == true) {
        return vm.ShowAlert(vm.$t('Quantity is required'), "warning", vm.$t("Alert"));
      }
      if (detail == "") {
        vm.ShowAlert(vm.$t("Minimum One Product should be selected."), "warning", vm.$t('Alert'));
        return false;
      }
      if (status == false) {
        return false;
      }
      var data = `itemdetails=${realtedinfoIDs}&comment=${vm.comment}`;
      DataService["a" /* default */].BulkRequestForReturn(data).then(response => {
        if (response.data == 'False') {
          vm.ShowAlert(vm.$t("Request for Return saved successfully."), "success", vm.$t('Alert'));
          vm.$parent.FetchData();
          vm.CloseRequestForReturnProduct();
        } else {
          vm.ShowAlert(vm.$t("Error while returning item."), "failure", vm.$t('Alert'));
          vm.$parent.FetchData();
          vm.CloseRequestForReturnProduct();
        }
      });
    }
  }
});
// CONCATENATED MODULE: ./src/components/Modal/RequestForReturnProduct.vue?vue&type=script&lang=js&
 /* harmony default export */ var Modal_RequestForReturnProductvue_type_script_lang_js_ = (RequestForReturnProductvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/components/Modal/RequestForReturnProduct.vue?vue&type=style&index=0&id=372f6326&prod&scoped=true&lang=css&
var RequestForReturnProductvue_type_style_index_0_id_372f6326_prod_scoped_true_lang_css_ = __webpack_require__("3368");

// CONCATENATED MODULE: ./src/components/Modal/RequestForReturnProduct.vue






/* normalize component */

var RequestForReturnProduct_component = Object(componentNormalizer["a" /* default */])(
  Modal_RequestForReturnProductvue_type_script_lang_js_,
  RequestForReturnProductvue_type_template_id_372f6326_scoped_true_render,
  RequestForReturnProductvue_type_template_id_372f6326_scoped_true_staticRenderFns,
  false,
  null,
  "372f6326",
  null
  
)

/* harmony default export */ var RequestForReturnProduct = (RequestForReturnProduct_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--13-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--1-0!./node_modules/vue-loader/lib??vue-loader-options!./src/views/ProductAssignment/List.vue?vue&type=script&lang=js&











/* harmony default export */ var Listvue_type_script_lang_js_ = ({
  components: {
    NotReturnedPopup: NotReturnedPopup,
    ReturnPopup: ReturnProductPopup,
    CommentPopUp: CommentPopUp,
    ReturnForRequest: ReturnForRequest,
    SharePopUp: SharePopUp,
    RequestForReturnProduct: RequestForReturnProduct,
    ApproveReject: ApproveRejectPopup
  },
  data() {
    return {
      View_List: [],
      isLoading: false,
      listheaderbuttons: AssignmentSchema.buttons,
      leftSearchFields: AssignmentSchema.leftsearchSchema,
      listActions: AssignmentSchema.listActions,
      LegendArray: [],
      Headers: [{
        COLUMN_NAME: "NAME",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("AssetId"),
        DISPLAY_ORDER: 1
      }, {
        COLUMN_NAME: "ITEM_CODE",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("ProductCode"),
        DISPLAY_ORDER: 2
      }, {
        COLUMN_NAME: "UNIQUE_NAME",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("UniqueName"),
        DISPLAY_ORDER: 3,
        settings: {
          isInSlot: true
        }
      }, {
        COLUMN_NAME: "NUMBER_OF_ITEMS_ASSIGNED",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("NumberOfItems"),
        DISPLAY_ORDER: 4,
        settings: {
          isInSlot: true
        }
      }, {
        COLUMN_NAME: "LOCATION_NAME",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("LocationName"),
        DISPLAY_ORDER: 5
      }, {
        COLUMN_NAME: "ISSUED_TO",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("IssuedTo"),
        DISPLAY_ORDER: 6
      }, {
        COLUMN_NAME: "ISSUED_BY",
        DATA_TYPE: "text",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("IssuedBy"),
        DISPLAY_ORDER: 7
      }, {
        COLUMN_NAME: "ASSIGNED_FROM",
        DATA_TYPE: "Date",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("AssignedFrom"),
        DISPLAY_ORDER: 8,
        settings: {
          isInSlot: true
        }
      }, {
        COLUMN_NAME: "ASSIGNED_TILL",
        DATA_TYPE: "Date",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("AssignedTill"),
        DISPLAY_ORDER: 9,
        settings: {
          isInSlot: true
        }
      }, {
        COLUMN_NAME: "RETURN_DATE",
        DATA_TYPE: "Date",
        SORTABLE: true,
        VISIBLE: true,
        DISPLAY_NAME: this.$t("ReturnDate"),
        DISPLAY_ORDER: 10,
        settings: {
          isInSlot: true
        }
      }],
      noRecord: true,
      TotalRecords: 0,
      CurrentPage: 1,
      TotalPages: 0,
      SortBy: "",
      SortExp: "",
      widgets: [],
      legendProgress: [{
        class: "",
        backgroundColor: "#17a2b8",
        name: "Draft"
      }, {
        class: "legend-Progress",
        backgroundColor: "",
        name: "Approved"
      }, {
        class: "legend-pending",
        backgroundColor: "",
        name: "Pending"
      }, {
        class: "",
        backgroundColor: "#fe6847",
        name: "SendForCorrection"
      }, {
        class: "",
        backgroundColor: "#ee1313",
        name: "Rejected"
      }],
      ProductData: [],
      LeadStatusList: [],
      PageSize: 10,
      PageNumber: 1,
      isPaged: 1,
      AssetAssignmentData: [],
      ReturnProductPopup: false,
      isVisibleComponentPopup: false,
      isSharedPopupOpen: false,
      NotReturnedPopup: false,
      IsRequestForReturn: false,
      ApproveRejectpopup: false,
      isRequestForReturnProduct: false,
      assDetailIDs: "",
      canRequestforReturn: 0,
      requestForReturnData: [],
      newValue: '',
      selectedUserDetail: "",
      IsRequestForReturnData: {},
      Userid: null,
      privilegeParams: null,
      UserDateTime: new Date().toISOString().slice(0, 19)
    };
  },
  created: async function () {
    var ths = this;
    await ths.GetPageSize();
    if (window.location.href.split('/')[5] != undefined) {
      ths.assDetailIDs = window.location.href.split('/')[5];
    } else {
      ths.assDetailIDs = "";
    }
    ths.privilegeParams = `controller=AssetAssignment&action=`;
    AssignmentSchema.bindleftCommonSearchdropdown(ths, "ASSETASSIGNMENT", "IssueBy");
    ths.Userid = this.GetUserInfo.ID;
    DataService["a" /* default */].CheckPrivilege(ths.privilegeParams + 'Index').then(response => {
      if (response.data == true) {
        ths.FetchData();
      } else {
        ths.ShowAlert(ths.$t('NotAuthorizedSection'), "failure", true, "Alert");
      }
    });
    ths.LegendArray = [{
      class: 'legend-pending colorboxsquare',
      text: 'Overdue'
    }];
  },
  methods: {
    async GetPageSize() {
      var vm = this;
      var params = 'key=DefaultPageSize';
      await DataService["a" /* default */].GetConfigurationValueForCompanyByKey(params).then(response => {
        if (response.data != null) {
          vm.PageSize = parseInt(response.data);
        }
      });
    },
    async FetchData() {
      var vueObj = this;
      vueObj.isLoading = true;
      var params = `pageSize=${vueObj.PageSize}&pageNum=${vueObj.PageNumber}&sortBy=${vueObj.SortBy}&sortExp=${vueObj.SortExp}&isReturn=&issuedTo=&assetCatalogId=${vueObj.assDetailIDs}&uniqueNames=&showWithoutPaging=&barcode=&UserStatus=&${vueObj.searchCondition}`;
      await DataService["a" /* default */].AssetAssignmentListing(params).then(response => {
        vueObj.isLoading = false;
        if (response.data != null && response.data != 0) {
          if (response.data.length > 0) {
            vueObj.AssetAssignmentData = response.data;
            vueObj.AssetAssignmentData.forEach(row => {
              row.additionalClass = '';
              var GetCurrentDate = new Date();
              var IsOverdue = false;
              //row.ASSIGNED_TILL != null ? ((row.IS_RETURN == false && vueObj.$options.filters.formatDate(row.ASSIGNED_TILL) < vueObj.$options.filters.formatDate(GetCurrentDate)) ? true : false) : false;
              if (vueObj.$options.filters.formatDateTimeYYMMDD(GetCurrentDate) > vueObj.$options.filters.formatDateTimeYYMMDD(row.ASSIGNED_TILL) && row.IS_RETURN == false) {
                IsOverdue = true;
              } else {
                IsOverdue = false;
              }
              if (IsOverdue) {
                row.additionalClass = 'high-bar';
              }
            });
            for (var row in vueObj.AssetAssignmentData) {
              vueObj.AssetAssignmentData[row].isCheckBoxDisabled = false;
              if (vueObj.AssetAssignmentData[row].IS_RETURN == true) {
                vueObj.AssetAssignmentData[row].isCheckBoxDisabled = true;
              }
            }
            vueObj.TotalRecords = response.data[0].TOTAL;
            vueObj.TotalPages = Math.ceil(vueObj.TotalRecords / vueObj.PageSize);
            vueObj.CurrentPage = vueObj.PageNumber;
            $('.chkItems:checkbox:checked').prop("checked", false).removeAttr('checked');
            vueObj.noRecord = false;
          } else {
            vueObj.noRecord = true;
            vueObj.AssetAssignmentData = [];
            vueObj.TotalRecords = 0;
            vueObj.isLoading = false;
          }
        } else {
          vueObj.noRecord = true;
          vueObj.AssetAssignmentData = [];
          vueObj.TotalRecords = 0;
          vueObj.isLoading = false;
        }
        setTimeout(function () {
          vueObj.CheckBoxBootstrap();
        }, 100);
        setTimeout(function () {
          vueObj.ResponsiveDataTable("tablelistingdata");
        }, 500);
      });
      vueObj.isLoading = false;
    },
    renderActions: function (row) {
      var self = this;
      let rtnActionArray = [];
      var vm = this;
      self.listActions.forEach(actionItem => {
        let action = {
          ...actionItem
        };
        switch (action.title) {
          case "Share":
            if (row.CREATE_UNIQUE_NAME_LIST && row.IS_RETURN) {
              if (vm.formatTimeToCustomFormat(row.ASSIGNED_TILL) > vm.formatTimeToCustomFormat(vm.UserDateTime)) {
                action.isDisabled = true;
              } else {
                action.isDisabled = true;
              }
            } else {
              if (row.IS_RETURN) {
                action.isDisabled = true;
              } else {
                if (vm.formatTimeToCustomFormat(row.ASSIGNED_TILL) > vm.formatTimeToCustomFormat(vm.UserDateTime)) {
                  action.isDisabled = true;
                } else {
                  action.isDisabled = false;
                }
              }
            }
            break;
          case "Accept Reject Request":
            if (row.RETURN_REQUEST == 'YES') {
              if (row.IS_RETURN == false) {
                action.isDisabled = false;
                action.isVisible = true;
              } else {
                action.isDisabled = true;
                action.isVisible = false;
              }
            } else if (row.RETURN_REQUEST == 'NO') {
              action.isDisabled = true;
              action.isVisible = false;
            }
            break;
          case "Returned":
            if (row.RETURN_REQUEST == 'YES') {
              if (row.IS_RETURN == false) {
                action.isDisabled = true;
                action.isVisible = false;
              } else {
                action.isDisabled = false;
                action.isVisible = true;
              }
            } else if (row.RETURN_REQUEST == 'NO') {
              if (row.IS_RETURN == true) {
                action.isDisabled = true;
                action.isVisible = true;
              } else {
                action.isDisabled = true;
                action.isVisible = false;
              }
            }
            break;
          case "Not Returned":
            if (row.RETURN_REQUEST == 'NO') {
              if (row.IS_RETURN == true) {
                action.isDisabled = true;
                action.isVisible = false;
              } else {
                action.isDisabled = false;
                action.isVisible = true;
              }
            }
            break;
          case "Request For Return":
            if (row.IS_RETURN == false && row.RETURN_REQUEST == "NO" && row.ISSUED_TO_ID != vm.Userid) {
              if (row.REQUEST_ID == 0) {
                action.isDisabled = false;
                action.isVisible = true;
              } else {
                action.isDisabled = true;
                return action.isVisible = false;
              }
            } else {
              action.isDisabled = true;
              action.isVisible = true;
            }
            break;
          case "Request Already Sent":
            if (row.IS_RETURN == false && row.RETURN_REQUEST == "NO" && row.ISSUED_TO_ID != vm.Userid) {
              if (row.REQUEST_ID == 0) {
                action.isDisabled = true;
                return action.isVisible = false;
              } else {
                action.isDisabled = false;
                action.isVisible = true;
              }
            } else {
              action.isDisabled = false;
              action.isVisible = false;
            }
            break;
          case "Comment":
            if (row.IS_RETURN == true && row.TITLE != '' && row.TITLE != null || row.COMMENT != '' && row.COMMENT != null) {
              action.isDisabled = false;
            } else {
              action.isDisabled = true;
            }
            break;
          default:
            {
              action.isDisabled = false;
            }
        }
        rtnActionArray.push(action);
      });
      return rtnActionArray;
    },
    pagerMethod: function (value) {
      this.PageSize = value.PageSize;
      this.PageNumber = value.PageNumber;
      this.FetchData();
    },
    leftCommonSearch: function (value) {
      this.PageNumber = value.PageNumber;
      this.isPaged = 1;
      if (typeof value.searchCondition != 'undefined') {
        this.searchCondition = value.searchConditionJson;
      } else {
        this.searchCondition = "";
      }
      this.FetchData();
    },
    commonHeaderButtonClick: function (event) {
      switch (event.callbackfunction) {
        case "AssignProduct":
          this.AssignProduct();
          break;
        case "ReturnProduct":
          this.ReturnProduct();
          break;
        case "RequestForReturnProduct":
          this.RequestForReturnProduct();
          break;
      }
    },
    actionButtonClick: function (callbackfunction, item) {
      var vm = this;
      switch (callbackfunction) {
        case "Share":
          vm.ShareButtonClick(item);
          break;
        case "AcceptRejectRequest":
          vm.openApproveRejectpopup(item.RELATED_INFO_ID);
          break;
        case "Returned":
          vm.NotReturnedProduct(item);
          break;
        case "NotReturned":
          vm.NotReturnedProduct(item);
          break;
        case "RequestForReturn":
          vm.RequestForReturn(item);
          break;
        case "RequestAlreadySent":
          break;
        case "Comment":
          vm.commentButtonClick(item.ASSIGNMENT_DETAIL_ID);
          break;
      }
    },
    commentButtonClick: function (ths) {
      this.assDetailIDs = ths;
      this.isVisibleComponentPopup = true;
    },
    ShareButtonClick: function (item) {
      this.assDetailIDs = item;
      this.isSharedPopupOpen = true;
    },
    sortdata: function (s) {
      var SortDir = "sort tb_headerSortDown";
      this.SortBy = s;
      if (s === this.SortBy) {
        if (this.SortExp == "") {
          this.SortExp = "ASC";
          SortDir = "sort tb_headerSortDown";
        } else if (this.SortExp == "ASC") {
          this.SortExp = "DESC";
          SortDir = "sort tb_headerSortUp";
        } else {
          this.SortExp = "ASC";
          SortDir = "sort tb_headerSortDown";
        }
      }
      this.FetchData();
      $("#" + s + "  span:first-child").attr("class", SortDir);
    },
    getRequestParams: function (pageNum, pageSize, sortBy, sortExp, isPaged, searchcondition) {
      let params = {};
      if (pageNum) {
        params["pageNum"] = pageNum;
      }
      if (searchcondition) {
        params["searchcondition"] = searchcondition;
      }
      if (isPaged) {
        params["isPaged"] = isPaged;
      }
      if (sortBy) {
        params["sortBy"] = sortBy;
      }
      if (sortExp) {
        params["sortExp"] = sortExp;
      }
      if (pageSize) {
        params["pageSize"] = pageSize;
      }
      return params;
    },
    AssignProduct: function () {
      DataService["a" /* default */].CheckPrivilege(this.privilegeParams + 'Add').then(response => {
        if (response.data == true) {
          this.$router.push({
            name: "AddAssetAssignment",
            params: {
              reqForm: 'AssetAssignment'
            }
          });
        } else {
          this.ShowAlert(this.$t('NotAuthorizedSection'), "failure", true, "Alert");
        }
      });
    },
    ReturnProduct: function (event) {
      var vm = this;
      DataService["a" /* default */].CheckPrivilege(vm.privilegeParams + 'ItemReturnMultiple').then(response => {
        if (response.data == true) {
          var val = "";
          $(".chkItems:checkbox:checked").not("[id^='chkAll']").each(function () {
            if (val.length > 0) val += ",";
            val += $(this).val();
          });
          if (val == "") {
            vm.ShowAlert(vm.$t("Minimum One Product should be selected."), "failure", vm.$t("Alert"));
            return false;
          } else {
            vm.assDetailIDs = val;
            vm.ReturnProductPopup = true;
          }
        } else {
          vm.ShowAlert(vm.$t('NotAuthorizedSection'), "failure", true, "Alert");
        }
      });
    },
    openApproveRejectpopup(ths) {
      var vm = this;
      vm.assDetailIDs = ths;
      vm.ApproveRejectpopup = true;
    },
    RequestForReturnProduct() {
      var vm = this;
      let val = [];
      let notAvailable = '';
      let assignmentDetailIDs = '';
      DataService["a" /* default */].CheckPrivilege(vm.privilegeParams + 'ItemRequstForReturnMultiple').then(response => {
        if (response.data == true) {
          $(".chkItems:checkbox:checked").not("[id^='chkAll']").each(function () {
            val.unshift(vm.AssetAssignmentData.filter(dealer => dealer.ASSIGNMENT_DETAIL_ID == this.value));
          });
          for (let i in val) {
            for (var j in val[i]) {
              assignmentDetailIDs = val[i][j].ASSIGNMENT_DETAIL_ID;
              if (vm.newValue != "") vm.newValue += ",";
              vm.newValue += assignmentDetailIDs;
              if (this.canRequestforReturn == "0") {
                if (val[i][j].CREATE_UNIQUE_NAME_LIST == false) {
                  // 
                } else {
                  if (notAvailable != "") notAvailable += ",";
                  notAvailable += val[i][j].UNIQUE_NAME;
                }
              }
            }
          }
          // debugger;
          // if (notAvailable != "null" && notAvailable != "") {
          //     debugger;
          //     return vm.ShowAlert(
          //         vm.$t(`Return Request still not approved ${notAvailable}`),
          //         "warning",
          //         vm.$t("Alert")
          //     );
          // }
          if (val == "") {
            return vm.ShowAlert(vm.$t("Minimum One Product should be selected."), "warning", vm.$t("Alert"));
          }
          // this.GetAssignmentDetailByID(vm.newValue);
          vm.isRequestForReturnProduct = true;
        } else {
          this.ShowAlert(this.$t('NotAuthorizedSection'), "failure", true, "Alert");
        }
      });
    },
    CloseReurnProductPopup: function () {
      this.ReturnProductPopup = false;
      this.assDetailIDs = '';
      this.FetchData();
    },
    CloseCommentPopup: function () {
      this.isVisibleComponentPopup = false;
    },
    CloseSharePopup: function () {
      this.isSharedPopupOpen = false;
    },
    RequestForReturn: function (ths) {
      this.IsRequestForReturnData = ths;
      this.IsRequestForReturn = true;
    },
    CloseReturnPopup: function () {
      this.IsRequestForReturn = false;
    },
    CloseApproveRejectopup: function () {
      var vm = this;
      vm.ApproveRejectpopup = false;
    },
    CloseRequestForReturnProduct: function () {
      this.isRequestForReturnProduct = false;
    },
    CloseNotReurnedProductPopup: function () {
      this.NotReturnedPopup = false;
    },
    NotReturnedProduct: function (value) {
      this.selectedUserDetail = value;
      this.NotReturnedPopup = true;
    },
    formatTimeToCustomFormat(inputTime) {
      if (inputTime != null && inputTime != '') {
        const inputLuxonDateTime = luxon["DateTime"].fromISO(inputTime, {
          zone: 'utc'
        }); // Assume the input time is in UTC
        const targetTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;
        const outputLuxonDateTime = inputLuxonDateTime.setZone(targetTimeZone);
        const formattedDateTime = outputLuxonDateTime.toFormat("MM/dd/yyyy h:mm a");
        return formattedDateTime;
      } else {
        return "--";
      }
    }
  }
});
// CONCATENATED MODULE: ./src/views/ProductAssignment/List.vue?vue&type=script&lang=js&
 /* harmony default export */ var ProductAssignment_Listvue_type_script_lang_js_ = (Listvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/views/ProductAssignment/List.vue?vue&type=style&index=0&id=71389402&prod&lang=css&
var Listvue_type_style_index_0_id_71389402_prod_lang_css_ = __webpack_require__("35b8");

// CONCATENATED MODULE: ./src/views/ProductAssignment/List.vue






/* normalize component */

var List_component = Object(componentNormalizer["a" /* default */])(
  ProductAssignment_Listvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var List = __webpack_exports__["default"] = (List_component.exports);

/***/ }),

/***/ "d320":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("b00c");
if(content.__esModule) content = content.default;
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("9a8ce928", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "f5d7":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SharePopUp_vue_vue_type_style_index_0_id_f766a05a_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("d320");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SharePopUp_vue_vue_type_style_index_0_id_f766a05a_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_7_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_7_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_7_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_1_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SharePopUp_vue_vue_type_style_index_0_id_f766a05a_prod_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */


/***/ })

}]);
//# sourceMappingURL=chunk-2d2ac836.js.map