(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09842a73"],{"12a5":function(e,t,a){var l=a("6d9c");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var i=a("499e").default;i("22f59b9e",l,!0,{sourceMap:!1,shadowMode:!1})},"136e":function(e,t,a){var l=a("24fb");t=l(!1),t.push([e.i,"@media (max-width:1440px){.verticle-action.lft75[data-v-20b71030]{top:80px!important}}@media (max-width:1250px){.verticle-action.lft75[data-v-20b71030]{right:50px!important}}@media (max-width:1180px){.verticle-action.lft75[data-v-20b71030]{top:130px!important;right:70px!important}.arrow-solid-left[data-v-20b71030]:before{right:2px;top:350px}}@media (max-width:1080px){.verticle-action.lft75[data-v-20b71030]{right:0!important}.arrow-solid-left[data-v-20b71030]:before{right:4px;top:170px}}@media (max-width:992px){.arrow-solid-left[data-v-20b71030]:before{right:4px;top:140px}}@media (max-width:930px){.verticle-action.lft75[data-v-20b71030]{top:180px!important}.arrow-solid-left[data-v-20b71030]:before{top:175px!important}}@media (max-width:830px){.verticle-action.lft75[data-v-20b71030]{top:295px!important;right:0!important}.arrow-solid-left[data-v-20b71030]:before{top:50px!important}}",""]),e.exports=t},"6d9c":function(e,t,a){var l=a("24fb");t=l(!1),t.push([e.i,".mCSB_inside>.mCSB_container[data-v-ebbb4032]{margin-right:30px}.width80[data-v-ebbb4032]{width:80px}.width120[data-v-ebbb4032]{width:110px}.invalid-feedback[data-v-ebbb4032]{white-space:normal;font-size:110%}",""]),e.exports=t},"994a":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e._self._c;return t("section",{staticClass:"page-action"},[t("div",{staticClass:"left-menu-tab datareport"},[t("div",{class:e.maindiv},[t("loader",{attrs:{isVisible:e.isLoading}}),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx",role:"tablist","aria-multiselectable":"true"}},[t("div",{class:e.editclass},[t("div",{staticClass:"card-header filter-head p-0",attrs:{role:"tab",id:"headingOne1"}},[t("h5",{staticClass:"mb-0 px-2"},[e._v(e._s(e.ReportName)+" "),t("span",{staticClass:"expand_all_filters"},[t("span",{attrs:{id:"SearchData"}},[t("a",{staticClass:"collapsed",attrs:{title:e.$t("EditReportName"),"data-toggle-tooltip":"tooltip"},on:{click:function(t){return e.editreport()}}},[t("em",{staticClass:"fa fa-pencil",staticStyle:{"font-size":"20px"},attrs:{"aria-hidden":"true"}})])]),t("span",[t("a",{staticClass:"collapsed",attrs:{title:"Collapse","data-toggle-tooltip":"tooltip"},on:{click:function(t){return e.collapsedclick()}}},[t("em",{staticClass:"fa fa-angle-double-left mt-1",attrs:{"aria-hidden":"true"}})])])])])])]),t("div",{class:e.saveclass},[t("div",{staticClass:"card-header filter-head p-0",attrs:{role:"tab",id:"headingOne1"}},[t("h5",{staticClass:"mb-0 pl-2 mt-1"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.savereportname,expression:"savereportname"}],staticClass:"form-control p-1",staticStyle:{width:"83%"},attrs:{type:"text"},domProps:{value:e.savereportname},on:{input:function(t){t.target.composing||(e.savereportname=t.target.value)}}}),t("span",{staticClass:"expand_all_filters"},[t("span",{attrs:{id:"SearchData"}},[t("a",{staticClass:"collapsed",attrs:{title:e.$t("Save"),"data-toggle-tooltip":"tooltip"},on:{click:function(t){return e.savereport()}}},[t("em",{staticClass:"fa fa-floppy-o mt-1",attrs:{"aria-hidden":"true"}})])])])])])]),t("div",{staticClass:"card-panel"},[t("div",{staticClass:"mb-0 d-lg-block p-2 border"},[t("div",{staticClass:"input-group customsearchbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.MainSearchmodel,expression:"MainSearchmodel"}],staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",id:"searchinput",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.MainSearchmodel},on:{keyup:e.ListFiltering,input:function(t){t.target.composing||(e.MainSearchmodel=t.target.value)}}}),e._m(0)])]),e._l(e.submodulecodename,(function(a,l){return t("div",{key:l,staticClass:"card",staticStyle:{"border-bottom":"1px solid #929292"}},[t("div",{staticClass:"card-header pl-0",attrs:{role:"tab",id:"headingOnee"+l}},[t("h5",{staticClass:"mb-0"},[t("a",{staticClass:"collapsed",attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"javascript:;","aria-expanded":"false","data-target":"#collapseOne"+l,"aria-controls":"collapseOne"+l}},[t("em",{staticClass:"fa fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(a.SubModule))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})]),e._m(1,!0)])]),t("div",{class:0==e.modulelisting.length?"d-none":0==e.modulelisting[l].length&&!e.showModuleListForFilter||0==e.modulelistingforfilter[l].length&&e.showModuleListForFilter?"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2":"d-none"},[e._v(" "+e._s(e.$t("NoFieldAvailable")))]),t("div",{staticClass:"collapse multi-collapse",attrs:{id:"collapseOne"+l,role:"tabpanel","aria-labelledby":"headingOnee"+l,"data-parent":"#accordionEx"}},[t("PerfectScrollbar",[t("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"300px"}},[t("div",{staticClass:"form-group"},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix"},[e.showModuleListForField?t("draggable",{staticClass:"draggable-list",attrs:{list:0==e.searchColumnfilter.length?e.modulelisting[l]:e.searchColumnfilter[l],group:"my-groupForFields",move:e.checkMove,"item-key":"CustomFieldId"},on:{start:function(t){e.drag=!0},end:e.onDragEnd,change:function(t){return e.GetDraggedItem(t,l,a.SubModule)}},model:{value:e.modulelistingmodel,callback:function(t){e.modulelistingmodel=t},expression:"modulelistingmodel"}},e._l(0==e.searchColumnfilter.length?e.modulelisting[l]:e.searchColumnfilter[l],(function(i,s){return t("li",{key:s,staticClass:"nav-item parent-element",attrs:{id:"StopDragfield"}},[t("span",{staticClass:"nav-link left-menu px-3"},[t("em",{class:void 0!=i.FieldIcons?i.FieldIcons+" float-left":null!=i.dttype[0].icon?i.dttype[0].icon+" float-left":"float-left",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":e.GetLocalizedValue(i.FieldName,i.DisplayName),title:e.GetLocalizedValue(i.FieldName,i.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(i.FieldName,i.DisplayName))+" ")]),t("a",{attrs:{href:"#"}},[t("em",{staticClass:"fa fa-plus float-right mt-1 text-success pr-0",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.Addfields(i,t,l,a.SubModule)}}})])])])})),0):e._e(),e.showModuleListForFilter?t("draggable",{staticClass:"draggable-list",attrs:{list:0==e.searchColumnfilter.length?e.modulelistingforfilter[l]:e.searchColumnfilter[l],group:"my-groupForFilter",move:e.checkMove,"item-key":"CustomFieldId"},on:{start:function(t){e.drag=!0},end:e.onDragEnd,change:function(t){return e.GetDraggedItem(t,l)}},model:{value:e.modulelistingmodel,callback:function(t){e.modulelistingmodel=t},expression:"modulelistingmodel"}},e._l(0==e.searchColumnfilter.length?e.modulelistingforfilter[l]:e.searchColumnfilter[l],(function(a,i){return t("li",{key:i,staticClass:"nav-item parent-element",attrs:{id:"StopDragfield"}},[t("span",{staticClass:"nav-link left-menu px-3"},[t("em",{class:void 0!=a.FieldIcons?a.FieldIcons+" float-left":null!=a.dttype[0].icon?a.dttype[0].icon+" float-left":"float-left",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":a.FieldName,title:e.GetLocalizedValue(a.FieldName,a.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName))+" ")]),t("a",{attrs:{href:"#"}},[t("em",{staticClass:"fa fa-sliders float-right mt-1 text-primary pr-0",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.AddFilter(a,l)}}})])])])})),0):e._e()],1)])])])],1)])})),e.SearchNoRecord?t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound")))]):e._e()],2)])],1),t("div",{class:e.showdiv,staticStyle:{float:"left",width:"50px"},on:{click:function(t){return e.expandclick()}}},[e._m(2)]),t("div",{class:e.fieldpan},[t("div",{staticClass:"tab-style w-100"},[t("div",{staticClass:"tab_container",attrs:{role:"tabpanel"}},[t("div",{staticClass:"tab-content"},[t("b-tabs",{attrs:{pills:""}},[t("b-tab",{ref:"FIELDS",staticClass:"fields",attrs:{title:"FIELDS",active:e.showModuleListForField},on:{click:e.FieldTabClicked}},[t("div",{staticClass:"col-12 p-0 float-left"},[t("h6",{staticClass:"mb-1"},[e._v(e._s(e.$t("Groups")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.Groupsearchmodel,expression:"Groupsearchmodel"}],staticClass:"form-control",attrs:{placeholder:"Add Group"},domProps:{value:e.Groupsearchmodel},on:{keypress:e.GroupSearching,input:function(t){t.target.composing||(e.Groupsearchmodel=t.target.value)}}}),""!=e.Groupsearchmodel?t("div",{staticClass:"autosuggestion",class:e.itemclass},[e._l(e.filtergroup,(function(a,l){return t("div",{key:l},[t("div",[t("div",{on:{click:function(t){return e.selectfiltervalue(a)}}},[e._v(" "+e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName))+" : "+e._s(a.MainFieldname)+" ")])])])})),0==e.filtergroup.length?t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()],2):e._e(),t("br"),t("draggable",{staticClass:"draggable-list",attrs:{list:e.Grouplist,group:"my-groupGrouplist","item-key":"CustomFieldId"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1}},model:{value:e.Grouplist,callback:function(t){e.Grouplist=t},expression:"Grouplist"}},e._l(e.Grouplist,(function(a,l){return t("div",{key:l,staticClass:"list-item"},[t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"200px"},attrs:{"data-toggle-tooltip":a.FieldName,title:a.FieldName}},[e._v(" "+e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName))+" ")]),t("a",[t("em",{staticClass:"fa fa-trash-o text-danger",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.DeleteGroupFields(a,t,l)}}})])])})),0)],1),t("hr"),t("div",{staticClass:"col-12 p-0 float-left"},[t("h6",{staticClass:"mb-1"},[e._v(e._s(e.$t("COLUMNS")))]),t("div",{staticClass:"verticle-action",staticStyle:{top:"-3px"}},[t("em",{class:1==e.CalculatedUIEnabled?"fa fa-ellipsis-v action_icon":"fa fa-ellipsis-v action_icon disabled",attrs:{id:"btnpopup","aria-hidden":"true"},on:{click:function(t){return e.openActionIcon(t)}}}),e.showRowLevelFunction?t("span",{staticClass:"action-list-box",staticStyle:{width:"240px",display:"block"}},[t("span",{staticClass:"list-actions fsm-list",staticStyle:{"padding-left":"0"},attrs:{id:"action-list"}},[t("a",{staticClass:"update actions-onclick",on:{click:e.OpenCalculatedUI}},[t("span",{staticClass:"text"},[e._v(e._s(e.$t("CalcultedUIName")))])]),t("em",{staticClass:"fa fa-times close close-action",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.closeActionIcon(t)}}})])]):e._e()]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.ColumnSearchmodel,expression:"ColumnSearchmodel"}],staticClass:"form-control",attrs:{placeholder:"Add Column"},domProps:{value:e.ColumnSearchmodel},on:{keypress:e.GroupSearching,input:function(t){t.target.composing||(e.ColumnSearchmodel=t.target.value)}}}),""!=e.ColumnSearchmodel?t("div",{staticClass:"autosuggestion",class:e.itemclass,staticStyle:{"z-index":"9999"}},[e._l(e.filterColumngroup,(function(a,l){return t("div",{key:l},[t("div",[t("div",{on:{click:function(t){return e.selectfilterColumnvalue(a)}}},[e._v(" "+e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName))+" : "+e._s(a.MainFieldname)+" ")])])])})),0==e.filterColumngroup.length?t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound"))+" ")]):e._e()],2):e._e(),t("div",{staticClass:"dashed_bod_drag text-center mt-2"},[t("h6",{staticClass:"p-2 m-0"},[e._v("Drag Fields Here ")]),t("draggable",{staticClass:"draggable-list",attrs:{list:e.Columnlist,group:"my-groupForFields",id:"TargetDivID",move:e.checkMove,"item-key":"CustomFieldId"},on:{start:function(t){e.drag=!0},end:e.ColumnListDisplayOrder},model:{value:e.Columnlist,callback:function(t){e.Columnlist=t},expression:"Columnlist"}},e._l(e.Columnlist,(function(a,l){return t("div",{key:l,staticClass:"list-item parent-element",attrs:{id:"TargetDivID"}},[1==a.Calculated_Field?t("span",{staticStyle:{"font-size":"22px",float:"left","margin-right":"10px"}},[e._v("f"),t("sub",{staticStyle:{"font-size":"12px"}},[e._v("x")])]):e._e(),t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"200px"},attrs:{"data-toggle-tooltip":a.FieldName,title:e.GetLocalizedValue(a.FieldName,a.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName))+" "+e._s(a.ExpresssionFieldName)+" ")]),t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.DeleteColumnFields(a,t)}}},[t("em",{staticClass:"fa fa-trash-o text-danger"})]),t("div",{staticClass:"parentdiv datarepfix"},[t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openSetting(a,t)}}},[t("em",{staticClass:"fa fa-cog action_icon_cv"})]),t("div",[t("div",{staticClass:"verticle-action rt25"},[t("span",{staticClass:"action-list-box small setting-div-box"},[t("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"480px"},attrs:{id:"action-list"}},[t("div",{staticClass:"float-left col-12 p-0"},[t("div",{staticClass:"container-fluid p-0 mb-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"theme-primary partition-full"},[t("span",{staticClass:"p-name text-white mt-2"},[e._v(" "+e._s(e.$t("Setting"))+" ")])])])])]),t("div",{staticClass:"col-12 float-left"},[t("div",{staticClass:"col-12 p-0 float-left"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("DisplayName")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.modeldisplayname,expression:"modeldisplayname"}],staticClass:"form-control",attrs:{maxlength:"20"},domProps:{value:e.modeldisplayname},on:{input:function(t){t.target.composing||(e.modeldisplayname=t.target.value)}}})])]),t("div",{staticClass:"col-12 p-0 float-left"},[t("div",{class:"date"==a.ColumnFieldDataCode?"":"form-group d-none"},[t("label",[e._v(e._s(e.$t("DateFormat"))+":")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.modeldateformat,expression:"modeldateformat"}],staticClass:"form-control textnormal",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modeldateformat=t.target.multiple?a:a[0]}}},[t("option",{attrs:{value:"",disabled:""}},[e._v(" Select ")]),e._l(e.GetDateFromDB,(function(a,l){return t("option",{key:l},[e._v(" "+e._s(e.GetLocalizedValue(a.dateFormat))+" ")])}))],2)])]),t("div",{staticClass:"col-12 p-0 float-left"},[t("div",{class:"decimal"==a.ColumnFieldDataCode?"":"form-group d-none"},[t("label",[e._v(e._s(e.$t("DecimalPlaces")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.modeldecimalplaces,expression:"modeldecimalplaces"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.modeldecimalplaces},on:{input:function(t){t.target.composing||(e.modeldecimalplaces=t.target.value)}}})])]),t("div",{staticClass:"col-12 p-0 float-left",staticStyle:{"margin-top":"10px"}},[t("div",{class:"decimal"==a.ColumnFieldDataCode?"":"form-group d-none"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.modeluseseparator,expression:"modeluseseparator"}],attrs:{type:"checkbox",id:"useseparator"},domProps:{checked:Array.isArray(e.modeluseseparator)?e._i(e.modeluseseparator,null)>-1:e.modeluseseparator},on:{change:function(t){var a=e.modeluseseparator,l=t.target,i=!!l.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);l.checked?r<0&&(e.modeluseseparator=a.concat([s])):r>-1&&(e.modeluseseparator=a.slice(0,r).concat(a.slice(r+1)))}else e.modeluseseparator=i}}}),e._v("  "),t("label",{attrs:{for:"User"}},[e._v(e._s(e.$t("UseSeparator")))]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.modelusecurrency,expression:"modelusecurrency"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.modelusecurrency)?e._i(e.modelusecurrency,null)>-1:e.modelusecurrency},on:{change:function(t){var a=e.modelusecurrency,l=t.target,i=!!l.checked;if(Array.isArray(a)){var s=null,r=e._i(a,s);l.checked?r<0&&(e.modelusecurrency=a.concat([s])):r>-1&&(e.modelusecurrency=a.slice(0,r).concat(a.slice(r+1)))}else e.modelusecurrency=i}}}),t("label",{staticStyle:{padding:"6px"},attrs:{for:"Role"}},[e._v(e._s(e.$t("UseCurrency")))])])]),t("div",{staticClass:"col-12 p-0 float-left mb-3"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{staticClass:"btn btn-success ancsaveuserticket text-white",attrs:{id:"btnSaveTicket",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to submit ticket"},on:{click:function(t){return e.SaveSelectedData(a,t)}}},[t("span",{staticClass:"fa fa-floppy-o"}),e._v(" "+e._s(e.$t("Save"))+" ")])])])])])]),t("em",{staticClass:"fa fa-times close close-action_cv",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.CloseSetting(t)}}}),t("div",{staticClass:"va_rt25"},[t("em",{staticClass:"icon-solid arrow-solid-left text-dark",staticStyle:{"font-size":"20pt"}})])])])])])]),t("div",{staticClass:"float-left text-left w-100 font-12"},[e._v(e._s(a.MainFieldname))])])})),0)],1)])]),t("b-tab",{ref:"Filters",attrs:{title:"Filters",active:e.showModuleListForFilter},on:{click:e.FilterTabClicked}},[t("div",{staticClass:"col-12 p-0 float-left"},[t("h6",[e._v("include data if it matches")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],staticClass:"form-control",attrs:{name:"template"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.category=t.target.multiple?a:a[0]},e.filterRulechange]}},e._l(e.templates,(function(a,l){return t("option",{key:l,domProps:{selected:a==e.category?"selected":"",value:a}},[e._v(" "+e._s(a)+" ")])})),0),t("h6",{staticClass:"mt-3"},[e._v("Filter rules")]),t("div",{staticClass:"form-control"},[e._l(e.Filterlist,(function(a,l){return"Match All Value"==e.category?t("span",{key:l,attrs:{"ml-1":""}},[e._v(" "+e._s(e.Filterlist.indexOf(a)+1)+" "),e.Filterlist.length>e.Filterlist.indexOf(a)+1?t("span",{staticStyle:{"margin-right":"3px"}},[e._v(" "+e._s(e.filtertype))]):e._e()]):e._e()})),e._l(e.Filterlist,(function(a,l){return"Match All Value"!=e.category?t("span",{key:l},[e._v(" "+e._s(e.Filterlist.indexOf(a)+1)+" "),e.Filterlist.length>e.Filterlist.indexOf(a)+1?t("span",{staticStyle:{"margin-right":"3px"}},[e._v(e._s(e.filtertype))]):e._e()]):e._e()}))],2),t("draggable",{staticClass:"draggable-list",attrs:{list:e.Filterlist,group:"my-groupForFilter",move:e.checkMove,"item-key":"CustomFieldId",id:"TargetDivID"},on:{start:function(t){e.drag=!0},end:function(t){e.drag=!1},dragenter:function(t){return e.dragover(t)},dragleave:function(t){return e.dragover(t)},drop:function(t){return e.dragover(t)}},model:{value:e.Filterlist,callback:function(t){e.Filterlist=t},expression:"Filterlist"}},e._l(e.Filterlist,(function(a,l){return t("div",{key:l,staticClass:"list-item row filter-div",attrs:{id:"TargetDivID"},on:{dragover:function(t){return e.dragover(t)}}},[t("div",{staticClass:"counter_num px-1 py-2 filter-count-div"},[e._v(" "+e._s(e.Filterlist.indexOf(a)+1)+" ")]),t("div",{staticStyle:{width:"77%"}},[t("div",{staticClass:"px-1 py-0 width120 text-truncate float-left font-14"},[1==a.Calculated_Field?t("span",{staticStyle:{"font-size":"22px",float:"left","margin-right":"10px"}},[e._v("f"),t("sub",{staticStyle:{"font-size":"12px"}},[e._v("x")])]):e._e(),t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"110px"},attrs:{"data-toggle-tooltip":a.FieldName,title:e.GetLocalizedValue(a.FieldName,a.DisplayName)}},[e._v(" "+e._s(e.GetLocalizedValue(a.FieldName,a.DisplayName))+e._s(a.ExpresssionFieldName)+" ")])]),t("div",{staticClass:"px-1 py-0 text-primary width80 text-truncate float-left font-14"},[e._v(" "+e._s(a.OperatorDisplayName)+" ")]),t("div",{staticClass:"px-1 py-0 hh text-truncate float-left font-12 w-100"},[e._v(" "+e._s(a.valueTypeText)+" "+e._s(a.valueTypeNumber)+" "+e._s(a.valueTypeNumber2)+" "+e._s(e.$options.filters.formatDate(a.valueTypeFirstdate))+" "+e._s(e.$options.filters.formatDate(a.valueTypeSeconddate))+" "+e._s(a.ValueDisplayFirstTime)+" "+e._s(a.ValueDisplaySecondTime)+" "+e._s(a.Displaymultiplevalue)+" "+e._s(a.DropDownValue)+" ")])]),t("div",{staticClass:"parentdiv datarepfix filters"},[t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.DeleteFilterFields(a,t)}}},[t("em",{class:a.IsMandatoryforFilter?"fa fa-trash-o text-danger d-none":"fa fa-trash-o text-danger"})]),t("a",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.openrulespop(a,t)}}},[t("em",{staticClass:"fa fa-cog action_icon_cv"})]),t("div",[t("div",{staticClass:"verticle-action rt25 rt502"},[t("span",{staticClass:"action-list-box small filter-list-box"},[t("span",{staticClass:"list-actions text-left p-0 datarep ml-3",staticStyle:{width:"480px"},attrs:{id:"action-list"}},[t("div",{staticClass:"float-left col-12 p-0"},[t("div",{staticClass:"container-fluid p-0 mb-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12"},[t("div",{staticClass:"theme-primary partition-full"},[t("span",{staticClass:"p-name text-white mt-2"},[e._v(" "+e._s(e.$t("Setting"))+" ")])])])])]),t("div",{staticClass:"col-12 float-left"},[t("div",{staticClass:"col-12 p-0 float-left"},[e._l(e.GetOperator,(function(l,i){return t("div",{key:i,staticClass:"form-group"},[t("input",{directives:[{name:"model",rawName:"v-model",value:a.selectedOPValue,expression:"element.selectedOPValue"}],staticClass:"radio",attrs:{type:"radio",name:"radiobtn"+(e.Filterlist.indexOf(a)+1)},domProps:{value:l.OPERATOR_ID,checked:e._q(a.selectedOPValue,l.OPERATOR_ID)},on:{click:function(t){return e.checkvalue(l.OPERATOR_DISPLAY_NAME,a,l.OPERATOR_EXPRESSION,l.OPERATOR_ID,l.MP[0].OPERATION_DATA_TYPE)},change:function(t){return e.$set(a,"selectedOPValue",l.OPERATOR_ID)}}}),t("label",{staticClass:"ml-2"},[e._v(" "+e._s(l.OPERATOR_DISPLAY_NAME)+" ")]),t("br")])})),e.texttypevalue1?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaytext,expression:"ValueDisplaytext"}],staticClass:"form-control",attrs:{type:"text",id:"inpttxt"},domProps:{value:e.ValueDisplaytext},on:{input:function(t){t.target.composing||(e.ValueDisplaytext=t.target.value)}}}):e._e(),e.texttypevalue2?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaytext2,expression:"ValueDisplaytext2"}],staticClass:"form-control",attrs:{type:"text",id:"inpttxt2"},domProps:{value:e.ValueDisplaytext2},on:{input:function(t){t.target.composing||(e.ValueDisplaytext2=t.target.value)}}}):e._e(),e.numbertypevalue1?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaynumber,expression:"ValueDisplaynumber"}],staticClass:"form-control",attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:e.ValueDisplaynumber},on:{keydown:function(t){return e.PreventValues(t)},input:function(t){t.target.composing||(e.ValueDisplaynumber=t.target.value)}}}):e._e(),t("br"),e.numbertypevalue2?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaynumber2,expression:"ValueDisplaynumber2"}],class:{"form-control":!0,"is-invalid":e.ValueDisplaynumber2<e.ValueDisplaynumber&&(""!=e.ValueDisplaynumber2||"0"==e.ValueDisplaynumber2)},attrs:{type:"number",id:"inpttxtbtw"},domProps:{value:e.ValueDisplaynumber2},on:{keydown:function(t){return e.PreventValues(t)},input:function(t){t.target.composing||(e.ValueDisplaynumber2=t.target.value)}}}):e._e(),e.ValueDisplaynumber2<e.ValueDisplaynumber&&(""!=e.ValueDisplaynumber2||"0"==e.ValueDisplaynumber2)?t("span",{staticClass:"invalid-feedback"},[e._v("Second value should be greater than first value.")]):e._e(),e.datetypevalue1?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaydate,expression:"ValueDisplaydate"}],staticClass:"form-control",attrs:{type:"date",id:"inpttxtdate1",max:"9999-12-31"},domProps:{value:e.ValueDisplaydate},on:{input:function(t){t.target.composing||(e.ValueDisplaydate=t.target.value)}}}):e._e(),e.datetypevalue2?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplaydate2,expression:"ValueDisplaydate2"}],class:{"form-control":!0,disabled:""==e.ValueDisplaydate},attrs:{type:"date",id:"inpttxtdate2",min:e.ValueDisplaydate,max:"9999-12-31"},domProps:{value:e.ValueDisplaydate2},on:{input:function(t){t.target.composing||(e.ValueDisplaydate2=t.target.value)}}}):e._e(),e.timetypevalue?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplayTime,expression:"ValueDisplayTime"}],staticClass:"form-control",attrs:{type:"time",id:"inpttxttime1"},domProps:{value:e.ValueDisplayTime},on:{input:function(t){t.target.composing||(e.ValueDisplayTime=t.target.value)}}}):e._e(),e.timetypevalue2?t("input",{directives:[{name:"model",rawName:"v-model",value:e.ValueDisplayTime2,expression:"ValueDisplayTime2"}],class:{"form-control":!0,disabled:""==e.ValueDisplayTime},attrs:{type:"time",id:"inpttxttime2",min:e.ValueDisplayTime},domProps:{value:e.ValueDisplayTime2},on:{input:function(t){t.target.composing||(e.ValueDisplayTime2=t.target.value)}}}):e._e(),e.DDLForFilter?t("select",{directives:[{name:"model",rawName:"v-model",value:e.modelFilterDDLValue,expression:"modelFilterDDLValue"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.modelFilterDDLValue=t.target.multiple?a:a[0]}}},[t("option",{attrs:{disabled:""}},[e._v("Select ")]),e._l(e.options,(function(a){return t("option",{key:a.value,attrs:{title:a.label},domProps:{value:a.value}},[e._v(" "+e._s(e.TruncateStr(a.label,50)))])}))],2):e._e(),e.multiselectvalue?t("div",[t("Multiselect",{staticClass:"form-control",attrs:{multiple:!0,label:"label","track-by":"label",placeholder:"Select",searchable:!0,mode:"multiple",hideSelected:!1,"close-on-select":!1,options:e.options},scopedSlots:e._u([{key:"multiplelabel",fn:function({values:a}){return[a&&a.length>0?t("div",{staticClass:"multiselect-multiple-label"},[t("div",{staticClass:"multiselect-tags",attrs:{"data-tags":""}},[t("span",{staticClass:"multiselect-tag",attrs:{tabindex:"-1","aria-label":a[0].label}},[e._v(e._s(e.TruncateStr(a[0].label,18))+" "),t("span",{staticClass:"multiselect-tag-remove"},[t("span",{staticClass:"multiselect-tag-remove-icon"})])])]),a&&a.length>1?t("span",[e._v(" "+e._s(a.length)+" options selected ")]):e._e()]):e._e()]}}],null,!0),model:{value:e.dropdwonvalues,callback:function(t){e.dropdwonvalues=t},expression:"dropdwonvalues"}})],1):e._e()],2),t("div",{staticClass:"col-12 p-0 float-left mb-3 mt-3"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("a",{class:{"btn btn-primary ancsaveuserticket text-white":!0,disabled:e.ValueDisplaynumber2<e.ValueDisplaynumber&&e.numbertypevalue2},attrs:{id:"btnSaveTicket",title:"","data-toggle-tooltip":"tooltip","data-original-title":"Click here to submit ticket"},on:{click:function(t){return e.applySetting(a.CustomFieldId)}}},[t("em",{class:{"fa fa-save text-white":!0,disabled:e.ValueDisplaynumber2<e.ValueDisplaynumber&&e.numbertypevalue2}}),e._v("Apply")])])])])])]),t("em",{staticClass:"fa fa-times close close-action_cv",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.ClosePopFilter()}}}),t("div",{staticClass:"va_rt25"},[t("em",{staticClass:"icon-solid arrow-solid-left text-dark",staticStyle:{"font-size":"20pt"}})])])])])])])])})),0)],1),t("hr")])],1),e._m(3)],1)])])])]),e.showReportPreview?t("ReportPreview",{ref:"reportdata",attrs:{previewdata:e.previewdata,customreportparameters:e.customreportparameters,Columnlist:e.Columnlist,Grouplist:e.Grouplist,saveJsonReport:e.saveJsonReport,PdfJsonReport:e.PdfJsonReport,editjsondata:e.editjsondata,ReportName:e.ReportName,GraphData:e.graphData,SortingData:e.sortingData,GraphJson:e.GraphJson,LevelOfGrouping:e.LevelOfGrouping}}):e._e(),e.showcalculatedUI?t("CalculatedUI",{ref:"Calculated",attrs:{customreportparameters:e.customreportparameters,Columnlist:e.Columnlist,ExpFieldDataArray:e.ExpFieldDataArray,editexpressionvalue:e.editexpressionvalue,ExpDataArray:e.ExpDataArray},on:{close:function(t){e.showcalculatedUI=!1},VerifiedExpressionData:e.VerifiedExpressionColumnValue}}):e._e()],1)},i=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"})])},function(){var e=this,t=e._self._c;return t("a",{staticClass:"tab-Search-btn"},[t("em",{staticClass:"fa fa-search",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"expand_all_filters",staticStyle:{position:"absolute",left:"0"}},[t("span",[t("a",{staticClass:"collapsed",attrs:{title:"Expand","data-toggle-tooltip":"tooltip"}},[t("em",{staticClass:"fa fa-angle-double-right mt-1",attrs:{"aria-hidden":"true"}})])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab-pane",attrs:{role:"tabpanel",id:"tab-em-groups"}},[t("div",{staticClass:"col-sm-12 col-md-12 col-lg-12 col-xl-12 p-0"},[t("div",{staticClass:"listing"},[t("div",{staticClass:"table-responsive"})])])])}],s=(a("14d9"),a("9769")),r=a("b76a"),o=a.n(r),n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"right-content datareport hr_jobpost"},[t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"theme-primary partition p-actions-expand"},[t("loader",{attrs:{isVisible:e.isLoading}}),t("span",{staticClass:"p-name text-white"},[e._v(e._s(e.$t("ReportPreview")))]),t("span",{staticClass:"p-actions float-right mydbsize"},[t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"REPORT PREVIEW"},on:{click:e.PreviewReport}},[t("em",{staticClass:"fa fa-play"}),t("br"),e._v(e._s(e.$t("ReportPreview"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"RESET"},on:{click:e.ResetData}},[t("em",{staticClass:"fa fa-repeat"}),t("br"),e._v(e._s(e.$t("Reset"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"PDF"},on:{click:e.ExportToPDF}},[t("em",{staticClass:"fa fa-file-pdf-o"}),t("br"),e._v(e._s(e.$t("ExportToPdf"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"Excel"},on:{click:e.ExportToExcel}},[t("em",{staticClass:"fa fa-file-excel-o"}),t("br"),e._v(e._s(e.$t("ExportToExcel"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"SORT"},on:{click:e.OpenSortingPopup}},[t("em",{staticClass:"fa fa-sort-amount-asc"}),t("br"),e._v(e._s(e.$t("SORT"))+" ")]),t("a",{staticClass:"p-action-btn text-white dash",attrs:{"data-original-title":"GRAPH"},on:{click:e.OpenGraph}},[t("em",{staticClass:"fa fa-pie-chart"}),t("br"),e._v(e._s(e.$t("Graph"))+" ")])]),e._m(0)],1),t("div",{staticClass:"parentdiv datarepfix"},[t("div",{staticClass:"verticle-action lft75"},[t("span",{staticClass:"action-list-box small",staticStyle:{width:"400px"}},[e.isSortPopup?t("span",{staticClass:"list-actions text-left p-0 datarep mt-3 w-100",attrs:{id:"action-list1"}},[t("div",{staticClass:"float-left col-12"},[t("div",{staticClass:"container-fluid p-0 mb-3"}),t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),e._l(e.sortColummnarray,(function(a,l){return t("div",{key:"phoneInput-"+l,staticClass:"row"},[t("div",{staticClass:"col-lg-5 pr-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("SortBy")))]),t("select",{directives:[{name:"model",rawName:"v-model",value:a.sortcolummnId,expression:"input.sortcolummnId"}],staticClass:"form-control",on:{change:function(t){var l=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"sortcolummnId",t.target.multiple?l:l[0])}}},e._l(e.Columnlist.filter(e=>0==e.Calculated_Field),(function(a){return t("option",{key:a.CustomFieldId,attrs:{disabled:e.sortColummnarray.filter(e=>e.sortcolummnId==a.CustomFieldId).length>0},domProps:{value:a.CustomFieldId}},[e._v(" "+e._s(a.DisplayName?e.GetLocalizedValue(a.DisplayName):e.GetLocalizedValue(a.FieldName))+" ")])})),0)])]),t("div",{staticClass:"col-lg-5 pr-0"},[t("div",{staticClass:"form-group"},[t("label",[e._v(e._s(e.$t("OrderBy")))]),t("select",{directives:[{name:"model",rawName:"v-model",value:a.columnOrders,expression:"input.columnOrders"}],staticClass:"form-control",on:{change:function(t){var l=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(a,"columnOrders",t.target.multiple?l:l[0])}}},[t("option",[e._v(e._s(e.$t("ASC")))]),t("option",[e._v(e._s(e.$t("DESC")))])])])]),t("div",{staticClass:"col-lg-2"},[t("div",{staticClass:"form-group"},[t("a",{on:{click:function(t){return e.AddSortingForm(a)}}},[t("em",{staticClass:"fa fa-plus-circle font-24 text-success mt-3"})]),t("a",{directives:[{name:"show",rawName:"v-show",value:""!=e.sortColummnarray[0].sortcolummnId||e.isValueExistInSort,expression:"sortColummnarray[0].sortcolummnId != '' || isValueExistInSort"}],on:{click:function(t){return e.RemoveSortingForm(a)}}},[t("em",{staticClass:"fa fa-times-circle font-24 text-danger mt-3 ml-1"})])])])])}))],2),e._m(1)]):e._e()])])])]),t("div",{staticClass:"col-md-12 p-0 mb-2"},[t("div",{staticClass:"tab-pane mb-0"},[t("div",{staticClass:"tab-content fsmtabcontrolMobileView",attrs:{id:"myTabContent"}},[e._m(2),e.showGraphOptions?t("div",{staticClass:"card mb-3 probx"},[t("div",{staticClass:"card-header"},[t("h2",[e._v(e._s(e.$t("Graph")))]),t("a",{staticClass:"btn btn-primary",on:{click:e.OpenGraphOptions}},[e._v(e._s(e.$t("GraphOptions"))+" "),t("em",{staticClass:"fa fa-cogs"})])]),e.showChart?t("div",{staticClass:"card-body",staticStyle:{"min-height":"245px"},attrs:{id:"Reportpdf"}},[t("div",{staticClass:"float-right"},[t("a",{staticClass:"text-center text-danger",on:{click:function(t){return e.ResetGraphData()}}},[t("span",{staticClass:"fa fa-trash-o text-danger",staticStyle:{"font-size":"25px"}})])]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-12 col-lg-12 text-center p-0"},[t("div",{staticClass:"border bg-light float-left text-left p-0 graphinfo_base_lft"},[t("ul",{staticClass:"graphinfo"},[t("li",[t("label",[e._v("X-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.FilterCustomFieldName(e.XAxisField))))]),t("li",[t("label",[e._v("Y-axis:")]),e._v(" "+e._s(e.GetLocalizedValue(e.FilterCustomFieldName(e.YAxisField))))]),t("li",{directives:[{name:"show",rawName:"v-show",value:0!=e.aggregateFunctionResult,expression:"aggregateFunctionResult != 0"}]},[t("label",[e._v("# "+e._s(e.aggregateFunctionType)+":")]),e._v(" "+e._s(e.aggregateFunctionResult)+" ")])])]),"line"==e.chartType||"bar"==e.chartType?t("div",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt"},[t("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",options:e.chartOptions,series:e.chartSeries}})],1):e._e(),"pie"==e.chartType||"donut"==e.chartType?t("div",{staticClass:"p-0 m-0 float-left graphinfo_base_rgt"},[t("VueApexCharts",{ref:"chart",attrs:{type:e.chartType,height:"auto",options:e.chartOptions,series:e.chartSeries}})],1):e._e()])])]):e._e()]):e._e(),t("div",{staticClass:"tab-pane p-0 pb-2 border-0 active",attrs:{role:"tabpanel",id:"tab-detail-content","aria-labelledby":"tab-detail-content"}},[t("div",{staticClass:"listing mt-3"},[t("div",{staticClass:"table-responsive table-fix-header"},[t("table",{staticClass:"table table-bordered mt-0",staticStyle:{width:"100%"},attrs:{id:"Reportpdf","aria-label":"Report Preview Listing"}},[t("thead",{staticClass:"thead-bg"},[t("tr",[e._l(e.previewgroupdata,(function(a,l){return e.showdata?t("th",{key:l,attrs:{scope:"col"}},[e._v(" "+e._s(e.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName)))]):e._e()})),e._l(e.previewcolumn,(function(a,l){return t("th",{key:l,attrs:{scope:"col"}},[e._v(" "+e._s(e.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+e._s(a.ExpresssionFieldName)+" ")])}))],2)]),e.noRecord?t("tbody",[t("tr",{staticStyle:{cursor:"initial"}},[t("td",{attrs:{colspan:"4"}},[t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs"},[e._v(" "+e._s(e.$t("NoRecordfound")))])])])]):e._e(),e._l(e.previewdata,(function(a,l){return t("tbody",[e._l(e.previewdata[l].data,(function(l,i){return e.showdata?t("tr",[0==i?e._l(e.previewgroupdata,(function(l,i){return t("td",{class:{onlyrtbod:!0,"":null==a.totalRecord},attrs:{rowspan:a.totalRecord}},[e._v(" "+e._s(null!=a[l.DisplayName]&&""!=a[l.DisplayName]?a[l.DisplayName]:a[l.FieldName])+" "),e._v(" ("+e._s(null!=a[l.DisplayName]&&""!=a[l.DisplayName]||null!=l.FieldName&&""!=l.FieldName?a.totalRecord:"-")+") ")])})):e._e(),e._l(e.previewcolumn,(function(a,i){return t("td",{key:i},[t("span",{domProps:{innerHTML:e._s(1==l[a.DisplayName]&&1!=l[a.DisplayName]||0==l[a.DisplayName]&&0!=l[a.DisplayName]?1==l[a.DisplayName]?"YES":"NO":1==l[a.FieldName]||"NO"||null!=l[a.DisplayName]&&""!=l[a.DisplayName]?l[a.DisplayName]||0==l[a.DisplayName]?l[a.DisplayName]:"":l[a.FieldName]||0==l[a.DisplayName]?l[a.FieldName]:"")}})])}))],2):e._e()})),e.showcoldata?t("tr",e._l(e.previewcolumn,(function(l,i){return t("td",{key:i},[t("span",{domProps:{innerHTML:e._s(1==a[l.DisplayName]&&1!=a[l.DisplayName]||0==a[l.DisplayName]&&0!=a[l.DisplayName]?1==a[l.DisplayName]?"YES":"NO":1==a[l.FieldName]||"NO"||null!=a[l.DisplayName]&&""!=a[l.DisplayName]?a[l.DisplayName]||0==a[l.DisplayName]?a[l.DisplayName]:"":a[l.FieldName]||0==a[l.DisplayName]?a[l.FieldName]:"")}}),e._v(" "+e._s(a[l.ExpresssionFieldName])+" ")])})),0):e._e()],2)}))],2)])])]),t("div",{staticClass:"float-right"},[t("a",{staticClass:"btn btn-success my-2 my-sm-0 mr-2",on:{click:function(t){return e.SaveAllReport()}}},[e._v("  "),t("span",{staticClass:"fa fa-floppy-o"}),e._v(" "+e._s(e.$t("Save"))+" ")]),t("a",{staticClass:"btn btn-danger",on:{click:function(t){return e.CancelAll()}}},[e._v("  "),t("span",{staticClass:"fa fa-times"}),e._v(" "+e._s(e.$t("Cancel"))+" ")])])])])])]),t("modalGraphOptions",{ref:"modalGraph",attrs:{Columnlist:e.Columnlist,showGraphOptions:e.showGraphOptions,customreportparameters:e.customreportparameters,GraphData:e.GraphData,sortColummnarray:e.sortColummnarray,GraphJson:e.GraphJson}})],1)},d=[function(){var e=this,t=e._self._c;return t("span",{staticClass:"collapse-head-btns"},[t("a",{staticClass:"collapse-btns",attrs:{href:"javascript:;"}},[t("em",{staticClass:"fa fa-angle-up text-white"})])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"va_lft25 top4"},[t("em",{staticClass:"icon-solid arrow-solid-left text-dark",staticStyle:{"font-size":"20pt"}})])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"expand-list"},[t("a",{staticClass:"expand-list-btn justify-content-center align-items-center",attrs:{href:"javascript:;"}},[t("em",{staticClass:"icon-solid arrow-solid-left text-white",staticStyle:{"font-size":"9pt"}})])])}],u=(a("88a7"),a("271a"),a("5494"),function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal my-popups right fade",attrs:{id:"CustomGraphOptions",role:"dialog","data-backdrop":"static","data-keyboard":"false"}},[t("div",{staticClass:"modal-dialog mw-1100",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.CloseGraphOptions()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("GraphSetting")))]),t("span",{staticClass:"user-guide"},[t("a",{staticClass:"ancuserguide",attrs:{"data-toggle":"collapse",href:"#collapseReplyUG",role:"button","aria-expanded":"false","aria-controls":"collapseExample"}},[e._v(e._s(e.$t("GuideForUser")))]),t("div",{staticClass:"divancuserguide collapse",attrs:{id:"collapseReplyUG"}},[t("div",{staticClass:"custom-scrollbar-js",attrs:{id:"scrollbarreplyuserguideMangeView"}},[t("div",{staticClass:"con"},[e._v(e._s(e.$t("MangeViewUG1")))])])])])]),t("div",{staticClass:"modal-body p-3"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("div",{staticClass:"container-fluid tab-content"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-6"},[t("dynamic-form",{ref:"refGraphForm",attrs:{lang:"en",buttons:!1,schema:e.FormSchema},on:{OnSubmit:e.onSubmit},scopedSlots:e._u([{key:"tgslot-chartlist",fn:function({data:a}){return[t("div",{staticClass:"user_type_choice coloredicons row"},e._l(e.chartTypes,(function(a,l){return t("div",{key:l,staticClass:"btn-group btn-group-toggle mb-2",attrs:{"data-toggle":"buttons"}},[t("label",{class:{"btn btn_cstm":!0,active:a.id==e.selectedChartTypeID},attrs:{for:"cls_usertype"+l}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selectedChartTypeID,expression:"selectedChartTypeID"}],attrs:{type:"radio",name:"cls_usertype",id:"cls_usertype"+l},domProps:{value:a.id,checked:e._q(e.selectedChartTypeID,a.id)},on:{change:function(t){e.selectedChartTypeID=a.id}}}),t("span",{staticClass:"d-block pb-2"},[t("em",{class:["Pie"==a.chart_Type?"fa fa-pie-chart bg-transparent":"","Bar"==a.chart_Type?"fa fa-bar-chart bg-transparent":"","Line"==a.chart_Type?"fa fa-line-chart bg-transparent":"","Horizontal_Bar"==a.chart_Type?"fa fa-bars bg-transparent":"","Donut"==a.chart_Type?"fa fa-circle-o-notch bg-transparent":""],attrs:{"aria-hidden":"true"}})])])])})),0),""!=a.error?t("span",{staticClass:"invalid-feedback d-block"},[e._v(e._s(a.error))]):e._e()]}}])})],1),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"p-3 bg-light border"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",[e._v(e._s(e.$t("Preview")))])])]),t("span",{staticClass:"text-center my-3 w-100 float-left"},[e._v(e._s(e.FormSchema[0].Data[0].value)+" - "),t("button",{staticClass:"btn btn-info mt-2",attrs:{href:"#"},on:{click:e.ViewReportGraph}},[e._v(" "+e._s(e.$t("ViewReport"))+" ")])]),e.PreviewChart?t("div",{staticClass:"col-sm-12 col-lg-12 px-0 py-4 float-left bg-white"},[t("VueApexCharts",{attrs:{type:e.selectedChartType,options:e.chartOptions,series:e.chartseries}}),0!=e.aggregateFunctionResult?t("div",{class:"pie"==e.selectedChartType||"donut"==e.selectedChartType?"text-left pl-4 ml-4":"text-center"},[t("a",{attrs:{href:"#"}},[e._v(e._s(e.resultMsg)+" : "+e._s(e.aggregateFunctionResult))])]):e._e()],1):e._e()])])]),t("div",{staticClass:"col-12 p-0 mt-3 float-left"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-lg-6 text-right"},[t("button",{staticClass:"btn btn-success ancsaveuserticket",on:{click:e.ApplyGraph}},[t("em",{staticClass:"fa fa-share pr-2"}),e._v(e._s(e.$t("Apply")))])])])])])],1)])])])}),p=[],c=a("1321"),m=a.n(c),v={components:{VueApexCharts:m.a},props:{Columnlist:{type:Array},customreportparameters:{type:Object},GraphData:{type:Object},GraphJson:{type:Object},sortColummnarray:{type:Array}},data(){return{isLoading:!1,reportTitle:"",chartTypes:null,selectedChartTypeID:null,selectedChartXAxis:"",selectedChartYAxis:"",PreviewChart:!1,aggregateFunctionType:"Count",aggregateFunctionResult:0,chartseries:[],chartOptions:{},colourList:["#8892d0","#da9c49","#94c5a3","#e67d21","#787878","#c59e71","#38b8df","#f55e1a","#207a92","#13599c"],chartOptionXAxisData:[],chartSeriesData:[],selectedChartType:"",resultMsg:"",GroupingGraphData:[],BindGraph:!1,isChartData:!1,isGraphLoadedAlready:!1,FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("ReportTitle"),name:"ReportTitle",value:"",placeholder:"Enter ReportTitle",config:{options:[],showAddIcon:!1},validationRules:""},{astype:"SlotField",label:this.$t("ChartTypes"),name:"chartlist",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeDropdown},validationRules:"required"},{astype:"SelectField",label:this.$t("XAXIS"),name:"XAXIS",value:"",placeholder:"Please Select X Axis",config:{options:[],showAddIcon:!1,onChange:this.onChangeXYAxisDropdown},validationRules:"required"},{astype:"SelectField",label:this.$t("YAXIS"),name:"YAXIS",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeXYAxisDropdown},validationRules:"required"},{astype:"RadioField",label:this.$t("ViewAs"),name:"ViewAs",value:"",placeholder:"",visibility:!1,config:{options:[{value:"Sum",name:"Sum"},{value:"Avg",name:"Average"},{value:"Min",name:"Min"},{value:"Max",name:"Max"},{value:"Count",name:"Count"}],showAddIcon:!1,onChange:this.GetRadioValue},validationRules:""},{astype:"RadioField",label:this.$t("ViewAs"),name:"ViewAs",value:"Count",placeholder:"",visibility:!0,config:{options:[{value:"Count",name:"Count"}],showAddIcon:!1},validationRules:""}]}]}},created:async function(){var e=this;await e.GetChartTypes(),e.GetColumnList(),e.FormSchema[0].Data[0].value=e.customreportparameters.ReportName,null!=e.GraphData&&void 0!=e.GraphData&&""!=e.GraphData&&e.GraphData.length>0&&(e.selectedChartTypeID=e.GraphData[0].chartTypeID,e.aggregateFunctionType=e.GraphData[0].AggregateFuncField,e.selectedChartXAxis=e.GraphData[0].XAxisField,e.FormSchema[0].Data[2].value=e.GraphData[0].XAxisField,e.selectedChartYAxis=e.GraphData[0].YAxisField,e.FormSchema[0].Data[3].value=e.GraphData[0].YAxisField,await e.CheckFieldType(e.selectedChartYAxis),await e.ViewReportGraph(),await e.ApplyGraph())},watch:{Columnlist(){var e=this;e.GetColumnList()}},methods:{CloseGraphOptions:function(){var e=this;$("#CustomGraphOptions").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),e.$refs.refGraphForm.validateForm.reset()},async GetChartTypes(){var e=this;await s["a"].GetChartTypes().then(t=>{e.chartTypes=t.data})},GetColumnList(){var e=this;e.FormSchema[0].Data[2].config.options=[],e.FormSchema[0].Data[3].config.options=[],e.Columnlist.forEach(t=>{e.FormSchema[0].Data[2].config.options.push({value:t.CustomFieldId,name:""!=t.DisplayName?e.$t(t.DisplayName):e.$(t.FieldName)}),e.FormSchema[0].Data[3].config.options.push({value:t.CustomFieldId,name:""!=t.DisplayName?e.$t(t.DisplayName):e.$(t.FieldName)})})},onChangeXYAxisDropdown(e,t){var a=this;"XAXIS"==t.name?(a.selectedChartXAxis=t.value,a.FormSchema[0].Data[3].config.options=[],a.Columnlist.forEach(e=>{e.CustomFieldId!=a.selectedChartXAxis&&a.FormSchema[0].Data[3].config.options.push({value:e.CustomFieldId,name:""!=e.DisplayName?a.$t(e.DisplayName):a.$(e.FieldName)})})):(a.selectedChartYAxis=t.value,a.CheckFieldType(a.selectedChartYAxis))},GetRadioValue(e,t){var a=this;a.aggregateFunctionType=e.target.dataset.value},ResetGraph(){var e=this;e.selectedChartXAxis="",e.selectedChartYAxis="",e.chartseries=[],e.chartOptions={},e.selectedChartTypeID=null,e.selectedChartType="",e.aggregateFunctionResult=0,e.aggregateFunctionType="Count",e.resultMsg="",e.FormSchema[0].Data[2].value="",e.FormSchema[0].Data[3].value="",e.FormSchema[0].Data[4].value="Count",e.FormSchema[0].Data[5].value="Count",e.FormSchema[0].Data[4].visibility=!1,e.FormSchema[0].Data[5].visibility=!0,e.$refs.refGraphForm.validateForm.reset(),e.PreviewChart=!1},async ViewReportGraph(){var e=this;e.resultMsg=e.aggregateFunctionType,e.PreviewChart=!1,e.BindGraph=!0;var t=null;if((null==e.aggregateFunctionType||""==e.aggregateFunctionType&&null!=e.GraphData&&0==e.isChartData)&&e.GraphData.length>0&&(e.resultMsg=e.GraphData[0].AggregateFunction,e.aggregateFunctionType=e.resultMsg,e.selectedChartYAxis=e.GraphData[0].YAxisField,e.selectedChartXAxis=e.GraphData[0].XAxisField,e.FormSchema[0].Data[4].value=e.GraphData[0].AggregateFunction),null!=e.selectedChartTypeID&&""!=e.selectedChartXAxis&&""!=e.selectedChartYAxis){if("Count"==e.aggregateFunctionType||"Sum"==e.aggregateFunctionType||"Avg"==e.aggregateFunctionType||"Min"==e.aggregateFunctionType||"Max"==e.aggregateFunctionType){var a=e.Columnlist.find(t=>t.FieldName===e.selectedChartXAxis||t.CustomFieldId===parseInt(e.selectedChartXAxis)),l=e.Columnlist.find(t=>t.FieldName===e.selectedChartYAxis||t.CustomFieldId===parseInt(e.selectedChartYAxis));t={XAxisField:""!=a.CustomFieldId?a.CustomFieldId:a.FieldName,YAxisField:""!=l.CustomFieldId?l.CustomFieldId:l.FieldName,AggregateFunctionType:e.aggregateFunctionType}}await e.$parent.$parent.PreviewJson(e.sortColummnarray,e.BindGraph,t),e.GraphJson.MetaData[0].IsGrouping&&e.SetGroupingGraphData(),e.selectedChartType=e.chartTypes.find(t=>t.id==e.selectedChartTypeID).chart_Type.toLowerCase(),e.SetGraphValues(e.GroupingGraphData,e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName,e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName),e.CalculatingAggregateFuncResult(e.aggregateFunctionType),e.DrawGraph(),e.PreviewChart=!0,e.isChartData=!0,e.isGraphLoadedAlready=!0}else e.ShowAlert(e.$t("FillGraphDetails"),"failure",!0,e.$t("Alert")),e.isLoading=!1},SetGroupingGraphData(){var e=this;let t=e.GraphJson.ListingData,a=[],l=e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName,i=e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName;(Object.keys(t[0])[0]==e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName&&Object.keys(t[0])[0]==e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName&&e.GraphData.length>0||void 0==l&&void 0==i)&&(l=Object.keys(t[0])[0],i=Object.keys(t[0].data[0])[0],e.aggregateFunctionType=e.GraphData[0].AggregateFunction),t.forEach((t,s)=>{if((void 0!=t[l]||void 0!=l)&&("Count"==e.aggregateFunctionType||"Sum"==e.aggregateFunctionType||"Avg"==e.aggregateFunctionType||"Min"==e.aggregateFunctionType||"Max"==e.aggregateFunctionType))for(var r=void 0!=t[l]?t[l]:t.data[0][l]+` (${t.totalRecord})`,o=0;o<=parseInt(t.totalRecord);o++)0==o&&a.push({[l]:r,[i]:null!=t.GData&&0!=t.GData&&t.GData>t.totalRecord?t.GData:t.totalRecord})}),e.GroupingGraphData=a},async ApplyGraph(){var e=this;this.$refs.refGraphForm.validateForm.validate().then((async function(t){if(t){e.isGraphLoadedAlready||await e.ViewReportGraph();var a={selectedChartType:e.selectedChartType,selectedChartTypeID:e.selectedChartTypeID,chartseries:e.chartseries,chartoptions:e.chartOptions,aggregateFunctionType:e.aggregateFunctionType,aggregateFunctionResult:e.aggregateFunctionResult,selectedChartXAxis:e.selectedChartXAxis,selectedChartYAxis:e.selectedChartYAxis};null!=a.selectedChartTypeID&&""!=a.selectedChartType&&""!=a.selectedChartXAxis&&""!=a.selectedChartYAxis&&(e.$parent.DrawGraph(a,e.BindGraph),e.isGraphLoadedAlready=!1,e.CloseGraphOptions())}}))},DrawGraph:function(){var e=this,t=!1;"bar"!=e.selectedChartType&&"line"!=e.selectedChartType&&"horizontal_bar"!=e.selectedChartType||("horizontal_bar"==e.selectedChartType&&(e.selectedChartType="bar",t=!0),e.chartseries=[{name:e.$t(e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName),data:e.chartSeriesData}],e.chartOptions={chart:{toolbar:{export:{svg:{filename:e.FormSchema[0].Data[0].value},png:{filename:e.FormSchema[0].Data[0].value},csv:{headerCategory:e.$t(e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName),filename:e.FormSchema[0].Data[0].value}}}},xaxis:{categories:e.chartOptionXAxisData,title:{text:t?e.$t(e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName):e.$t(e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName)},labels:{trim:!0}},yaxis:{title:{text:t?e.$t(e.FilterColumnlist(e.selectedChartXAxis).CustomFieldName):e.$t(e.FilterColumnlist(e.selectedChartYAxis).CustomFieldName)},labels:{formatter:function(e){return e.toLocaleString("en-US")}}},plotOptions:t?{bar:{borderRadius:4,horizontal:!0}}:{},dataLabels:{enabled:!0}}),"pie"!=e.selectedChartType&&"donut"!=e.selectedChartType||(e.chartseries=e.chartSeriesData,e.chartOptions={labels:e.chartOptionXAxisData,colors:e.colourList})},CalculatingAggregateFuncResult:function(e){var t=this,a=0;if("Sum"==e){var l=0;t.chartSeriesData.forEach(e=>{l+=parseInt(e)}),t.aggregateFunctionResult=l.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")}if("Count"==e){var i=0;i=t.chartSeriesData.length,t.aggregateFunctionResult=i}if("Avg"==e){var s=0,r=0;t.chartSeriesData.forEach((function(e,t){s+=e,r++})),a=s/r,t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")}"Min"==e&&(a=Math.min.apply(Math,t.chartSeriesData.filter(Number)),t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US")),"Max"==e&&(a=Math.max(...t.chartSeriesData),t.aggregateFunctionResult=a.toFixed(2),t.aggregateFunctionResult=parseFloat(t.aggregateFunctionResult).toLocaleString("en-US"))},CheckFieldType:function(e){var t=this;if(t.selectedChartYAxis==t.selectedChartXAxis)return t.selectedChartYAxis="",t.ShowAlert("X and Y axis values are not same","warning"),!1;t.aggregateFunctionResult=0;let a=t.FilterColumnlist(e).ColumnFieldType;"decimal"==a||"int"==a?(t.FormSchema[0].Data[4].visibility=!0,t.FormSchema[0].Data[5].visibility=!1,t.FormSchema[0].Data[4].value="Count",t.aggregateFunctionType=""):(t.FormSchema[0].Data[4].visibility=!1,t.FormSchema[0].Data[5].visibility=!0,t.FormSchema[0].Data[5].value="Count",t.aggregateFunctionType="Count")},CheckFieldTypeX:function(e){var t=this;if(t.selectedChartYAxis==t.selectedChartXAxis)return t.selectedChartXAxis="",t.ShowAlert("X and Y axis values are not same","warning"),!1},FilterColumnlist(e){var t=this;let a,l;for(let[i]of t.Columnlist.entries())t.Columnlist[i].CustomFieldId!=e&&t.Columnlist[i].FieldName!=e||(a=null!=t.Columnlist[i].DisplayName&&""!=t.Columnlist[i].DisplayName?t.Columnlist[i].DisplayName:t.Columnlist[i].FieldName,l=t.Columnlist[i].ColumnFieldDataCode);return{CustomFieldName:a,ColumnFieldType:l}},SetGraphValues(e,t,a){var l=this;l.chartOptionXAxisData=[],l.chartSeriesData=[],e.forEach(e=>{t in e?null!=e[t]&&void 0!=e[t]?(l.chartOptionXAxisData.push(e[t]),l.BindXYFields(e,t,a)):null!=e[a]&&void 0!=e[a]&&(l.chartOptionXAxisData="string"==typeof t?[...l.chartOptionXAxisData,"-"]:[...l.chartOptionXAxisData,0],l.BindXYFields(e,t,a)):(l.chartOptionXAxisData.push(" "),l.BindXYFields(e,t,a))})},BindXYFields:function(e,t,a){var l=this;if(a in e)if(null!=e[a]&&void 0!=e[a])if("string"==typeof e[a]){var i=e[a].replace(/[$€£]/g,"");l.chartSeriesData.push(parseInt(i))}else l.chartSeriesData.push(e[a]);else l.chartSeriesData=[...l.chartSeriesData,0]},GenrateRandomColorCode(){const e=Math.floor(16777215*Math.random()).toString(16);return"#"+e},GenrateRandomColorList(){var e=this;while(e.colourList.length<e.chartSeriesData.length){let t;t=e.GenrateRandomColorCode();let a=e.colourList.find(e=>e==t);a||e.colourList.push(t)}},onSubmit:async function(e,t){var a=this;await a.ApplyGraph()}}},h=v,f=a("2877"),y=Object(f["a"])(h,u,p,!1,null,null,null),F=y.exports,C=a("4ebb"),g=a("e499"),D=a.n(g);D.a.vfs=C["pdfMake"].vfs;var x={components:{VueApexCharts:m.a,modalGraphOptions:F,pdfMake:D.a},props:{previewdata:{type:Array},Columnlist:{type:Array},customreportparameters:{type:Object},Grouplist:{type:Array},saveJsonReport:{type:Object},ReportName:{type:String},GraphData:{type:Array},SortingData:{type:Array},GraphJson:{type:Array},editjsondata:{type:Boolean},LevelOfGrouping:{type:Number},PdfJsonReport:{type:Object}},data(){return{isLoading:!1,previewcolumn:[],previewgroupdata:[],noRecord:!0,showdata:!1,showcoldata:!0,showGraphOptions:!1,showChart:!1,showmulitGrouping:!1,isSortPopup:!1,sortColummnarray:[{sortcolummnId:"",columnOrders:""}],DynamicFillValue:[],GroupValue:[],isValueExistInSort:!1,isGraph:!1,chartTypeID:null,chartType:"",chartSeries:[],chartOptions:{},aggregateFunctionType:null,aggregateFunctionResult:null,XAxisField:null,YAxisfield:null,watchvalue:!1,allReocrdsList:null,ExcelData:null,BindGraph:!1,allReocrdsData:null,TableBody:[],TableHeader:[],pdfContent:null,ExcelJsonData:null,count:0,isPreviewForPdfExcel:1}},created(){var e=this;null!=e.GraphData&&void 0!=e.GraphData&&""!=e.GraphData&&e.GraphData.length>0&&(e.showGraphOptions=!0),e.EditSortingData(),null!=e.previewdata&&void 0!=e.previewdata&&e.previewdata.length>0&&e.RenderList(),e.editjsondata&&e.PreviewReport()},mounted(){var e,t=this;null!=t.GraphData&&void 0!=t.GraphData&&""!=t.GraphData&&t.GraphData.length>0&&(t.showGraphOptions=!0,""==t.aggregateFunctionType&&(t.aggregateFunctionType=t.GraphData[0].AggregateFunction),null!=t.previewdata&&void 0!=t.previewdata&&t.previewdata.length>0&&(null===(e=t.$refs.modalGraph)||void 0===e||e.ViewReportGraph()))},watch:{watchvalue(e,t){var a=this;e!=t&&(a.RenderList(),a.watchvalue=!1)}},methods:{EditSortingData:function(){var e=this;null!=e.SortingData&&void 0!=e.SortingData&&""!=e.SortingData&&e.SortingData.length>0?(e.sortColummnarray=[],e.SortingData.forEach((t,a)=>{e.sortColummnarray.push({sortcolummnId:t.CustomFieldId,columnOrders:t.SORTTYPE})})):e.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]},RefreshReport:function(){var e=this;e.showdata=!1,e.PreviewReport()},RenderList:function(){var e=this;null!=e.previewdata&&void 0!=e.previewdata&&e.previewdata.length>0?(e.previewcolumn=[],e.Columnlist.forEach(t=>{e.previewcolumn.push({...t})}),e.Grouplist.forEach(t=>{e.previewcolumn.forEach((a,l)=>{t.DisplayName!==a.DisplayName&&t.FieldName!==a.FieldName||e.previewcolumn.splice(l,1)})}),null!=e.previewcolumn&&void 0!=e.previewcolumn&&e.previewcolumn.length>0&&(e.Grouplist.length>0?(e.previewgroupdata=Object.assign([],e.Grouplist),e.showdata=!0,e.showcoldata=!1):(e.showcoldata=!0,e.previewgroupdata=[]),e.noRecord=!1)):(e.previewcolumn=[],e.previewgroupdata=[],e.noRecord=!0)},PreviewReport:async function(){var e=this;e.isSortPopup=!1,e.BindGraph=!1,await e.$parent.PreviewJson(e.sortColummnarray,e.BindGraph),e.watchvalue=!0},ResetData:function(){var e,t=this;t.showdata=!1,t.isSortPopup=!1,t.sortColummnarray=[{sortcolummnId:"",columnOrders:""}],t.previewcolumn=[],t.showGraphOptions=!1,t.showChart=!1,t.chartType=null,t.chartTypeID=null,t.aggregateFunctionType=null,t.aggregateFunctionResult=null,t.XAxisField=null,t.YAxisField=null,t.chartSeries=[],t.chartOptions={},null===(e=t.$refs.modalGraph)||void 0===e||e.ResetGraph(),t.$parent.ResetPreview(t.customreportparameters),t.noRecord=!0},ResetGraphData:function(){var e=this;e.showGraphOptions=!1,e.$refs.modalGraph.ResetGraph(),e.chartType="",e.chartTypeID=null,e.aggregateFunctionType=null,e.aggregateFunctionResult=null,e.XAxisField=null,e.YAxisField=null,e.chartSeries=[],e.chartOptions={},e.showChart=!1,e.BindGraph=!1},SaveAllReport:async function(){var e=this;e.editjsondata&&await e.$parent.PreviewJson(e.sortColummnarray);var t={chartTypeID:e.chartTypeID,XAxisField:e.XAxisField,YAxisField:e.YAxisField,AggregateFunction:e.aggregateFunctionType,AggregateFuncField:e.aggregateFunctionResult};null!=t.chartTypeID&&(e.Grouplist.length<=1&&e.Grouplist.forEach(t=>{e.saveJsonReport.Info.GROUP.push(t)}),e.saveJsonReport.Info.GRAPH.push(t));var a=JSON.stringify(e.saveJsonReport);"[]"!=a&&void 0!=a&&e.previewdata.length>0?s["a"].SaveAllDynamicReport(a).then(t=>{1==t.data[0].Value?(e.ShowAlert(e.$t("AddedSuccess",[e.$t("Report")]),"success",!0,e.$t("Alert")),this.$router.push({name:"CustomReports"})):2==t.data[0].Value&&(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("Report")]),"success",!0,e.$t("Alert")),this.$router.push({name:"CustomReports"}))}).catch(e=>{console.log(e)}):(e.ShowAlert(e.$t("No_Record_Found"),"failure",!0,e.$t("Alert")),e.isLoading=!1)},OpenSortingPopup:function(){var e=this;e.isSortPopup?e.isSortPopup=!1:e.isSortPopup=!0},AddSortingForm:function(e){var t=this;""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId&&t.sortColummnarray.length<t.Columnlist.length?t.sortColummnarray.push({sortcolummnId:"",columnOrders:""}):t.ShowAlert(""!=t.sortColummnarray[0].columnOrders&&""!=t.sortColummnarray[0].sortcolummnId?t.$t("SortLimitExceed"):t.$t("AddFieldsFirst"),"failure",!0,t.$t("Alert"))},RemoveSortingForm:function(e){var t=this;1==t.sortColummnarray.length?t.sortColummnarray=[{sortcolummnId:"",columnOrders:""}]:(t.sortColummnarray.splice(t.sortColummnarray.indexOf(e),1),t.isValueExistInSort=!0),1==t.sortColummnarray.length&&(t.isValueExistInSort=!1)},OpenGraph:function(){var e=this;e.isSortPopup=!1,e.showGraphOptions?e.showGraphOptions=!1:e.showGraphOptions=!0},OpenGraphOptions:function(){var e=this;e.showChart=!1,e.isGraph=!0,$("#CustomGraphOptions").modal("show"),setTimeout((function(){$("#CustomGraphOptions").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},DrawGraph:function(e,t){var a=this;null!=e.selectedChartTypeID&&void 0!=e.selectedChartTypeID?(a.chartType=e.selectedChartType,a.chartTypeID=e.selectedChartTypeID,a.aggregateFunctionType=e.aggregateFunctionType,a.aggregateFunctionResult=e.aggregateFunctionResult,a.XAxisField=e.selectedChartXAxis,a.YAxisField=e.selectedChartYAxis,a.chartSeries=e.chartseries,a.chartOptions=e.chartoptions,a.showChart=!0,a.BindGraph=t):a.showChart=!1},FilterCustomFieldName(e){var t=this;let a;for(let[l]of t.Columnlist.entries())t.Columnlist[l].CustomFieldId!=e&&t.Columnlist[l].FieldName!=e||(a=null!=t.Columnlist[l].DisplayName&&""!=t.Columnlist[l].DisplayName?t.Columnlist[l].DisplayName:t.Columnlist[l].FieldName);return a},CancelAll:function(){this.$router.push({name:"CustomReports"})},CheckColumnExistInGraph:function(e){var t=this,a=!0;return t.XAxisField!=e&&t.YAxisField!=e?!a:a},GetAllRecordsForPDF:async function(e){var t=this;if(t.count=0,t.previewdata.length>0){var a={Info:{REPORTID:t.customreportparameters.ReportID,REPORTNAME:t.ReportName,MODULENAME:t.customreportparameters.Modulename,SUBMODULECODE:t.customreportparameters.Submodulecode,SUBMODULEID:t.customreportparameters.submoduleid,PAGESIZE:t.PageSize,PAGENUMBER:parseInt(t.PageNumber),IS_PAGED:1,IsForPreview:t.isPreviewForPdfExcel,FIELDS:t.saveJsonReport.Info.FIELDS.length>0?t.saveJsonReport.Info.FIELDS:t.PdfJsonReport.Info.FIELDS,FILTERS:t.saveJsonReport.Info.FILTERS.length>0?t.saveJsonReport.Info.FILTERS:t.PdfJsonReport.Info.FILTERS,GROUP:t.saveJsonReport.Info.GROUP.length>0?t.saveJsonReport.Info.GROUP:t.PdfJsonReport.Info.GROUP,SORTING:t.saveJsonReport.Info.SORTING.length>0?t.saveJsonReport.Info.SORTING:t.PdfJsonReport.Info.SORTING,EXPRESSION:t.saveJsonReport.Info.EXPRESSION.length>0?t.saveJsonReport.Info.EXPRESSION:t.PdfJsonReport.Info.EXPRESSION}},l=JSON.stringify(a);t.ExcelJsonData=l,void 0==e&&await s["a"].PreviewReport(l).then(async e=>{null!=e.data&&void 0!=e.data&&(t.allReocrdsData=JSON.parse(e.data[0].Value),t.count=t.count+1)}).catch(e=>{console.log(e)})}},ExportToPDF:async function(){var e=this;if(e.isLoading=!0,await e.GetAllRecordsForPDF(),0!=e.count){var t=await e.GetGraphImageURI(),a={},l=e.allReocrdsData.ListingData;let i,s=e.allReocrdsData.MetaData[0],r=e.ReportName.replace(".","-"),o="A2",n="",d=300;s.IsGrouping?await e.BindPDFDataForGroup(l):await e.BindPDFData(l),e.TableHeader.length>5&&(o="A1",d=500),e.TableHeader.length>10&&(n="landscape"),null!=t&&void 0!=t&&(a={image:t.imgURI,width:500,alignment:"center"}),i={pageSize:o,pageOrientation:n,content:[a,{style:"table",table:{headerRows:1,body:e.TableBody}}],styles:e.SetPDFStyle(),defaultStyle:{alignment:"justify"}},D.a.createPdf(i).download(r),e.isLoading=!1}else e.ShowAlert(e.$t("No_Record_Found"),"failure",!0,e.$t("Alert")),e.isLoading=!1},BindPDFData:function(e){var t=this;t.TableBody=[],t.TableHeader=[];var a=[],l=Object.keys(e[0]);l.forEach(e=>{"ROWNUMBER"!=e&&(t.TableHeader.push({text:t.$t(e),style:"tableHeader",alignment:"center"}),a.push({text:e,style:"tableHeader",alignment:"center"}))}),t.TableBody.push(t.TableHeader),e.forEach(e=>{let l=[];a.forEach(t=>{l.push(e[t.text])}),t.TableBody.push(l)})},BindPDFDataForGroup:function(e){var t=this;t.TableBody=[],t.TableHeader=[];var a=[];t.TableHeader.push({text:t.$t(Object.keys(e[0])[0]),style:"tableHeader",alignment:"center"}),a.push({text:Object.keys(e[0])[0],style:"tableHeader",alignment:"center"});var l=Object.keys(e[0].data[0]);l.forEach(e=>{t.TableHeader.push({text:t.$t(e),style:"tableHeader",alignment:"center"}),a.push({text:e,style:"tableHeader",alignment:"center"})}),t.TableBody.push(t.TableHeader),e.forEach(e=>{e.data.forEach((l,i)=>{let s=[];a.forEach((t,a)=>{if(0==i&&0==a){var r=`${e[t.text]} (${e.totalRecord})`;s.push({rowSpan:parseInt(e.totalRecord),text:r})}else if(1==i&&0==a)s.push("");else if(void 0!=l[t.text]&&""!=l[t.text])s.push(l[t.text]);else{var o=l[t.text]="-";s.push(o)}}),t.TableBody.push(s)})})},SetPDFStyle:function(){return{subheader:{fontSize:16,bold:!0,margin:[0,0,0,10]},table:{margin:[0,5,0,15]}}},GetGraphImageURI:async function(){var e,t,a=this;return await(null===(e=a.$refs.chart)||void 0===e?void 0:e.chart.dataURI().then(e=>{t=e})),t},ExportToExcel:async function(){var e=this;if(e.isLoading=!0,await e.GetAllRecordsForPDF("Excel"),null!=e.ExcelJsonData&&void 0!=e.ExcelJsonData){var t=e.ExcelJsonData,a=`reportId=${e.customreportparameters.ReportID}&pagetype=preview&IsPaged=1`;s["a"].GetExcelReport(a,t).then(t=>{var a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;"}),l=document.createElement("a");l.href=window.URL.createObjectURL(a);const i=new Date,s=`${i.getDate()}_${i.getMonth()+1}_${i.getFullYear()}`;var r=`ReportData-${e.ReportName.replace(".","-")}-${s}`;r=r.split(" ").join(""),l.download=r,l.click(),e.isLoading=!1}).catch(t=>{console.log(t),e.isLoading=!1})}else e.ShowAlert(e.$t("No_Record_Found"),"failure",!0,e.$t("Alert")),e.isLoading=!1},close(){var e=this;e.isSortPopup=!1}}},I=x,b=(a("c3f6"),Object(f["a"])(I,n,d,!1,null,"20b71030",null)),V=b.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal my-popups centre fade",attrs:{id:"showcalculatedfield",role:"dialog"}},[t("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-header mheader-user"},[t("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.close()}}},[t("em",{staticClass:"fa fa-times",attrs:{"aria-hidden":"true"}})]),t("h4",{staticClass:"modal-title",attrs:{id:"myModalLabel"}},[e._v(e._s(e.$t("customField")))])]),t("div",{staticClass:"modal-body"},[t("loader",{attrs:{"is-visible":e.isLoading}}),t("dynamic-form",{attrs:{lang:"en",buttons:e.buttons,schema:e.FormSchema},on:{OnSubmit:function(t){return e.SubmitExpression()}},scopedSlots:e._u([{key:"tgslot-CalculatedUIList",fn:function({data:a}){return[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 p-0 float-left"},[t("div",{staticClass:"col-lg-4 mb-0 float-left px-3"},[t("div",{staticClass:"heading-border mb-4"},[t("h5",{staticClass:"h5"},[t("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Functions"))+" "),t("div",{staticClass:"w3-container w3-border w3-large"})])])]),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[t("div",{staticClass:"card-panel",staticStyle:{"border-top":"1px solid #c7c7c7"}},e._l(e.FunctionsName,(function(a,l){return t("div",{key:l,staticClass:"card"},[t("div",{staticClass:"card-header",attrs:{role:"tab",id:"MainFunction"+l}},[t("h5",{staticClass:"mb-0"},[t("a",{attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"#FucntionCollapse"+l,"aria-expanded":"false","aria-controls":"FucntionCollapse"+l}},[t("em",{staticClass:"fa fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(a.FuncType))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])]),t("div",{staticClass:"collapse multi-collapse",attrs:{id:"FucntionCollapse"+l,role:"tabpanel","aria-labelledby":"MainFunction"+l,"data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"300px"}},[t("div",{staticClass:"form-group"},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix",staticStyle:{"max-height":"214px",overflow:"auto",display:"block"}},[e._l(e.Functionskey[l],(function(a){return[t("li",{staticClass:"nav-item parent-element"},[t("span",{staticClass:"nav-link left-menu px-4"},[t("em",{staticClass:"fa fa-bullhorn float-left",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":a.Keys,title:a.Keys}},[e._v(" "+e._s(a.Keys)+" ")]),t("a",{attrs:{href:"#"}},[t("em",{staticClass:"fa fa-plus float-right mt-1 text-success pr-0",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.AddFunctionsfields(a,t,l)}}})])])])]}))],2)])])])])})),0)])]),t("div",{staticClass:"col-lg-4 mb-0 float-left px-3"},[t("div",{staticClass:"heading-border"},[t("h5",{staticClass:"h5"},[t("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Expression"))+" "),t("a",{staticClass:"editgroupname d-none",attrs:{title:"@Resources.Edit",href:"javascript:;"}},[t("em",{staticClass:"fa fa-pencil pl-2 text-success"})])])])]),t("div",{staticClass:"border p-3 mt-4 float-left"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-11 mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.modelconditionexpression,expression:"modelconditionexpression"}],class:"Datediff"==e.Functionkey||"Dateadd"==e.Functionkey||"Datename"==e.Functionkey||"Datepart"==e.Functionkey||"If"==e.Functionkey?"form-control":"form-control d-none",attrs:{type:"text",placeholder:"Enter Your Conditions"},domProps:{value:e.modelconditionexpression},on:{input:function(t){t.target.composing||(e.modelconditionexpression=t.target.value)}}}),t("small",{class:"Datediff"==e.Functionkey||"Dateadd"==e.Functionkey||"Datename"==e.Functionkey||"Datepart"==e.Functionkey||"If"==e.Functionkey?"text-danger":"d-none"},[e._v(e._s(e.ShowDescriptionForFunction))])]),t("div",{staticClass:"col-md-1 p-0 my-1"},[t("a",{class:"Datediff"==e.Functionkey||"Dateadd"==e.Functionkey||"Datename"==e.Functionkey||"Datepart"==e.Functionkey||"If"==e.Functionkey?"fa fa-play text-success":"fa fa-play text-success d-none",on:{click:e.AddConditionExpression}})])]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.InputValueExpression,expression:"InputValueExpression"}],staticClass:"border background-white float-left w-100 p-3",staticStyle:{"min-height":"250px"},attrs:{id:"txtarea"},domProps:{value:e.InputValueExpression},on:{keydown:function(t){return e.deleteuserinput(t)},mouseup:function(t){return e.GetCursorPoint(t)},select:function(t){return e.UserInputSelection(t)},input:function(t){t.target.composing||(e.InputValueExpression=t.target.value)}}}),t("div",{staticClass:"expressionbx mb-4 bg-grey text-right float-left w-100 py-2 border"},[t("a",{staticClass:"fa fa-keyboard-o",on:{click:function(t){return e.AddSpace(t)}}}),t("a",{attrs:{href:"#"},on:{click:function(t){return e.Addplussign(t)}}},[e._v("+")]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.Addsubtractsign(t)}}},[e._v("-")]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.Addmultiplysign(t)}}},[e._v("*")]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.Adddividesign(t)}}},[e._v("/")]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.Addopenbracketsign(t)}}},[e._v("(")]),t("a",{attrs:{href:"#"},on:{click:function(t){return e.Addclosebracketsign(t)}}},[e._v(")")])]),t("div",{staticClass:"col-12 p-0 float-left"},[t("div",{staticClass:"row flex-row-reverse"},[t("div",{staticClass:"col-12 p-0 float-left",attrs:{id:"verifiedid"}},[0==e.verifiedvaluedata?t("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[e._v(" "+e._s(e.verifyErrorMsg)),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.closed}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e(),1==e.verifiedvaluedata?t("div",{staticClass:"alert alert-success alert-dismissible fade show",attrs:{role:"alert"}},[e._v(" "+e._s(e.$t("ExpressionVerify"))),t("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"},on:{click:e.closed}},[t("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])])]):e._e()]),t("div",{staticClass:"col-lg-12 text-right"},[t("a",{staticClass:"btn btn-success ancsaveuserticket mr-2",attrs:{href:"javascript:;"},on:{click:e.VerifyExpression}},[t("em",{staticClass:"fa fa-check pr-2"}),e._v("Verify")]),t("a",{staticClass:"btn btn-danger ancsaveuserticket",attrs:{href:"javascript:;"},on:{click:e.ResetExpression}},[t("em",{staticClass:"fa fa-refresh pr-2"}),e._v("Reset")])])])])])]),t("div",{staticClass:"col-lg-4 mb-0 float-left px-3"},[t("div",{staticClass:"heading-border mb-4"},[t("h5",{staticClass:"h5"},[t("span",{staticClass:"spngropuname"},[e._v(" "+e._s(e.$t("Columns"))+" "),t("div",{staticClass:"w3-container w3-border w3-large"})])])]),t("div",{staticClass:"mb-0 d-lg-block p-2 border"},[t("div",{staticClass:"input-group customsearchbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.MainSearchmodel,expression:"MainSearchmodel"}],staticClass:"form-control searchcustomfilter border-right-0",attrs:{type:"text",maxlength:"50",id:"searchinput",placeholder:"Search by Name",autocomplete:"off"},domProps:{value:e.MainSearchmodel},on:{keyup:e.ListFiltering,input:function(t){t.target.composing||(e.MainSearchmodel=t.target.value)}}}),t("div",{staticClass:"input-group-append"},[t("span",{staticClass:"input-group-text bg-transparent bg-white border-left-0"})])])]),t("div",{staticClass:"accordion md-accordion left-filter",attrs:{id:"accordionEx"}},[t("div",{staticClass:"card-panel",staticStyle:{"border-top":"1px solid #c7c7c7"}},e._l(e.JsonColumns,(function(a,l){return t("div",{key:l,staticClass:"card"},[t("div",{staticClass:"card-header",attrs:{role:"tab",id:"MainColumn"+l}},[t("h5",{staticClass:"mb-0"},[t("a",{attrs:{"data-toggle":"collapse","data-parent":"#accordionEx",href:"#ColumnCollapse"+l,"aria-expanded":"false","aria-controls":"ColumnCollapse"+l}},[t("em",{staticClass:"fa fa fa-file-text-o",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"font-weight-bold"},[e._v(" "+e._s(e.GetLocalizedValue(a.SubModule)))]),t("em",{staticClass:"fa fa-angle-down rotate-icon",attrs:{"aria-hidden":"true"}})])])]),t("div",{staticClass:"collapse multi-collapse column-collapse",attrs:{id:"ColumnCollapse"+l,role:"tabpanel","aria-labelledby":"MainColumn"+l,"data-parent":"#accordionEx"}},[t("div",{staticClass:"card-body p-0 customScrollForLeftBar llt",staticStyle:{"max-height":"300px"}},[t("div",{staticClass:"form-group"},[t("ul",{staticClass:"nav nav-pills flex-column left-tab responivecustomtab lefttabiconfix",staticStyle:{"max-height":"305px",overflow:"auto",display:"block"}},[e._l(0==e.searchColumnfilter.length?e.modulelisting[l]:e.searchColumnfilter[l],(function(a){return[t("li",{staticClass:"nav-item parent-element"},[t("span",{staticClass:"nav-link left-menu px-4"},[t("em",{class:a.dttype[0].icon+" float-left",attrs:{"aria-hidden":"true"}}),t("span",{staticClass:"text-truncate float-left",staticStyle:{width:"55%"},attrs:{"data-toggle-tooltip":a.FieldName,title:a.FieldName}},[e._v(" "+e._s(e.GetLocalizedValue(null!=a.DisplayName&&""!=a.DisplayName?a.DisplayName:a.FieldName))+" ")]),t("a",{attrs:{href:"#"}},[t("em",{staticClass:"fa fa-plus float-right mt-1 text-success pr-0",attrs:{"aria-hidden":"true"},on:{click:function(t){return e.Addfields(a,t,l)}}})])])])]}))],2)])])])])})),0)]),e.SearchNoRecord?t("div",{staticClass:"text-center text-danger d-flex align-items-center justify-content-center norecs pt-2"},[e._v(" "+e._s(e.$t("NoRecordfound")))]):e._e()])])])]}}])})],1)])])])},A=[],_=(a("5b81"),{props:{customreportparameters:{type:Object},ExpDataArray:{type:Array},editexpressionvalue:{type:Boolean},ExpFieldDataArray:{type:Array},Columnlist:{type:Object}},data(){return{JsonColumns:[],modulelisting:[],FunctionsName:[],Functionskey:[],ResponseColumnData:[],ResponseFunctionData:[],watchvalue:!1,FieldsValue:"",FunctionValue:"",AddBracketValue:"",SubtractBracketValue:"",MultplyBracketValue:"",DivideBracketValue:"",OpenBracketExpValue:"",CloseBracketExpValue:"",InputValueExpression:"",FieldData:[],fieldatavalue:[],reqFrom:"Reporting",isLoading:!1,verifiedvalue:!1,modelfieldname:"",substringvalue:"",verifiedvaluedata:null,verifyErrorMsg:"",InputValueArray:[],InputValueExpressionByID:"",FunctionValueArray:"No_Value",selecteduserinput:null,selecteduserinputbyid:null,ExpressionIDvalue:"",updateexpresion:!0,fieldadded:!1,FieldTableNameValue:"",GetCommaSeparatedValue:"",countbyfield:0,modelconditionexpression:"",conditionexpression:!1,Functionkey:null,ShowDescriptionForFunction:null,checkbycondition:0,searchColumnfilter:[],MainSearchmodel:"",SearchNoRecord:!1,FormSchema:[{layoutType:"single",Data:[{astype:"TextField",label:this.$t("fieldName"),name:"fieldName",value:"",placeholder:"Enter Field Name",config:{options:[],showAddIcon:!1},validationRules:"required"},{astype:"SlotField",label:"",name:"CalculatedUIList",value:"",placeholder:"",config:{options:[],showAddIcon:!1,onChange:this.onChangeDropdown},validationRules:""}]}],buttons:[{type:"submit",class:"btn btn-success mr-2 my-sm-0 disabled",text:"<i class='fa fa-save pr-2'></i>Submit"},{type:"button",class:"btn btn-primary delete-btn mr-2 my-sm-0",text:"<i class='fa fa-times pr-2'></i>Cancel",onClick:this.CancelExpressionUI}]}},created(){var e=this;e.GetColumnList(e.customreportparameters),1==e.editexpressionvalue&&e.ExpDataArray.length>0&&e.ExpresssionDataValue(e.ExpDataArray,e.ExpFieldDataArray),e.GetFunctionList()},mounted:function(){$("#showcalculatedfield").modal({backdrop:"static",keyboard:!1})},updated(){var e=this;e.watchvalue&&(e.GetColumnList(e.customreportparameters),e.GetFunctionList(),e.watchvalue=!1,$("#Submitbtn").addClass("disabled"),1==e.editexpressionvalue&&e.ExpDataArray.length>0&&1==e.updateexpresion&&e.ExpresssionDataValue(e.ExpDataArray,e.ExpFieldDataArray))},methods:{close(){$("#showcalculatedfield").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove(),this.$emit("close"),this.FormSchema[0].Data[0].value="",this.ExpressionIDvalue="",this.ResetExpression()},GetColumnList(e){var t=this;if(void 0!=e.Modulename&&void 0!=e.Submodulecode&&null!=e.ReportName){var a=`moduleName=${e.Modulename}&subModuleCode=${e.Submodulecode}&viewId&reqFrom=${t.reqFrom}`;s["a"].GetListFields(a).then(e=>{t.JsonColumns=e.data.AVAILABLE_FIELDS[0],t.JsonColumns.forEach(e=>{t.modulelisting.push(e.CustomFields)})}).catch(e=>{console.log(e)})}},GetFunctionList(){var e=this;s["a"].GetFunctionList().then(t=>{e.FunctionsName=t.data.AVAILABLE_FIELDS[0],e.FunctionsName.forEach(t=>{e.Functionskey.push(t.Functions)})}).catch(e=>{console.log(e)})},Addfields(e,t,a){var l=this;if(""==l.modelconditionexpression&&l.FieldData.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName}),""==l.substringvalue){var i=l.GetCursorPoint(),s=l.SetValueOnCursorPosition(i);if(s.length>1){var r=l.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(l.fieldatavalue.splice(r,0,{FieldValueData:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName),MatchIndex:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+i}),l.FieldsValue=l.fieldatavalue.map(e=>e.FieldValueData).join(""),l.fieldadded=!0)}else l.fieldatavalue.push({FieldValueData:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName),MatchIndex:l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+i}),l.FieldsValue=l.fieldatavalue.map(e=>e.FieldValueData).join(""),l.fieldadded=!1;$("#Submitbtn").addClass("disabled")}else{if("object"==typeof l.fieldatavalue){var o=String(l.fieldatavalue.map(e=>e.FieldValueData));l.fieldatavalue=o}if("CommaSeparatedValue"!=l.GetCommaSeparatedValue||0!=l.countbyfield||l.conditionexpression)if("CommaSeparatedValue"==l.GetCommaSeparatedValue&&l.countbyfield>0&&!l.conditionexpression)n=l.fieldatavalue.indexOf(l.fieldatavalue.split(",")[l.countbyfield]),d=l.fieldatavalue.indexOf(")");else n=l.fieldatavalue.indexOf("(")+1,d=l.fieldatavalue.indexOf(")");else var n=l.fieldatavalue.indexOf(",")+1,d=l.fieldatavalue.indexOf(")");if(l.substringvalue=l.fieldatavalue.substring(n,d),l.FunctionValueArray=l.substringvalue,l.substringvalue.includes(",")){var u=l.substringvalue.split(",");l.substringvalue=u,l.conditionexpression||0!=l.checkbycondition?l.FieldsValue=l.fieldatavalue.replace(l.substringvalue[0],e):l.FieldsValue=l.fieldatavalue.replace(l.substringvalue[0],l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName)),l.fieldatavalue=[],l.fieldatavalue.push({FieldValueData:l.FieldsValue,MatchIndex:l.FieldsValue.length,SameName:"Field_Added"+l.FieldsValue.length}),$("#Submitbtn").addClass("disabled")}else l.conditionexpression||0!=l.checkbycondition?l.FieldsValue=l.fieldatavalue.replace(l.substringvalue,e):l.FieldsValue=l.fieldatavalue.replace(l.substringvalue,l.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName)),l.fieldatavalue=[],l.fieldatavalue.push({FieldValueData:l.FieldsValue,MatchIndex:l.FieldsValue.length,SameName:"Field_Added"+l.FieldsValue.length}),$("#Submitbtn").addClass("disabled")}l.conditionexpression||0!=l.checkbycondition?l.FieldTableNameValue=e:e.IsSystemGenerated?l.FieldTableNameValue=e.TableName+"."+e.FieldName:l.FieldTableNameValue=e.FieldName,l.updatingvalue(),l.updatevaluebyid(e,r,s,i)},AddFunctionsfields(e,t,a){var l=this;if(null==l.InputValueExpression||void 0==l.InputValueExpression||""==l.InputValueExpression){if("string"==typeof l.fieldatavalue){var i=l.fieldatavalue.split(",");l.fieldatavalue=i}l.fieldatavalue.push({FieldValueData:e.Value,MatchIndex:e.Value.length,SameName:"Function_Added"}),l.FieldsValue=l.fieldatavalue.map(e=>e.FieldValueData).join(""),l.InputValueArray.push({FieldValueData:e.Value,MatchIndex:e.Value.length,SameName:"Function_Added"}),l.Functionkey=e.Keys,l.DescriptionForFunction(),"Case"==e.Keys?l.substringvalue="":l.substringvalue="Function_Added",$(t.target).closest(".parent-element").remove(),l.updatingvalue(),l.updatevaluebyid()}else l.ShowAlert("You Cannot Select More Than One Function.","Failure")},Addopenbracketsign(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a="(",l=a.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"Open_BracketAdded"+i});e.substringvalue="",e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Addclosebracketsign(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a=")",l=a.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"Close_BracketAdded"+i});e.updatingvalue(),e.updatevaluebyid()},Addplussign(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a="+",l=a.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedPlus"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Addsubtractsign(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a="-",l=a.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedSubtract"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Addmultiplysign(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a="*",l=a.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedMultiply"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},Adddividesign(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a="/",l=a.split(""),i=e.GetCursorPoint(),s=e.SetValueOnCursorPosition(i);if(s.length>1){var r=e.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(e.fieldatavalue.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(r,0,{FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i}))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:l,MatchIndex:l.length,SameName:"AddedDivide"+i});e.FunctionValueArray="No_Value",e.updatingvalue(),e.updatevaluebyid()},AddSpace(){var e=this;if("string"==typeof e.fieldatavalue){var t=e.fieldatavalue.split(",");e.fieldatavalue=t}var a=" ",l=a.split(""),i=a.replaceAll(" ","+' '+"),s=e.GetCursorPoint(),r=e.SetValueOnCursorPosition(s);if(r.length>0){var o=e.InputValueArray.findIndex(e=>e.FieldValueData===r[0].FieldValueData);o>-1&&(e.fieldatavalue.splice(o,0,{FieldValueData:l,MatchIndex:l.length,SameName:"addedspace"+s}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.splice(o,0,{FieldValueData:i,MatchIndex:l.length,SameName:"addedspace"+s}),e.InputValueExpressionByID=e.InputValueArray.map(e=>e.FieldValueData).join(""))}else e.fieldatavalue.push({FieldValueData:l,MatchIndex:l.length,SameName:"addedspace"+s}),e.FieldsValue=e.fieldatavalue.map(e=>e.FieldValueData).join(""),e.InputValueArray.push({FieldValueData:i,MatchIndex:l.length,SameName:"addedspace"+s}),e.InputValueExpressionByID=e.InputValueArray.map(e=>e.FieldValueData).join("");e.FunctionValueArray="No_Value",e.updatingvalue()},ResetExpression(){var e=this;e.FieldsValue="",e.FunctionValue="",e.AddBracketValue="",e.SubtractBracketValue="",e.MultplyBracketValue="",e.DivideBracketValue="",e.OpenBracketExpValue="",e.CloseBracketExpValue="",e.modulelisting.splice(0),e.Functionskey.splice(0),e.InputValueExpression="",e.InputValueExpressionByID="",e.InputValueArray=[],e.FieldData=[],e.fieldatavalue=[],e.watchvalue=!0,e.updateexpresion=!1,e.verifiedvaluedata=null,e.FunctionValueArray="No_Value",e.GetCommaSeparatedValue="",e.countbyfield=0,e.modelconditionexpression="",e.Functionkey=null,e.ShowDescriptionForFunction=null,e.conditionexpression=!1,e.checkbycondition=0,e.substringvalue=""},updatevaluebyid(e,t,a,l){var i=this;if(i.FunctionValueArray==i.substringvalue){if("object"==typeof i.InputValueArray){var s=String(i.InputValueArray.map(e=>e.FieldValueData));i.InputValueArray=s}if("CommaSeparatedValue"!=i.GetCommaSeparatedValue||0!=i.countbyfield||i.conditionexpression)if("CommaSeparatedValue"==i.GetCommaSeparatedValue&&i.countbyfield>0&&!i.conditionexpression){r=i.InputValueArray.indexOf(i.InputValueArray.split(",")[i.countbyfield]),o=i.InputValueArray.indexOf(")");i.countbyfield++}else r=i.InputValueArray.indexOf("(")+1,o=i.InputValueArray.indexOf(")");else{var r=i.InputValueArray.indexOf(",")+1,o=i.InputValueArray.indexOf(")");i.countbyfield=i.countbyfield+1+1}if(i.substringvalue=i.InputValueArray.substring(r,o),i.substringvalue.includes(",")){var n=i.substringvalue.split(",");i.substringvalue=n,i.InputValueExpressionByID=i.InputValueArray.replace(i.substringvalue[0],i.FieldTableNameValue),i.InputValueArray=[],i.InputValueArray.push({FieldValueData:i.InputValueExpressionByID,MatchIndex:i.InputValueExpressionByID.length,SameName:"Field_Added"+i.InputValueExpressionByID.length,CustomFieldId:e.CustomFieldId}),i.GetCommaSeparatedValue="CommaSeparatedValue",$("#Submitbtn").addClass("disabled")}else i.InputValueExpressionByID=i.InputValueArray.replace(i.substringvalue,i.FieldTableNameValue),i.InputValueArray=[],i.InputValueArray.push({FieldValueData:i.InputValueExpressionByID,MatchIndex:i.InputValueExpressionByID.length,SameName:"Field_Added"+i.InputValueExpressionByID.length,CustomFieldId:e.CustomFieldId}),i.substringvalue="",$("#Submitbtn").addClass("disabled");i.modelconditionexpression="",i.conditionexpression=!1,i.checkbycondition=0}else if(void 0!=e)if(i.fieldadded){t=i.InputValueArray.findIndex(e=>e.FieldValueData===a[0].FieldValueData);t>-1&&(i.InputValueArray.splice(t,0,{FieldValueData:i.FieldTableNameValue,MatchIndex:i.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+l,CustomFieldId:e.CustomFieldId}),i.InputValueExpressionByID=i.InputValueArray.map(e=>e.FieldValueData).join(""))}else i.InputValueArray.push({FieldValueData:i.FieldTableNameValue,MatchIndex:i.$t(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName).length,SameName:"Field_Added"+l,CustomFieldId:e.CustomFieldId}),i.InputValueExpressionByID=i.InputValueArray.map(e=>e.FieldValueData).join("");else i.InputValueExpressionByID=i.InputValueArray.map(e=>e.FieldValueData).join("")},updatingvalue(){var e=this;if("object"==typeof e.InputValueExpression){var t=String(e.InputValueExpression);e.InputValueExpression=t}else e.InputValueExpression=e.FieldsValue},deleteuserinput(e){var t=this;const a=e.key;if("Space"===e.code)t.AddSpace();else if(e.keyCode>=9&&e.keyCode<=45||e.keyCode>90&&e.keyCode<=93||e.keyCode>=112&&e.keyCode<=167)e.preventDefault();else if("Backspace"===a||8===e.keyCode||46===e.keyCode){var l=t.GetCursorPoint();let e;l-=1,t.fieldatavalue.forEach(a=>{if(a.MatchIndex<l)e=l-a.MatchIndex,l=e;else if(0!=l){let e=t.fieldatavalue.findIndex(e=>e.SameName===a.SameName),i=t.FieldData.findIndex(e=>e.CustomFieldId===a.CustomFieldId);e>-1&&(t.fieldatavalue.splice(e,1),t.InputValueArray.splice(e,1),i>-1&&t.FieldData.splice(i,1),t.fieldatavalue.length>0?t.FieldsValue=t.fieldatavalue.map(e=>e.FieldValueData).join(""):(t.FieldsValue=t.fieldatavalue.join(""),t.substringvalue=""),l=0,t.Functionkey=null)}}),t.updatingvalue(),t.updatevaluebyid()}else{var i=t.GetCursorPoint(),s=t.SetValueOnCursorPosition(i);if(s.length>1){var r=t.InputValueArray.findIndex(e=>e.FieldValueData===s[0].FieldValueData);r>-1&&(t.fieldatavalue.splice(r,0,{FieldValueData:a,MatchIndex:a.length,SameName:"User-input"+i}),t.FieldsValue=t.fieldatavalue.map(e=>e.FieldValueData).join(""),t.InputValueArray.splice(r,0,{FieldValueData:a,MatchIndex:a.length,SameName:"User-input"+i}))}else t.fieldatavalue.push({FieldValueData:a,MatchIndex:a.length,SameName:"User-input"+i}),t.FieldsValue=t.fieldatavalue.map(e=>e.FieldValueData).join(""),t.InputValueArray.push({FieldValueData:a,MatchIndex:a.length,SameName:"User-input"+i});t.updatingvalue(),t.updatevaluebyid()}t.buttons[0].class="btn btn-success mr-2 my-sm-0 disabled",e.preventDefault()},UserInputSelection(e){var t=this;t.selecteduserinput=e.target.selectionStart,t.selecteduserinputbyid=t.InputValueArray.length},ExpresssionDataValue(e,t){var a=this;a.ResetExpression(),e.forEach(e=>{a.ExpressionIDvalue=e.ExpressionID,a.FormSchema[0].Data[0].value=e.ExpressionName,a.fieldatavalue.push({FieldValueData:e.ExpressionDisplay,MatchIndex:e.ExpressionDisplay.length,SameName:"EditedExp"}),a.FieldsValue=a.fieldatavalue.map(e=>e.FieldValueData).join(""),a.InputValueArray.push({FieldValueData:e.Expression,MatchIndex:e.Expression.length,SameName:"EditedExp"}),a.InputValueExpressionByID=a.InputValueArray.map(e=>e.FieldValueData).join(""),a.updatingvalue()}),t.forEach(e=>{a.FieldData.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,ColumnIndex:e.ColumnIndex})})},VerifyExpression(){var e=this,t={Info:{Expression:encodeURIComponent(e.InputValueExpressionByID),MODULENAME:e.customreportparameters.Modulename,SUBMODULECODE:e.customreportparameters.Submodulecode,FunctionExpression:e.Functionkey,FIELDS:e.FieldData}},a="JsonData="+JSON.stringify(t);e.isLoading=!0,s["a"].VerifyExpressionFromDB(a).then(t=>{"True"==t.data.Result?(e.verifiedvaluedata=1,e.isLoading=!1,e.buttons[0].class="btn btn-success mr-2 my-sm-0",e.verifiedvalue=!0):(e.verifyErrorMsg=t.data.Error,e.verifiedvaluedata=0,e.isLoading=!1)}).catch(e=>{console.log(e)})},SubmitExpression(){var e=this,t=!0;if(!e.editexpressionvalue){var a=e.Columnlist.findIndex(t=>t.FieldName===e.FormSchema[0].Data[0].value);-1!=a?(t=!1,e.ShowAlert(e.$t("ExpressionExist"),"failure",!0,e.$t("Alert"))):t=!0}t&&e.verifiedvalue&&""!=e.FormSchema[0].Data[0].value&&(this.$emit("VerifiedExpressionData",{ExpressionID:e.ExpressionIDvalue,FieldValue:e.FormSchema[0].Data[0].value,VerifiedExpression:e.InputValueExpressionByID,ExpressionFieldArray:e.FieldData,ExpressionDisplay:e.InputValueExpression,Functionkey:e.Functionkey}),e.verifiedvalue=!1)},CancelExpressionUI(){var e=this;e.close()},closed(){$("#verifiedid").alert("close")},GetCursorPoint(e){var t=document.getElementById("txtarea");t.focus();var a=document.getElementById("txtarea").selectionStart;return a+=1,a},SetValueOnCursorPosition(e){var t,a=this,l=[];return a.InputValueArray.forEach(a=>{a.MatchIndex<e?(t=e-a.MatchIndex,e=t):(a.MatchIndex>e||1==e)&&l.push(a)}),l},AddConditionExpression(){var e=this;e.conditionexpression=!0,"Dateadd"==e.Functionkey&&"CommaSeparatedValue"==e.GetCommaSeparatedValue&&(e.conditionexpression=!1,e.checkbycondition=e.checkbycondition+1),e.Addfields(e.modelconditionexpression)},DescriptionForFunction(){var e=this;"Datediff"==e.Functionkey?e.ShowDescriptionForFunction="Interval(Year,Month,Day)":"Dateadd"==e.Functionkey?e.ShowDescriptionForFunction="Interval(Year,Month,Day) Number(1,2,3,nth.)":"Datename"==e.Functionkey||"Datepart"==e.Functionkey?e.ShowDescriptionForFunction="Interval(Year,Month,Day)":"If"==e.Functionkey&&(e.ShowDescriptionForFunction="BooleanExpression,True Value, False Value")},ListFiltering(){var e=this,t=e.MainSearchmodel;null!=t&&""!=t?$(".column-collapse").addClass("show"):$(".column-collapse").removeClass("show");var a=[],l=[];e.modulelisting.forEach((i,s)=>{e.modulelisting[s].forEach(e=>{l.push(e),a=l.filter(e=>{var a=null!=e.DisplayName?e.DisplayName:e.FieldName;return a.replace(/\W/g,"").toLowerCase().includes(t.replace(/\W/g,"").toLowerCase())})}),e.searchColumnfilter[s]=a,l=[]});let i=0;for(let s in e.searchColumnfilter)e.searchColumnfilter[s].length>0&&i++;return e.SearchNoRecord=!(i>0),e.searchColumnfilter}}}),N=_,w=Object(f["a"])(N,S,A,!1,null,null,null),O=w.exports,E={components:{draggable:o.a,ReportPreview:V,CalculatedUI:O},data(){return{isLoading:!1,modulelisting:[],modulelistingforfilter:[],showModuleListForField:!0,showModuleListForFilter:!1,reqFrom:"Reporting",submodulecode:null,modulename:null,maindiv:"col-6 pl-0 float-left",expandcollapsediv:"bottom_filter_button",showdiv:"mb-0 d-none",fielddata:[],Grouplist:[],Columnlist:[],Filterlist:[],viewId:null,ReportName:null,fieldpan:"col-6 p-0 float-left",modulelistingmodel:null,customreportparameters:null,tempreportid:null,saveclass:"card d-none",editclass:"card",savereportname:null,Showsettingsview:!1,showdiv1:!1,dateformate:[],GetOperator:[],customField:null,dragcount:1,templates:["Match Any Value","Match All Value"],category:"Match All Value",ReportPreviewListing:[],previewdata:[],itemclass:"d-none",Groupsearchmodel:"",ColumnSearchmodel:"",MainSearchmodel:"",submodulename:[],submodulecodename:[],test1:[],PageNumber:1,PAGESIZE:10,selectvalue:"",selecteddatatype:"",texttypevalue1:!1,numbertypevalue1:!1,datetypevalue1:!1,datetypevalue2:!1,timetypevalue:!1,timetypevalue2:!1,multiselectvalue:!1,numbertypevalue2:!1,texttypevalue2:!1,savedOperatorName:null,drag:!1,GetDateFromDB:[],modeldisplayname:null,modeldateformat:"",modeldecimalplaces:null,modeluseseparator:null,modelusecurrency:null,FilterCount:1,valueTypeText:"",valueTypeNumber:"",valueTypeNumber2:"",valueTypeFirstdate:"",valueTypeSeconddate:"",Displaymultiplevalue:"",displayvalue2:"",ValueDisplaytext:"",ValueDisplaytext2:"",ValueDisplaynumber:"",ValueDisplaynumber2:"",ValueDisplaydate:"",ValueDisplaydate2:"",ValueDisplayTime:"",ValueDisplayTime2:"",selectedvalue:"",RequestFilterJosn:[],CurrentOperatorSelected:null,filtertype:null,operator_id:null,mode:"tags",dropdwonvalues:[],options:[],searchable:!0,createOption:!0,SelectedoperatorMappedDatatype:"",commaSepratedSelectedValues:"",selectedOPValue:"",GraphJson:[],sortingData:null,graphData:null,showReportPreview:!1,editjsondata:!1,valueKey:"",valuekey2:"",FirstOperand:"",FirstOperandValue1:"",SecondOperand:"",SecondOperandValue1:"",Datatype:"",operator:"",DisplayName:"",showcalculatedUI:!1,CheckExpressionFeild:!1,ExpressionArray:[],ExpressionFieldsArray:[],saveJsonReport:[],editexpressionvalue:!1,CalculatedUIEnabled:!1,searchColumnfilter:[],LevelOfGrouping:null,ExpFieldDataArray:[],ExpDataArray:[],setvalue:0,ChartGroupingArray:[],GroupingArray:[],PdfJsonReport:[],FilterActiveForMandatory:!1,SearchNoRecord:!1,IsMandatoryforFilterAfterReset:!1,ArrayforFilterpopup:[],modelFilterDDLValue:"",DDLForFilter:!1,selctRuleForFilter:"",IsForPreview:1,IsDDLValueInFilter:!1,GetSubModuleList:[],showRowLevelFunction:!1}},created:async function(){var e=this;void 0!=this.$route.params.Modulename?(e.customreportparameters=this.$route.params,e.storeParameters()):e.GetStoredParameters(),await e.GetList(e.customreportparameters),null==e.customreportparameters.ReportID&&void 0==e.customreportparameters.ReportID||(await e.GetReportDetailsByReportId(),e.IsDDLValueInFilter?setTimeout((function(){e.showReportPreview=!0}),1e3):e.showReportPreview=!0),e.filterRulechange()},computed:{filtergroup(){var e=this;return e.Columnlist.filter(t=>{var a=null!=t.DisplayName?t.DisplayName:t.FieldName;return a.replace(/\W/g,"").toLowerCase().includes(e.Groupsearchmodel.replace(/\W/g,"").toLowerCase())})},filterColumngroup(){var e=this,t=[],a=[],l=null;return e.modulelisting.forEach((i,s)=>{e.modulelisting[s].forEach(i=>{a.push(i),t=a.filter(t=>{var a=null!=t.DisplayName?t.DisplayName:t.FieldName;return a.replace(/\W/g,"").toLowerCase().includes(e.ColumnSearchmodel.replace(/\W/g,"").toLowerCase())}),t.forEach(t=>{l=e.modulelisting[s].find(e=>e.CustomFieldId===t.CustomFieldId),void 0!=l&&(l.MainFieldname=e.submodulename[s])})})}),t}},methods:{storeParameters(){var e=this;localStorage.setItem("SavedParameters",JSON.stringify(e.customreportparameters))},GetStoredParameters(){var e=this;e.customreportparameters=JSON.parse(localStorage.getItem("SavedParameters"))},async GetFilterSelectDDL(e){var t=this;t.options=[];var a=[];t.isLoading=!0,await s["a"].GetFilterDDLselectvalue(e).then(e=>{e.data.length>0?(a=e.data,a.forEach(e=>{t.options.push({value:e.value,label:e.name})}),t.isLoading=!1):t.isLoading=!1}).catch(e=>{console.log(e)})},async GetReportDetailsByReportId(){var e=this;e.isLoading=!0;var t=`ReportId=${e.customreportparameters.ReportID}&IsPaged=1`;await s["a"].GetReportDetailsbyId(t).then(async t=>{var a=[];null!=t.data&&void 0!=t.data&&""!=t.data&&(a=t.data.JSON_To_Create_ReportListing[0].Info.FIELDS),null!=t.data&&void 0!=t.data&&""!=t.data&&0!=a.length?(e.BindFeilds(t.data.JSON_To_Create_ReportListing[0].Info.FIELDS),await e.BindFilters(t.data.JSON_To_Create_ReportListing[0].Info.FILTERS),e.BindGROUP(t.data.JSON_To_Create_ReportListing[0].Info.GROUP),e.sortingData=t.data.JSON_To_Create_ReportListing[0].Info.SORTING,e.graphData=t.data.JSON_To_Create_ReportListing[0].Info.GRAPH,e.ExpressionArray=t.data.JSON_To_Create_ReportListing[0].Info.EXPRESSION,e.ExpressionFieldsArray=t.data.JSON_To_Create_ReportListing[0].Info.EXPRESSIONFIELDSARRAY,e.editexpressionvalue=!0,1==t.data.ReportListing&&(e.editjsondata=!0,e.saveJsonReport=t.data.JSON_To_Create_ReportListing[0],e.PdfJsonReport=t.data.JSON_To_Create_ReportListing[0])):(0==a.length&&e.CheckIsMandartoryForFilter(),e.isLoading=!1)}).catch(e=>{console.log(e)})},BindFeilds(e){var t=this;e.forEach(e=>{t.Columnlist.push(e),t.modulelisting.forEach((a,l)=>{let i=t.modulelisting[l].findIndex(t=>t.CustomFieldId===e.CustomFieldId);-1!=i&&t.modulelisting[l].splice(i,1)})}),t.Columnlist.length>0&&(t.CalculatedUIEnabled=!0)},bindpouupvaluefordatetime(e){var t=this;"datetime"!=e.ColumnFieldDataCode&&"date"!=e.ColumnFieldDataCode||("Between"==e.operator_display_name?(t.valueKey="valueTypeFirstdate",t.valuekey2="valueTypeSeconddate"):t.valueKey="valueTypeFirstdate"),"time"==e.ColumnFieldDataCode&&("Between"==e.operator_display_name?(t.valueKey="ValueDisplayFirstTime",t.valuekey2="ValueDisplaySecondTime"):t.valueKey="ValueDisplayFirstTime")},bindfilterdata(e){var t=this;t.Filterlist=e.map((e,a)=>{var l="",i="";if("select"==e.ColumnFieldDataCode&&"Lookup"==e.PickListOption){var s=[];if(e.OperatorExpression.includes("IN")||e.OperatorExpression.includes("NOT IN")){var r=[];s=e.Value1.split(","),s.forEach(e=>{l=t.options.find(t=>t.value===e),r.push(l.label)}),i=null===r||void 0===r?void 0:r.join(),t.valueKey="Displaymultiplevalue"}else{var o;l=t.options.find(t=>t.value===e.Value1),i=null===(o=l)||void 0===o?void 0:o.label,t.valueKey="DropDownValue"}}else"decimal"==e.ColumnFieldDataCode||"bigint"==e.ColumnFieldDataCode||"int"==e.ColumnFieldDataCode?"Between"==e.operator_display_name?(t.valueKey="valueTypeNumber",t.valuekey2="valueTypeNumber2"):t.valueKey="valueTypeNumber":"string"==e.ColumnFieldDataCode&&(e.OperatorExpression.includes("IN")||e.OperatorExpression.includes("NOT IN")?(t.valueKey="valueTypeText",t.valuekey2="valueTypeText2"):t.valueKey="valueTypeText");t.bindpouupvaluefordatetime(e);let n=t.modulelistingforfilter.findIndex(t=>t.find(t=>t.CustomFieldId==e.CustomFieldId)),d=t.modulelistingforfilter[n].findIndex(t=>t.CustomFieldId==e.CustomFieldId),u={};return-1!=d&&(u={FieldName:t.modulelistingforfilter[n][d].FieldName,CustomFieldId:e.CustomFieldId,ModuleIndex:n,ActualDataType:e.ActualDataType,FilterCount:a+1,FilterTypeAndorOr:t.filtertype,OPERATOR_ID:e.OPERATOR_ID,OperatorDisplayName:e.operator_display_name,IsMandatoryforFilter:e.IsMandatoryforFilter,FieldIcons:e.FieldIcons,DisplayName:e.DisplayName,ColumnFieldDataCode:e.ColumnFieldDataCode,PickListOption:e.PickListOption,Calculated_Field:!1},u[t.valuekey2]=e.Value2,u[t.valueKey]=""==i?e.Value1.replace(/"|'/g,""):i,t.modulelistingforfilter[n].splice(d,1)),u})},CheckforIncludeDataMatchesForFilter(){var e=this;"AND"==e.filtertype?e.category="Match All Value":e.category="Match Any Value"},BindFilters:async function(e){var t=this;e.length>0&&(e.map(async(e,a)=>{"select"==e.ColumnFieldDataCode&&"Lookup"==e.PickListOption&&(t.IsDDLValueInFilter=!0,await t.GetFilterSelectDDL(e.CustomFieldId))}),t.IsDDLValueInFilter?setTimeout((function(){t.filtertype=e[0].FilterTypeAndorOr,t.CheckforIncludeDataMatchesForFilter(),t.bindfilterdata(e),t.RequestFilterJosn=e.map((e,a)=>{let l=t.Filterlist.findIndex(t=>t.CustomFieldId==e.CustomFieldId),i={};return-1!=l&&(i={CustomFieldId:e.CustomFieldId,FieldName:t.Filterlist[l].FieldName,ActualDataType:e.ActualDataType,FilterCount:a+1,OperatorExpression:e.OperatorExpression,FilterTypeAndorOr:e.FilterTypeAndorOr,OPERATOR_ID:e.OPERATOR_ID,Value1:e.Value1,Value2:e.Value2,ColumnFieldDataCode:e.ColumnFieldDataCode,PickListOption:e.PickListOption}),i})}),1e3):(t.filtertype=e[0].FilterTypeAndorOr,t.CheckforIncludeDataMatchesForFilter(),t.bindfilterdata(e),t.RequestFilterJosn=e.map((e,a)=>{let l=t.Filterlist.findIndex(t=>t.CustomFieldId==e.CustomFieldId),i={};return-1!=l&&(i={CustomFieldId:e.CustomFieldId,FieldName:t.Filterlist[l].FieldName,ActualDataType:e.ActualDataType,FilterCount:a+1,OperatorExpression:e.OperatorExpression,FilterTypeAndorOr:e.FilterTypeAndorOr,OPERATOR_ID:e.OPERATOR_ID,Value1:e.Value1,Value2:e.Value2,ColumnFieldDataCode:e.ColumnFieldDataCode,PickListOption:e.PickListOption}),i})))},BindGROUP(e){var t=this;t.Grouplist=[],e.forEach(e=>{t.Grouplist.push(e)})},openSetting:function(e,t){var a=this;if(e.Calculated_Field){if(a.showcalculatedUI=!0,a.editexpressionvalue=!0,a.ExpressionFieldsArray.length>0||a.ExpressionArray.length>0){a.ExpDataArray=[],a.ExpFieldDataArray=[];for(var l=0;l<=a.ExpressionArray.length;l++)if(a.ExpressionArray[l].ColumnIndex===e.ModuleIndex){a.ExpDataArray.push(a.ExpressionArray.find(t=>t.ColumnIndex===e.ModuleIndex));break}a.ExpressionFieldsArray.forEach(t=>{var l=[];l.push(t);var i=l.find(t=>t.ColumnIndex===e.ModuleIndex);void 0!=i&&a.ExpFieldDataArray.push(i)})}var i;if($("#showcalculatedfield").modal("show"),setTimeout((function(){$("#showcalculatedfield").modal("show"),setTimeout((function(){a.SetBootstraptoolTip()}),200)}),1e3),a.editexpressionvalue)null===(i=a.$refs.Calculated)||void 0===i||i.ExpresssionDataValue(a.ExpDataArray,a.ExpFieldDataArray)}else a.modeldisplayname=a.GetLocalizedValue(null!=e.DisplayName&&""!=e.DisplayName?e.DisplayName:e.FieldName),a.modeldateformat=e.DateFormat,a.modeldecimalplaces=e.DecimalPlace,a.modeluseseparator=e.IsUseSeprator,a.modelusecurrency=e.IsCurrencySymbol,$(".setting-div-box").width("0px"),$(t.target).closest(".parentdiv").find(".setting-div-box").width("500px"),a.GetDateFromDetail()},CloseSetting:function(e){var t=this;t.modeldisplayname=null,t.modeldateformat="",t.modeldecimalplaces=null,t.modeluseseparator=null,t.modelusecurrency=null,$(e.target).closest(".setting-div-box").width("0px")},ClosePopFilter:function(){var e=this;$(".filter-list-box").width("0px").css("overflow","hidden"),e.texttypevalue1=!1,e.numbertypevalue1=!1,e.datetypevalue1=!1,e.datetypevalue2=!1,e.multiselectvalue=!1,e.numbertypevalue2=!1,e.texttypevalue2=!1,e.DDLForFilter=!1,e.timetypevalue=!1,e.timetypevalue2=!1,e.ValueDisplaytext="",e.ValueDisplaytext2="",e.ValueDisplaynumber="",e.ValueDisplaynumber2="",e.ValueDisplaydate="",e.ValueDisplaydate2="",e.ValueDisplayTime="",e.ValueDisplayTime2="",e.Displaymultiplevalue="",e.dropdwonvalues=[],e.modelFilterDDLValue="",e.SecondOperand="",e.SecondOperandValue1=""},CheckFeildOrFilter(){var e=this;let t=e.$refs.FIELDS.active;return t?"FIELD":"Filters"},GetList:async function(e){var t=this;if(void 0!=e.Modulename&&void 0!=e.Submodulecode&&null!=e.ReportName){var a=`moduleName=${e.Modulename}&subModuleCode=${e.Submodulecode}&viewId&reqFrom=${t.reqFrom}`;await s["a"].GetListFields(a).then(a=>{t.submodulecodename=a.data.AVAILABLE_FIELDS[0],t.submodulecodename.forEach(e=>{t.submodulename.push(e.SubModule),t.modulelisting.push([...e.CustomFields.sort((function(e,t){return e.DisplayName<t.DisplayName?-1:e.DisplayName>t.DisplayName?1:0}))]),t.modulelistingforfilter.push([...e.CustomFields.sort((function(e,t){return e.DisplayName<t.DisplayName?-1:e.DisplayName>t.DisplayName?1:0}))]),t.GetSubModuleList.push([...e.CustomFields])}),("Save"==e.NewReportInserted&&void 0!=e.ReportID||t.IsMandatoryforFilterAfterReset)&&t.CheckIsMandartoryForFilter(),setTimeout((function(){t.SetScrolbar("dark-thick","","customScrollForLeftBar")}),1e3)}).catch(e=>{console.log(e)}),t.submodulecode=e.Submodulecode,t.ReportName=e.ReportName}},CheckIsMandartoryForFilter:function(){var e=this;e.modulelisting.forEach((t,a)=>{e.modulelisting[a].forEach(t=>{if(t.IsMandatoryforFilter){var l=e.modulelisting[a].find(e=>e.CustomFieldId===t.CustomFieldId);"datetime"==l.ActualDataType&&(e.FilterActiveForMandatory=!0,e.SelectedoperatorMappedDatatype=l.dttype[0].DataTypeCode,e.ValueDisplaydate=moment(moment().subtract(30,"days")).format("YYYY-MM-DD"),e.savedOperatorName="Greater Than",e.CurrentOperatorSelected=">",e.operator_id=1,e.AddFilter(l,a),e.applySetting(l.CustomFieldId))}})})},collapsedclick:function(){var e=this;e.maindiv="col-6 pl-0 float-left d-none",e.showdiv="mb-0",e.fieldpan="col-6 p-0 float-left leftpancollapse col-11"},expandclick:function(){var e=this;e.maindiv="col-6 pl-0 float-left ",e.showdiv="mb-0 d-none",e.fieldpan="col-6 p-0 float-left"},editreport:function(){var e=this;e.editclass="card d-none",e.saveclass="card";var t="&Report_id="+e.customreportparameters.ReportID;s["a"].Editdyanmicreport(t).then(t=>{e.savereportname=t.data.ReportName}).catch(e=>{console.log(e)})},savereport:function(){var e=this;e.editclass="card",e.saveclass="card d-none";var t=`ReportName=${e.savereportname}&Report_Id=${e.customreportparameters.ReportID}&Folder_Id=${e.customreportparameters.Folder_Id}&Module_Id=${e.customreportparameters.Module_Id}&Sub_Module_Id=${e.customreportparameters.Sub_Module_Id}&Ref_Code=${e.customreportparameters.Submodulecode}&Version=${e.customreportparameters.Version}`;s["a"].AddDynamicreport(t).then(t=>{"Update"==t.data[0].Status?(e.ShowAlert(e.$t("UpdatedSuccess",[e.$t("ReportName")]),"success",!0,e.$t("Alert")),e.ReportName=e.savereportname):"Exists"==t.data[0].Status?(e.savereportname=null,e.ShowAlert(e.$t("AlreadyExists",[e.$t("ReportName")]),"failure",!0,e.$t("Alert"))):(e.savereportname=null,e.ShowAlert(e.$t("SaveError",[e.$t("ReportName")]),"failure",!0,e.$t("Alert")))}).catch(e=>{console.log(e)})},PreviewJson:async function(e,t,a){var l=this,i=[];l.isLoading=!0;let r=l.MatchIfSameNameExist();if(r)l.ShowAlert('Same Display Name  "'+r+'"  is Exist Mutiple Times Please Change',"failure",!0,l.$t("Alert")),l.isLoading=!1;else{let r=l.CheckForValidSorting(e);if(0==r){for(var o in e)void 0!=e[o].sortcolummnId&&""!=e[o].sortcolummnId&&(i.push({CustomFieldId:e[o].sortcolummnId,SORTTYPE:e[o].columnOrders,SortIndex:parseInt(o),Calculated_Field:""}),l.Columnlist.forEach(e=>{var t=i.find(t=>t.CustomFieldId===e.CustomFieldId||t.CustomFieldId===e.FieldName);void 0!=t&&(t.Calculated_Field=e.Calculated_Field)}));var n;if(t){if(l.ChartGroupingArray=[],l.GroupingArray=[],void 0!=a&&""!=a){var d=l.Columnlist.find(e=>e.CustomFieldId===a.XAxisField||e.FieldName===a.XAxisField),u=l.Columnlist.find(e=>e.CustomFieldId===a.YAxisField||e.FieldName===a.YAxisField);l.ChartGroupingArray.push({XCustomFieldId:d.CustomFieldId,XFieldName:d.FieldName,YCustomFieldId:u.CustomFieldId,YFieldName:u.FieldName,AggregateFunctionType:a.AggregateFunctionType})}n={Info:{REPORTID:l.customreportparameters.ReportID,REPORTNAME:l.ReportName,MODULENAME:l.customreportparameters.Modulename,SUBMODULECODE:l.customreportparameters.Submodulecode,SUBMODULEID:l.customreportparameters.submoduleid,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:1,IsForPreview:l.IsForPreview,FIELDS:l.Columnlist,FILTERS:l.RequestFilterJosn,GROUP:[],CHARTGROUPARRAY:l.ChartGroupingArray,SORTING:i,GRAPH:[],EXPRESSION:l.ExpressionArray,EXPRESSIONFIELDSARRAY:l.ExpressionFieldsArray}}}else n={Info:{REPORTID:l.customreportparameters.ReportID,REPORTNAME:l.ReportName,MODULENAME:l.customreportparameters.Modulename,SUBMODULECODE:l.customreportparameters.Submodulecode,SUBMODULEID:l.customreportparameters.submoduleid,PAGESIZE:10,PAGENUMBER:1,IS_PAGED:1,IsForPreview:l.IsForPreview,FIELDS:l.Columnlist,FILTERS:l.RequestFilterJosn,GROUP:l.Grouplist,CHARTGROUPARRAY:[],SORTING:i,GRAPH:[],EXPRESSION:l.ExpressionArray,EXPRESSIONFIELDSARRAY:l.ExpressionFieldsArray}};l.showReportPreview=!0,l.saveJsonReport=n;var p=JSON.stringify(n);await s["a"].PreviewReport(p).then(e=>{var a=[];a=JSON.parse(e.data[0].Value).ListingData,null!=a&&void 0!=a&&a.length>0?(t?(l.GraphJson=JSON.parse(e.data[0].Value),t||(l.previewdata=JSON.parse(e.data[0].Value).ListingData)):(l.PdfJsonReport=n,l.previewdata=JSON.parse(e.data[0].Value).ListingData,l.LevelOfGrouping=JSON.parse(e.data[0].Value).MetaData[0].LevelOfGrouping),l.isLoading=!1):(l.ShowAlert(l.$t("No_Record_Found"),"failure",!0,l.$t("Alert")),l.isLoading=!1,l.previewdata=[])}).catch(e=>{console.log("Data not Found"),l.previewdata=[],l.ShowAlert(l.$t("No_Record_Found"),"failure",!0,l.$t("Alert")),l.isLoading=!1})}else l.ShowAlert(l.$t("InvalidSorting"),"failure",!0,l.$t("Alert")),l.isLoading=!1}},Addfields:function(e,t,a,l){var i=this;let s=i.$refs.FIELDS.active;var r;if(i.Columnlist.length<20){if(s){if(i.Columnlist.length<1)r=i.Columnlist.length;else{const e=i.Columnlist[i.Columnlist.length-1];r=e.Display_Order+1}if(e.hasOwnProperty("dttype")){const s=i.Columnlist.findIndex(t=>t.CustomFieldId===e.CustomFieldId);-1===s&&(i.Columnlist.push({CustomFieldId:e.CustomFieldId,DisplayName:e.DisplayName,FieldName:e.FieldName,ModuleIndex:a,ColumnFieldDataCode:e.dttype[0].DataTypeCode,Display_Order:r,Calculated_Field:!1,MainFieldname:l,FieldIcons:e.dttype[0].icon}),void 0==t.removed&&i.modulelisting[a].splice(i.modulelisting[a].indexOf(e),1))}else{const s=i.Columnlist.findIndex(t=>t.CustomFieldId==e.CustomFieldId);-1===s&&(i.Columnlist.push({CustomFieldId:e.CustomFieldId,DisplayName:e.DisplayName,FieldName:e.FieldName,ModuleIndex:a,ColumnFieldDataCode:e.ColumnFieldDataCode,Display_Order:r,Calculated_Field:!1,MainFieldname:l,FieldIcons:e.FieldIcons}),void 0==t.removed&&i.modulelisting[a].splice(i.modulelisting[a].indexOf(e),1))}}}else i.ShowAlert(i.$t("AddCustomFields"),"failure",!0,i.$t("Alert"));i.CalculatedUIEnabled=!0,i.searchColumnfilter=[],i.MainSearchmodel=""},SaveSelectedData:function(e,t){var a=this,l=a.Columnlist.find(t=>t.CustomFieldId==e.CustomFieldId);l.DisplayName=a.modeldisplayname,l.DateFormat=a.modeldateformat,l.DecimalPlace=a.modeldecimalplaces,l.IsUseSeprator=a.modeluseseparator,l.IsCurrencySymbol=a.modelusecurrency,a.Grouplist.find(e=>e.CustomFieldId===l.CustomFieldId)&&(a.Grouplist=[],a.Grouplist.push(l)),a.CloseSetting(t)},DeleteColumnFields:function(e,t){var a=this;let l=a.$refs.reportdata.CheckColumnExistInGraph(e.CustomFieldId);if(l)a.ShowAlert(a.$t("GraphFields"),"warning",!0,a.$t("Alert"));else{if(!e.Calculated_Field){let t=a.Columnlist.findIndex(t=>t.CustomFieldId==e.CustomFieldId);t>-1&&(a.Columnlist.splice(t,1),a.searchColumnfilter=[])}let t=a.Grouplist.findIndex(t=>t.CustomFieldId==e.CustomFieldId);if(t>-1&&a.Grouplist.splice(t,1),0==a.Columnlist.length&&(a.previewdata=[],a.CalculatedUIEnabled=!1),e.Calculated_Field||a.modulelisting[e.ModuleIndex].push({CustomFieldId:e.CustomFieldId,DisplayName:e.DisplayName,FieldName:e.FieldName,ColumnFieldDataCode:e.ColumnFieldDataCode,Display_Order:e.Display_Order,Calculated_Field:!1,MainFieldname:e.MainFieldname,FieldIcons:e.FieldIcons}),a.Groupsearchmodel="",e.Calculated_Field&&(a.ExpressionFieldsArray.length>0||a.ExpressionArray.length>0)){let t=a.Columnlist.findIndex(t=>t.ModuleIndex==e.ModuleIndex);t>-1&&(a.Columnlist.splice(t,1),a.searchColumnfilter=[]);for(var i=0;i<=a.ExpressionArray.length;i++)if(a.ExpressionArray[i].ColumnIndex===e.ModuleIndex){a.ExpressionArray.splice(i,1);break}a.ExpressionFieldsArray.forEach(t=>{var l=a.ExpressionFieldsArray.findIndex(t=>t.ColumnIndex===e.ModuleIndex);l>-1&&a.ExpressionFieldsArray.splice(l,1)})}if(null!=a.sortingData&&a.sortingData.length>0){let t=a.sortingData.findIndex(t=>t.CustomFieldId===e.CustomFieldId);var s;if(t>-1)a.sortingData.splice(t,1),null===(s=a.$refs.reportdata)||void 0===s||s.EditSortingData()}}},DeleteGroupFields:function(e,t){var a=this;let l=a.Grouplist.findIndex(t=>t.CustomFieldId==e.CustomFieldId);var i;(l>-1&&a.Grouplist.splice(l,1),a.Groupsearchmodel="",null!=a.previewdata&&void 0!=a.previewdata&&a.previewdata.length>0)&&(null===(i=a.$refs.reportdata)||void 0===i||i.RefreshReport())},AddFilter:function(e,t){var a=this;a.filterRulechange();let l=0!=a.$refs.Filters.active?a.$refs.Filters.active:a.FilterActiveForMandatory;if(a.Filterlist.length<20){if(l){const l=a.Filterlist.findIndex(t=>t.CustomFieldId===e.CustomFieldId);-1===l&&("Match All Value"==a.category?a.filtertype="AND":a.filtertype="OR",a.Filterlist.push({CustomFieldId:e.CustomFieldId,ModuleIndex:t,FieldName:e.FieldName,DisplayName:e.DisplayName,ActualDataType:e.ActualDataType,ColumnFieldDataCode:void 0!=e.ColumnFieldDataCode?e.ColumnFieldDataCode:e.dttype[0].DataTypeCode,PickListOption:void 0!=e.PickListOption?e.PickListOption:e.picklist_options,FilterCount:a.getCountValue(),FilterTypeAndorOr:a.filtertype,IsMandatoryforFilter:e.IsMandatoryforFilter,FieldIcons:void 0!=e.FieldIcons?e.FieldIcons:e.dttype[0].icon,OPERATOR_ID:"undefined"===typeof e.OPERATOR_ID?null:e.OPERATOR_ID,valueTypeText:"undefined"===typeof e.result?null:e.result,Calculated_Field:!1})),void 0==event.removed&&a.modulelistingforfilter[t].splice(a.modulelistingforfilter[t].indexOf(e),1),a.FilterActiveForMandatory=!1}}else a.ShowAlert(a.$t("AddCustomFilter"),"failure",!0,a.$t("Alert"));a.searchColumnfilter=[],a.MainSearchmodel=""},DeleteFilterFields:function(e,t){var a=this;if(!e.IsMandatoryforFilter){let t=a.Filterlist.findIndex(t=>t.CustomFieldId==e.CustomFieldId);t>-1&&a.Filterlist.splice(t,1);let l=a.Filterlist.findIndex(t=>t.CustomFieldId==e.CustomFieldId);l>-1&&a.Filterlist.splice(l,1),a.dragcount=a.dragcount-1,a.modulelistingforfilter[e.ModuleIndex].push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,DisplayName:e.DisplayName,ActualDataType:e.ActualDataType,FieldIcons:e.FieldIcons,ColumnFieldDataCode:e.ColumnFieldDataCode,PickListOption:e.PickListOption,FilterType:e.filtertype});let i=a.RequestFilterJosn.findIndex(t=>t.CustomFieldId===e.CustomFieldId);-1!=i&&a.RequestFilterJosn.splice(t,1),a.ClosePopFilter()}},openrulespop:function(e,t){var a=this;void 0==e.selectedOPValue&&(e.OPERATOR_ID=""),e.selectedOPValue="",$(".filter-list-box").width("0px").css("overflow","hidden"),$(t.target).closest(".parentdiv").find(".filter-list-box").width("500px").css("overflow","visible"),a.GetOperatordata(e),a.texttypevalue1=!1,a.numbertypevalue1=!1,a.datetypevalue1=!1,a.datetypevalue2=!1,a.multiselectvalue=!1,a.numbertypevalue2=!1,a.texttypevalue2=!1,a.DDLForFilter=!1,a.timetypevalue=!1,a.timetypevalue2=!1,a.dropdwonvalues=[],a.ValueDisplaytext="",a.ValueDisplaytext2="",a.ValueDisplaynumber="",a.ValueDisplaynumber2="",a.ValueDisplaydate="",a.ValueDisplaydate2="",a.Displaymultiplevalue="",a.modelFilterDDLValue="",a.ValueDisplayTime="",a.ValueDisplayTime2=""},getCountValue:function(){return this.dragcount++},dragover:function(e){let t=1;$(".draggable-list .filter-div").each((function(e){t=e+1,$(this).find(".filter-count-div").html(t)})),this.dragcount=t},GroupSearching:function(){this.itemclass=""},selectfiltervalue:function(e){var t=this;t.Grouplist.length<1&&(t.Grouplist.push(e),t.itemclass="d-none",t.Groupsearchmodel="")},selectfilterColumnvalue:function(e){var t=this;const a=t.Columnlist.findIndex(t=>t.CustomFieldId===e.CustomFieldId);-1===a&&t.modulelisting.forEach((a,l)=>{t.modulelisting[l].forEach(a=>{const i=t.modulelisting[l].findIndex(t=>t.CustomFieldId===e.CustomFieldId);-1!=i&&(t.Addfields(e,"",l,t.submodulename[l]),t.itemclass="d-none")})}),t.ColumnSearchmodel=""},ResetPreview:function(e){var t=this;t.modulelisting.splice(0),t.Columnlist.splice(0),t.Columnlist=[],t.Grouplist.splice(0),t.Groupsearchmodel="",t.previewdata.splice(0),t.RequestFilterJosn=[],t.Filterlist=[],t.ExpressionArray=[],t.ExpressionFieldsArray=[],t.saveJsonReport=[],t.setvalue=0,t.modulelistingforfilter.splice(0),t.CalculatedUIEnabled=!1,t.ChartGroupingArray=[],t.GroupingArray=[],t.MainSearchmodel="",t.IsMandatoryforFilterAfterReset=!0,t.GetList(e)},GetDateFromDetail:function(){var e=this;s["a"].GetDateDetails().then(t=>{e.GetDateFromDB=t.data}).catch(e=>{console.log(e)})},resetoldvalueinfilteroperator(e,t){var a=this;""!=e.selectedOPValue&&""!=t&&(a.dropdwonvalues=[],a.ValueDisplaytext="",a.ValueDisplaytext2="",a.ValueDisplaynumber="",a.ValueDisplaynumber2="",a.ValueDisplaydate="",a.ValueDisplaydate2="",a.Displaymultiplevalue="",a.ValueDisplayTime="",a.ValueDisplayTime2="",a.modelFilterDDLValue="")},checkvalue:function(e,t,a,l,i){var s=this;"select"===t.ColumnFieldDataCode&&"Lookup"===t.PickListOption&&s.GetFilterSelectDDL(t.CustomFieldId,t.FieldName),setTimeout((function(){if(s.savedOperatorName="",s.SelectedoperatorMappedDatatype=t.ColumnFieldDataCode,s.CurrentOperatorSelected=a,s.savedOperatorName=e,s.operator_id=l,"string"==t.ColumnFieldDataCode&&("Between"==e?(s.texttypevalue1=!0,s.texttypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e?(s.texttypevalue1=!1,s.texttypevalue2=!1):(s.texttypevalue1=!0,s.texttypevalue2=!1)),"decimal"!=t.ColumnFieldDataCode&&"int"!=t.ColumnFieldDataCode&&"bigint"!=t.ColumnFieldDataCode||("Between"==e?(s.numbertypevalue1=!0,s.numbertypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e?(s.numbertypevalue1=!1,s.numbertypevalue2=!1):(s.numbertypevalue1=!0,s.numbertypevalue2=!1)),"select"===t.ColumnFieldDataCode&&"Lookup"===t.PickListOption&&("Is Empty"==e||"Is Not Empty"==e?(s.DDLForFilter=!1,s.multiselectvalue=!1,s.texttypevalue1=!1,s.texttypevalue2=!1):"IN"==a||"NOT IN"==a?(s.multiselectvalue=!0,s.DDLForFilter=!1):(s.DDLForFilter=!0,s.multiselectvalue=!1,s.texttypevalue1=!1,s.texttypevalue2=!1)),"date"===t.ColumnFieldDataCode&&("Between"==e?(s.datetypevalue1=!0,s.datetypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e||"Is Off Day"==e||"Is Week End"==e?(s.datetypevalue1=!1,s.datetypevalue2=!1):(s.datetypevalue1=!0,s.datetypevalue2=!1)),"time"===t.ColumnFieldDataCode&&("Between"==e?(s.timetypevalue=!0,s.timetypevalue2=!0):"Is Empty"==e||"Is Not Empty"==e||"Is Off Day"==e||"Is Week End"==e?(s.timetypevalue=!1,s.timetypevalue2=!1):(s.timetypevalue=!0,s.timetypevalue2=!1)),void 0!=i)void 0!=l&&void 0!=e&&(s.dropdwonvalues=[],s.ValueDisplaytext="",s.ValueDisplaytext2="",s.ValueDisplaynumber="",s.ValueDisplaynumber2="",s.ValueDisplaydate="",s.ValueDisplaydate2="",s.modelFilterDDLValue="",s.ValueDisplayTime="",s.ValueDisplayTime2="",t.OPERATOR_ID==l&&s.FillFiltervalue(l,t),t=[]);else{var r=s.Filterlist.find(e=>e.OPERATOR_ID===l);-1!=r&&s.resetoldvalueinfilteroperator(t,i)}}),1e3)},GetOperatordata:function(e){var t=this,a=e.CustomFieldId,l=`dataType=${e.ColumnFieldDataCode}&customField=${a}`;s["a"].GetDataOperator(l).then(l=>{if(t.GetOperator=l.data.DATA,t.BindOperatorValues(a,e),e.OPERATOR_ID>0){var i=t.GetOperator.filter(t=>t.OPERATOR_ID==e.OPERATOR_ID);if(i.length>0){var s=!0;t.isBinding=s,t.checkvalue(i[0].OPERATOR_DISPLAY_NAME,e,i[0].OPERATOR_EXPRESSION,e.OPERATOR_ID,i[0].MP[0].OPERATION_DATA_TYPE,s)}}})},popupvaluebind(e,t){var a=this;if("string"==t.ColumnFieldDataCode&&("Equal to one of multiple possible values"==t.OperatorDisplayName||"Not Equal to one of multiple possible values"==t.OperatorDisplayName?(a.texttypevalue1=!0,a.ValueDisplaytext=this.Filterlist[e].valueTypeText.split(",")):(a.texttypevalue1=!0,a.ValueDisplaytext=this.Filterlist[e].valueTypeText)),"select"==t.ColumnFieldDataCode)if("Equal to one of multiple possible values"==t.OperatorDisplayName||"Not Equal to one of multiple possible values"==t.OperatorDisplayName)a.multiselectvalue=!0,a.commaSepratedSelectedValues=this.Filterlist[e].Displaymultiplevalue.split(",");else{a.DDLForFilter=!0;var l=a.options.find(e=>e.label===t.DropDownValue);a.modelFilterDDLValue=null===l||void 0===l?void 0:l.value}"date"==t.ColumnFieldDataCode&&("Between"==a.DisplayName?(a.datetypevalue1=!0,a.datetypevalue2=!0,a.ValueDisplaydate=this.Filterlist[e].valueTypeFirstdate,a.ValueDisplaydate2=this.Filterlist[e].valueTypeSeconddate):(a.datetypevalue1=!0,a.ValueDisplaydate=this.Filterlist[e].valueTypeFirstdate)),"time"==t.ColumnFieldDataCode&&("Between"==a.DisplayName?(a.timetypevalue=!0,a.timetypevalue2=!0,a.ValueDisplayTime=this.Filterlist[e].ValueDisplayFirstTime,a.ValueDisplayTime2=this.Filterlist[e].ValueDisplaySecondTime):(a.timetypevalue=!0,a.ValueDisplayTime=this.Filterlist[e].ValueDisplayFirstTime))},BindOperatorValues(e,t){var a=this;a.isBinding=!1;var l=this.Filterlist.findIndex(t=>t.CustomFieldId==e);a.DisplayName=this.Filterlist[l].OperatorDisplayName,null!=a.DisplayName&&void 0!=a.DisplayName&&""!=a.DisplayName?(a.operator=this.GetOperator.find(e=>e.OPERATOR_DISPLAY_NAME==a.DisplayName),a.Filterlist[l]["selectedOPValue"]=a.operator.OPERATOR_ID,a.Datatype=a.operator.MP[0].OPERATION_DATA_TYPE,a.popupvaluebind(l,t),"decimal"!=t.ColumnFieldDataCode&&"int"!=t.ColumnFieldDataCode||("Between"==a.DisplayName?(a.numbertypevalue1=!0,a.numbertypevalue2=!0,a.ValueDisplaynumber=this.Filterlist[l].valueTypeNumber,a.ValueDisplaynumber2=this.Filterlist[l].valueTypeNumber2):(a.numbertypevalue1=!0,a.ValueDisplaynumber=this.Filterlist[l].valueTypeNumber))):a.selectedOPValue=""},FilterJosnRquest(e){var t=this;if(("Not Match a character pattern"==e.OperatorDisplayName||"Match a character pattern"==e.OperatorDisplayName)&&""==t.ValueDisplaytext)return t.ShowAlert(t.$t("Please enter some value in the text field"),"warning",!0,t.$t("Alert")),!1;if("string"==t.SelectedoperatorMappedDatatype)if("IN"==t.CurrentOperatorSelected||"NOT IN"==t.CurrentOperatorSelected){if(t.FirstOperand=t.ValueDisplaytext,t.FirstOperandValue1=t.ValueDisplaytext2,"Equal to one of multiple possible values"==e.OperatorDisplayName||"Not Equal to one of multiple possible values"==e.OperatorDisplayName){let e=t.ValueDisplaytext.split(",");t.FirstOperandValue1=e}}else t.FirstOperand="'"+t.ValueDisplaytext+"'",t.FirstOperandValue1=t.ValueDisplaytext;else"decimal"!=t.SelectedoperatorMappedDatatype&&"int"!=t.SelectedoperatorMappedDatatype&&"bigint"!=t.SelectedoperatorMappedDatatype||("Between"==e.OperatorDisplayName?(t.FirstOperand="'"+e.valueTypeNumber+"'",t.FirstOperandValue1=e.valueTypeNumber,t.SecondOperand="'"+e.valueTypeNumber2+"'",t.SecondOperandValue1=e.valueTypeNumber2):(t.FirstOperand="'"+e.valueTypeNumber+"'",t.FirstOperandValue1=e.valueTypeNumber));let a=t.ConvertOperatorToExpression(t.CurrentOperatorSelected,t.FirstOperand,t.SecondOperand);const l=t.RequestFilterJosn.findIndex(t=>t.CustomFieldId===e.CustomFieldId);if(-1==l)t.RequestFilterJosn.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,ActualDataType:t.SelectedoperatorMappedDatatype,FilterCount:e.FilterCount,OperatorExpression:a,OPERATOR_ID:t.operator_id,Value1:t.FirstOperandValue1,Value2:t.SecondOperandValue1,IsMandatoryforFilter:e.IsMandatoryforFilter,FieldIcons:e.FieldIcons,DisplayName:e.DisplayName,FilterTypeAndorOr:e.FilterTypeAndorOr,PickListOption:e.PickListOption,ColumnFieldDataCode:e.ColumnFieldDataCode});else{let l=t.RequestFilterJosn.find(t=>t.CustomFieldId===e.CustomFieldId);l.OperatorExpression=a,l.PickListOption=e.PickListOption,l.ColumnFieldDataCode=e.ColumnFieldDataCode,l.OPERATOR_ID=t.operator_id,l.Value1=t.FirstOperandValue1,l.Value2=t.SecondOperandValue1,l.IsMandatoryforFilter=e.IsMandatoryforFilter}t.ClosePopFilter()},FillFiltervalue:function(e,t){var a=this;a.ArrayforFilterpopup.push(t);var l=a.ArrayforFilterpopup.findIndex(t=>t.OPERATOR_ID==e);if(l>-1){var i=a.RequestFilterJosn.find(a=>a.OPERATOR_ID==e&&a.CustomFieldId===t.CustomFieldId);if("string"==t.ColumnFieldDataCode)a.ValueDisplaytext=null===i||void 0===i?void 0:i.Value1,a.ValueDisplaytext2=null===i||void 0===i?void 0:i.Value2;else if("decimal"==t.ColumnFieldDataCode||"int"==t.ColumnFieldDataCode||"bigint"==t.ColumnFieldDataCode)a.ValueDisplaynumber=null===i||void 0===i?void 0:i.Value1,a.ValueDisplaynumber2=null===i||void 0===i?void 0:i.Value2;else if("date"===t.ColumnFieldDataCode)a.ValueDisplaydate=null===i||void 0===i?void 0:i.Value1,a.ValueDisplaydate2=null===i||void 0===i?void 0:i.Value2;else if("time"===t.ColumnFieldDataCode)a.ValueDisplayTime=null===i||void 0===i?void 0:i.Value1,a.ValueDisplayTime2=null===i||void 0===i?void 0:i.Value2;else if("select"===t.ColumnFieldDataCode&&"Lookup"===t.PickListOption)if("IN"==a.CurrentOperatorSelected||"NOT IN"==a.CurrentOperatorSelected){var s=null===i||void 0===i?void 0:i.Value1.replace(/"|'/g,"");a.dropdwonvalues=null===s||void 0===s?void 0:s.split(",")}else a.modelFilterDDLValue=null===i||void 0===i?void 0:i.Value1}a.filterRulechange()},applySetting:function(e){var t=this,a=!1;"Between"==t.savedOperatorName?(""!=t.ValueDisplaytext&&""!=t.ValueDisplaytext2||(""!=t.ValueDisplaynumber||"0"==t.ValueDisplaynumber)&&""!=t.ValueDisplaynumber2||""!=t.ValueDisplaydate&&""!=t.ValueDisplaydate2||""!=t.ValueDisplayTime&&""!=t.ValueDisplayTime2)&&(a=!0):(""!=t.ValueDisplaytext||""!=t.ValueDisplaytext2||""!=t.ValueDisplaynumber||"0"==t.ValueDisplaynumber||""!=t.ValueDisplaynumber2||""!=t.ValueDisplaydate||""!=t.ValueDisplaydate2||""!=t.ValueDisplayTime||""!=t.ValueDisplayTime2||t.dropdwonvalues.length>0||""!=t.modelFilterDDLValue||"Is Empty"==t.savedOperatorName||"Is Not Empty"==t.savedOperatorName||"Is Off Day"==t.savedOperatorName||"Is Week End"==t.savedOperatorName)&&(a=!0),setTimeout((function(){if(a){var l,i,s=[];if(t.dropdwonvalues.forEach(e=>{const a=t.options.find(t=>t.value===e);-1!=a&&void 0!=a&&s.push(a.label)}),""!=t.dropdwonvalues)t.commaSepratedSelectedValues=null===(i=t.dropdwonvalues)||void 0===i?void 0:i.join(),t.modelFilterDDLValue="";var r="";""!=t.modelFilterDDLValue&&(r=t.options.find(e=>e.value===t.modelFilterDDLValue));var o=t.Filterlist.find(t=>t.CustomFieldId==e);if(o.OperatorDisplayName=t.savedOperatorName,o.valueTypeText=t.ValueDisplaytext,o.valueTypeText2=t.ValueDisplaytext2,o.valueTypeNumber=t.ValueDisplaynumber,o.valueTypeNumber2=t.ValueDisplaynumber2,o.valueTypeFirstdate=t.ValueDisplaydate,o.valueTypeSeconddate=t.ValueDisplaydate2,o.ValueDisplayFirstTime=t.ValueDisplayTime,o.ValueDisplaySecondTime=t.ValueDisplayTime2,o.Displaymultiplevalue=null===s||void 0===s?void 0:s.join(),o.DropDownValue=null===(l=r)||void 0===l?void 0:l.label,o.OPERATOR_ID=t.operator_id,"select"==t.SelectedoperatorMappedDatatype)if("IN"==t.CurrentOperatorSelected||"NOT IN"==t.CurrentOperatorSelected){let e=t.commaSepratedSelectedValues.split("."),a=e.join(",");t.FirstOperand="'"+a.split(",").join("','")+"'";let l=t.FirstOperand;t.FirstOperandValue1=l}else t.FirstOperand="'"+t.modelFilterDDLValue+"'",t.FirstOperandValue1=t.modelFilterDDLValue;else"date"==t.SelectedoperatorMappedDatatype?"Between"==o.OperatorDisplayName?(t.FirstOperand="'"+o.valueTypeFirstdate+"'",t.FirstOperandValue1=o.valueTypeFirstdate,t.SecondOperand="'"+o.valueTypeSeconddate+"'",t.SecondOperandValue1=o.valueTypeSeconddate):(t.FirstOperand="'"+o.valueTypeFirstdate+"'",t.FirstOperandValue1=o.valueTypeFirstdate):"time"==t.SelectedoperatorMappedDatatype&&("Between"==o.OperatorDisplayName?(t.FirstOperand="'"+o.ValueDisplayFirstTime+"'",t.FirstOperandValue1=o.ValueDisplayFirstTime,t.SecondOperand="'"+o.ValueDisplaySecondTime+"'",t.SecondOperandValue1=o.ValueDisplaySecondTime):(t.FirstOperand="'"+o.ValueDisplayFirstTime+"'",t.FirstOperandValue1=o.ValueDisplayFirstTime));t.FilterJosnRquest(o)}else t.ShowAlert("Cannot Add Empty Filter","failure")}),500)},FilterTabClicked(){var e=this;e.showModuleListForFilter=!0,e.showModuleListForField=!1,e.MainSearchmodel="",e.searchColumnfilter=[]},FieldTabClicked(){var e=this;e.showModuleListForFilter=!1,e.showModuleListForField=!0,e.MainSearchmodel="",e.searchColumnfilter=[]},openActionIcon:function(e){var t=this;t.showRowLevelFunction=!0},closeActionIcon:function(e){var t=this;t.showRowLevelFunction=!1},OpenCalculatedUI:function(){var e=this;e.showcalculatedUI=!0,e.editexpressionvalue=!1,e.showRowLevelFunction=!1,$("#showcalculatedfield").modal("show"),setTimeout((function(){$("#showcalculatedfield").modal("show"),setTimeout((function(){e.SetBootstraptoolTip()}),200)}),1e3)},VerifiedExpressionColumnValue({ExpressionID:e,FieldValue:t,VerifiedExpression:a,ExpressionFieldArray:l,ExpressionDisplay:i,Functionkey:s}){var r,o=this;const n=o.Columnlist.findIndex(t=>t.CustomFieldId===e),d=o.Columnlist.findIndex(e=>e.FieldName===t);var u;if(-1===n||-1===d){var p="",c="",m=0;if(o.Columnlist.forEach(e=>{e.Calculated_Field||0!=m?(o.setvalue=1,m++):o.setvalue=0}),1==o.setvalue)o.Columnlist.forEach(e=>{if(e.Calculated_Field){var t=[];t.push(e);var a=t.find(e=>e.ModuleIndex);p=a.ModuleIndex}}),c=parseInt(p)+1;else{const e=o.Columnlist[o.Columnlist.length-1];c=e.ModuleIndex+2,o.setvalue=1}if(o.Columnlist.length<1)u=o.Columnlist.length;else{const e=o.Columnlist[o.Columnlist.length-1];u=e.Display_Order+1}if(o.Columnlist.push({CustomFieldId:"",FieldName:t,DisplayName:t,DateFormat:null,DateFormatId:null,DecimalPlace:null,IsUseSeprator:null,IsCurrencySymbol:null,ColumnFieldDataCode:"string",Display_Order:u,ModuleIndex:c,Calculated_Field:!0,ExpressionDisplay:i}),""!=a){o.ExpressionArray.push({ExpressionID:e,Expression:a,ExpressionName:t,ExpressionDisplay:i,ColumnIndex:c,REPORTID:o.customreportparameters.ReportID,FunctionKeys:s});var v=o.Columnlist.find(e=>e.FieldName===t);v.ModuleIndex=c,void 0==o.ExpressionFieldsArray&&(o.ExpressionFieldsArray=[]),l.forEach(e=>{o.ExpressionFieldsArray.push({CustomFieldId:e.CustomFieldId,FieldName:e.FieldName,ColumnIndex:c})})}}else{const r=o.Columnlist.findIndex(e=>e.FieldName===t),n=o.Columnlist[r-1],d=(n.ModuleIndex,o.Columnlist[o.Columnlist.length-1]);u=d.Display_Order+1;var h=o.Columnlist.find(e=>e.FieldName==t);if(h.CustomFieldId=e,h.FieldName=t,h.DisplayName=t,h.DateFormat=null,h.DateFormatId=null,h.DecimalPlace=null,h.IsUseSeprator=null,h.IsCurrencySymbol=null,h.ColumnFieldDataCode="string",h.Display_Order=u,h.ModuleIndex=o.Columnlist[r].ModuleIndex,h.Calculated_Field=!0,h.ExpressionDisplay=i,""!=a){var f=o.ExpressionArray.find(e=>e.ExpressionName===t);f.ExpressionID=e,f.Expression=a,f.ExpressionName=t,f.ExpressionDisplay=i,f.ColumnIndex=o.Columnlist[r].ModuleIndex,f.REPORTID=o.customreportparameters.ReportID,f.FunctionKeys=s,l.forEach(e=>{var t=o.ExpressionFieldsArray.find(e=>e.ColumnIndex===f.ColumnIndex);t.CustomFieldId=e.CustomFieldId,t.FieldName=e.FieldName,t.ColumnIndex=o.Columnlist[r].ModuleIndex})}}null===(r=o.$refs.Calculated)||void 0===r||r.close()},ListFiltering:function(){var e=this;let t=e.$refs.FIELDS.active;var a=document.getElementById("searchinput"),l=a.value.toUpperCase();null!=l&&""!=l?$(".multi-collapse").addClass("show"):$(".multi-collapse").removeClass("show");var i=[],s=[];if(t){e.modulelisting.forEach((t,a)=>{e.modulelisting[a].forEach(e=>{s.push(e),i=s.filter(e=>{var t=null!=e.DisplayName?e.DisplayName:e.FieldName;return t.replace(/\W/g,"").toLowerCase().includes(l.replace(/\W/g,"").toLowerCase())})}),e.searchColumnfilter[a]=i,s=[],i=[]});let t=0;for(let a in e.searchColumnfilter)e.searchColumnfilter[a].length>0&&t++;return e.SearchNoRecord=!(t>0),e.searchColumnfilter}{e.modulelistingforfilter.forEach((t,a)=>{e.modulelistingforfilter[a].forEach(e=>{s.push(e),i=s.filter(e=>{var t=null!=e.DisplayName?e.DisplayName:e.FieldName;return t.replace(/\W/g,"").toLowerCase().includes(l.replace(/\W/g,"").toLowerCase())})}),e.searchColumnfilter[a]=i,s=[],i=[]});let t=0;for(let a in e.searchColumnfilter)e.searchColumnfilter[a].length>0&&t++;return e.SearchNoRecord=!(t>0),e.searchColumnfilter}},checkMove(e){var t=this,a=0;return"TargetDivID"==e.related.id?t.showModuleListForFilter?t.Filterlist.length<20||(t.ShowAlert(t.$t("AddCustomFilter"),"failure",!0,t.$t("Alert")),!1):t.Columnlist.length<20||(t.ShowAlert(t.$t("AddCustomFields"),"failure",!0,t.$t("Alert")),!1):!e.draggedContext.element.Calculated_Field&&void 0!=e.draggedContext.element.Calculated_Field&&(t.modulelisting.forEach((l,i)=>{t.GetSubModuleList[i].forEach(t=>{0==e.relatedContext.list.length?t.CustomFieldId===e.draggedContext.element.CustomFieldId&&(a=i):t.CustomFieldId===e.relatedContext.element.CustomFieldId&&(a=i)})}),a===e.draggedContext.element.ModuleIndex)},onDragEnd:function(e,t){return"StopDragfield"==e.item.id||(e.preventDefault(),!1)},ColumnListDisplayOrder:function(e){var t=this;t.Columnlist.forEach((e,t)=>{e.Display_Order=t+1})},GetDraggedItem(e,t,a){var l=this;if(void 0!=e.removed)if(void 0!=a){let i=l.Columnlist.findIndex(t=>t.CustomFieldId===e.removed.element.CustomFieldId),s=l.modulelisting[t].findIndex(t=>t.CustomFieldId===e.removed.element.CustomFieldId);-1!=s&&l.modulelisting[t].splice(l.modulelisting[t].indexOf(e.removed.element),1),-1!=i&&(l.Columnlist.splice(i,1),l.Addfields(e.removed.element,e,t,a))}else{let a=l.Filterlist.findIndex(t=>t.CustomFieldId===e.removed.element.CustomFieldId),i=l.modulelistingforfilter[t].findIndex(t=>t.CustomFieldId===e.removed.element.CustomFieldId);-1!=i&&l.modulelistingforfilter[t].splice(l.modulelistingforfilter[t].indexOf(e.removed.element),1),-1!=a&&(l.Filterlist.splice(a,1),l.AddFilter(e.removed.element,t))}},MatchIfSameNameExist(){var e=this;for(let t=0;t<e.Columnlist.length;t++)for(let a=0;a<t;a++)if(e.Columnlist[t].CustomFieldId!=e.Columnlist[a].CustomFieldId&&e.Columnlist[t].DisplayName==e.Columnlist[a].DisplayName)return e.Columnlist[t].DisplayName;return!1},filterRulechange(){var e=this;e.filtertype="","Match All Value"==e.category?(e.Filterlist.forEach(e=>{e.FilterTypeAndorOr="AND"}),e.RequestFilterJosn.length>0&&e.RequestFilterJosn.forEach(e=>{e.FilterTypeAndorOr="AND"}),e.filtertype="AND"):(e.Filterlist.forEach(e=>{e.FilterTypeAndorOr="OR"}),e.RequestFilterJosn.length>0&&e.RequestFilterJosn.forEach(e=>{e.FilterTypeAndorOr="OR"}),e.filtertype="OR")},CheckForValidSorting(e){var t=0;return e.forEach(e=>{(""!=e.sortcolummnId&&""==e.columnOrders||""==e.sortcolummnId&&""!=e.columnOrders||void 0==e.sortcolummnId||void 0==e.columnOrders)&&(t=1)}),t},PreventValues(e){var t=e.keyCode;69!=t&&107!=t&&109!=t||e.preventDefault()},TruncateStr:function(e,t){var a=""+e;if(null!=a)return a.length<=t?e:a.substring(0,t)+"..."}}},R=E,T=(a("bc21"),Object(f["a"])(R,l,i,!1,null,"ebbb4032",null));t["default"]=T.exports},a1fb:function(e,t,a){var l=a("136e");l.__esModule&&(l=l.default),"string"===typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);var i=a("499e").default;i("8aad259e",l,!0,{sourceMap:!1,shadowMode:!1})},bc21:function(e,t,a){"use strict";a("12a5")},c3f6:function(e,t,a){"use strict";a("a1fb")}}]);
//# sourceMappingURL=chunk-09842a73.js.map